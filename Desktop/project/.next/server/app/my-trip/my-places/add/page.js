/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/my-trip/my-places/add/page";
exports.ids = ["app/my-trip/my-places/add/page"];
exports.modules = {

/***/ "(ssr)/./node_modules/@supabase/realtime-js/dist/main sync recursive":
/*!************************************************************!*\
  !*** ./node_modules/@supabase/realtime-js/dist/main/ sync ***!
  \************************************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "(ssr)/./node_modules/@supabase/realtime-js/dist/main sync recursive";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "./request-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "./static-generation-async-storage.external":
/*!***************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external" ***!
  \***************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page-experimental.runtime.dev.js":
/*!**************************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page-experimental.runtime.dev.js" ***!
  \**************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page-experimental.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fmy-trip%2Fmy-places%2Fadd%2Fpage&page=%2Fmy-trip%2Fmy-places%2Fadd%2Fpage&appPaths=%2Fmy-trip%2Fmy-places%2Fadd%2Fpage&pagePath=private-next-app-dir%2Fmy-trip%2Fmy-places%2Fadd%2Fpage.tsx&appDir=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fkominetenma%2FDesktop%2Fproject&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fmy-trip%2Fmy-places%2Fadd%2Fpage&page=%2Fmy-trip%2Fmy-places%2Fadd%2Fpage&appPaths=%2Fmy-trip%2Fmy-places%2Fadd%2Fpage&pagePath=private-next-app-dir%2Fmy-trip%2Fmy-places%2Fadd%2Fpage.tsx&appDir=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fkominetenma%2FDesktop%2Fproject&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default.a),\n/* harmony export */   __next_app__: () => (/* binding */ __next_app__),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   pages: () => (/* binding */ pages),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   tree: () => (/* binding */ tree)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-page/module.compiled */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/module.compiled.js?b6e7\");\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/client/components/error-boundary */ \"(rsc)/./node_modules/next/dist/client/components/error-boundary.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/app-render/entry-base */ \"(rsc)/./node_modules/next/dist/server/app-render/entry-base.js\");\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__) if([\"default\",\"tree\",\"pages\",\"GlobalError\",\"originalPathname\",\"__next_app__\",\"routeModule\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n// @ts-ignore this need to be imported from next/dist to be external\n\n\nconst AppPageRouteModule = next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule;\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: [\n        'my-trip',\n        {\n        children: [\n        'my-places',\n        {\n        children: [\n        'add',\n        {\n        children: ['__PAGE__', {}, {\n          page: [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/my-trip/my-places/add/page.tsx */ \"(rsc)/./app/my-trip/my-places/add/page.tsx\")), \"/Users/kominetenma/Desktop/project/app/my-trip/my-places/add/page.tsx\"],\n          \n        }]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        'layout': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/my-trip/layout.tsx */ \"(rsc)/./app/my-trip/layout.tsx\")), \"/Users/kominetenma/Desktop/project/app/my-trip/layout.tsx\"],\n        \n      }\n      ]\n      },\n        {\n        'layout': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/layout.tsx */ \"(rsc)/./app/layout.tsx\")), \"/Users/kominetenma/Desktop/project/app/layout.tsx\"],\n'not-found': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/not-found-error */ \"(rsc)/./node_modules/next/dist/client/components/not-found-error.js\", 23)), \"next/dist/client/components/not-found-error\"],\n        \n      }\n      ]\n      }.children;\nconst pages = [\"/Users/kominetenma/Desktop/project/app/my-trip/my-places/add/page.tsx\"];\n\n// @ts-expect-error - replaced by webpack/turbopack loader\n\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nconst originalPathname = \"/my-trip/my-places/add/page\";\nconst __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\n\n// Create and export the route module that will be consumed.\nconst routeModule = new AppPageRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n        page: \"/my-trip/my-places/add/page\",\n        pathname: \"/my-trip/my-places/add\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\",\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    }\n});\n\n//# sourceMappingURL=app-page.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZteS10cmlwJTJGbXktcGxhY2VzJTJGYWRkJTJGcGFnZSZwYWdlPSUyRm15LXRyaXAlMkZteS1wbGFjZXMlMkZhZGQlMkZwYWdlJmFwcFBhdGhzPSUyRm15LXRyaXAlMkZteS1wbGFjZXMlMkZhZGQlMkZwYWdlJnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGbXktdHJpcCUyRm15LXBsYWNlcyUyRmFkZCUyRnBhZ2UudHN4JmFwcERpcj0lMkZVc2VycyUyRmtvbWluZXRlbm1hJTJGRGVza3RvcCUyRnByb2plY3QlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGa29taW5ldGVubWElMkZEZXNrdG9wJTJGcHJvamVjdCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ3lGO0FBQzFCO0FBQy9ELDJCQUEyQiw4R0FBeUI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDLHVCQUF1QixvTEFBMEc7QUFDakk7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLHlCQUF5Qiw0SkFBOEY7QUFDdkg7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EseUJBQXlCLDRJQUFzRjtBQUMvRyxvQkFBb0IsME5BQWdGO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUN1QjtBQUN2QjtBQUNvRjtBQUNwRiw2QkFBNkIsbUJBQW1CO0FBQ2hEO0FBQ087QUFDQTtBQUNQO0FBQ0E7QUFDQTtBQUN1RDtBQUN2RDtBQUNPO0FBQ1A7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLz85NjM2Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEB0cy1pZ25vcmUgdGhpcyBuZWVkIHRvIGJlIGltcG9ydGVkIGZyb20gbmV4dC9kaXN0IHRvIGJlIGV4dGVybmFsXG5pbXBvcnQgKiBhcyBtb2R1bGUgZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXBhZ2UvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuY29uc3QgQXBwUGFnZVJvdXRlTW9kdWxlID0gbW9kdWxlLkFwcFBhZ2VSb3V0ZU1vZHVsZTtcbi8vIFdlIGluamVjdCB0aGUgdHJlZSBhbmQgcGFnZXMgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IHRyZWUgPSB7XG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICcnLFxuICAgICAgICB7XG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICdteS10cmlwJyxcbiAgICAgICAge1xuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAnbXktcGxhY2VzJyxcbiAgICAgICAge1xuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAnYWRkJyxcbiAgICAgICAge1xuICAgICAgICBjaGlsZHJlbjogWydfX1BBR0VfXycsIHt9LCB7XG4gICAgICAgICAgcGFnZTogWygpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2tvbWluZXRlbm1hL0Rlc2t0b3AvcHJvamVjdC9hcHAvbXktdHJpcC9teS1wbGFjZXMvYWRkL3BhZ2UudHN4XCIpLCBcIi9Vc2Vycy9rb21pbmV0ZW5tYS9EZXNrdG9wL3Byb2plY3QvYXBwL215LXRyaXAvbXktcGxhY2VzL2FkZC9wYWdlLnRzeFwiXSxcbiAgICAgICAgICBcbiAgICAgICAgfV1cbiAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgfVxuICAgICAgXVxuICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICBcbiAgICAgICAgXG4gICAgICB9XG4gICAgICBdXG4gICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICdsYXlvdXQnOiBbKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMva29taW5ldGVubWEvRGVza3RvcC9wcm9qZWN0L2FwcC9teS10cmlwL2xheW91dC50c3hcIiksIFwiL1VzZXJzL2tvbWluZXRlbm1hL0Rlc2t0b3AvcHJvamVjdC9hcHAvbXktdHJpcC9sYXlvdXQudHN4XCJdLFxuICAgICAgICBcbiAgICAgIH1cbiAgICAgIF1cbiAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgJ2xheW91dCc6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9rb21pbmV0ZW5tYS9EZXNrdG9wL3Byb2plY3QvYXBwL2xheW91dC50c3hcIiksIFwiL1VzZXJzL2tvbWluZXRlbm1hL0Rlc2t0b3AvcHJvamVjdC9hcHAvbGF5b3V0LnRzeFwiXSxcbidub3QtZm91bmQnOiBbKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbm90LWZvdW5kLWVycm9yXCIpLCBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9ub3QtZm91bmQtZXJyb3JcIl0sXG4gICAgICAgIFxuICAgICAgfVxuICAgICAgXVxuICAgICAgfS5jaGlsZHJlbjtcbmNvbnN0IHBhZ2VzID0gW1wiL1VzZXJzL2tvbWluZXRlbm1hL0Rlc2t0b3AvcHJvamVjdC9hcHAvbXktdHJpcC9teS1wbGFjZXMvYWRkL3BhZ2UudHN4XCJdO1xuZXhwb3J0IHsgdHJlZSwgcGFnZXMgfTtcbi8vIEB0cy1leHBlY3QtZXJyb3IgLSByZXBsYWNlZCBieSB3ZWJwYWNrL3R1cmJvcGFjayBsb2FkZXJcbmV4cG9ydCB7IGRlZmF1bHQgYXMgR2xvYmFsRXJyb3IgfSBmcm9tIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2Vycm9yLWJvdW5kYXJ5XCI7XG5jb25zdCBfX25leHRfYXBwX3JlcXVpcmVfXyA9IF9fd2VicGFja19yZXF1aXJlX19cbmNvbnN0IF9fbmV4dF9hcHBfbG9hZF9jaHVua19fID0gKCkgPT4gUHJvbWlzZS5yZXNvbHZlKClcbmV4cG9ydCBjb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvbXktdHJpcC9teS1wbGFjZXMvYWRkL3BhZ2VcIjtcbmV4cG9ydCBjb25zdCBfX25leHRfYXBwX18gPSB7XG4gICAgcmVxdWlyZTogX19uZXh0X2FwcF9yZXF1aXJlX18sXG4gICAgbG9hZENodW5rOiBfX25leHRfYXBwX2xvYWRfY2h1bmtfX1xufTtcbmV4cG9ydCAqIGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2FwcC1yZW5kZXIvZW50cnktYmFzZVwiO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUGFnZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUEFHRSxcbiAgICAgICAgcGFnZTogXCIvbXktdHJpcC9teS1wbGFjZXMvYWRkL3BhZ2VcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL215LXRyaXAvbXktcGxhY2VzL2FkZFwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiLFxuICAgICAgICBhcHBQYXRoczogW11cbiAgICB9LFxuICAgIHVzZXJsYW5kOiB7XG4gICAgICAgIGxvYWRlclRyZWU6IHRyZWVcbiAgICB9XG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXBhZ2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fmy-trip%2Fmy-places%2Fadd%2Fpage&page=%2Fmy-trip%2Fmy-places%2Fadd%2Fpage&appPaths=%2Fmy-trip%2Fmy-places%2Fadd%2Fpage&pagePath=private-next-app-dir%2Fmy-trip%2Fmy-places%2Fadd%2Fpage.tsx&appDir=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fkominetenma%2FDesktop%2Fproject&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(action-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-action-entry-loader.js?actions=%5B%5B%22%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Flib%2Factions%2Fmy-places-actions.ts%22%2C%5B%22addPlaceToMyPlaces%22%2C%22updateMyPlace%22%2C%22getMyPlacesForTrip%22%2C%22addMyPlaceToTrip%22%2C%22copyAllMyPlacesToTrip%22%2C%22deleteMyPlace%22%5D%5D%2C%5B%22%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Flib%2Factions%2Fguest-actions.ts%22%2C%5B%22createGuestUser%22%2C%22updateGuestProfile%22%5D%5D%5D&__client_imported__=true!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-action-entry-loader.js?actions=%5B%5B%22%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Flib%2Factions%2Fmy-places-actions.ts%22%2C%5B%22addPlaceToMyPlaces%22%2C%22updateMyPlace%22%2C%22getMyPlacesForTrip%22%2C%22addMyPlaceToTrip%22%2C%22copyAllMyPlacesToTrip%22%2C%22deleteMyPlace%22%5D%5D%2C%5B%22%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Flib%2Factions%2Fguest-actions.ts%22%2C%5B%22createGuestUser%22%2C%22updateGuestProfile%22%5D%5D%5D&__client_imported__=true! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst actions = {\n'e45a518b347b597f301ceb2b1e38e1b793450974': () => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./lib/actions/my-places-actions.ts */ \"(action-browser)/./lib/actions/my-places-actions.ts\")).then(mod => mod[\"addPlaceToMyPlaces\"]),\n'25ae65fee132d88323477c3c720ca50f7f108069': () => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./lib/actions/my-places-actions.ts */ \"(action-browser)/./lib/actions/my-places-actions.ts\")).then(mod => mod[\"updateMyPlace\"]),\n'91b3bdb9503bb94c49587dba8c6524a0aaae4f5a': () => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./lib/actions/my-places-actions.ts */ \"(action-browser)/./lib/actions/my-places-actions.ts\")).then(mod => mod[\"getMyPlacesForTrip\"]),\n'8f2cda273699c3cf0dda28117b5f231f0473ce2a': () => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./lib/actions/my-places-actions.ts */ \"(action-browser)/./lib/actions/my-places-actions.ts\")).then(mod => mod[\"addMyPlaceToTrip\"]),\n'65d0de60eb68c648a9ba070cdf3cf729676e4304': () => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./lib/actions/my-places-actions.ts */ \"(action-browser)/./lib/actions/my-places-actions.ts\")).then(mod => mod[\"copyAllMyPlacesToTrip\"]),\n'0706b50d7a6747782b9c8d1c08fad818d3e436aa': () => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./lib/actions/my-places-actions.ts */ \"(action-browser)/./lib/actions/my-places-actions.ts\")).then(mod => mod[\"deleteMyPlace\"]),\n'091f3497b3d2e4aaf15c52b9e36782c9f8cc179d': () => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./lib/actions/guest-actions.ts */ \"(action-browser)/./lib/actions/guest-actions.ts\")).then(mod => mod[\"createGuestUser\"]),\n'e2452351d79d4b84cb2fefe8b36f50e00555c650': () => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./lib/actions/guest-actions.ts */ \"(action-browser)/./lib/actions/guest-actions.ts\")).then(mod => mod[\"updateGuestProfile\"]),\n}\n\nasync function endpoint(id, ...args) {\n  const action = await actions[id]()\n  return action.apply(null, args)\n}\n\n// Using CJS to avoid this to be tree-shaken away due to unused exports.\nmodule.exports = {\n  'e45a518b347b597f301ceb2b1e38e1b793450974': endpoint.bind(null, 'e45a518b347b597f301ceb2b1e38e1b793450974'),\n  '25ae65fee132d88323477c3c720ca50f7f108069': endpoint.bind(null, '25ae65fee132d88323477c3c720ca50f7f108069'),\n  '91b3bdb9503bb94c49587dba8c6524a0aaae4f5a': endpoint.bind(null, '91b3bdb9503bb94c49587dba8c6524a0aaae4f5a'),\n  '8f2cda273699c3cf0dda28117b5f231f0473ce2a': endpoint.bind(null, '8f2cda273699c3cf0dda28117b5f231f0473ce2a'),\n  '65d0de60eb68c648a9ba070cdf3cf729676e4304': endpoint.bind(null, '65d0de60eb68c648a9ba070cdf3cf729676e4304'),\n  '0706b50d7a6747782b9c8d1c08fad818d3e436aa': endpoint.bind(null, '0706b50d7a6747782b9c8d1c08fad818d3e436aa'),\n  '091f3497b3d2e4aaf15c52b9e36782c9f8cc179d': endpoint.bind(null, '091f3497b3d2e4aaf15c52b9e36782c9f8cc179d'),\n  'e2452351d79d4b84cb2fefe8b36f50e00555c650': endpoint.bind(null, 'e2452351d79d4b84cb2fefe8b36f50e00555c650'),\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtZmxpZ2h0LWFjdGlvbi1lbnRyeS1sb2FkZXIuanM/YWN0aW9ucz0lNUIlNUIlMjIlMkZVc2VycyUyRmtvbWluZXRlbm1hJTJGRGVza3RvcCUyRnByb2plY3QlMkZsaWIlMkZhY3Rpb25zJTJGbXktcGxhY2VzLWFjdGlvbnMudHMlMjIlMkMlNUIlMjJhZGRQbGFjZVRvTXlQbGFjZXMlMjIlMkMlMjJ1cGRhdGVNeVBsYWNlJTIyJTJDJTIyZ2V0TXlQbGFjZXNGb3JUcmlwJTIyJTJDJTIyYWRkTXlQbGFjZVRvVHJpcCUyMiUyQyUyMmNvcHlBbGxNeVBsYWNlc1RvVHJpcCUyMiUyQyUyMmRlbGV0ZU15UGxhY2UlMjIlNUQlNUQlMkMlNUIlMjIlMkZVc2VycyUyRmtvbWluZXRlbm1hJTJGRGVza3RvcCUyRnByb2plY3QlMkZsaWIlMkZhY3Rpb25zJTJGZ3Vlc3QtYWN0aW9ucy50cyUyMiUyQyU1QiUyMmNyZWF0ZUd1ZXN0VXNlciUyMiUyQyUyMnVwZGF0ZUd1ZXN0UHJvZmlsZSUyMiU1RCU1RCU1RCZfX2NsaWVudF9pbXBvcnRlZF9fPXRydWUhIiwibWFwcGluZ3MiOiI7QUFDQTtBQUNBLGtEQUFrRCwyTEFBd0c7QUFDMUosa0RBQWtELDJMQUF3RztBQUMxSixrREFBa0QsMkxBQXdHO0FBQzFKLGtEQUFrRCwyTEFBd0c7QUFDMUosa0RBQWtELDJMQUF3RztBQUMxSixrREFBa0QsMkxBQXdHO0FBQzFKLGtEQUFrRCxtTEFBb0c7QUFDdEosa0RBQWtELG1MQUFvRztBQUN0Sjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLz81NGYwIl0sInNvdXJjZXNDb250ZW50IjpbIlxuY29uc3QgYWN0aW9ucyA9IHtcbidlNDVhNTE4YjM0N2I1OTdmMzAxY2ViMmIxZTM4ZTFiNzkzNDUwOTc0JzogKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMva29taW5ldGVubWEvRGVza3RvcC9wcm9qZWN0L2xpYi9hY3Rpb25zL215LXBsYWNlcy1hY3Rpb25zLnRzXCIpLnRoZW4obW9kID0+IG1vZFtcImFkZFBsYWNlVG9NeVBsYWNlc1wiXSksXG4nMjVhZTY1ZmVlMTMyZDg4MzIzNDc3YzNjNzIwY2E1MGY3ZjEwODA2OSc6ICgpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2tvbWluZXRlbm1hL0Rlc2t0b3AvcHJvamVjdC9saWIvYWN0aW9ucy9teS1wbGFjZXMtYWN0aW9ucy50c1wiKS50aGVuKG1vZCA9PiBtb2RbXCJ1cGRhdGVNeVBsYWNlXCJdKSxcbic5MWIzYmRiOTUwM2JiOTRjNDk1ODdkYmE4YzY1MjRhMGFhYWU0ZjVhJzogKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMva29taW5ldGVubWEvRGVza3RvcC9wcm9qZWN0L2xpYi9hY3Rpb25zL215LXBsYWNlcy1hY3Rpb25zLnRzXCIpLnRoZW4obW9kID0+IG1vZFtcImdldE15UGxhY2VzRm9yVHJpcFwiXSksXG4nOGYyY2RhMjczNjk5YzNjZjBkZGEyODExN2I1ZjIzMWYwNDczY2UyYSc6ICgpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2tvbWluZXRlbm1hL0Rlc2t0b3AvcHJvamVjdC9saWIvYWN0aW9ucy9teS1wbGFjZXMtYWN0aW9ucy50c1wiKS50aGVuKG1vZCA9PiBtb2RbXCJhZGRNeVBsYWNlVG9UcmlwXCJdKSxcbic2NWQwZGU2MGViNjhjNjQ4YTliYTA3MGNkZjNjZjcyOTY3NmU0MzA0JzogKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMva29taW5ldGVubWEvRGVza3RvcC9wcm9qZWN0L2xpYi9hY3Rpb25zL215LXBsYWNlcy1hY3Rpb25zLnRzXCIpLnRoZW4obW9kID0+IG1vZFtcImNvcHlBbGxNeVBsYWNlc1RvVHJpcFwiXSksXG4nMDcwNmI1MGQ3YTY3NDc3ODJiOWM4ZDFjMDhmYWQ4MThkM2U0MzZhYSc6ICgpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2tvbWluZXRlbm1hL0Rlc2t0b3AvcHJvamVjdC9saWIvYWN0aW9ucy9teS1wbGFjZXMtYWN0aW9ucy50c1wiKS50aGVuKG1vZCA9PiBtb2RbXCJkZWxldGVNeVBsYWNlXCJdKSxcbicwOTFmMzQ5N2IzZDJlNGFhZjE1YzUyYjllMzY3ODJjOWY4Y2MxNzlkJzogKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMva29taW5ldGVubWEvRGVza3RvcC9wcm9qZWN0L2xpYi9hY3Rpb25zL2d1ZXN0LWFjdGlvbnMudHNcIikudGhlbihtb2QgPT4gbW9kW1wiY3JlYXRlR3Vlc3RVc2VyXCJdKSxcbidlMjQ1MjM1MWQ3OWQ0Yjg0Y2IyZmVmZThiMzZmNTBlMDA1NTVjNjUwJzogKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMva29taW5ldGVubWEvRGVza3RvcC9wcm9qZWN0L2xpYi9hY3Rpb25zL2d1ZXN0LWFjdGlvbnMudHNcIikudGhlbihtb2QgPT4gbW9kW1widXBkYXRlR3Vlc3RQcm9maWxlXCJdKSxcbn1cblxuYXN5bmMgZnVuY3Rpb24gZW5kcG9pbnQoaWQsIC4uLmFyZ3MpIHtcbiAgY29uc3QgYWN0aW9uID0gYXdhaXQgYWN0aW9uc1tpZF0oKVxuICByZXR1cm4gYWN0aW9uLmFwcGx5KG51bGwsIGFyZ3MpXG59XG5cbi8vIFVzaW5nIENKUyB0byBhdm9pZCB0aGlzIHRvIGJlIHRyZWUtc2hha2VuIGF3YXkgZHVlIHRvIHVudXNlZCBleHBvcnRzLlxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICdlNDVhNTE4YjM0N2I1OTdmMzAxY2ViMmIxZTM4ZTFiNzkzNDUwOTc0JzogZW5kcG9pbnQuYmluZChudWxsLCAnZTQ1YTUxOGIzNDdiNTk3ZjMwMWNlYjJiMWUzOGUxYjc5MzQ1MDk3NCcpLFxuICAnMjVhZTY1ZmVlMTMyZDg4MzIzNDc3YzNjNzIwY2E1MGY3ZjEwODA2OSc6IGVuZHBvaW50LmJpbmQobnVsbCwgJzI1YWU2NWZlZTEzMmQ4ODMyMzQ3N2MzYzcyMGNhNTBmN2YxMDgwNjknKSxcbiAgJzkxYjNiZGI5NTAzYmI5NGM0OTU4N2RiYThjNjUyNGEwYWFhZTRmNWEnOiBlbmRwb2ludC5iaW5kKG51bGwsICc5MWIzYmRiOTUwM2JiOTRjNDk1ODdkYmE4YzY1MjRhMGFhYWU0ZjVhJyksXG4gICc4ZjJjZGEyNzM2OTljM2NmMGRkYTI4MTE3YjVmMjMxZjA0NzNjZTJhJzogZW5kcG9pbnQuYmluZChudWxsLCAnOGYyY2RhMjczNjk5YzNjZjBkZGEyODExN2I1ZjIzMWYwNDczY2UyYScpLFxuICAnNjVkMGRlNjBlYjY4YzY0OGE5YmEwNzBjZGYzY2Y3Mjk2NzZlNDMwNCc6IGVuZHBvaW50LmJpbmQobnVsbCwgJzY1ZDBkZTYwZWI2OGM2NDhhOWJhMDcwY2RmM2NmNzI5Njc2ZTQzMDQnKSxcbiAgJzA3MDZiNTBkN2E2NzQ3NzgyYjljOGQxYzA4ZmFkODE4ZDNlNDM2YWEnOiBlbmRwb2ludC5iaW5kKG51bGwsICcwNzA2YjUwZDdhNjc0Nzc4MmI5YzhkMWMwOGZhZDgxOGQzZTQzNmFhJyksXG4gICcwOTFmMzQ5N2IzZDJlNGFhZjE1YzUyYjllMzY3ODJjOWY4Y2MxNzlkJzogZW5kcG9pbnQuYmluZChudWxsLCAnMDkxZjM0OTdiM2QyZTRhYWYxNWM1MmI5ZTM2NzgyYzlmOGNjMTc5ZCcpLFxuICAnZTI0NTIzNTFkNzlkNGI4NGNiMmZlZmU4YjM2ZjUwZTAwNTU1YzY1MCc6IGVuZHBvaW50LmJpbmQobnVsbCwgJ2UyNDUyMzUxZDc5ZDRiODRjYjJmZWZlOGIzNmY1MGUwMDU1NWM2NTAnKSxcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-action-entry-loader.js?actions=%5B%5B%22%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Flib%2Factions%2Fmy-places-actions.ts%22%2C%5B%22addPlaceToMyPlaces%22%2C%22updateMyPlace%22%2C%22getMyPlacesForTrip%22%2C%22addMyPlaceToTrip%22%2C%22copyAllMyPlacesToTrip%22%2C%22deleteMyPlace%22%5D%5D%2C%5B%22%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Flib%2Factions%2Fguest-actions.ts%22%2C%5B%22createGuestUser%22%2C%22updateGuestProfile%22%5D%5D%5D&__client_imported__=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fapp%2Fglobals.css&modules=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fcomponents%2Flayouts%2Fmain-layout.tsx&modules=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fcomponents%2Ftheme-provider.tsx&modules=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fcomponents%2Fui%2Ftoaster.tsx&modules=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%22path%22%3A%22app%2Flayout.tsx%22%2C%22import%22%3A%22Inter%22%2C%22arguments%22%3A%5B%7B%22subsets%22%3A%5B%22latin%22%5D%7D%5D%2C%22variableName%22%3A%22inter%22%7D&server=true!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fapp%2Fglobals.css&modules=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fcomponents%2Flayouts%2Fmain-layout.tsx&modules=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fcomponents%2Ftheme-provider.tsx&modules=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fcomponents%2Fui%2Ftoaster.tsx&modules=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%22path%22%3A%22app%2Flayout.tsx%22%2C%22import%22%3A%22Inter%22%2C%22arguments%22%3A%5B%7B%22subsets%22%3A%5B%22latin%22%5D%7D%5D%2C%22variableName%22%3A%22inter%22%7D&server=true! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./components/layouts/main-layout.tsx */ \"(ssr)/./components/layouts/main-layout.tsx\"));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./components/theme-provider.tsx */ \"(ssr)/./components/theme-provider.tsx\"));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./components/ui/toaster.tsx */ \"(ssr)/./components/ui/toaster.tsx\"))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTJGVXNlcnMlMkZrb21pbmV0ZW5tYSUyRkRlc2t0b3AlMkZwcm9qZWN0JTJGYXBwJTJGZ2xvYmFscy5jc3MmbW9kdWxlcz0lMkZVc2VycyUyRmtvbWluZXRlbm1hJTJGRGVza3RvcCUyRnByb2plY3QlMkZjb21wb25lbnRzJTJGbGF5b3V0cyUyRm1haW4tbGF5b3V0LnRzeCZtb2R1bGVzPSUyRlVzZXJzJTJGa29taW5ldGVubWElMkZEZXNrdG9wJTJGcHJvamVjdCUyRmNvbXBvbmVudHMlMkZ0aGVtZS1wcm92aWRlci50c3gmbW9kdWxlcz0lMkZVc2VycyUyRmtvbWluZXRlbm1hJTJGRGVza3RvcCUyRnByb2plY3QlMkZjb21wb25lbnRzJTJGdWklMkZ0b2FzdGVyLnRzeCZtb2R1bGVzPSUyRlVzZXJzJTJGa29taW5ldGVubWElMkZEZXNrdG9wJTJGcHJvamVjdCUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZmb250JTJGZ29vZ2xlJTJGdGFyZ2V0LmNzcyUzRiU3QiUyMnBhdGglMjIlM0ElMjJhcHAlMkZsYXlvdXQudHN4JTIyJTJDJTIyaW1wb3J0JTIyJTNBJTIySW50ZXIlMjIlMkMlMjJhcmd1bWVudHMlMjIlM0ElNUIlN0IlMjJzdWJzZXRzJTIyJTNBJTVCJTIybGF0aW4lMjIlNUQlN0QlNUQlMkMlMjJ2YXJpYWJsZU5hbWUlMjIlM0ElMjJpbnRlciUyMiU3RCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsb0xBQTBHO0FBQzFHLDBLQUFxRztBQUNyRyIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy8/MGQ0NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9rb21pbmV0ZW5tYS9EZXNrdG9wL3Byb2plY3QvY29tcG9uZW50cy9sYXlvdXRzL21haW4tbGF5b3V0LnRzeFwiKTtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2tvbWluZXRlbm1hL0Rlc2t0b3AvcHJvamVjdC9jb21wb25lbnRzL3RoZW1lLXByb3ZpZGVyLnRzeFwiKTtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2tvbWluZXRlbm1hL0Rlc2t0b3AvcHJvamVjdC9jb21wb25lbnRzL3VpL3RvYXN0ZXIudHN4XCIpIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fapp%2Fglobals.css&modules=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fcomponents%2Flayouts%2Fmain-layout.tsx&modules=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fcomponents%2Ftheme-provider.tsx&modules=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fcomponents%2Fui%2Ftoaster.tsx&modules=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%22path%22%3A%22app%2Flayout.tsx%22%2C%22import%22%3A%22Inter%22%2C%22arguments%22%3A%5B%7B%22subsets%22%3A%5B%22latin%22%5D%7D%5D%2C%22variableName%22%3A%22inter%22%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fapp%2Fmy-trip%2Flayout.tsx&server=true!":
/*!**************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fapp%2Fmy-trip%2Flayout.tsx&server=true! ***!
  \**************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/my-trip/layout.tsx */ \"(ssr)/./app/my-trip/layout.tsx\"))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTJGVXNlcnMlMkZrb21pbmV0ZW5tYSUyRkRlc2t0b3AlMkZwcm9qZWN0JTJGYXBwJTJGbXktdHJpcCUyRmxheW91dC50c3gmc2VydmVyPXRydWUhIiwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLz84YWEyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2tvbWluZXRlbm1hL0Rlc2t0b3AvcHJvamVjdC9hcHAvbXktdHJpcC9sYXlvdXQudHN4XCIpIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fapp%2Fmy-trip%2Flayout.tsx&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fapp%2Fmy-trip%2Fmy-places%2Fadd%2Fpage.tsx&server=true!":
/*!******************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fapp%2Fmy-trip%2Fmy-places%2Fadd%2Fpage.tsx&server=true! ***!
  \******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/my-trip/my-places/add/page.tsx */ \"(ssr)/./app/my-trip/my-places/add/page.tsx\"))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTJGVXNlcnMlMkZrb21pbmV0ZW5tYSUyRkRlc2t0b3AlMkZwcm9qZWN0JTJGYXBwJTJGbXktdHJpcCUyRm15LXBsYWNlcyUyRmFkZCUyRnBhZ2UudHN4JnNlcnZlcj10cnVlISIsIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy8/NjRiMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9rb21pbmV0ZW5tYS9EZXNrdG9wL3Byb2plY3QvYXBwL215LXRyaXAvbXktcGxhY2VzL2FkZC9wYWdlLnRzeFwiKSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fapp%2Fmy-trip%2Fmy-places%2Fadd%2Fpage.tsx&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js&modules=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js&modules=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js&modules=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js&modules=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js&modules=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fstatic-generation-searchparams-bailout-provider.js&server=true!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js&modules=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js&modules=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js&modules=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js&modules=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js&modules=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fstatic-generation-searchparams-bailout-provider.js&server=true! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/app-router.js */ \"(ssr)/./node_modules/next/dist/client/components/app-router.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/error-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/error-boundary.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/layout-router.js */ \"(ssr)/./node_modules/next/dist/client/components/layout-router.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/not-found-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/not-found-boundary.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/render-from-template-context.js */ \"(ssr)/./node_modules/next/dist/client/components/render-from-template-context.js\", 23));\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/static-generation-searchparams-bailout-provider.js */ \"(ssr)/./node_modules/next/dist/client/components/static-generation-searchparams-bailout-provider.js\", 23))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTJGVXNlcnMlMkZrb21pbmV0ZW5tYSUyRkRlc2t0b3AlMkZwcm9qZWN0JTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGYXBwLXJvdXRlci5qcyZtb2R1bGVzPSUyRlVzZXJzJTJGa29taW5ldGVubWElMkZEZXNrdG9wJTJGcHJvamVjdCUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRmVycm9yLWJvdW5kYXJ5LmpzJm1vZHVsZXM9JTJGVXNlcnMlMkZrb21pbmV0ZW5tYSUyRkRlc2t0b3AlMkZwcm9qZWN0JTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGbGF5b3V0LXJvdXRlci5qcyZtb2R1bGVzPSUyRlVzZXJzJTJGa29taW5ldGVubWElMkZEZXNrdG9wJTJGcHJvamVjdCUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRm5vdC1mb3VuZC1ib3VuZGFyeS5qcyZtb2R1bGVzPSUyRlVzZXJzJTJGa29taW5ldGVubWElMkZEZXNrdG9wJTJGcHJvamVjdCUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRnJlbmRlci1mcm9tLXRlbXBsYXRlLWNvbnRleHQuanMmbW9kdWxlcz0lMkZVc2VycyUyRmtvbWluZXRlbm1hJTJGRGVza3RvcCUyRnByb2plY3QlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZzdGF0aWMtZ2VuZXJhdGlvbi1zZWFyY2hwYXJhbXMtYmFpbG91dC1wcm92aWRlci5qcyZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsa09BQThIO0FBQzlILDBPQUFrSTtBQUNsSSx3T0FBaUk7QUFDakksa1BBQXNJO0FBQ3RJLHNRQUFnSjtBQUNoSiIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy8/YjRhYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9rb21pbmV0ZW5tYS9EZXNrdG9wL3Byb2plY3Qvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9hcHAtcm91dGVyLmpzXCIpO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMva29taW5ldGVubWEvRGVza3RvcC9wcm9qZWN0L25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvZXJyb3ItYm91bmRhcnkuanNcIik7XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9rb21pbmV0ZW5tYS9EZXNrdG9wL3Byb2plY3Qvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9sYXlvdXQtcm91dGVyLmpzXCIpO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMva29taW5ldGVubWEvRGVza3RvcC9wcm9qZWN0L25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbm90LWZvdW5kLWJvdW5kYXJ5LmpzXCIpO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMva29taW5ldGVubWEvRGVza3RvcC9wcm9qZWN0L25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvcmVuZGVyLWZyb20tdGVtcGxhdGUtY29udGV4dC5qc1wiKTtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2tvbWluZXRlbm1hL0Rlc2t0b3AvcHJvamVjdC9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL3N0YXRpYy1nZW5lcmF0aW9uLXNlYXJjaHBhcmFtcy1iYWlsb3V0LXByb3ZpZGVyLmpzXCIpIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js&modules=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js&modules=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js&modules=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js&modules=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js&modules=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fstatic-generation-searchparams-bailout-provider.js&server=true!\n");

/***/ }),

/***/ "(ssr)/./app/my-trip/layout.tsx":
/*!********************************!*\
  !*** ./app/my-trip/layout.tsx ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ MyTripLayout)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/shared/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(ssr)/./node_modules/next/navigation.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_navigation__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lib_contexts_trip_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/contexts/trip-context */ \"(ssr)/./lib/contexts/trip-context.tsx\");\n/* harmony import */ var _lib_supabase_client__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/supabase/client */ \"(ssr)/./lib/supabase/client.ts\");\n/* harmony import */ var _lib_stores_guest_store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/stores/guest-store */ \"(ssr)/./lib/stores/guest-store.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\nfunction MyTripLayout({ children }) {\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const pathname = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.usePathname)();\n    const tripId = searchParams.get(\"id\");\n    const { activeTrip, setActiveTrip } = (0,_lib_contexts_trip_context__WEBPACK_IMPORTED_MODULE_3__.useTrip)();\n    const { sessionId } = (0,_lib_stores_guest_store__WEBPACK_IMPORTED_MODULE_5__.useGuestStore)();\n    // URLからトリップIDを取得して状態を更新\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const loadTripData = async ()=>{\n            if (!sessionId) return;\n            // トリップIDがない場合は、前回のトリップIDを使用\n            if (!tripId && activeTrip) {\n                // 現在のページにトリップIDを追加\n                router.replace(`${pathname}?id=${activeTrip.id}`);\n                return;\n            }\n            // トリップIDがあるが、現在のアクティブトリップと異なる場合\n            if (tripId && (!activeTrip || tripId !== activeTrip.id)) {\n                const supabase = (0,_lib_supabase_client__WEBPACK_IMPORTED_MODULE_4__.createClient)();\n                const { data } = await supabase.from(\"trip_groups\").select(\"*\").eq(\"id\", tripId).single();\n                if (data) {\n                    setActiveTrip(data);\n                    // トリップIDをストレージに保存\n                    supabase.from(\"user_settings\").upsert({\n                        session_id: sessionId,\n                        setting_key: \"last_active_trip\",\n                        setting_value: data.id,\n                        updated_at: new Date().toISOString()\n                    }, {\n                        onConflict: \"session_id,setting_key\"\n                    }).then(()=>console.log(\"Trip ID saved\"));\n                }\n            }\n        };\n        loadTripData();\n    }, [\n        tripId,\n        activeTrip,\n        setActiveTrip,\n        pathname,\n        router,\n        sessionId\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"trip-context-wrapper\",\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/kominetenma/Desktop/project/app/my-trip/layout.tsx\",\n        lineNumber: 63,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9hcHAvbXktdHJpcC9sYXlvdXQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBRTZDO0FBQzZCO0FBQ3BCO0FBQ0Q7QUFDSTtBQU0xQyxTQUFTTyxhQUFhLEVBQUVDLFFBQVEsRUFBcUI7SUFDbEUsTUFBTUMsZUFBZVIsZ0VBQWVBO0lBQ3BDLE1BQU1TLFNBQVNSLDBEQUFTQTtJQUN4QixNQUFNUyxXQUFXUiw0REFBV0E7SUFDNUIsTUFBTVMsU0FBU0gsYUFBYUksR0FBRyxDQUFDO0lBQ2hDLE1BQU0sRUFBRUMsVUFBVSxFQUFFQyxhQUFhLEVBQUUsR0FBR1gsbUVBQU9BO0lBQzdDLE1BQU0sRUFBRVksU0FBUyxFQUFFLEdBQUdWLHNFQUFhQTtJQUVuQyx3QkFBd0I7SUFDeEJOLGdEQUFTQSxDQUFDO1FBQ1IsTUFBTWlCLGVBQWU7WUFDbkIsSUFBSSxDQUFDRCxXQUFXO1lBRWhCLDRCQUE0QjtZQUM1QixJQUFJLENBQUNKLFVBQVVFLFlBQVk7Z0JBQ3pCLG1CQUFtQjtnQkFDbkJKLE9BQU9RLE9BQU8sQ0FBQyxDQUFDLEVBQUVQLFNBQVMsSUFBSSxFQUFFRyxXQUFXSyxFQUFFLENBQUMsQ0FBQztnQkFDaEQ7WUFDRjtZQUVBLGdDQUFnQztZQUNoQyxJQUFJUCxVQUFXLEVBQUNFLGNBQWNGLFdBQVdFLFdBQVdLLEVBQUUsR0FBRztnQkFDdkQsTUFBTUMsV0FBV2Ysa0VBQVlBO2dCQUM3QixNQUFNLEVBQUVnQixJQUFJLEVBQUUsR0FBRyxNQUFNRCxTQUNwQkUsSUFBSSxDQUFDLGVBQ0xDLE1BQU0sQ0FBQyxLQUNQQyxFQUFFLENBQUMsTUFBTVosUUFDVGEsTUFBTTtnQkFFVCxJQUFJSixNQUFNO29CQUNSTixjQUFjTTtvQkFFZCxrQkFBa0I7b0JBQ2xCRCxTQUNHRSxJQUFJLENBQUMsaUJBQ0xJLE1BQU0sQ0FBQzt3QkFDTkMsWUFBWVg7d0JBQ1pZLGFBQWE7d0JBQ2JDLGVBQWVSLEtBQUtGLEVBQUU7d0JBQ3RCVyxZQUFZLElBQUlDLE9BQU9DLFdBQVc7b0JBQ3BDLEdBQUc7d0JBQUVDLFlBQVk7b0JBQXlCLEdBQ3pDQyxJQUFJLENBQUMsSUFBTUMsUUFBUUMsR0FBRyxDQUFDO2dCQUM1QjtZQUNGO1FBQ0Y7UUFFQW5CO0lBQ0YsR0FBRztRQUFDTDtRQUFRRTtRQUFZQztRQUFlSjtRQUFVRDtRQUFRTTtLQUFVO0lBRW5FLHFCQUNFLDhEQUFDcUI7UUFBSUMsV0FBVTtrQkFDWjlCOzs7Ozs7QUFHUCIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy8uL2FwcC9teS10cmlwL2xheW91dC50c3g/NmVhYyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IFJlYWN0Tm9kZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlU2VhcmNoUGFyYW1zLCB1c2VSb3V0ZXIsIHVzZVBhdGhuYW1lIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJztcbmltcG9ydCB7IHVzZVRyaXAgfSBmcm9tICdAL2xpYi9jb250ZXh0cy90cmlwLWNvbnRleHQnO1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQC9saWIvc3VwYWJhc2UvY2xpZW50JztcbmltcG9ydCB7IHVzZUd1ZXN0U3RvcmUgfSBmcm9tICdAL2xpYi9zdG9yZXMvZ3Vlc3Qtc3RvcmUnO1xuXG5pbnRlcmZhY2UgTXlUcmlwTGF5b3V0UHJvcHMge1xuICBjaGlsZHJlbjogUmVhY3ROb2RlO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNeVRyaXBMYXlvdXQoeyBjaGlsZHJlbiB9OiBNeVRyaXBMYXlvdXRQcm9wcykge1xuICBjb25zdCBzZWFyY2hQYXJhbXMgPSB1c2VTZWFyY2hQYXJhbXMoKTtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG4gIGNvbnN0IHBhdGhuYW1lID0gdXNlUGF0aG5hbWUoKTtcbiAgY29uc3QgdHJpcElkID0gc2VhcmNoUGFyYW1zLmdldCgnaWQnKTtcbiAgY29uc3QgeyBhY3RpdmVUcmlwLCBzZXRBY3RpdmVUcmlwIH0gPSB1c2VUcmlwKCk7XG4gIGNvbnN0IHsgc2Vzc2lvbklkIH0gPSB1c2VHdWVzdFN0b3JlKCk7XG5cbiAgLy8gVVJM44GL44KJ44OI44Oq44OD44OXSUTjgpLlj5blvpfjgZfjgabnirbmhYvjgpLmm7TmlrBcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBsb2FkVHJpcERhdGEgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXNlc3Npb25JZCkgcmV0dXJuO1xuXG4gICAgICAvLyDjg4jjg6rjg4Pjg5dJROOBjOOBquOBhOWgtOWQiOOBr+OAgeWJjeWbnuOBruODiOODquODg+ODl0lE44KS5L2/55SoXG4gICAgICBpZiAoIXRyaXBJZCAmJiBhY3RpdmVUcmlwKSB7XG4gICAgICAgIC8vIOePvuWcqOOBruODmuODvOOCuOOBq+ODiOODquODg+ODl0lE44KS6L+95YqgXG4gICAgICAgIHJvdXRlci5yZXBsYWNlKGAke3BhdGhuYW1lfT9pZD0ke2FjdGl2ZVRyaXAuaWR9YCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8g44OI44Oq44OD44OXSUTjgYzjgYLjgovjgYzjgIHnj77lnKjjga7jgqLjgq/jg4bjgqPjg5bjg4jjg6rjg4Pjg5fjgajnlbDjgarjgovloLTlkIhcbiAgICAgIGlmICh0cmlwSWQgJiYgKCFhY3RpdmVUcmlwIHx8IHRyaXBJZCAhPT0gYWN0aXZlVHJpcC5pZCkpIHtcbiAgICAgICAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoKTtcbiAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgIC5mcm9tKCd0cmlwX2dyb3VwcycpXG4gICAgICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAgICAgLmVxKCdpZCcsIHRyaXBJZClcbiAgICAgICAgICAuc2luZ2xlKCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgIHNldEFjdGl2ZVRyaXAoZGF0YSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8g44OI44Oq44OD44OXSUTjgpLjgrnjg4jjg6zjg7zjgrjjgavkv53lrZhcbiAgICAgICAgICBzdXBhYmFzZVxuICAgICAgICAgICAgLmZyb20oJ3VzZXJfc2V0dGluZ3MnKVxuICAgICAgICAgICAgLnVwc2VydCh7XG4gICAgICAgICAgICAgIHNlc3Npb25faWQ6IHNlc3Npb25JZCxcbiAgICAgICAgICAgICAgc2V0dGluZ19rZXk6ICdsYXN0X2FjdGl2ZV90cmlwJyxcbiAgICAgICAgICAgICAgc2V0dGluZ192YWx1ZTogZGF0YS5pZCxcbiAgICAgICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgICAgICB9LCB7IG9uQ29uZmxpY3Q6ICdzZXNzaW9uX2lkLHNldHRpbmdfa2V5JyB9KVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4gY29uc29sZS5sb2coJ1RyaXAgSUQgc2F2ZWQnKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbG9hZFRyaXBEYXRhKCk7XG4gIH0sIFt0cmlwSWQsIGFjdGl2ZVRyaXAsIHNldEFjdGl2ZVRyaXAsIHBhdGhuYW1lLCByb3V0ZXIsIHNlc3Npb25JZF0pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJ0cmlwLWNvbnRleHQtd3JhcHBlclwiPlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvZGl2PlxuICApO1xufSAiXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlU2VhcmNoUGFyYW1zIiwidXNlUm91dGVyIiwidXNlUGF0aG5hbWUiLCJ1c2VUcmlwIiwiY3JlYXRlQ2xpZW50IiwidXNlR3Vlc3RTdG9yZSIsIk15VHJpcExheW91dCIsImNoaWxkcmVuIiwic2VhcmNoUGFyYW1zIiwicm91dGVyIiwicGF0aG5hbWUiLCJ0cmlwSWQiLCJnZXQiLCJhY3RpdmVUcmlwIiwic2V0QWN0aXZlVHJpcCIsInNlc3Npb25JZCIsImxvYWRUcmlwRGF0YSIsInJlcGxhY2UiLCJpZCIsInN1cGFiYXNlIiwiZGF0YSIsImZyb20iLCJzZWxlY3QiLCJlcSIsInNpbmdsZSIsInVwc2VydCIsInNlc3Npb25faWQiLCJzZXR0aW5nX2tleSIsInNldHRpbmdfdmFsdWUiLCJ1cGRhdGVkX2F0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwib25Db25mbGljdCIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiZGl2IiwiY2xhc3NOYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./app/my-trip/layout.tsx\n");

/***/ }),

/***/ "(ssr)/./app/my-trip/my-places/add/page.tsx":
/*!********************************************!*\
  !*** ./app/my-trip/my-places/add/page.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AddPlacePage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/shared/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(ssr)/./node_modules/next/navigation.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_navigation__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _components_places_add_place_form__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/places/add-place-form */ \"(ssr)/./components/places/add-place-form.tsx\");\n/* harmony import */ var _components_places_google_places_search__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/places/google-places-search */ \"(ssr)/./components/places/google-places-search.tsx\");\n/* harmony import */ var _barrel_optimize_names_Loader2_CheckCircle_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2,CheckCircle,XCircle!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_Loader2_CheckCircle_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2,CheckCircle,XCircle!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/circle-x.js\");\n/* harmony import */ var _barrel_optimize_names_Loader2_CheckCircle_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2,CheckCircle,XCircle!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/circle-check-big.js\");\n/* harmony import */ var _lib_contexts_trip_context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/contexts/trip-context */ \"(ssr)/./lib/contexts/trip-context.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\nfunction AddPlacePage() {\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)();\n    const { activeTrip } = (0,_lib_contexts_trip_context__WEBPACK_IMPORTED_MODULE_5__.useTrip)();\n    // Get query params\n    const placeId = searchParams.get(\"placeId\");\n    const date = searchParams.get(\"date\");\n    const source = searchParams.get(\"source\");\n    const groupId = searchParams.get(\"groupId\");\n    // Get place data directly from URL params if available\n    const name = searchParams.get(\"name\");\n    const address = searchParams.get(\"address\");\n    const latitude = searchParams.get(\"latitude\");\n    const longitude = searchParams.get(\"longitude\");\n    const [selectedPlace, setSelectedPlace] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showSearchFirst, setShowSearchFirst] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!placeId);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [success, setSuccess] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    console.log(\"Add Place page loaded with params:\", {\n        placeId,\n        groupId,\n        date,\n        source,\n        name,\n        address,\n        latitude,\n        longitude\n    });\n    // Directly use URL params if all necessary data is available\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (placeId && name && address && latitude && longitude) {\n            console.log(\"Creating place from URL params\");\n            const place = {\n                place_id: placeId,\n                name: name,\n                address: address,\n                latitude: parseFloat(latitude),\n                longitude: parseFloat(longitude)\n            };\n            setSelectedPlace(place);\n            setIsLoading(false);\n            setShowSearchFirst(false);\n            setError(null);\n        } else if (placeId) {\n            // Fallback to Google Places API lookup if we only have placeId\n            loadPlaceDetails();\n        }\n    }, [\n        placeId,\n        name,\n        address,\n        latitude,\n        longitude\n    ]);\n    // For pre-populated place, load place details if placeId is provided but other details missing\n    const loadPlaceDetails = async ()=>{\n        if (!placeId) return;\n        setIsLoading(true);\n        setError(null);\n        try {\n            console.log(\"Loading place details from Google Places API for ID:\", placeId);\n            // This would typically be server-side, but for now we'll do it client-side\n            const map = new google.maps.Map(document.createElement(\"div\"));\n            const service = new google.maps.places.PlacesService(map);\n            service.getDetails({\n                placeId,\n                fields: [\n                    \"name\",\n                    \"formatted_address\",\n                    \"geometry\",\n                    \"photos\",\n                    \"types\"\n                ]\n            }, (place, status)=>{\n                if (status === google.maps.places.PlacesServiceStatus.OK && place) {\n                    console.log(\"Google Places API returned place details:\", place);\n                    // Extract photo URLs if available\n                    const photoUrls = [];\n                    if (place.photos && place.photos.length > 0) {\n                        place.photos.slice(0, 3).forEach((photo)=>{\n                            photoUrls.push(photo.getUrl({\n                                maxWidth: 400,\n                                maxHeight: 300\n                            }));\n                        });\n                    }\n                    // Format place data\n                    const placeData = {\n                        place_id: placeId,\n                        name: place.name || \"\",\n                        address: place.formatted_address || \"\",\n                        latitude: place.geometry?.location?.lat() || 0,\n                        longitude: place.geometry?.location?.lng() || 0,\n                        photos: photoUrls,\n                        types: place.types || []\n                    };\n                    console.log(\"Converted to SearchResult:\", placeData);\n                    setSelectedPlace(placeData);\n                    setShowSearchFirst(false);\n                } else {\n                    console.error(\"Error fetching place details:\", status);\n                    setError(`Could not fetch place details: ${status}`);\n                    setShowSearchFirst(true);\n                }\n                setIsLoading(false);\n            });\n        } catch (error) {\n            console.error(\"Error loading place details:\", error);\n            setError(\"An error occurred while loading place details. Please try again.\");\n            setShowSearchFirst(true);\n            setIsLoading(false);\n        }\n    };\n    // Handle place selection from search\n    const handlePlaceSelect = (place)=>{\n        console.log(\"Place selected from search:\", place);\n        setSelectedPlace(place);\n        setShowSearchFirst(false);\n        setError(null);\n    };\n    // Handle form success\n    const handleSuccess = (placeId)=>{\n        console.log(\"Place added successfully, redirecting with ID:\", placeId);\n        setSuccess(true);\n        // Redirect after a short delay to show success state\n        setTimeout(()=>{\n            // Redirect back to the source page or to My Places by default\n            if (source) {\n                router.push(`${decodeURIComponent(source)}?added=${placeId}`);\n            } else {\n                // Updated redirect path to the new location\n                router.push(`/my-trip/my-places?added=${placeId}`);\n            }\n        }, 1000);\n    };\n    // Handle form error\n    const handleError = (errorMessage)=>{\n        console.error(\"Form error:\", errorMessage);\n        setError(errorMessage);\n        window.scrollTo({\n            top: 0,\n            behavior: \"smooth\"\n        });\n    };\n    // Parse date string into Date object if provided\n    const parsedDate = date ? new Date(date) : undefined;\n    // Get the effective groupId from either URL param or active trip\n    const effectiveGroupId = groupId || activeTrip?.id;\n    console.log(\"Selected place:\", selectedPlace);\n    console.log(\"Effective group ID:\", effectiveGroupId);\n    // Loading state\n    if (isLoading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex justify-center items-center min-h-[60vh]\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_CheckCircle_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                className: \"h-8 w-8 animate-spin text-sky-500\"\n            }, void 0, false, {\n                fileName: \"/Users/kominetenma/Desktop/project/app/my-trip/my-places/add/page.tsx\",\n                lineNumber: 165,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/kominetenma/Desktop/project/app/my-trip/my-places/add/page.tsx\",\n            lineNumber: 164,\n            columnNumber: 7\n        }, this);\n    }\n    // Search first view (when no place is selected)\n    if (showSearchFirst) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"container max-w-2xl mx-auto py-8 px-4\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                    className: \"text-2xl font-bold mb-6\",\n                    children: \"Add Place to Wishlist\"\n                }, void 0, false, {\n                    fileName: \"/Users/kominetenma/Desktop/project/app/my-trip/my-places/add/page.tsx\",\n                    lineNumber: 174,\n                    columnNumber: 9\n                }, this),\n                error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_CheckCircle_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                            className: \"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5\"\n                        }, void 0, false, {\n                            fileName: \"/Users/kominetenma/Desktop/project/app/my-trip/my-places/add/page.tsx\",\n                            lineNumber: 179,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-sm text-red-700\",\n                            children: error\n                        }, void 0, false, {\n                            fileName: \"/Users/kominetenma/Desktop/project/app/my-trip/my-places/add/page.tsx\",\n                            lineNumber: 180,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/kominetenma/Desktop/project/app/my-trip/my-places/add/page.tsx\",\n                    lineNumber: 178,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-gray-50 dark:bg-gray-800/50 p-6 rounded-lg\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"mb-4 text-muted-foreground\",\n                            children: \"Search for a place you'd like to add to your wishlist\"\n                        }, void 0, false, {\n                            fileName: \"/Users/kominetenma/Desktop/project/app/my-trip/my-places/add/page.tsx\",\n                            lineNumber: 185,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_places_google_places_search__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                            placeholder: \"Search for a place to add to your wishlist...\",\n                            onPlaceSelect: handlePlaceSelect,\n                            size: \"medium\",\n                            className: \"w-full\",\n                            autoFocus: true,\n                            noResultsText: \"No places found\"\n                        }, void 0, false, {\n                            fileName: \"/Users/kominetenma/Desktop/project/app/my-trip/my-places/add/page.tsx\",\n                            lineNumber: 189,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"mt-4 text-xs text-gray-500\",\n                            children: \"Note: Adding to your wishlist does not guarantee inclusion in the final group itinerary. The optimization algorithm will consider all members' preferences when creating the group plan.\"\n                        }, void 0, false, {\n                            fileName: \"/Users/kominetenma/Desktop/project/app/my-trip/my-places/add/page.tsx\",\n                            lineNumber: 198,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/kominetenma/Desktop/project/app/my-trip/my-places/add/page.tsx\",\n                    lineNumber: 184,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/kominetenma/Desktop/project/app/my-trip/my-places/add/page.tsx\",\n            lineNumber: 173,\n            columnNumber: 7\n        }, this);\n    }\n    // Success state\n    if (success) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"container max-w-2xl mx-auto py-8 px-4\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-8 bg-green-50 border border-green-200 rounded-lg flex flex-col items-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_CheckCircle_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                        className: \"h-16 w-16 text-green-500 mb-4\"\n                    }, void 0, false, {\n                        fileName: \"/Users/kominetenma/Desktop/project/app/my-trip/my-places/add/page.tsx\",\n                        lineNumber: 212,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-xl font-semibold text-green-800 mb-2\",\n                        children: \"Place Added Successfully!\"\n                    }, void 0, false, {\n                        fileName: \"/Users/kominetenma/Desktop/project/app/my-trip/my-places/add/page.tsx\",\n                        lineNumber: 213,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-center text-green-700 mb-6\",\n                        children: \"Your place has been added to your wishlist. Redirecting...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/kominetenma/Desktop/project/app/my-trip/my-places/add/page.tsx\",\n                        lineNumber: 214,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"animate-pulse\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_CheckCircle_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                            className: \"h-6 w-6 text-green-500\"\n                        }, void 0, false, {\n                            fileName: \"/Users/kominetenma/Desktop/project/app/my-trip/my-places/add/page.tsx\",\n                            lineNumber: 218,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/kominetenma/Desktop/project/app/my-trip/my-places/add/page.tsx\",\n                        lineNumber: 217,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/kominetenma/Desktop/project/app/my-trip/my-places/add/page.tsx\",\n                lineNumber: 211,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/kominetenma/Desktop/project/app/my-trip/my-places/add/page.tsx\",\n            lineNumber: 210,\n            columnNumber: 7\n        }, this);\n    }\n    // Form view (when place is selected)\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"container max-w-2xl mx-auto py-8 px-4\",\n        children: [\n            error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_CheckCircle_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                        className: \"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5\"\n                    }, void 0, false, {\n                        fileName: \"/Users/kominetenma/Desktop/project/app/my-trip/my-places/add/page.tsx\",\n                        lineNumber: 231,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-sm text-red-700\",\n                        children: error\n                    }, void 0, false, {\n                        fileName: \"/Users/kominetenma/Desktop/project/app/my-trip/my-places/add/page.tsx\",\n                        lineNumber: 232,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/kominetenma/Desktop/project/app/my-trip/my-places/add/page.tsx\",\n                lineNumber: 230,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_places_add_place_form__WEBPACK_IMPORTED_MODULE_3__.AddPlaceForm, {\n                placeData: selectedPlace,\n                onSuccess: handleSuccess,\n                onError: handleError,\n                defaultDate: parsedDate,\n                returnPath: \"/my-trip/my-places\",\n                groupId: effectiveGroupId\n            }, void 0, false, {\n                fileName: \"/Users/kominetenma/Desktop/project/app/my-trip/my-places/add/page.tsx\",\n                lineNumber: 236,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/kominetenma/Desktop/project/app/my-trip/my-places/add/page.tsx\",\n        lineNumber: 227,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9hcHAvbXktdHJpcC9teS1wbGFjZXMvYWRkL3BhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRTRDO0FBQ2lCO0FBQ0s7QUFDUTtBQUNiO0FBQ1A7QUFHdkMsU0FBU1U7SUFDdEIsTUFBTUMsU0FBU1QsMERBQVNBO0lBQ3hCLE1BQU1VLGVBQWVULGdFQUFlQTtJQUNwQyxNQUFNLEVBQUVVLFVBQVUsRUFBRSxHQUFHSixtRUFBT0E7SUFFOUIsbUJBQW1CO0lBQ25CLE1BQU1LLFVBQVVGLGFBQWFHLEdBQUcsQ0FBQztJQUNqQyxNQUFNQyxPQUFPSixhQUFhRyxHQUFHLENBQUM7SUFDOUIsTUFBTUUsU0FBU0wsYUFBYUcsR0FBRyxDQUFDO0lBQ2hDLE1BQU1HLFVBQVVOLGFBQWFHLEdBQUcsQ0FBQztJQUVqQyx1REFBdUQ7SUFDdkQsTUFBTUksT0FBT1AsYUFBYUcsR0FBRyxDQUFDO0lBQzlCLE1BQU1LLFVBQVVSLGFBQWFHLEdBQUcsQ0FBQztJQUNqQyxNQUFNTSxXQUFXVCxhQUFhRyxHQUFHLENBQUM7SUFDbEMsTUFBTU8sWUFBWVYsYUFBYUcsR0FBRyxDQUFDO0lBRW5DLE1BQU0sQ0FBQ1EsZUFBZUMsaUJBQWlCLEdBQUd4QiwrQ0FBUUEsQ0FBc0I7SUFDeEUsTUFBTSxDQUFDeUIsV0FBV0MsYUFBYSxHQUFHMUIsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDMkIsaUJBQWlCQyxtQkFBbUIsR0FBRzVCLCtDQUFRQSxDQUFDLENBQUNjO0lBQ3hELE1BQU0sQ0FBQ2UsT0FBT0MsU0FBUyxHQUFHOUIsK0NBQVFBLENBQWdCO0lBQ2xELE1BQU0sQ0FBQytCLFNBQVNDLFdBQVcsR0FBR2hDLCtDQUFRQSxDQUFDO0lBRXZDaUMsUUFBUUMsR0FBRyxDQUFDLHNDQUFzQztRQUNoRHBCO1FBQVNJO1FBQVNGO1FBQU1DO1FBQVFFO1FBQU1DO1FBQVNDO1FBQVVDO0lBQzNEO0lBRUEsNkRBQTZEO0lBQzdEckIsZ0RBQVNBLENBQUM7UUFD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V0FBVTtzQ0FBNkI7Ozs7OztzQ0FJMUMsOERBQUNqRiwrRUFBa0JBOzRCQUNqQm9GLGFBQVk7NEJBQ1pDLGVBQWVwQjs0QkFDZnFCLE1BQUs7NEJBQ0xMLFdBQVU7NEJBQ1ZNLFdBQVc7NEJBQ1hDLGVBQWM7Ozs7OztzQ0FHaEIsOERBQUNMOzRCQUFFRixXQUFVO3NDQUE2Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBT2xEO0lBRUEsZ0JBQWdCO0lBQ2hCLElBQUl2RCxTQUFTO1FBQ1gscUJBQ0UsOERBQUNzRDtZQUFJQyxXQUFVO3NCQUNiLDRFQUFDRDtnQkFBSUMsV0FBVTs7a0NBQ2IsOERBQUMvRSx1R0FBV0E7d0JBQUMrRSxXQUFVOzs7Ozs7a0NBQ3ZCLDhEQUFDUTt3QkFBR1IsV0FBVTtrQ0FBNEM7Ozs7OztrQ0FDMUQsOERBQUNFO3dCQUFFRixXQUFVO2tDQUFrQzs7Ozs7O2tDQUcvQyw4REFBQ0Q7d0JBQUlDLFdBQVU7a0NBQ2IsNEVBQUNoRix1R0FBT0E7NEJBQUNnRixXQUFVOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBSzdCO0lBRUEscUNBQXFDO0lBQ3JDLHFCQUNFLDhEQUFDRDtRQUFJQyxXQUFVOztZQUVaekQsdUJBQ0MsOERBQUN3RDtnQkFBSUMsV0FBVTs7a0NBQ2IsOERBQUM5RSx1R0FBT0E7d0JBQUM4RSxXQUFVOzs7Ozs7a0NBQ25CLDhEQUFDRTt3QkFBRUYsV0FBVTtrQ0FBd0J6RDs7Ozs7Ozs7Ozs7OzBCQUl6Qyw4REFBQ3pCLDJFQUFZQTtnQkFDWDJELFdBQVd4QztnQkFDWHdFLFdBQVd4QjtnQkFDWHlCLFNBQVN0QjtnQkFDVHVCLGFBQWFqQjtnQkFDYmtCLFlBQVc7Z0JBQ1hoRixTQUFTaUU7Ozs7Ozs7Ozs7OztBQUlqQiIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy8uL2FwcC9teS10cmlwL215LXBsYWNlcy9hZGQvcGFnZS50c3g/OTA3MyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VSb3V0ZXIsIHVzZVNlYXJjaFBhcmFtcyB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7XG5pbXBvcnQgeyBBZGRQbGFjZUZvcm0gfSBmcm9tICdAL2NvbXBvbmVudHMvcGxhY2VzL2FkZC1wbGFjZS1mb3JtJztcbmltcG9ydCBHb29nbGVQbGFjZXNTZWFyY2ggZnJvbSAnQC9jb21wb25lbnRzL3BsYWNlcy9nb29nbGUtcGxhY2VzLXNlYXJjaCc7XG5pbXBvcnQgeyBMb2FkZXIyLCBDaGVja0NpcmNsZSwgWENpcmNsZSB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XG5pbXBvcnQgeyB1c2VUcmlwIH0gZnJvbSAnQC9saWIvY29udGV4dHMvdHJpcC1jb250ZXh0JztcbmltcG9ydCB7IFNlYXJjaFJlc3VsdCB9IGZyb20gJ0AvbGliL3R5cGVzL3BsYWNlcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFkZFBsYWNlUGFnZSgpIHtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG4gIGNvbnN0IHNlYXJjaFBhcmFtcyA9IHVzZVNlYXJjaFBhcmFtcygpO1xuICBjb25zdCB7IGFjdGl2ZVRyaXAgfSA9IHVzZVRyaXAoKTtcbiAgXG4gIC8vIEdldCBxdWVyeSBwYXJhbXNcbiAgY29uc3QgcGxhY2VJZCA9IHNlYXJjaFBhcmFtcy5nZXQoJ3BsYWNlSWQnKTtcbiAgY29uc3QgZGF0ZSA9IHNlYXJjaFBhcmFtcy5nZXQoJ2RhdGUnKTtcbiAgY29uc3Qgc291cmNlID0gc2VhcmNoUGFyYW1zLmdldCgnc291cmNlJyk7XG4gIGNvbnN0IGdyb3VwSWQgPSBzZWFyY2hQYXJhbXMuZ2V0KCdncm91cElkJyk7XG4gIFxuICAvLyBHZXQgcGxhY2UgZGF0YSBkaXJlY3RseSBmcm9tIFVSTCBwYXJhbXMgaWYgYXZhaWxhYmxlXG4gIGNvbnN0IG5hbWUgPSBzZWFyY2hQYXJhbXMuZ2V0KCduYW1lJyk7XG4gIGNvbnN0IGFkZHJlc3MgPSBzZWFyY2hQYXJhbXMuZ2V0KCdhZGRyZXNzJyk7XG4gIGNvbnN0IGxhdGl0dWRlID0gc2VhcmNoUGFyYW1zLmdldCgnbGF0aXR1ZGUnKTtcbiAgY29uc3QgbG9uZ2l0dWRlID0gc2VhcmNoUGFyYW1zLmdldCgnbG9uZ2l0dWRlJyk7XG4gIFxuICBjb25zdCBbc2VsZWN0ZWRQbGFjZSwgc2V0U2VsZWN0ZWRQbGFjZV0gPSB1c2VTdGF0ZTxTZWFyY2hSZXN1bHQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dTZWFyY2hGaXJzdCwgc2V0U2hvd1NlYXJjaEZpcnN0XSA9IHVzZVN0YXRlKCFwbGFjZUlkKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3N1Y2Nlc3MsIHNldFN1Y2Nlc3NdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBcbiAgY29uc29sZS5sb2coJ0FkZCBQbGFjZSBwYWdlIGxvYWRlZCB3aXRoIHBhcmFtczonLCB7XG4gICAgcGxhY2VJZCwgZ3JvdXBJZCwgZGF0ZSwgc291cmNlLCBuYW1lLCBhZGRyZXNzLCBsYXRpdHVkZSwgbG9uZ2l0dWRlXG4gIH0pO1xuICBcbiAgLy8gRGlyZWN0bHkgdXNlIFVSTCBwYXJhbXMgaWYgYWxsIG5lY2Vzc2FyeSBkYXRhIGlzIGF2YWlsYWJsZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChwbGFjZUlkICYmIG5hbWUgJiYgYWRkcmVzcyAmJiBsYXRpdHVkZSAmJiBsb25naXR1ZGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdDcmVhdGluZyBwbGFjZSBmcm9tIFVSTCBwYXJhbXMnKTtcbiAgICAgIGNvbnN0IHBsYWNlOiBTZWFyY2hSZXN1bHQgPSB7XG4gICAgICAgIHBsYWNlX2lkOiBwbGFjZUlkLFxuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICBhZGRyZXNzOiBhZGRyZXNzLFxuICAgICAgICBsYXRpdHVkZTogcGFyc2VGbG9hdChsYXRpdHVkZSksXG4gICAgICAgIGxvbmdpdHVkZTogcGFyc2VGbG9hdChsb25naXR1ZGUpXG4gICAgICB9O1xuICAgICAgc2V0U2VsZWN0ZWRQbGFjZShwbGFjZSk7XG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgc2V0U2hvd1NlYXJjaEZpcnN0KGZhbHNlKTtcbiAgICAgIHNldEVycm9yKG51bGwpO1xuICAgIH0gZWxzZSBpZiAocGxhY2VJZCkge1xuICAgICAgLy8gRmFsbGJhY2sgdG8gR29vZ2xlIFBsYWNlcyBBUEkgbG9va3VwIGlmIHdlIG9ubHkgaGF2ZSBwbGFjZUlkXG4gICAgICBsb2FkUGxhY2VEZXRhaWxzKCk7XG4gICAgfVxuICB9LCBbcGxhY2VJZCwgbmFtZSwgYWRkcmVzcywgbGF0aXR1ZGUsIGxvbmdpdHVkZV0pO1xuICBcbiAgLy8gRm9yIHByZS1wb3B1bGF0ZWQgcGxhY2UsIGxvYWQgcGxhY2UgZGV0YWlscyBpZiBwbGFjZUlkIGlzIHByb3ZpZGVkIGJ1dCBvdGhlciBkZXRhaWxzIG1pc3NpbmdcbiAgY29uc3QgbG9hZFBsYWNlRGV0YWlscyA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXBsYWNlSWQpIHJldHVybjtcbiAgICBcbiAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgc2V0RXJyb3IobnVsbCk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKCdMb2FkaW5nIHBsYWNlIGRldGFpbHMgZnJvbSBHb29nbGUgUGxhY2VzIEFQSSBmb3IgSUQ6JywgcGxhY2VJZCk7XG4gICAgICAvLyBUaGlzIHdvdWxkIHR5cGljYWxseSBiZSBzZXJ2ZXItc2lkZSwgYnV0IGZvciBub3cgd2UnbGwgZG8gaXQgY2xpZW50LXNpZGVcbiAgICAgIGNvbnN0IG1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykpO1xuICAgICAgY29uc3Qgc2VydmljZSA9IG5ldyBnb29nbGUubWFwcy5wbGFjZXMuUGxhY2VzU2VydmljZShtYXApO1xuICAgICAgXG4gICAgICBzZXJ2aWNlLmdldERldGFpbHMoXG4gICAgICAgIHtcbiAgICAgICAgICBwbGFjZUlkLFxuICAgICAgICAgIGZpZWxkczogWyduYW1lJywgJ2Zvcm1hdHRlZF9hZGRyZXNzJywgJ2dlb21ldHJ5JywgJ3Bob3RvcycsICd0eXBlcyddXG4gICAgICAgIH0sXG4gICAgICAgIChwbGFjZSwgc3RhdHVzKSA9PiB7XG4gICAgICAgICAgaWYgKHN0YXR1cyA9PT0gZ29vZ2xlLm1hcHMucGxhY2VzLlBsYWNlc1NlcnZpY2VTdGF0dXMuT0sgJiYgcGxhY2UpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdHb29nbGUgUGxhY2VzIEFQSSByZXR1cm5lZCBwbGFjZSBkZXRhaWxzOicsIHBsYWNlKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gRXh0cmFjdCBwaG90byBVUkxzIGlmIGF2YWlsYWJsZVxuICAgICAgICAgICAgY29uc3QgcGhvdG9VcmxzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICAgICAgaWYgKHBsYWNlLnBob3RvcyAmJiBwbGFjZS5waG90b3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBwbGFjZS5waG90b3Muc2xpY2UoMCwgMykuZm9yRWFjaChwaG90byA9PiB7XG4gICAgICAgICAgICAgICAgcGhvdG9VcmxzLnB1c2gocGhvdG8uZ2V0VXJsKHsgbWF4V2lkdGg6IDQwMCwgbWF4SGVpZ2h0OiAzMDAgfSkpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gRm9ybWF0IHBsYWNlIGRhdGFcbiAgICAgICAgICAgIGNvbnN0IHBsYWNlRGF0YTogU2VhcmNoUmVzdWx0ID0ge1xuICAgICAgICAgICAgICBwbGFjZV9pZDogcGxhY2VJZCxcbiAgICAgICAgICAgICAgbmFtZTogcGxhY2UubmFtZSB8fCAnJyxcbiAgICAgICAgICAgICAgYWRkcmVzczogcGxhY2UuZm9ybWF0dGVkX2FkZHJlc3MgfHwgJycsXG4gICAgICAgICAgICAgIGxhdGl0dWRlOiBwbGFjZS5nZW9tZXRyeT8ubG9jYXRpb24/LmxhdCgpIHx8IDAsXG4gICAgICAgICAgICAgIGxvbmdpdHVkZTogcGxhY2UuZ2VvbWV0cnk/LmxvY2F0aW9uPy5sbmcoKSB8fCAwLFxuICAgICAgICAgICAgICBwaG90b3M6IHBob3RvVXJscyxcbiAgICAgICAgICAgICAgdHlwZXM6IHBsYWNlLnR5cGVzIHx8IFtdXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQ29udmVydGVkIHRvIFNlYXJjaFJlc3VsdDonLCBwbGFjZURhdGEpO1xuICAgICAgICAgICAgc2V0U2VsZWN0ZWRQbGFjZShwbGFjZURhdGEpO1xuICAgICAgICAgICAgc2V0U2hvd1NlYXJjaEZpcnN0KGZhbHNlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcGxhY2UgZGV0YWlsczonLCBzdGF0dXMpO1xuICAgICAgICAgICAgc2V0RXJyb3IoYENvdWxkIG5vdCBmZXRjaCBwbGFjZSBkZXRhaWxzOiAke3N0YXR1c31gKTtcbiAgICAgICAgICAgIHNldFNob3dTZWFyY2hGaXJzdCh0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyBwbGFjZSBkZXRhaWxzOicsIGVycm9yKTtcbiAgICAgIHNldEVycm9yKCdBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBsb2FkaW5nIHBsYWNlIGRldGFpbHMuIFBsZWFzZSB0cnkgYWdhaW4uJyk7XG4gICAgICBzZXRTaG93U2VhcmNoRmlyc3QodHJ1ZSk7XG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcbiAgXG4gIC8vIEhhbmRsZSBwbGFjZSBzZWxlY3Rpb24gZnJvbSBzZWFyY2hcbiAgY29uc3QgaGFuZGxlUGxhY2VTZWxlY3QgPSAocGxhY2U6IFNlYXJjaFJlc3VsdCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdQbGFjZSBzZWxlY3RlZCBmcm9tIHNlYXJjaDonLCBwbGFjZSk7XG4gICAgc2V0U2VsZWN0ZWRQbGFjZShwbGFjZSk7XG4gICAgc2V0U2hvd1NlYXJjaEZpcnN0KGZhbHNlKTtcbiAgICBzZXRFcnJvcihudWxsKTtcbiAgfTtcbiAgXG4gIC8vIEhhbmRsZSBmb3JtIHN1Y2Nlc3NcbiAgY29uc3QgaGFuZGxlU3VjY2VzcyA9IChwbGFjZUlkOiBzdHJpbmcpID0+IHtcbiAgICBjb25zb2xlLmxvZygnUGxhY2UgYWRkZWQgc3VjY2Vzc2Z1bGx5LCByZWRpcmVjdGluZyB3aXRoIElEOicsIHBsYWNlSWQpO1xuICAgIHNldFN1Y2Nlc3ModHJ1ZSk7XG4gICAgXG4gICAgLy8gUmVkaXJlY3QgYWZ0ZXIgYSBzaG9ydCBkZWxheSB0byBzaG93IHN1Y2Nlc3Mgc3RhdGVcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIC8vIFJlZGlyZWN0IGJhY2sgdG8gdGhlIHNvdXJjZSBwYWdlIG9yIHRvIE15IFBsYWNlcyBieSBkZWZhdWx0XG4gICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgIHJvdXRlci5wdXNoKGAke2RlY29kZVVSSUNvbXBvbmVudChzb3VyY2UpfT9hZGRlZD0ke3BsYWNlSWR9YCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBVcGRhdGVkIHJlZGlyZWN0IHBhdGggdG8gdGhlIG5ldyBsb2NhdGlvblxuICAgICAgICByb3V0ZXIucHVzaChgL215LXRyaXAvbXktcGxhY2VzP2FkZGVkPSR7cGxhY2VJZH1gKTtcbiAgICAgIH1cbiAgICB9LCAxMDAwKTtcbiAgfTtcbiAgXG4gIC8vIEhhbmRsZSBmb3JtIGVycm9yXG4gIGNvbnN0IGhhbmRsZUVycm9yID0gKGVycm9yTWVzc2FnZTogc3RyaW5nKSA9PiB7XG4gICAgY29uc29sZS5lcnJvcignRm9ybSBlcnJvcjonLCBlcnJvck1lc3NhZ2UpO1xuICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgd2luZG93LnNjcm9sbFRvKHsgdG9wOiAwLCBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XG4gIH07XG4gIFxuICAvLyBQYXJzZSBkYXRlIHN0cmluZyBpbnRvIERhdGUgb2JqZWN0IGlmIHByb3ZpZGVkXG4gIGNvbnN0IHBhcnNlZERhdGUgPSBkYXRlID8gbmV3IERhdGUoZGF0ZSkgOiB1bmRlZmluZWQ7XG4gIFxuICAvLyBHZXQgdGhlIGVmZmVjdGl2ZSBncm91cElkIGZyb20gZWl0aGVyIFVSTCBwYXJhbSBvciBhY3RpdmUgdHJpcFxuICBjb25zdCBlZmZlY3RpdmVHcm91cElkID0gZ3JvdXBJZCB8fCBhY3RpdmVUcmlwPy5pZDtcbiAgXG4gIGNvbnNvbGUubG9nKCdTZWxlY3RlZCBwbGFjZTonLCBzZWxlY3RlZFBsYWNlKTtcbiAgY29uc29sZS5sb2coJ0VmZmVjdGl2ZSBncm91cCBJRDonLCBlZmZlY3RpdmVHcm91cElkKTtcbiAgXG4gIC8vIExvYWRpbmcgc3RhdGVcbiAgaWYgKGlzTG9hZGluZykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyIG1pbi1oLVs2MHZoXVwiPlxuICAgICAgICA8TG9hZGVyMiBjbGFzc05hbWU9XCJoLTggdy04IGFuaW1hdGUtc3BpbiB0ZXh0LXNreS01MDBcIiAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuICBcbiAgLy8gU2VhcmNoIGZpcnN0IHZpZXcgKHdoZW4gbm8gcGxhY2UgaXMgc2VsZWN0ZWQpXG4gIGlmIChzaG93U2VhcmNoRmlyc3QpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXIgbWF4LXctMnhsIG14LWF1dG8gcHktOCBweC00XCI+XG4gICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgbWItNlwiPkFkZCBQbGFjZSB0byBXaXNobGlzdDwvaDE+XG4gICAgICAgIFxuICAgICAgICB7LyogRXJyb3IgbWVzc2FnZSAqL31cbiAgICAgICAge2Vycm9yICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTYgcC00IGJnLXJlZC01MCBib3JkZXIgYm9yZGVyLXJlZC0yMDAgcm91bmRlZC1sZyBmbGV4IGl0ZW1zLXN0YXJ0IGdhcC0zXCI+XG4gICAgICAgICAgICA8WENpcmNsZSBjbGFzc05hbWU9XCJoLTUgdy01IHRleHQtcmVkLTUwMCBmbGV4LXNocmluay0wIG10LTAuNVwiIC8+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtcmVkLTcwMFwiPntlcnJvcn08L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICAgIFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktNTAgZGFyazpiZy1ncmF5LTgwMC81MCBwLTYgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTQgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+XG4gICAgICAgICAgICBTZWFyY2ggZm9yIGEgcGxhY2UgeW91J2QgbGlrZSB0byBhZGQgdG8geW91ciB3aXNobGlzdFxuICAgICAgICAgIDwvcD5cbiAgICAgICAgICBcbiAgICAgICAgICA8R29vZ2xlUGxhY2VzU2VhcmNoXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlYXJjaCBmb3IgYSBwbGFjZSB0byBhZGQgdG8geW91ciB3aXNobGlzdC4uLlwiXG4gICAgICAgICAgICBvblBsYWNlU2VsZWN0PXtoYW5kbGVQbGFjZVNlbGVjdH1cbiAgICAgICAgICAgIHNpemU9XCJtZWRpdW1cIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsXCJcbiAgICAgICAgICAgIGF1dG9Gb2N1cz17dHJ1ZX1cbiAgICAgICAgICAgIG5vUmVzdWx0c1RleHQ9XCJObyBwbGFjZXMgZm91bmRcIlxuICAgICAgICAgIC8+XG4gICAgICAgICAgXG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtNCB0ZXh0LXhzIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgIE5vdGU6IEFkZGluZyB0byB5b3VyIHdpc2hsaXN0IGRvZXMgbm90IGd1YXJhbnRlZSBpbmNsdXNpb24gaW4gdGhlIGZpbmFsIGdyb3VwIGl0aW5lcmFyeS5cbiAgICAgICAgICAgIFRoZSBvcHRpbWl6YXRpb24gYWxnb3JpdGhtIHdpbGwgY29uc2lkZXIgYWxsIG1lbWJlcnMnIHByZWZlcmVuY2VzIHdoZW4gY3JlYXRpbmcgdGhlIGdyb3VwIHBsYW4uXG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbiAgXG4gIC8vIFN1Y2Nlc3Mgc3RhdGVcbiAgaWYgKHN1Y2Nlc3MpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXIgbWF4LXctMnhsIG14LWF1dG8gcHktOCBweC00XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC04IGJnLWdyZWVuLTUwIGJvcmRlciBib3JkZXItZ3JlZW4tMjAwIHJvdW5kZWQtbGcgZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICA8Q2hlY2tDaXJjbGUgY2xhc3NOYW1lPVwiaC0xNiB3LTE2IHRleHQtZ3JlZW4tNTAwIG1iLTRcIiAvPlxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmVlbi04MDAgbWItMlwiPlBsYWNlIEFkZGVkIFN1Y2Nlc3NmdWxseSE8L2gyPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtZ3JlZW4tNzAwIG1iLTZcIj5cbiAgICAgICAgICAgIFlvdXIgcGxhY2UgaGFzIGJlZW4gYWRkZWQgdG8geW91ciB3aXNobGlzdC4gUmVkaXJlY3RpbmcuLi5cbiAgICAgICAgICA8L3A+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXB1bHNlXCI+XG4gICAgICAgICAgICA8TG9hZGVyMiBjbGFzc05hbWU9XCJoLTYgdy02IHRleHQtZ3JlZW4tNTAwXCIgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG4gIFxuICAvLyBGb3JtIHZpZXcgKHdoZW4gcGxhY2UgaXMgc2VsZWN0ZWQpXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXIgbWF4LXctMnhsIG14LWF1dG8gcHktOCBweC00XCI+XG4gICAgICB7LyogRXJyb3IgbWVzc2FnZSAqL31cbiAgICAgIHtlcnJvciAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNiBwLTQgYmctcmVkLTUwIGJvcmRlciBib3JkZXItcmVkLTIwMCByb3VuZGVkLWxnIGZsZXggaXRlbXMtc3RhcnQgZ2FwLTNcIj5cbiAgICAgICAgICA8WENpcmNsZSBjbGFzc05hbWU9XCJoLTUgdy01IHRleHQtcmVkLTUwMCBmbGV4LXNocmluay0wIG10LTAuNVwiIC8+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXJlZC03MDBcIj57ZXJyb3J9PC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgICBcbiAgICAgIDxBZGRQbGFjZUZvcm1cbiAgICAgICAgcGxhY2VEYXRhPXtzZWxlY3RlZFBsYWNlIX1cbiAgICAgICAgb25TdWNjZXNzPXtoYW5kbGVTdWNjZXNzfVxuICAgICAgICBvbkVycm9yPXtoYW5kbGVFcnJvcn1cbiAgICAgICAgZGVmYXVsdERhdGU9e3BhcnNlZERhdGV9XG4gICAgICAgIHJldHVyblBhdGg9XCIvbXktdHJpcC9teS1wbGFjZXNcIlxuICAgICAgICBncm91cElkPXtlZmZlY3RpdmVHcm91cElkfVxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn0gIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUm91dGVyIiwidXNlU2VhcmNoUGFyYW1zIiwiQWRkUGxhY2VGb3JtIiwiR29vZ2xlUGxhY2VzU2VhcmNoIiwiTG9hZGVyMiIsIkNoZWNrQ2lyY2xlIiwiWENpcmNsZSIsInVzZVRyaXAiLCJBZGRQbGFjZVBhZ2UiLCJyb3V0ZXIiLCJzZWFyY2hQYXJhbXMiLCJhY3RpdmVUcmlwIiwicGxhY2VJZCIsImdldCIsImRhdGUiLCJzb3VyY2UiLCJncm91cElkIiwibmFtZSIsImFkZHJlc3MiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsInNlbGVjdGVkUGxhY2UiLCJzZXRTZWxlY3RlZFBsYWNlIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwic2hvd1NlYXJjaEZpcnN0Iiwic2V0U2hvd1NlYXJjaEZpcnN0IiwiZXJyb3IiLCJzZXRFcnJvciIsInN1Y2Nlc3MiLCJzZXRTdWNjZXNzIiwiY29uc29sZSIsImxvZyIsInBsYWNlIiwicGxhY2VfaWQiLCJwYXJzZUZsb2F0IiwibG9hZFBsYWNlRGV0YWlscyIsIm1hcCIsImdvb2dsZSIsIm1hcHMiLCJNYXAiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzZXJ2aWNlIiwicGxhY2VzIiwiUGxhY2VzU2VydmljZSIsImdldERldGFpbHMiLCJmaWVsZHMiLCJzdGF0dXMiLCJQbGFjZXNTZXJ2aWNlU3RhdHVzIiwiT0siLCJwaG90b1VybHMiLCJwaG90b3MiLCJsZW5ndGgiLCJzbGljZSIsImZvckVhY2giLCJwaG90byIsInB1c2giLCJnZXRVcmwiLCJtYXhXaWR0aCIsIm1heEhlaWdodCIsInBsYWNlRGF0YSIsImZvcm1hdHRlZF9hZGRyZXNzIiwiZ2VvbWV0cnkiLCJsb2NhdGlvbiIsImxhdCIsImxuZyIsInR5cGVzIiwiaGFuZGxlUGxhY2VTZWxlY3QiLCJoYW5kbGVTdWNjZXNzIiwic2V0VGltZW91dCIsImRlY29kZVVSSUNvbXBvbmVudCIsImhhbmRsZUVycm9yIiwiZXJyb3JNZXNzYWdlIiwid2luZG93Iiwic2Nyb2xsVG8iLCJ0b3AiLCJiZWhhdmlvciIsInBhcnNlZERhdGUiLCJEYXRlIiwidW5kZWZpbmVkIiwiZWZmZWN0aXZlR3JvdXBJZCIsImlkIiwiZGl2IiwiY2xhc3NOYW1lIiwiaDEiLCJwIiwicGxhY2Vob2xkZXIiLCJvblBsYWNlU2VsZWN0Iiwic2l6ZSIsImF1dG9Gb2N1cyIsIm5vUmVzdWx0c1RleHQiLCJoMiIsIm9uU3VjY2VzcyIsIm9uRXJyb3IiLCJkZWZhdWx0RGF0ZSIsInJldHVyblBhdGgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./app/my-trip/my-places/add/page.tsx\n");

/***/ }),

/***/ "(ssr)/./components/layouts/main-layout.tsx":
/*!********************************************!*\
  !*** ./components/layouts/main-layout.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MainLayout: () => (/* binding */ MainLayout)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/shared/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_navigation_top_app_bar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/navigation/top-app-bar */ \"(ssr)/./components/navigation/top-app-bar.tsx\");\n/* harmony import */ var _components_navigation_bottom_navigation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/navigation/bottom-navigation */ \"(ssr)/./components/navigation/bottom-navigation.tsx\");\n/* harmony import */ var _lib_stores_guest_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/stores/guest-store */ \"(ssr)/./lib/stores/guest-store.ts\");\n/* harmony import */ var _lib_actions_guest_actions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/actions/guest-actions */ \"(ssr)/./lib/actions/guest-actions.ts\");\n/* harmony import */ var _lib_contexts_trip_context__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/lib/contexts/trip-context */ \"(ssr)/./lib/contexts/trip-context.tsx\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/navigation */ \"(ssr)/./node_modules/next/navigation.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_navigation__WEBPACK_IMPORTED_MODULE_7__);\n/* __next_internal_client_entry_do_not_use__ MainLayout auto */ \n\n\n\n\n\n\n\nfunction MainLayoutContent({ children }) {\n    const { isInitialized, initializeGuestSession, sessionId } = (0,_lib_stores_guest_store__WEBPACK_IMPORTED_MODULE_4__.useGuestStore)();\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const { restoreLastTrip } = (0,_lib_contexts_trip_context__WEBPACK_IMPORTED_MODULE_6__.useTrip)();\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_7__.useSearchParams)();\n    const tripId = searchParams.get(\"id\");\n    const pathname = (0,next_navigation__WEBPACK_IMPORTED_MODULE_7__.usePathname)();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const setupGuestSession = async ()=>{\n            if (!isInitialized) {\n                console.log(\"\\uD83D\\uDD04 Setting up guest session...\");\n                // Check for existing guest session in localStorage\n                const existingSessionId = localStorage.getItem(\"guestSessionId\");\n                const existingGuestData = localStorage.getItem(\"guestUserData\");\n                console.log(\"\\uD83D\\uDCE6 Existing session data:\", {\n                    hasSessionId: !!existingSessionId,\n                    hasGuestData: !!existingGuestData,\n                    sessionId: existingSessionId\n                });\n                if (existingSessionId && existingGuestData) {\n                    try {\n                        const parsedData = JSON.parse(existingGuestData);\n                        console.log(\"✅ Restoring guest session:\", {\n                            sessionId: existingSessionId,\n                            guestData: parsedData\n                        });\n                        // Restore guest session\n                        initializeGuestSession(existingSessionId, parsedData);\n                    } catch (error) {\n                        console.error(\"❌ Error parsing existing guest data:\", error);\n                        // Create new session if parsing fails\n                        await createNewSession();\n                    }\n                } else {\n                    await createNewSession();\n                }\n            } else {\n                console.log(\"✅ Guest session already initialized:\", {\n                    sessionId\n                });\n            }\n            setIsLoading(false);\n        };\n        const createNewSession = async ()=>{\n            try {\n                console.log(\"\\uD83C\\uDD95 Creating new guest session...\");\n                // Create new guest session\n                const { sessionId, guestData } = await (0,_lib_actions_guest_actions__WEBPACK_IMPORTED_MODULE_5__.createGuestUser)();\n                console.log(\"✅ Created guest session:\", {\n                    sessionId,\n                    guestData\n                });\n                initializeGuestSession(sessionId, guestData);\n                // Store in localStorage\n                localStorage.setItem(\"guestSessionId\", sessionId);\n                localStorage.setItem(\"guestUserData\", JSON.stringify(guestData));\n                console.log(\"\\uD83D\\uDCBE Saved session to localStorage\");\n            } catch (error) {\n                console.error(\"❌ Failed to create guest session:\", error);\n            }\n        };\n        setupGuestSession();\n    }, [\n        isInitialized,\n        initializeGuestSession,\n        sessionId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isLoading && !tripId && pathname.startsWith(\"/my-trip\")) {\n            // トリップIDがないが、my-tripページにいる場合は前回のトリップを復元\n            restoreLastTrip();\n        }\n    }, [\n        isLoading,\n        tripId,\n        pathname,\n        restoreLastTrip\n    ]);\n    if (isLoading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen flex items-center justify-center\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"animate-pulse text-primary\",\n                children: \"Loading...\"\n            }, void 0, false, {\n                fileName: \"/Users/kominetenma/Desktop/project/components/layouts/main-layout.tsx\",\n                lineNumber: 85,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/kominetenma/Desktop/project/components/layouts/main-layout.tsx\",\n            lineNumber: 84,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col min-h-screen\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_navigation_top_app_bar__WEBPACK_IMPORTED_MODULE_2__.TopAppBar, {}, void 0, false, {\n                fileName: \"/Users/kominetenma/Desktop/project/components/layouts/main-layout.tsx\",\n                lineNumber: 92,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                className: \"flex-1 pb-16\",\n                children: children\n            }, void 0, false, {\n                fileName: \"/Users/kominetenma/Desktop/project/components/layouts/main-layout.tsx\",\n                lineNumber: 93,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_navigation_bottom_navigation__WEBPACK_IMPORTED_MODULE_3__.BottomNavigation, {}, void 0, false, {\n                fileName: \"/Users/kominetenma/Desktop/project/components/layouts/main-layout.tsx\",\n                lineNumber: 96,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/kominetenma/Desktop/project/components/layouts/main-layout.tsx\",\n        lineNumber: 91,\n        columnNumber: 5\n    }, this);\n}\nfunction MainLayout({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_lib_contexts_trip_context__WEBPACK_IMPORTED_MODULE_6__.TripProvider, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MainLayoutContent, {\n            children: children\n        }, void 0, false, {\n            fileName: \"/Users/kominetenma/Desktop/project/components/layouts/main-layout.tsx\",\n            lineNumber: 104,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/kominetenma/Desktop/project/components/layouts/main-layout.tsx\",\n        lineNumber: 103,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL2xheW91dHMvbWFpbi1sYXlvdXQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFNEM7QUFDb0I7QUFDYTtBQUNwQjtBQUNLO0FBQ007QUFDTDtBQUUvRCxTQUFTVSxrQkFBa0IsRUFBRUMsUUFBUSxFQUFpQztJQUNwRSxNQUFNLEVBQUVDLGFBQWEsRUFBRUMsc0JBQXNCLEVBQUVDLFNBQVMsRUFBRSxHQUFHVixzRUFBYUE7SUFDMUUsTUFBTSxDQUFDVyxXQUFXQyxhQUFhLEdBQUdmLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sRUFBRWdCLGVBQWUsRUFBRSxHQUFHVixtRUFBT0E7SUFDbkMsTUFBTVcsZUFBZVYsZ0VBQWVBO0lBQ3BDLE1BQU1XLFNBQVNELGFBQWFFLEdBQUcsQ0FBQztJQUNoQyxNQUFNQyxXQUFXWiw0REFBV0E7SUFFNUJULGdEQUFTQSxDQUFDO1FBQ1IsTUFBTXNCLG9CQUFvQjtZQUN4QixJQUFJLENBQUNWLGVBQWU7Z0JBQ2xCVyxRQUFRQyxHQUFHLENBQUM7Z0JBRVosbURBQW1EO2dCQUNuRCxNQUFNQyxvQkFBb0JDLGFBQWFDLE9BQU8sQ0FBQztnQkFDL0MsTUFBTUMsb0JBQW9CRixhQUFhQyxPQUFPLENBQUM7Z0JBRS9DSixRQUFRQyxHQUFHLENBQUMsdUNBQTZCO29CQUN2Q0ssY0FBYyxDQUFDLENBQUNKO29CQUNoQkssY0FBYyxDQUFDLENBQUNGO29CQUNoQmQsV0FBV1c7Z0JBQ2I7Z0JBRUEsSUFBSUEscUJBQXFCRyxtQkFBbUI7b0JBQzFDLElBQUk7d0JBQ0YsTUFBTUcsYUFBYUMsS0FBS0MsS0FBSyxDQUFDTDt3QkFDOUJMLFFBQVFDLEdBQUcsQ0FBQyw4QkFBOEI7NEJBQUVWLFdBQVdXOzRCQUFtQlMsV0FBV0g7d0JBQVc7d0JBQ2hHLHdCQUF3Qjt3QkFDeEJsQix1QkFBdUJZLG1CQUFtQk07b0JBQzVDLEVBQUUsT0FBT0ksT0FBTzt3QkFDZFosUUFBUVksS0FBSyxDQUFDLHdDQUF3Q0E7d0JBQ3RELHNDQUFzQzt3QkFDdEMsTUFBTUM7b0JBQ1I7Z0JBQ0YsT0FBTztvQkFDTCxNQUFNQTtnQkFDUjtZQUNGLE9BQU87Z0JBQ0xiLFFBQVFDLEdBQUcsQ0FBQyx3Q0FBd0M7b0JBQUVWO2dCQUFVO1lBQ2xFO1lBQ0FFLGFBQWE7UUFDZjtRQUVBLE1BQU1vQixtQkFBbUI7WUFDdkIsSUFBSTtnQkFDRmIsUUFBUUMsR0FBRyxDQUFDO2dCQUNaLDJCQUEyQjtnQkFDM0IsTUFBTSxFQUFFVixTQUFTLEVBQUVvQixTQUFTLEVBQUUsR0FBRyxNQUFNN0IsMkVBQWVBO2dCQUN0RGtCLFFBQVFDLEdBQUcsQ0FBQyw0QkFBNEI7b0JBQUVWO29CQUFXb0I7Z0JBQVU7Z0JBRS9EckIsdUJBQXVCQyxXQUFXb0I7Z0JBRWxDLHdCQUF3QjtnQkFDeEJSLGFBQWFXLE9BQU8sQ0FBQyxrQkFBa0J2QjtnQkFDdkNZLGFBQWFXLE9BQU8sQ0FBQyxpQkFBaUJMLEtBQUtNLFNBQVMsQ0FBQ0o7Z0JBQ3JEWCxRQUFRQyxHQUFHLENBQUM7WUFDZCxFQUFFLE9BQU9XLE9BQU87Z0JBQ2RaLFFBQVFZLEtBQUssQ0FBQyxxQ0FBcUNBO1lBQ3JEO1FBQ0Y7UUFFQWI7SUFDRixHQUFHO1FBQUNWO1FBQWVDO1FBQXdCQztLQUFVO0lBRXJEZCxnREFBU0EsQ0FBQztRQUNSLElBQUksQ0FBQ2UsYUFBYSxDQUFDSSxVQUFVRSxTQUFTa0IsVUFBVSxDQUFDLGFBQWE7WUFDNUQsd0NBQXdDO1lBQ3hDdEI7UUFDRjtJQUNGLEdBQUc7UUFBQ0Y7UUFBV0k7UUFBUUU7UUFBVUo7S0FBZ0I7SUFFakQsSUFBSUYsV0FBVztRQUNiLHFCQUNFLDhEQUFDeUI7WUFBSUMsV0FBVTtzQkFDYiw0RUFBQ0Q7Z0JBQUlDLFdBQVU7MEJBQTZCOzs7Ozs7Ozs7OztJQUdsRDtJQUVBLHFCQUNFLDhEQUFDRDtRQUFJQyxXQUFVOzswQkFDYiw4REFBQ3ZDLHlFQUFTQTs7Ozs7MEJBQ1YsOERBQUN3QztnQkFBS0QsV0FBVTswQkFDYjlCOzs7Ozs7MEJBRUgsOERBQUNSLHNGQUFnQkE7Ozs7Ozs7Ozs7O0FBR3ZCO0FBRU8sU0FBU3dDLFdBQVcsRUFBRWhDLFFBQVEsRUFBaUM7SUFDcEUscUJBQ0UsOERBQUNMLG9FQUFZQTtrQkFDWCw0RUFBQ0k7c0JBQW1CQzs7Ozs7Ozs7Ozs7QUFHMUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMvLi9jb21wb25lbnRzL2xheW91dHMvbWFpbi1sYXlvdXQudHN4PzhkYzAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBUb3BBcHBCYXIgfSBmcm9tICdAL2NvbXBvbmVudHMvbmF2aWdhdGlvbi90b3AtYXBwLWJhcic7XG5pbXBvcnQgeyBCb3R0b21OYXZpZ2F0aW9uIH0gZnJvbSAnQC9jb21wb25lbnRzL25hdmlnYXRpb24vYm90dG9tLW5hdmlnYXRpb24nO1xuaW1wb3J0IHsgdXNlR3Vlc3RTdG9yZSB9IGZyb20gJ0AvbGliL3N0b3Jlcy9ndWVzdC1zdG9yZSc7XG5pbXBvcnQgeyBjcmVhdGVHdWVzdFVzZXIgfSBmcm9tICdAL2xpYi9hY3Rpb25zL2d1ZXN0LWFjdGlvbnMnO1xuaW1wb3J0IHsgVHJpcFByb3ZpZGVyLCB1c2VUcmlwIH0gZnJvbSAnQC9saWIvY29udGV4dHMvdHJpcC1jb250ZXh0JztcbmltcG9ydCB7IHVzZVNlYXJjaFBhcmFtcywgdXNlUGF0aG5hbWUgfSBmcm9tICduZXh0L25hdmlnYXRpb24nO1xuXG5mdW5jdGlvbiBNYWluTGF5b3V0Q29udGVudCh7IGNoaWxkcmVuIH06IHsgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZSB9KSB7XG4gIGNvbnN0IHsgaXNJbml0aWFsaXplZCwgaW5pdGlhbGl6ZUd1ZXN0U2Vzc2lvbiwgc2Vzc2lvbklkIH0gPSB1c2VHdWVzdFN0b3JlKCk7XG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgeyByZXN0b3JlTGFzdFRyaXAgfSA9IHVzZVRyaXAoKTtcbiAgY29uc3Qgc2VhcmNoUGFyYW1zID0gdXNlU2VhcmNoUGFyYW1zKCk7XG4gIGNvbnN0IHRyaXBJZCA9IHNlYXJjaFBhcmFtcy5nZXQoXCJpZFwiKTtcbiAgY29uc3QgcGF0aG5hbWUgPSB1c2VQYXRobmFtZSgpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgc2V0dXBHdWVzdFNlc3Npb24gPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWlzSW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ/CflIQgU2V0dGluZyB1cCBndWVzdCBzZXNzaW9uLi4uJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBDaGVjayBmb3IgZXhpc3RpbmcgZ3Vlc3Qgc2Vzc2lvbiBpbiBsb2NhbFN0b3JhZ2VcbiAgICAgICAgY29uc3QgZXhpc3RpbmdTZXNzaW9uSWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZ3Vlc3RTZXNzaW9uSWQnKTtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdHdWVzdERhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZ3Vlc3RVc2VyRGF0YScpO1xuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfk6YgRXhpc3Rpbmcgc2Vzc2lvbiBkYXRhOicsIHsgXG4gICAgICAgICAgaGFzU2Vzc2lvbklkOiAhIWV4aXN0aW5nU2Vzc2lvbklkLCBcbiAgICAgICAgICBoYXNHdWVzdERhdGE6ICEhZXhpc3RpbmdHdWVzdERhdGEsXG4gICAgICAgICAgc2Vzc2lvbklkOiBleGlzdGluZ1Nlc3Npb25JZFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGlmIChleGlzdGluZ1Nlc3Npb25JZCAmJiBleGlzdGluZ0d1ZXN0RGF0YSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWREYXRhID0gSlNPTi5wYXJzZShleGlzdGluZ0d1ZXN0RGF0YSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFJlc3RvcmluZyBndWVzdCBzZXNzaW9uOicsIHsgc2Vzc2lvbklkOiBleGlzdGluZ1Nlc3Npb25JZCwgZ3Vlc3REYXRhOiBwYXJzZWREYXRhIH0pO1xuICAgICAgICAgICAgLy8gUmVzdG9yZSBndWVzdCBzZXNzaW9uXG4gICAgICAgICAgICBpbml0aWFsaXplR3Vlc3RTZXNzaW9uKGV4aXN0aW5nU2Vzc2lvbklkLCBwYXJzZWREYXRhKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIHBhcnNpbmcgZXhpc3RpbmcgZ3Vlc3QgZGF0YTonLCBlcnJvcik7XG4gICAgICAgICAgICAvLyBDcmVhdGUgbmV3IHNlc3Npb24gaWYgcGFyc2luZyBmYWlsc1xuICAgICAgICAgICAgYXdhaXQgY3JlYXRlTmV3U2Vzc2lvbigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhd2FpdCBjcmVhdGVOZXdTZXNzaW9uKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfinIUgR3Vlc3Qgc2Vzc2lvbiBhbHJlYWR5IGluaXRpYWxpemVkOicsIHsgc2Vzc2lvbklkIH0pO1xuICAgICAgfVxuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICB9O1xuXG4gICAgY29uc3QgY3JlYXRlTmV3U2Vzc2lvbiA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn4aVIENyZWF0aW5nIG5ldyBndWVzdCBzZXNzaW9uLi4uJyk7XG4gICAgICAgIC8vIENyZWF0ZSBuZXcgZ3Vlc3Qgc2Vzc2lvblxuICAgICAgICBjb25zdCB7IHNlc3Npb25JZCwgZ3Vlc3REYXRhIH0gPSBhd2FpdCBjcmVhdGVHdWVzdFVzZXIoKTtcbiAgICAgICAgY29uc29sZS5sb2coJ+KchSBDcmVhdGVkIGd1ZXN0IHNlc3Npb246JywgeyBzZXNzaW9uSWQsIGd1ZXN0RGF0YSB9KTtcbiAgICAgICAgXG4gICAgICAgIGluaXRpYWxpemVHdWVzdFNlc3Npb24oc2Vzc2lvbklkLCBndWVzdERhdGEpO1xuICAgICAgICBcbiAgICAgICAgLy8gU3RvcmUgaW4gbG9jYWxTdG9yYWdlXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdndWVzdFNlc3Npb25JZCcsIHNlc3Npb25JZCk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdndWVzdFVzZXJEYXRhJywgSlNPTi5zdHJpbmdpZnkoZ3Vlc3REYXRhKSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5K+IFNhdmVkIHNlc3Npb24gdG8gbG9jYWxTdG9yYWdlJyk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRmFpbGVkIHRvIGNyZWF0ZSBndWVzdCBzZXNzaW9uOicsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgc2V0dXBHdWVzdFNlc3Npb24oKTtcbiAgfSwgW2lzSW5pdGlhbGl6ZWQsIGluaXRpYWxpemVHdWVzdFNlc3Npb24sIHNlc3Npb25JZF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpc0xvYWRpbmcgJiYgIXRyaXBJZCAmJiBwYXRobmFtZS5zdGFydHNXaXRoKCcvbXktdHJpcCcpKSB7XG4gICAgICAvLyDjg4jjg6rjg4Pjg5dJROOBjOOBquOBhOOBjOOAgW15LXRyaXDjg5rjg7zjgrjjgavjgYTjgovloLTlkIjjga/liY3lm57jga7jg4jjg6rjg4Pjg5fjgpLlvqnlhYNcbiAgICAgIHJlc3RvcmVMYXN0VHJpcCgpO1xuICAgIH1cbiAgfSwgW2lzTG9hZGluZywgdHJpcElkLCBwYXRobmFtZSwgcmVzdG9yZUxhc3RUcmlwXSk7XG5cbiAgaWYgKGlzTG9hZGluZykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGUtcHVsc2UgdGV4dC1wcmltYXJ5XCI+TG9hZGluZy4uLjwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1pbi1oLXNjcmVlblwiPlxuICAgICAgPFRvcEFwcEJhciAvPlxuICAgICAgPG1haW4gY2xhc3NOYW1lPVwiZmxleC0xIHBiLTE2XCI+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvbWFpbj5cbiAgICAgIDxCb3R0b21OYXZpZ2F0aW9uIC8+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNYWluTGF5b3V0KHsgY2hpbGRyZW4gfTogeyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8VHJpcFByb3ZpZGVyPlxuICAgICAgPE1haW5MYXlvdXRDb250ZW50PntjaGlsZHJlbn08L01haW5MYXlvdXRDb250ZW50PlxuICAgIDwvVHJpcFByb3ZpZGVyPlxuICApO1xufSJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsIlRvcEFwcEJhciIsIkJvdHRvbU5hdmlnYXRpb24iLCJ1c2VHdWVzdFN0b3JlIiwiY3JlYXRlR3Vlc3RVc2VyIiwiVHJpcFByb3ZpZGVyIiwidXNlVHJpcCIsInVzZVNlYXJjaFBhcmFtcyIsInVzZVBhdGhuYW1lIiwiTWFpbkxheW91dENvbnRlbnQiLCJjaGlsZHJlbiIsImlzSW5pdGlhbGl6ZWQiLCJpbml0aWFsaXplR3Vlc3RTZXNzaW9uIiwic2Vzc2lvbklkIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwicmVzdG9yZUxhc3RUcmlwIiwic2VhcmNoUGFyYW1zIiwidHJpcElkIiwiZ2V0IiwicGF0aG5hbWUiLCJzZXR1cEd1ZXN0U2Vzc2lvbiIsImNvbnNvbGUiLCJsb2ciLCJleGlzdGluZ1Nlc3Npb25JZCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJleGlzdGluZ0d1ZXN0RGF0YSIsImhhc1Nlc3Npb25JZCIsImhhc0d1ZXN0RGF0YSIsInBhcnNlZERhdGEiLCJKU09OIiwicGFyc2UiLCJndWVzdERhdGEiLCJlcnJvciIsImNyZWF0ZU5ld1Nlc3Npb24iLCJzZXRJdGVtIiwic3RyaW5naWZ5Iiwic3RhcnRzV2l0aCIsImRpdiIsImNsYXNzTmFtZSIsIm1haW4iLCJNYWluTGF5b3V0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/layouts/main-layout.tsx\n");

/***/ }),

/***/ "(ssr)/./components/navigation/bottom-navigation.tsx":
/*!*****************************************************!*\
  !*** ./components/navigation/bottom-navigation.tsx ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BottomNavigation: () => (/* binding */ BottomNavigation)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/shared/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(ssr)/./node_modules/next/navigation.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_navigation__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n/* harmony import */ var _barrel_optimize_names_Home_Map_MessageSquare_Share2_MapPin_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Home,Map,MessageSquare,Share2,MapPin!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/house.js\");\n/* harmony import */ var _barrel_optimize_names_Home_Map_MessageSquare_Share2_MapPin_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Home,Map,MessageSquare,Share2,MapPin!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/map.js\");\n/* harmony import */ var _barrel_optimize_names_Home_Map_MessageSquare_Share2_MapPin_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=Home,Map,MessageSquare,Share2,MapPin!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/map-pin.js\");\n/* harmony import */ var _barrel_optimize_names_Home_Map_MessageSquare_Share2_MapPin_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=Home,Map,MessageSquare,Share2,MapPin!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/message-square.js\");\n/* harmony import */ var _barrel_optimize_names_Home_Map_MessageSquare_Share2_MapPin_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=Home,Map,MessageSquare,Share2,MapPin!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/share-2.js\");\n/* harmony import */ var _lib_contexts_trip_context__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/contexts/trip-context */ \"(ssr)/./lib/contexts/trip-context.tsx\");\n/* __next_internal_client_entry_do_not_use__ BottomNavigation auto */ \n\n\n\n\n\nfunction BottomNavigation() {\n    const pathname = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.usePathname)();\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const [mounted, setMounted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const { activeTrip, navigateWithTrip } = (0,_lib_contexts_trip_context__WEBPACK_IMPORTED_MODULE_4__.useTrip)();\n    const tripId = searchParams.get(\"id\") || activeTrip?.id;\n    const tabParam = searchParams.get(\"tab\");\n    // Prevent hydration mismatch\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setMounted(true);\n    }, []);\n    // Include current trip ID in URLs for each page\n    const getNavItemHref = (baseHref)=>{\n        // Add query parameters for My Trip related pages\n        if (baseHref === \"/my-trip\" || baseHref === \"/my-trip/my-places\" || baseHref === \"/my-trip/chat\" || baseHref === \"/my-trip/share\") {\n            return tripId ? `${baseHref}?id=${tripId}` : baseHref;\n        }\n        return baseHref;\n    };\n    const navItems = [\n        {\n            href: \"/\",\n            label: \"Home\",\n            icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Home_Map_MessageSquare_Share2_MapPin_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                className: \"h-6 w-6\"\n            }, void 0, false, {\n                fileName: \"/Users/kominetenma/Desktop/project/components/navigation/bottom-navigation.tsx\",\n                lineNumber: 51,\n                columnNumber: 13\n            }, this),\n            activeIcon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Home_Map_MessageSquare_Share2_MapPin_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                className: \"h-6 w-6 text-sky-500 fill-sky-500/20\"\n            }, void 0, false, {\n                fileName: \"/Users/kominetenma/Desktop/project/components/navigation/bottom-navigation.tsx\",\n                lineNumber: 52,\n                columnNumber: 19\n            }, this),\n            matchPattern: /^\\/$/\n        },\n        {\n            href: \"/my-trip\",\n            label: \"Plan\",\n            icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Home_Map_MessageSquare_Share2_MapPin_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                className: \"h-6 w-6\"\n            }, void 0, false, {\n                fileName: \"/Users/kominetenma/Desktop/project/components/navigation/bottom-navigation.tsx\",\n                lineNumber: 58,\n                columnNumber: 13\n            }, this),\n            activeIcon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Home_Map_MessageSquare_Share2_MapPin_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                className: \"h-6 w-6 text-sky-500 fill-sky-500/20\"\n            }, void 0, false, {\n                fileName: \"/Users/kominetenma/Desktop/project/components/navigation/bottom-navigation.tsx\",\n                lineNumber: 59,\n                columnNumber: 19\n            }, this),\n            matchPattern: /^(\\/my-trip|\\/trips\\/[a-zA-Z0-9-]+)$/\n        },\n        {\n            href: \"/my-trip/my-places\",\n            label: \"My Places\",\n            icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Home_Map_MessageSquare_Share2_MapPin_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                className: \"h-6 w-6\"\n            }, void 0, false, {\n                fileName: \"/Users/kominetenma/Desktop/project/components/navigation/bottom-navigation.tsx\",\n                lineNumber: 65,\n                columnNumber: 13\n            }, this),\n            activeIcon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Home_Map_MessageSquare_Share2_MapPin_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                className: \"h-6 w-6 text-sky-500 fill-sky-500/20\"\n            }, void 0, false, {\n                fileName: \"/Users/kominetenma/Desktop/project/components/navigation/bottom-navigation.tsx\",\n                lineNumber: 66,\n                columnNumber: 19\n            }, this),\n            matchPattern: /^(\\/my-trip\\/my-places|\\/my-places)$/\n        },\n        {\n            href: \"/my-trip/chat\",\n            label: \"Chat\",\n            icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Home_Map_MessageSquare_Share2_MapPin_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                className: \"h-6 w-6\"\n            }, void 0, false, {\n                fileName: \"/Users/kominetenma/Desktop/project/components/navigation/bottom-navigation.tsx\",\n                lineNumber: 72,\n                columnNumber: 13\n            }, this),\n            activeIcon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Home_Map_MessageSquare_Share2_MapPin_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                className: \"h-6 w-6 text-sky-500 fill-sky-500/20\"\n            }, void 0, false, {\n                fileName: \"/Users/kominetenma/Desktop/project/components/navigation/bottom-navigation.tsx\",\n                lineNumber: 73,\n                columnNumber: 19\n            }, this),\n            matchPattern: /^(\\/my-trip\\/chat|\\/chat)$/\n        },\n        {\n            href: \"/my-trip/share\",\n            label: \"Share\",\n            icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Home_Map_MessageSquare_Share2_MapPin_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                className: \"h-6 w-6\"\n            }, void 0, false, {\n                fileName: \"/Users/kominetenma/Desktop/project/components/navigation/bottom-navigation.tsx\",\n                lineNumber: 79,\n                columnNumber: 13\n            }, this),\n            activeIcon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Home_Map_MessageSquare_Share2_MapPin_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                className: \"h-6 w-6 text-sky-500 fill-sky-500/20\"\n            }, void 0, false, {\n                fileName: \"/Users/kominetenma/Desktop/project/components/navigation/bottom-navigation.tsx\",\n                lineNumber: 80,\n                columnNumber: 19\n            }, this),\n            matchPattern: /^(\\/my-trip\\/share|\\/share)$/\n        }\n    ];\n    if (!mounted) return null;\n    // Helper function to determine if nav item is active\n    const isNavItemActive = (item)=>{\n        // If on a trip detail page and the item is Plan\n        if (pathname.startsWith(\"/trips/\") && item.label === \"Plan\") {\n            return true;\n        }\n        // Check pattern match\n        if (item.matchPattern && item.matchPattern.test(pathname)) {\n            return true;\n        }\n        return pathname === item.href;\n    };\n    // Handle navigation with trip context\n    const handleNavigation = (item)=>{\n        // For my-trip routes, use navigateWithTrip to maintain trip selection\n        if (item.href.startsWith(\"/my-trip\")) {\n            navigateWithTrip(item.href);\n        } else {\n            router.push(item.href);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"nav\", {\n        className: \"fixed bottom-0 left-0 right-0 z-50 bg-background border-t\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"grid grid-cols-5 h-16\",\n            children: navItems.map((item)=>{\n                const isActive = isNavItemActive(item);\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: ()=>handleNavigation(item),\n                    className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)(\"flex flex-col items-center justify-center space-y-1\", \"transition-colors duration-200\", isActive ? \"text-sky-500\" : \"text-muted-foreground\"),\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: isActive ? item.activeIcon : item.icon\n                        }, void 0, false, {\n                            fileName: \"/Users/kominetenma/Desktop/project/components/navigation/bottom-navigation.tsx\",\n                            lineNumber: 128,\n                            columnNumber: 15\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"text-xs font-medium\",\n                            children: item.label\n                        }, void 0, false, {\n                            fileName: \"/Users/kominetenma/Desktop/project/components/navigation/bottom-navigation.tsx\",\n                            lineNumber: 131,\n                            columnNumber: 15\n                        }, this)\n                    ]\n                }, item.href, true, {\n                    fileName: \"/Users/kominetenma/Desktop/project/components/navigation/bottom-navigation.tsx\",\n                    lineNumber: 119,\n                    columnNumber: 13\n                }, this);\n            })\n        }, void 0, false, {\n            fileName: \"/Users/kominetenma/Desktop/project/components/navigation/bottom-navigation.tsx\",\n            lineNumber: 114,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/kominetenma/Desktop/project/components/navigation/bottom-navigation.tsx\",\n        lineNumber: 113,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL25hdmlnYXRpb24vYm90dG9tLW5hdmlnYXRpb24udHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUU0QztBQUU4QjtBQUN6QztBQUN1QztBQUNsQjtBQVUvQyxTQUFTWTtJQUNkLE1BQU1DLFdBQVdYLDREQUFXQTtJQUM1QixNQUFNWSxlQUFlWCxnRUFBZUE7SUFDcEMsTUFBTVksU0FBU1gsMERBQVNBO0lBQ3hCLE1BQU0sQ0FBQ1ksU0FBU0MsV0FBVyxHQUFHakIsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxFQUFFa0IsVUFBVSxFQUFFQyxnQkFBZ0IsRUFBRSxHQUFHUixtRUFBT0E7SUFDaEQsTUFBTVMsU0FBU04sYUFBYU8sR0FBRyxDQUFDLFNBQVNILFlBQVlJO0lBQ3JELE1BQU1DLFdBQVdULGFBQWFPLEdBQUcsQ0FBQztJQUVsQyw2QkFBNkI7SUFDN0JwQixnREFBU0EsQ0FBQztRQUNSZ0IsV0FBVztJQUNiLEdBQUcsRUFBRTtJQUVMLGdEQUFnRDtJQUNoRCxNQUFNTyxpQkFBaUIsQ0FBQ0M7UUFDdEIsaURBQWlEO1FBQ2pELElBQ0VBLGFBQWEsY0FDYkEsYUFBYSx3QkFDYkEsYUFBYSxtQkFDYkEsYUFBYSxrQkFDYjtZQUNBLE9BQU9MLFNBQVMsQ0FBQyxFQUFFSyxTQUFTLElBQUksRUFBRUwsT0FBTyxDQUFDLEdBQUdLO1FBQy9DO1FBRUEsT0FBT0E7SUFDVDtJQUVBLE1BQU1DLFdBQXNCO1FBQzFCO1lBQ0VDLE1BQU07WUFDTkMsT0FBTztZQUNQQyxvQkFBTSw4REFBQ3ZCLGdIQUFJQTtnQkFBQ3dCLFdBQVU7Ozs7OztZQUN0QkMsMEJBQVksOERBQUN6QixnSEFBSUE7Z0JBQUN3QixXQUFVOzs7Ozs7WUFDNUJFLGNBQWM7UUFDaEI7UUFDQTtZQUNFTCxNQUFNO1lBQ05DLE9BQU87WUFDUEMsb0JBQU0sOERBQUN0QixnSEFBR0E7Z0JBQUN1QixXQUFVOzs7Ozs7WUFDckJDLDBCQUFZLDhEQUFDeEIsZ0hBQUdBO2dCQUFDdUIsV0FBVTs7Ozs7O1lBQzNCRSxjQUFjO1FBQ2hCO1FBQ0E7WUFDRUwsTUFBTTtZQUNOQyxPQUFPO1lBQ1BDLG9CQUFNLDhEQUFDbkIsZ0hBQU1BO2dCQUFDb0IsV0FBVTs7Ozs7O1lBQ3hCQywwQkFBWSw4REFBQ3JCLGdIQUFNQTtnQkFBQ29CLFdBQVU7Ozs7OztZQUM5QkUsY0FBYztRQUNoQjtRQUNBO1lBQ0VMLE1BQU07WUFDTkMsT0FBTztZQUNQQyxvQkFBTSw4REFBQ3JCLGdIQUFhQTtnQkFBQ3NCLFdBQVU7Ozs7OztZQUMvQkMsMEJBQVksOERBQUN2QixnSEFBYUE7Z0JBQUNzQixXQUFVOzs7Ozs7WUFDckNFLGNBQWM7UUFDaEI7UUFDQTtZQUNFTCxNQUFNO1lBQ05DLE9BQU87WUFDUEMsb0JBQU0sOERBQUNwQixnSEFBTUE7Z0JBQUNxQixXQUFVOzs7Ozs7WUFDeEJDLDBCQUFZLDhEQUFDdEIsZ0hBQU1BO2dCQUFDcUIsV0FBVTs7Ozs7O1lBQzlCRSxjQUFjO1FBQ2hCO0tBQ0Q7SUFFRCxJQUFJLENBQUNoQixTQUFTLE9BQU87SUFFckIscURBQXFEO0lBQ3JELE1BQU1pQixrQkFBa0IsQ0FBQ0M7UUFDdkIsZ0RBQWdEO1FBQ2hELElBQUlyQixTQUFTc0IsVUFBVSxDQUFDLGNBQWNELEtBQUtOLEtBQUssS0FBSyxRQUFRO1lBQzNELE9BQU87UUFDVDtRQUVBLHNCQUFzQjtRQUN0QixJQUFJTSxLQUFLRixZQUFZLElBQUlFLEtBQUtGLFlBQVksQ0FBQ0ksSUFBSSxDQUFDdkIsV0FBVztZQUN6RCxPQUFPO1FBQ1Q7UUFFQSxPQUFPQSxhQUFhcUIsS0FBS1AsSUFBSTtJQUMvQjtJQUVBLHNDQUFzQztJQUN0QyxNQUFNVSxtQkFBbUIsQ0FBQ0g7UUFDeEIsc0VBQXNFO1FBQ3RFLElBQUlBLEtBQUtQLElBQUksQ0FBQ1EsVUFBVSxDQUFDLGFBQWE7WUFDcENoQixpQkFBaUJlLEtBQUtQLElBQUk7UUFDNUIsT0FBTztZQUNMWixPQUFPdUIsSUFBSSxDQUFDSixLQUFLUCxJQUFJO1FBQ3ZCO0lBQ0Y7SUFFQSxxQkFDRSw4REFBQ1k7UUFBSVQsV0FBVTtrQkFDYiw0RUFBQ1U7WUFBSVYsV0FBVTtzQkFDWkosU0FBU2UsR0FBRyxDQUFDLENBQUNQO2dCQUNiLE1BQU1RLFdBQVdULGdCQUFnQkM7Z0JBRWpDLHFCQUNFLDhEQUFDUztvQkFFQ0MsU0FBUyxJQUFNUCxpQkFBaUJIO29CQUNoQ0osV0FBV3pCLDhDQUFFQSxDQUNYLHVEQUNBLGtDQUNBcUMsV0FBVyxpQkFBaUI7O3NDQUc5Qiw4REFBQ0Y7c0NBQ0VFLFdBQVdSLEtBQUtILFVBQVUsR0FBR0csS0FBS0wsSUFBSTs7Ozs7O3NDQUV6Qyw4REFBQ2dCOzRCQUFLZixXQUFVO3NDQUF1QkksS0FBS04sS0FBSzs7Ozs7OzttQkFYNUNNLEtBQUtQLElBQUk7Ozs7O1lBY3BCOzs7Ozs7Ozs7OztBQUlSIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLy4vY29tcG9uZW50cy9uYXZpZ2F0aW9uL2JvdHRvbS1uYXZpZ2F0aW9uLnRzeD85NzEwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IExpbmsgZnJvbSAnbmV4dC9saW5rJztcbmltcG9ydCB7IHVzZVBhdGhuYW1lLCB1c2VTZWFyY2hQYXJhbXMsIHVzZVJvdXRlciB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7XG5pbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJztcbmltcG9ydCB7IEhvbWUsIE1hcCwgTWVzc2FnZVNxdWFyZSwgU2hhcmUyLCBNYXBQaW4gfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuaW1wb3J0IHsgdXNlVHJpcCB9IGZyb20gJ0AvbGliL2NvbnRleHRzL3RyaXAtY29udGV4dCc7XG5cbnR5cGUgTmF2SXRlbSA9IHtcbiAgaHJlZjogc3RyaW5nO1xuICBsYWJlbDogc3RyaW5nO1xuICBpY29uOiBSZWFjdC5SZWFjdE5vZGU7XG4gIGFjdGl2ZUljb246IFJlYWN0LlJlYWN0Tm9kZTtcbiAgbWF0Y2hQYXR0ZXJuPzogUmVnRXhwOyAvLyBVUkwgcGF0dGVybiB0byBkZXRlcm1pbmUgYWN0aXZlIHN0YXRlXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gQm90dG9tTmF2aWdhdGlvbigpIHtcbiAgY29uc3QgcGF0aG5hbWUgPSB1c2VQYXRobmFtZSgpO1xuICBjb25zdCBzZWFyY2hQYXJhbXMgPSB1c2VTZWFyY2hQYXJhbXMoKTtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG4gIGNvbnN0IFttb3VudGVkLCBzZXRNb3VudGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgeyBhY3RpdmVUcmlwLCBuYXZpZ2F0ZVdpdGhUcmlwIH0gPSB1c2VUcmlwKCk7XG4gIGNvbnN0IHRyaXBJZCA9IHNlYXJjaFBhcmFtcy5nZXQoJ2lkJykgfHwgYWN0aXZlVHJpcD8uaWQ7XG4gIGNvbnN0IHRhYlBhcmFtID0gc2VhcmNoUGFyYW1zLmdldCgndGFiJyk7XG5cbiAgLy8gUHJldmVudCBoeWRyYXRpb24gbWlzbWF0Y2hcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRNb3VudGVkKHRydWUpO1xuICB9LCBbXSk7XG5cbiAgLy8gSW5jbHVkZSBjdXJyZW50IHRyaXAgSUQgaW4gVVJMcyBmb3IgZWFjaCBwYWdlXG4gIGNvbnN0IGdldE5hdkl0ZW1IcmVmID0gKGJhc2VIcmVmOiBzdHJpbmcpID0+IHtcbiAgICAvLyBBZGQgcXVlcnkgcGFyYW1ldGVycyBmb3IgTXkgVHJpcCByZWxhdGVkIHBhZ2VzXG4gICAgaWYgKFxuICAgICAgYmFzZUhyZWYgPT09ICcvbXktdHJpcCcgfHwgXG4gICAgICBiYXNlSHJlZiA9PT0gJy9teS10cmlwL215LXBsYWNlcycgfHwgXG4gICAgICBiYXNlSHJlZiA9PT0gJy9teS10cmlwL2NoYXQnIHx8IFxuICAgICAgYmFzZUhyZWYgPT09ICcvbXktdHJpcC9zaGFyZSdcbiAgICApIHtcbiAgICAgIHJldHVybiB0cmlwSWQgPyBgJHtiYXNlSHJlZn0/aWQ9JHt0cmlwSWR9YCA6IGJhc2VIcmVmO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gYmFzZUhyZWY7XG4gIH07XG5cbiAgY29uc3QgbmF2SXRlbXM6IE5hdkl0ZW1bXSA9IFtcbiAgICB7XG4gICAgICBocmVmOiAnLycsXG4gICAgICBsYWJlbDogJ0hvbWUnLFxuICAgICAgaWNvbjogPEhvbWUgY2xhc3NOYW1lPVwiaC02IHctNlwiIC8+LFxuICAgICAgYWN0aXZlSWNvbjogPEhvbWUgY2xhc3NOYW1lPVwiaC02IHctNiB0ZXh0LXNreS01MDAgZmlsbC1za3ktNTAwLzIwXCIgLz4sXG4gICAgICBtYXRjaFBhdHRlcm46IC9eXFwvJC8sIC8vIE1hdGNoIG9ubHkgdGhlIHJvb3QgVVJMXG4gICAgfSxcbiAgICB7XG4gICAgICBocmVmOiAnL215LXRyaXAnLFxuICAgICAgbGFiZWw6ICdQbGFuJyxcbiAgICAgIGljb246IDxNYXAgY2xhc3NOYW1lPVwiaC02IHctNlwiIC8+LFxuICAgICAgYWN0aXZlSWNvbjogPE1hcCBjbGFzc05hbWU9XCJoLTYgdy02IHRleHQtc2t5LTUwMCBmaWxsLXNreS01MDAvMjBcIiAvPixcbiAgICAgIG1hdGNoUGF0dGVybjogL14oXFwvbXktdHJpcHxcXC90cmlwc1xcL1thLXpBLVowLTktXSspJC8sXG4gICAgfSxcbiAgICB7XG4gICAgICBocmVmOiAnL215LXRyaXAvbXktcGxhY2VzJyxcbiAgICAgIGxhYmVsOiAnTXkgUGxhY2VzJyxcbiAgICAgIGljb246IDxNYXBQaW4gY2xhc3NOYW1lPVwiaC02IHctNlwiIC8+LFxuICAgICAgYWN0aXZlSWNvbjogPE1hcFBpbiBjbGFzc05hbWU9XCJoLTYgdy02IHRleHQtc2t5LTUwMCBmaWxsLXNreS01MDAvMjBcIiAvPixcbiAgICAgIG1hdGNoUGF0dGVybjogL14oXFwvbXktdHJpcFxcL215LXBsYWNlc3xcXC9teS1wbGFjZXMpJC8sXG4gICAgfSxcbiAgICB7XG4gICAgICBocmVmOiAnL215LXRyaXAvY2hhdCcsXG4gICAgICBsYWJlbDogJ0NoYXQnLFxuICAgICAgaWNvbjogPE1lc3NhZ2VTcXVhcmUgY2xhc3NOYW1lPVwiaC02IHctNlwiIC8+LFxuICAgICAgYWN0aXZlSWNvbjogPE1lc3NhZ2VTcXVhcmUgY2xhc3NOYW1lPVwiaC02IHctNiB0ZXh0LXNreS01MDAgZmlsbC1za3ktNTAwLzIwXCIgLz4sXG4gICAgICBtYXRjaFBhdHRlcm46IC9eKFxcL215LXRyaXBcXC9jaGF0fFxcL2NoYXQpJC8sXG4gICAgfSxcbiAgICB7XG4gICAgICBocmVmOiAnL215LXRyaXAvc2hhcmUnLFxuICAgICAgbGFiZWw6ICdTaGFyZScsXG4gICAgICBpY29uOiA8U2hhcmUyIGNsYXNzTmFtZT1cImgtNiB3LTZcIiAvPixcbiAgICAgIGFjdGl2ZUljb246IDxTaGFyZTIgY2xhc3NOYW1lPVwiaC02IHctNiB0ZXh0LXNreS01MDAgZmlsbC1za3ktNTAwLzIwXCIgLz4sXG4gICAgICBtYXRjaFBhdHRlcm46IC9eKFxcL215LXRyaXBcXC9zaGFyZXxcXC9zaGFyZSkkLyxcbiAgICB9LFxuICBdO1xuXG4gIGlmICghbW91bnRlZCkgcmV0dXJuIG51bGw7XG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGRldGVybWluZSBpZiBuYXYgaXRlbSBpcyBhY3RpdmVcbiAgY29uc3QgaXNOYXZJdGVtQWN0aXZlID0gKGl0ZW06IE5hdkl0ZW0pID0+IHtcbiAgICAvLyBJZiBvbiBhIHRyaXAgZGV0YWlsIHBhZ2UgYW5kIHRoZSBpdGVtIGlzIFBsYW5cbiAgICBpZiAocGF0aG5hbWUuc3RhcnRzV2l0aCgnL3RyaXBzLycpICYmIGl0ZW0ubGFiZWwgPT09ICdQbGFuJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIFxuICAgIC8vIENoZWNrIHBhdHRlcm4gbWF0Y2hcbiAgICBpZiAoaXRlbS5tYXRjaFBhdHRlcm4gJiYgaXRlbS5tYXRjaFBhdHRlcm4udGVzdChwYXRobmFtZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gcGF0aG5hbWUgPT09IGl0ZW0uaHJlZjtcbiAgfTtcblxuICAvLyBIYW5kbGUgbmF2aWdhdGlvbiB3aXRoIHRyaXAgY29udGV4dFxuICBjb25zdCBoYW5kbGVOYXZpZ2F0aW9uID0gKGl0ZW06IE5hdkl0ZW0pID0+IHtcbiAgICAvLyBGb3IgbXktdHJpcCByb3V0ZXMsIHVzZSBuYXZpZ2F0ZVdpdGhUcmlwIHRvIG1haW50YWluIHRyaXAgc2VsZWN0aW9uXG4gICAgaWYgKGl0ZW0uaHJlZi5zdGFydHNXaXRoKCcvbXktdHJpcCcpKSB7XG4gICAgICBuYXZpZ2F0ZVdpdGhUcmlwKGl0ZW0uaHJlZik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJvdXRlci5wdXNoKGl0ZW0uaHJlZik7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPG5hdiBjbGFzc05hbWU9XCJmaXhlZCBib3R0b20tMCBsZWZ0LTAgcmlnaHQtMCB6LTUwIGJnLWJhY2tncm91bmQgYm9yZGVyLXRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtNSBoLTE2XCI+XG4gICAgICAgIHtuYXZJdGVtcy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGlzTmF2SXRlbUFjdGl2ZShpdGVtKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGtleT17aXRlbS5ocmVmfVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVOYXZpZ2F0aW9uKGl0ZW0pfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICAgICAgICAgIFwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgc3BhY2UteS0xXCIsXG4gICAgICAgICAgICAgICAgXCJ0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDBcIixcbiAgICAgICAgICAgICAgICBpc0FjdGl2ZSA/IFwidGV4dC1za3ktNTAwXCIgOiBcInRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAge2lzQWN0aXZlID8gaXRlbS5hY3RpdmVJY29uIDogaXRlbS5pY29ufVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyBmb250LW1lZGl1bVwiPntpdGVtLmxhYmVsfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICk7XG4gICAgICAgIH0pfVxuICAgICAgPC9kaXY+XG4gICAgPC9uYXY+XG4gICk7XG59Il0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUGF0aG5hbWUiLCJ1c2VTZWFyY2hQYXJhbXMiLCJ1c2VSb3V0ZXIiLCJjbiIsIkhvbWUiLCJNYXAiLCJNZXNzYWdlU3F1YXJlIiwiU2hhcmUyIiwiTWFwUGluIiwidXNlVHJpcCIsIkJvdHRvbU5hdmlnYXRpb24iLCJwYXRobmFtZSIsInNlYXJjaFBhcmFtcyIsInJvdXRlciIsIm1vdW50ZWQiLCJzZXRNb3VudGVkIiwiYWN0aXZlVHJpcCIsIm5hdmlnYXRlV2l0aFRyaXAiLCJ0cmlwSWQiLCJnZXQiLCJpZCIsInRhYlBhcmFtIiwiZ2V0TmF2SXRlbUhyZWYiLCJiYXNlSHJlZiIsIm5hdkl0ZW1zIiwiaHJlZiIsImxhYmVsIiwiaWNvbiIsImNsYXNzTmFtZSIsImFjdGl2ZUljb24iLCJtYXRjaFBhdHRlcm4iLCJpc05hdkl0ZW1BY3RpdmUiLCJpdGVtIiwic3RhcnRzV2l0aCIsInRlc3QiLCJoYW5kbGVOYXZpZ2F0aW9uIiwicHVzaCIsIm5hdiIsImRpdiIsIm1hcCIsImlzQWN0aXZlIiwiYnV0dG9uIiwib25DbGljayIsInNwYW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/navigation/bottom-navigation.tsx\n");

/***/ }),

/***/ "(ssr)/./components/navigation/top-app-bar.tsx":
/*!***********************************************!*\
  !*** ./components/navigation/top-app-bar.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TopAppBar: () => (/* binding */ TopAppBar)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/shared/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _barrel_optimize_names_Moon_Settings_Sun_User_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=Moon,Settings,Sun,User!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/user.js\");\n/* harmony import */ var _barrel_optimize_names_Moon_Settings_Sun_User_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=Moon,Settings,Sun,User!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/settings.js\");\n/* harmony import */ var _barrel_optimize_names_Moon_Settings_Sun_User_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=Moon,Settings,Sun,User!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/sun.js\");\n/* harmony import */ var _barrel_optimize_names_Moon_Settings_Sun_User_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=Moon,Settings,Sun,User!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/moon.js\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/components/ui/button */ \"(ssr)/./components/ui/button.tsx\");\n/* harmony import */ var next_themes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-themes */ \"(ssr)/./node_modules/next-themes/dist/index.js\");\n/* harmony import */ var next_themes__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_themes__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/dropdown-menu */ \"(ssr)/./components/ui/dropdown-menu.tsx\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/link */ \"(ssr)/./node_modules/next/link.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _lib_stores_guest_store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/stores/guest-store */ \"(ssr)/./lib/stores/guest-store.ts\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _components_user_user_avatar__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/user/user-avatar */ \"(ssr)/./components/user/user-avatar.tsx\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! next/image */ \"(ssr)/./node_modules/next/image.js\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(next_image__WEBPACK_IMPORTED_MODULE_8__);\n/* __next_internal_client_entry_do_not_use__ TopAppBar auto */ \n\n\n\n\n\n\n\n\n\nfunction TopAppBar() {\n    const { setTheme } = (0,next_themes__WEBPACK_IMPORTED_MODULE_2__.useTheme)();\n    const { guestData } = (0,_lib_stores_guest_store__WEBPACK_IMPORTED_MODULE_5__.useGuestStore)();\n    const [mounted, setMounted] = (0,react__WEBPACK_IMPORTED_MODULE_6__.useState)(false);\n    // Prevent hydration mismatch\n    (0,react__WEBPACK_IMPORTED_MODULE_6__.useEffect)(()=>{\n        setMounted(true);\n    }, []);\n    if (!mounted) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n            className: \"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"container flex h-14 items-center justify-between px-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-2\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_4___default()), {\n                            href: \"/\",\n                            className: \"font-semibold text-lg text-primary\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_image__WEBPACK_IMPORTED_MODULE_8___default()), {\n                                src: \"/logo/voypath-logo-text.svg\",\n                                alt: \"Voypath\",\n                                width: 120,\n                                height: 60,\n                                className: \"h-10 w-auto\"\n                            }, void 0, false, {\n                                fileName: \"/Users/kominetenma/Desktop/project/components/navigation/top-app-bar.tsx\",\n                                lineNumber: 34,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/kominetenma/Desktop/project/components/navigation/top-app-bar.tsx\",\n                            lineNumber: 33,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/kominetenma/Desktop/project/components/navigation/top-app-bar.tsx\",\n                        lineNumber: 32,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-2\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"h-8 w-8 rounded-full bg-muted\"\n                        }, void 0, false, {\n                            fileName: \"/Users/kominetenma/Desktop/project/components/navigation/top-app-bar.tsx\",\n                            lineNumber: 44,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/kominetenma/Desktop/project/components/navigation/top-app-bar.tsx\",\n                        lineNumber: 43,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/kominetenma/Desktop/project/components/navigation/top-app-bar.tsx\",\n                lineNumber: 31,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/kominetenma/Desktop/project/components/navigation/top-app-bar.tsx\",\n            lineNumber: 30,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n        className: \"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"container flex h-14 items-center justify-between px-4\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center gap-2\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_4___default()), {\n                        href: \"/\",\n                        className: \"font-semibold text-lg\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_image__WEBPACK_IMPORTED_MODULE_8___default()), {\n                            src: \"/logo/voypath-logo-text.svg\",\n                            alt: \"Voypath\",\n                            width: 120,\n                            height: 60,\n                            className: \"h-10 w-auto\"\n                        }, void 0, false, {\n                            fileName: \"/Users/kominetenma/Desktop/project/components/navigation/top-app-bar.tsx\",\n                            lineNumber: 56,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/kominetenma/Desktop/project/components/navigation/top-app-bar.tsx\",\n                        lineNumber: 55,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/kominetenma/Desktop/project/components/navigation/top-app-bar.tsx\",\n                    lineNumber: 54,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center gap-2\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.DropdownMenu, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.DropdownMenuTrigger, {\n                                asChild: true,\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_1__.Button, {\n                                    variant: \"ghost\",\n                                    size: \"icon\",\n                                    className: \"rounded-full\",\n                                    children: guestData ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_user_user_avatar__WEBPACK_IMPORTED_MODULE_7__.UserAvatar, {\n                                        initials: guestData.displayInitials,\n                                        color: guestData.assignedColor\n                                    }, void 0, false, {\n                                        fileName: \"/Users/kominetenma/Desktop/project/components/navigation/top-app-bar.tsx\",\n                                        lineNumber: 70,\n                                        columnNumber: 19\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Moon_Settings_Sun_User_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                        className: \"h-5 w-5\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/kominetenma/Desktop/project/components/navigation/top-app-bar.tsx\",\n                                        lineNumber: 75,\n                                        columnNumber: 19\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/kominetenma/Desktop/project/components/navigation/top-app-bar.tsx\",\n                                    lineNumber: 68,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/kominetenma/Desktop/project/components/navigation/top-app-bar.tsx\",\n                                lineNumber: 67,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.DropdownMenuContent, {\n                                align: \"end\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.DropdownMenuItem, {\n                                        asChild: true,\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_4___default()), {\n                                            href: \"/profile\",\n                                            children: \"プロフィール\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/kominetenma/Desktop/project/components/navigation/top-app-bar.tsx\",\n                                            lineNumber: 81,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/kominetenma/Desktop/project/components/navigation/top-app-bar.tsx\",\n                                        lineNumber: 80,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.DropdownMenuItem, {\n                                        asChild: true,\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_4___default()), {\n                                            href: \"/my-places\",\n                                            children: \"マイプレイス\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/kominetenma/Desktop/project/components/navigation/top-app-bar.tsx\",\n                                            lineNumber: 84,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/kominetenma/Desktop/project/components/navigation/top-app-bar.tsx\",\n                                        lineNumber: 83,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.DropdownMenuItem, {\n                                        asChild: true,\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_4___default()), {\n                                            href: \"/profile\",\n                                            className: \"flex items-center\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Moon_Settings_Sun_User_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                    className: \"mr-2 h-4 w-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/kominetenma/Desktop/project/components/navigation/top-app-bar.tsx\",\n                                                    lineNumber: 88,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \"設定\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/kominetenma/Desktop/project/components/navigation/top-app-bar.tsx\",\n                                                    lineNumber: 89,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/kominetenma/Desktop/project/components/navigation/top-app-bar.tsx\",\n                                            lineNumber: 87,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/kominetenma/Desktop/project/components/navigation/top-app-bar.tsx\",\n                                        lineNumber: 86,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.DropdownMenuItem, {\n                                        onClick: ()=>setTheme(\"light\"),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Moon_Settings_Sun_User_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                className: \"mr-2 h-4 w-4\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/kominetenma/Desktop/project/components/navigation/top-app-bar.tsx\",\n                                                lineNumber: 93,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: \"ライト\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/kominetenma/Desktop/project/components/navigation/top-app-bar.tsx\",\n                                                lineNumber: 94,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/kominetenma/Desktop/project/components/navigation/top-app-bar.tsx\",\n                                        lineNumber: 92,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.DropdownMenuItem, {\n                                        onClick: ()=>setTheme(\"dark\"),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Moon_Settings_Sun_User_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                                className: \"mr-2 h-4 w-4\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/kominetenma/Desktop/project/components/navigation/top-app-bar.tsx\",\n                                                lineNumber: 97,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: \"ダーク\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/kominetenma/Desktop/project/components/navigation/top-app-bar.tsx\",\n                                                lineNumber: 98,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/kominetenma/Desktop/project/components/navigation/top-app-bar.tsx\",\n                                        lineNumber: 96,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.DropdownMenuItem, {\n                                        onClick: ()=>setTheme(\"system\"),\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            children: \"システム\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/kominetenma/Desktop/project/components/navigation/top-app-bar.tsx\",\n                                            lineNumber: 101,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/kominetenma/Desktop/project/components/navigation/top-app-bar.tsx\",\n                                        lineNumber: 100,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/kominetenma/Desktop/project/components/navigation/top-app-bar.tsx\",\n                                lineNumber: 79,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/kominetenma/Desktop/project/components/navigation/top-app-bar.tsx\",\n                        lineNumber: 66,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/kominetenma/Desktop/project/components/navigation/top-app-bar.tsx\",\n                    lineNumber: 65,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/kominetenma/Desktop/project/components/navigation/top-app-bar.tsx\",\n            lineNumber: 53,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/kominetenma/Desktop/project/components/navigation/top-app-bar.tsx\",\n        lineNumber: 52,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL25hdmlnYXRpb24vdG9wLWFwcC1iYXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRXlEO0FBQ1Q7QUFDVDtBQU1BO0FBQ1Y7QUFDNEI7QUFDYjtBQUNlO0FBQzVCO0FBRXhCLFNBQVNnQjtJQUNkLE1BQU0sRUFBRUMsUUFBUSxFQUFFLEdBQUdaLHFEQUFRQTtJQUM3QixNQUFNLEVBQUVhLFNBQVMsRUFBRSxHQUFHUCxzRUFBYUE7SUFDbkMsTUFBTSxDQUFDUSxTQUFTQyxXQUFXLEdBQUdQLCtDQUFRQSxDQUFDO0lBRXZDLDZCQUE2QjtJQUM3QkQsZ0RBQVNBLENBQUM7UUFDUlEsV0FBVztJQUNiLEdBQUcsRUFBRTtJQUVMLElBQUksQ0FBQ0QsU0FBUztRQUNaLHFCQUNFLDhEQUFDRTtZQUFPQyxXQUFVO3NCQUNoQiw0RUFBQ0M7Z0JBQUlELFdBQVU7O2tDQUNiLDhEQUFDQzt3QkFBSUQsV0FBVTtrQ0FDYiw0RUFBQ1osa0RBQUlBOzRCQUFDYyxNQUFLOzRCQUFJRixXQUFVO3NDQUN2Qiw0RUFBQ1AsbURBQUtBO2dDQUNKVSxLQUFJO2dDQUNKQyxLQUFJO2dDQUNKQyxPQUFPO2dDQUNQQyxRQUFRO2dDQUNSTixXQUFVOzs7Ozs7Ozs7Ozs7Ozs7O2tDQUloQiw4REFBQ0M7d0JBQUlELFdBQVU7a0NBQ2IsNEVBQUNDOzRCQUFJRCxXQUFVOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBS3pCO0lBRUEscUJBQ0UsOERBQUNEO1FBQU9DLFdBQVU7a0JBQ2hCLDRFQUFDQztZQUFJRCxXQUFVOzs4QkFDYiw4REFBQ0M7b0JBQUlELFdBQVU7OEJBQ2IsNEVBQUNaLGtEQUFJQTt3QkFBQ2MsTUFBSzt3QkFBSUYsV0FBVTtrQ0FDdkIsNEVBQUNQLG1EQUFLQTs0QkFDSlUsS0FBSTs0QkFDSkMsS0FBSTs0QkFDSkMsT0FBTzs0QkFDUEMsUUFBUTs0QkFDUk4sV0FBVTs7Ozs7Ozs7Ozs7Ozs7Ozs4QkFJaEIsOERBQUNDO29CQUFJRCxXQUFVOzhCQUNiLDRFQUFDaEIsc0VBQVlBOzswQ0FDWCw4REFBQ0csNkVBQW1CQTtnQ0FBQ29CLE9BQU87MENBQzFCLDRFQUFDekIseURBQU1BO29DQUFDMEIsU0FBUTtvQ0FBUUMsTUFBSztvQ0FBT1QsV0FBVTs4Q0FDM0NKLDBCQUNDLDhEQUFDSixvRUFBVUE7d0NBQ1RrQixVQUFVZCxVQUFVZSxlQUFlO3dDQUNuQ0MsT0FBT2hCLFVBQVVpQixhQUFhOzs7Ozs2REFHaEMsOERBQUNoQyxrR0FBSUE7d0NBQUNtQixXQUFVOzs7Ozs7Ozs7Ozs7Ozs7OzBDQUl0Qiw4REFBQ2YsNkVBQW1CQTtnQ0FBQzZCLE9BQU07O2tEQUN6Qiw4REFBQzVCLDBFQUFnQkE7d0NBQUNxQixPQUFPO2tEQUN2Qiw0RUFBQ25CLGtEQUFJQTs0Q0FBQ2MsTUFBSztzREFBVzs7Ozs7Ozs7Ozs7a0RBRXhCLDhEQUFDaEIsMEVBQWdCQTt3Q0FBQ3FCLE9BQU87a0RBQ3ZCLDRFQUFDbkIsa0RBQUlBOzRDQUFDYyxNQUFLO3NEQUFhOzs7Ozs7Ozs7OztrREFFMUIsOERBQUNoQiwwRUFBZ0JBO3dDQUFDcUIsT0FBTztrREFDdkIsNEVBQUNuQixrREFBSUE7NENBQUNjLE1BQUs7NENBQVdGLFdBQVU7OzhEQUM5Qiw4REFBQ3JCLG1HQUFRQTtvREFBQ3FCLFdBQVU7Ozs7Ozs4REFDcEIsOERBQUNlOzhEQUFLOzs7Ozs7Ozs7Ozs7Ozs7OztrREFHViw4REFBQzdCLDBFQUFnQkE7d0NBQUM4QixTQUFTLElBQU1yQixTQUFTOzswREFDeEMsOERBQUNmLG1HQUFHQTtnREFBQ29CLFdBQVU7Ozs7OzswREFDZiw4REFBQ2U7MERBQUs7Ozs7Ozs7Ozs7OztrREFFUiw4REFBQzdCLDBFQUFnQkE7d0NBQUM4QixTQUFTLElBQU1yQixTQUFTOzswREFDeEMsOERBQUNqQixtR0FBSUE7Z0RBQUNzQixXQUFVOzs7Ozs7MERBQ2hCLDhEQUFDZTswREFBSzs7Ozs7Ozs7Ozs7O2tEQUVSLDhEQUFDN0IsMEVBQWdCQTt3Q0FBQzhCLFNBQVMsSUFBTXJCLFNBQVM7a0RBQ3hDLDRFQUFDb0I7c0RBQUs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVF0QiIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy8uL2NvbXBvbmVudHMvbmF2aWdhdGlvbi90b3AtYXBwLWJhci50c3g/NmYwMSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgTW9vbiwgU2V0dGluZ3MsIFN1biwgVXNlciB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYnV0dG9uXCI7XG5pbXBvcnQgeyB1c2VUaGVtZSB9IGZyb20gXCJuZXh0LXRoZW1lc1wiO1xuaW1wb3J0IHtcbiAgRHJvcGRvd25NZW51LFxuICBEcm9wZG93bk1lbnVDb250ZW50LFxuICBEcm9wZG93bk1lbnVJdGVtLFxuICBEcm9wZG93bk1lbnVUcmlnZ2VyLFxufSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2Ryb3Bkb3duLW1lbnVcIjtcbmltcG9ydCBMaW5rIGZyb20gXCJuZXh0L2xpbmtcIjtcbmltcG9ydCB7IHVzZUd1ZXN0U3RvcmUgfSBmcm9tIFwiQC9saWIvc3RvcmVzL2d1ZXN0LXN0b3JlXCI7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBVc2VyQXZhdGFyIH0gZnJvbSBcIkAvY29tcG9uZW50cy91c2VyL3VzZXItYXZhdGFyXCI7XG5pbXBvcnQgSW1hZ2UgZnJvbSBcIm5leHQvaW1hZ2VcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIFRvcEFwcEJhcigpIHtcbiAgY29uc3QgeyBzZXRUaGVtZSB9ID0gdXNlVGhlbWUoKTtcbiAgY29uc3QgeyBndWVzdERhdGEgfSA9IHVzZUd1ZXN0U3RvcmUoKTtcbiAgY29uc3QgW21vdW50ZWQsIHNldE1vdW50ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vIFByZXZlbnQgaHlkcmF0aW9uIG1pc21hdGNoXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0TW91bnRlZCh0cnVlKTtcbiAgfSwgW10pO1xuXG4gIGlmICghbW91bnRlZCkge1xuICAgIHJldHVybiAoXG4gICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cInN0aWNreSB0b3AtMCB6LTUwIHctZnVsbCBib3JkZXItYiBiZy1iYWNrZ3JvdW5kLzk1IGJhY2tkcm9wLWJsdXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXIgZmxleCBoLTE0IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcHgtNFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgIDxMaW5rIGhyZWY9XCIvXCIgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWxnIHRleHQtcHJpbWFyeVwiPlxuICAgICAgICAgICAgICA8SW1hZ2UgXG4gICAgICAgICAgICAgICAgc3JjPVwiL2xvZ28vdm95cGF0aC1sb2dvLXRleHQuc3ZnXCIgXG4gICAgICAgICAgICAgICAgYWx0PVwiVm95cGF0aFwiIFxuICAgICAgICAgICAgICAgIHdpZHRoPXsxMjB9IFxuICAgICAgICAgICAgICAgIGhlaWdodD17NjB9IFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtMTAgdy1hdXRvXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtOCB3LTggcm91bmRlZC1mdWxsIGJnLW11dGVkXCI+PC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9oZWFkZXI+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGhlYWRlciBjbGFzc05hbWU9XCJzdGlja3kgdG9wLTAgei01MCB3LWZ1bGwgYm9yZGVyLWIgYmctYmFja2dyb3VuZC85NSBiYWNrZHJvcC1ibHVyXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lciBmbGV4IGgtMTQgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBweC00XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICA8TGluayBocmVmPVwiL1wiIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC1sZ1wiPlxuICAgICAgICAgICAgPEltYWdlIFxuICAgICAgICAgICAgICBzcmM9XCIvbG9nby92b3lwYXRoLWxvZ28tdGV4dC5zdmdcIiBcbiAgICAgICAgICAgICAgYWx0PVwiVm95cGF0aFwiIFxuICAgICAgICAgICAgICB3aWR0aD17MTIwfSBcbiAgICAgICAgICAgICAgaGVpZ2h0PXs2MH0gXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtMTAgdy1hdXRvXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9MaW5rPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgIDxEcm9wZG93bk1lbnU+XG4gICAgICAgICAgICA8RHJvcGRvd25NZW51VHJpZ2dlciBhc0NoaWxkPlxuICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJnaG9zdFwiIHNpemU9XCJpY29uXCIgY2xhc3NOYW1lPVwicm91bmRlZC1mdWxsXCI+XG4gICAgICAgICAgICAgICAge2d1ZXN0RGF0YSA/IChcbiAgICAgICAgICAgICAgICAgIDxVc2VyQXZhdGFyIFxuICAgICAgICAgICAgICAgICAgICBpbml0aWFscz17Z3Vlc3REYXRhLmRpc3BsYXlJbml0aWFsc31cbiAgICAgICAgICAgICAgICAgICAgY29sb3I9e2d1ZXN0RGF0YS5hc3NpZ25lZENvbG9yfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgPFVzZXIgY2xhc3NOYW1lPVwiaC01IHctNVwiIC8+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L0Ryb3Bkb3duTWVudVRyaWdnZXI+XG4gICAgICAgICAgICA8RHJvcGRvd25NZW51Q29udGVudCBhbGlnbj1cImVuZFwiPlxuICAgICAgICAgICAgICA8RHJvcGRvd25NZW51SXRlbSBhc0NoaWxkPlxuICAgICAgICAgICAgICAgIDxMaW5rIGhyZWY9XCIvcHJvZmlsZVwiPuODl+ODreODleOCo+ODvOODqzwvTGluaz5cbiAgICAgICAgICAgICAgPC9Ecm9wZG93bk1lbnVJdGVtPlxuICAgICAgICAgICAgICA8RHJvcGRvd25NZW51SXRlbSBhc0NoaWxkPlxuICAgICAgICAgICAgICAgIDxMaW5rIGhyZWY9XCIvbXktcGxhY2VzXCI+44Oe44Kk44OX44Os44Kk44K5PC9MaW5rPlxuICAgICAgICAgICAgICA8L0Ryb3Bkb3duTWVudUl0ZW0+XG4gICAgICAgICAgICAgIDxEcm9wZG93bk1lbnVJdGVtIGFzQ2hpbGQ+XG4gICAgICAgICAgICAgICAgPExpbmsgaHJlZj1cIi9wcm9maWxlXCIgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgIDxTZXR0aW5ncyBjbGFzc05hbWU9XCJtci0yIGgtNCB3LTRcIiAvPlxuICAgICAgICAgICAgICAgICAgPHNwYW4+6Kit5a6aPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgPC9Ecm9wZG93bk1lbnVJdGVtPlxuICAgICAgICAgICAgICA8RHJvcGRvd25NZW51SXRlbSBvbkNsaWNrPXsoKSA9PiBzZXRUaGVtZShcImxpZ2h0XCIpfT5cbiAgICAgICAgICAgICAgICA8U3VuIGNsYXNzTmFtZT1cIm1yLTIgaC00IHctNFwiIC8+XG4gICAgICAgICAgICAgICAgPHNwYW4+44Op44Kk44OIPC9zcGFuPlxuICAgICAgICAgICAgICA8L0Ryb3Bkb3duTWVudUl0ZW0+XG4gICAgICAgICAgICAgIDxEcm9wZG93bk1lbnVJdGVtIG9uQ2xpY2s9eygpID0+IHNldFRoZW1lKFwiZGFya1wiKX0+XG4gICAgICAgICAgICAgICAgPE1vb24gY2xhc3NOYW1lPVwibXItMiBoLTQgdy00XCIgLz5cbiAgICAgICAgICAgICAgICA8c3Bhbj7jg4Djg7zjgq88L3NwYW4+XG4gICAgICAgICAgICAgIDwvRHJvcGRvd25NZW51SXRlbT5cbiAgICAgICAgICAgICAgPERyb3Bkb3duTWVudUl0ZW0gb25DbGljaz17KCkgPT4gc2V0VGhlbWUoXCJzeXN0ZW1cIil9PlxuICAgICAgICAgICAgICAgIDxzcGFuPuOCt+OCueODhuODoDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9Ecm9wZG93bk1lbnVJdGVtPlxuICAgICAgICAgICAgPC9Ecm9wZG93bk1lbnVDb250ZW50PlxuICAgICAgICAgIDwvRHJvcGRvd25NZW51PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvaGVhZGVyPlxuICApO1xufSAiXSwibmFtZXMiOlsiTW9vbiIsIlNldHRpbmdzIiwiU3VuIiwiVXNlciIsIkJ1dHRvbiIsInVzZVRoZW1lIiwiRHJvcGRvd25NZW51IiwiRHJvcGRvd25NZW51Q29udGVudCIsIkRyb3Bkb3duTWVudUl0ZW0iLCJEcm9wZG93bk1lbnVUcmlnZ2VyIiwiTGluayIsInVzZUd1ZXN0U3RvcmUiLCJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsIlVzZXJBdmF0YXIiLCJJbWFnZSIsIlRvcEFwcEJhciIsInNldFRoZW1lIiwiZ3Vlc3REYXRhIiwibW91bnRlZCIsInNldE1vdW50ZWQiLCJoZWFkZXIiLCJjbGFzc05hbWUiLCJkaXYiLCJocmVmIiwic3JjIiwiYWx0Iiwid2lkdGgiLCJoZWlnaHQiLCJhc0NoaWxkIiwidmFyaWFudCIsInNpemUiLCJpbml0aWFscyIsImRpc3BsYXlJbml0aWFscyIsImNvbG9yIiwiYXNzaWduZWRDb2xvciIsImFsaWduIiwic3BhbiIsIm9uQ2xpY2siXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/navigation/top-app-bar.tsx\n");

/***/ }),

/***/ "(ssr)/./components/places/add-place-form.tsx":
/*!**********************************************!*\
  !*** ./components/places/add-place-form.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AddPlaceForm: () => (/* binding */ AddPlaceForm)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/shared/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(ssr)/./node_modules/next/navigation.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_navigation__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/button */ \"(ssr)/./components/ui/button.tsx\");\n/* harmony import */ var _components_ui_card__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/card */ \"(ssr)/./components/ui/card.tsx\");\n/* harmony import */ var _components_ui_slider__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/ui/slider */ \"(ssr)/./components/ui/slider.tsx\");\n/* harmony import */ var _components_ui_textarea__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/ui/textarea */ \"(ssr)/./components/ui/textarea.tsx\");\n/* harmony import */ var _components_ui_switch__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/ui/switch */ \"(ssr)/./components/ui/switch.tsx\");\n/* harmony import */ var _barrel_optimize_names_MapPin_Clock_Star_Heart_CalendarIcon_Loader2_ArrowLeft_Save_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=MapPin,Clock,Star,Heart,CalendarIcon,Loader2,ArrowLeft,Save!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/arrow-left.js\");\n/* harmony import */ var _barrel_optimize_names_MapPin_Clock_Star_Heart_CalendarIcon_Loader2_ArrowLeft_Save_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=MapPin,Clock,Star,Heart,CalendarIcon,Loader2,ArrowLeft,Save!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_MapPin_Clock_Star_Heart_CalendarIcon_Loader2_ArrowLeft_Save_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=MapPin,Clock,Star,Heart,CalendarIcon,Loader2,ArrowLeft,Save!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/save.js\");\n/* harmony import */ var _barrel_optimize_names_MapPin_Clock_Star_Heart_CalendarIcon_Loader2_ArrowLeft_Save_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=MapPin,Clock,Star,Heart,CalendarIcon,Loader2,ArrowLeft,Save!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/map-pin.js\");\n/* harmony import */ var _barrel_optimize_names_MapPin_Clock_Star_Heart_CalendarIcon_Loader2_ArrowLeft_Save_lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=MapPin,Clock,Star,Heart,CalendarIcon,Loader2,ArrowLeft,Save!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/star.js\");\n/* harmony import */ var _barrel_optimize_names_MapPin_Clock_Star_Heart_CalendarIcon_Loader2_ArrowLeft_Save_lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=MapPin,Clock,Star,Heart,CalendarIcon,Loader2,ArrowLeft,Save!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/clock.js\");\n/* harmony import */ var _barrel_optimize_names_MapPin_Clock_Star_Heart_CalendarIcon_Loader2_ArrowLeft_Save_lucide_react__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! __barrel_optimize__?names=MapPin,Clock,Star,Heart,CalendarIcon,Loader2,ArrowLeft,Save!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/calendar.js\");\n/* harmony import */ var _barrel_optimize_names_MapPin_Clock_Star_Heart_CalendarIcon_Loader2_ArrowLeft_Save_lucide_react__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! __barrel_optimize__?names=MapPin,Clock,Star,Heart,CalendarIcon,Loader2,ArrowLeft,Save!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/heart.js\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n/* harmony import */ var _lib_actions_my_places_actions__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/lib/actions/my-places-actions */ \"(ssr)/./lib/actions/my-places-actions.ts\");\n/* harmony import */ var _hooks_use_toast__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/hooks/use-toast */ \"(ssr)/./hooks/use-toast.ts\");\n/* harmony import */ var _lib_stores_guest_store__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/lib/stores/guest-store */ \"(ssr)/./lib/stores/guest-store.ts\");\n/* harmony import */ var _lib_contexts_trip_context__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/lib/contexts/trip-context */ \"(ssr)/./lib/contexts/trip-context.tsx\");\n/* harmony import */ var date_fns_format__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! date-fns/format */ \"(ssr)/./node_modules/date-fns/format.mjs\");\n/* harmony import */ var _components_ui_calendar__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/components/ui/calendar */ \"(ssr)/./components/ui/calendar.tsx\");\n/* harmony import */ var _components_ui_popover__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @/components/ui/popover */ \"(ssr)/./components/ui/popover.tsx\");\n/* __next_internal_client_entry_do_not_use__ AddPlaceForm auto */ \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction AddPlaceForm({ placeData, onSuccess, onError, onCancel, defaultDate, returnPath = \"/my-places\", groupId, tripId }) {\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)();\n    const { toast } = (0,_hooks_use_toast__WEBPACK_IMPORTED_MODULE_10__.useToast)();\n    const { sessionId } = (0,_lib_stores_guest_store__WEBPACK_IMPORTED_MODULE_11__.useGuestStore)();\n    const { activeTrip } = (0,_lib_contexts_trip_context__WEBPACK_IMPORTED_MODULE_12__.useTrip)();\n    // Get query params\n    const paramPlaceId = searchParams.get(\"placeId\");\n    const paramGroupId = searchParams.get(\"groupId\");\n    const paramDate = searchParams.get(\"date\");\n    const paramSource = searchParams.get(\"source\");\n    // Form state\n    const [preferenceScore, setPreferenceScore] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(3);\n    const [preferredDuration, setPreferredDuration] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(60); // minutes\n    const [notes, setNotes] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isPersonalFavorite, setIsPersonalFavorite] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [preferredDate, setPreferredDate] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(defaultDate || (paramDate ? new Date(paramDate) : undefined));\n    // UI state\n    const [isSubmitting, setIsSubmitting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [calendarOpen, setCalendarOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // When form is submitted\n    const handleSubmit = async (e)=>{\n        e.preventDefault();\n        if (!placeData || !groupId && !activeTrip || !sessionId) {\n            const errorMsg = \"Missing required data. Please try again.\";\n            console.error(\"Missing required data for form submission:\", {\n                placeData,\n                groupId,\n                activeTrip,\n                sessionId\n            });\n            if (onError) {\n                onError(errorMsg);\n            } else {\n                toast({\n                    title: \"Error\",\n                    description: errorMsg,\n                    variant: \"destructive\"\n                });\n            }\n            return;\n        }\n        setIsSubmitting(true);\n        console.log(\"Submitting form with data:\", {\n            placeData,\n            preferenceScore,\n            preferredDuration,\n            preferredDate,\n            notes,\n            isPersonalFavorite\n        });\n        try {\n            // Prepare data for API call\n            const myPlaceData = {\n                user_id: null,\n                session_id: sessionId,\n                group_id: groupId || activeTrip.id,\n                place_id: placeData.place_id,\n                name: placeData.name,\n                address: placeData.address,\n                latitude: placeData.latitude,\n                longitude: placeData.longitude,\n                preference_score: preferenceScore,\n                preferred_duration: preferredDuration,\n                preferred_date: preferredDate ? (0,date_fns_format__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(preferredDate, \"yyyy-MM-dd\") : null,\n                notes: notes || null,\n                is_personal_favorite: isPersonalFavorite\n            };\n            console.log(\"Sending to database:\", myPlaceData);\n            // Add place to my_places\n            const result = await (0,_lib_actions_my_places_actions__WEBPACK_IMPORTED_MODULE_9__.addPlaceToMyPlaces)(myPlaceData);\n            console.log(\"Database result:\", result);\n            // Show success toast with auto-integration message\n            toast({\n                title: \"Place added\",\n                description: result.autoAddedToTrip ? \"✅ Added to your wishlist and automatically included in trip optimization\" : \"Added to your wishlist\",\n                variant: \"default\"\n            });\n            // Call success callback or navigate\n            if (onSuccess && result.id) {\n                onSuccess(result.id);\n            } else {\n                // Navigate back or to specified path\n                if (paramSource) {\n                    router.back();\n                } else {\n                    router.push(returnPath);\n                }\n            }\n        } catch (error) {\n            console.error(\"Error adding place:\", error);\n            const errorMsg = \"Failed to add place. Please try again.\";\n            if (onError) {\n                onError(errorMsg);\n            } else {\n                toast({\n                    title: \"Error\",\n                    description: errorMsg,\n                    variant: \"destructive\"\n                });\n            }\n        } finally{\n            setIsSubmitting(false);\n        }\n    };\n    // Get label for preference score\n    const getPreferenceLabel = (score)=>{\n        switch(score){\n            case 1:\n                return \"Not interested\";\n            case 2:\n                return \"Slightly interested\";\n            case 3:\n                return \"Interested\";\n            case 4:\n                return \"Very interested\";\n            case 5:\n                return \"Must visit\";\n            default:\n                return \"Interested\";\n        }\n    };\n    // Format duration for display\n    const formatDuration = (minutes)=>{\n        if (minutes < 60) return `${minutes} minutes`;\n        if (minutes < 1440) {\n            const hours = Math.floor(minutes / 60);\n            const mins = minutes % 60;\n            return mins > 0 ? `${hours}h ${mins}m` : `${hours} hours`;\n        } else {\n            const days = Math.floor(minutes / 1440);\n            const remainingHours = Math.floor(minutes % 1440 / 60);\n            if (remainingHours > 0) {\n                return `${days} ${days === 1 ? \"day\" : \"days\"} ${remainingHours}h`;\n            } else {\n                return `${days} ${days === 1 ? \"day\" : \"days\"}`;\n            }\n        }\n    };\n    // Handle back button\n    const handleBack = ()=>{\n        if (onCancel) {\n            onCancel();\n        } else {\n            router.back();\n        }\n    };\n    if (!placeData) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex flex-col items-center justify-center p-8\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-muted-foreground\",\n                    children: \"No place data provided\"\n                }, void 0, false, {\n                    fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                    lineNumber: 220,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                    className: \"mt-4\",\n                    onClick: handleBack,\n                    variant: \"outline\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_MapPin_Clock_Star_Heart_CalendarIcon_Loader2_ArrowLeft_Save_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                            className: \"h-4 w-4 mr-2\"\n                        }, void 0, false, {\n                            fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                            lineNumber: 222,\n                            columnNumber: 11\n                        }, this),\n                        \"Go Back\"\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                    lineNumber: 221,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n            lineNumber: 219,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"container max-w-2xl mx-auto py-4 px-4 sm:px-6\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-between mb-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                        variant: \"ghost\",\n                        size: \"sm\",\n                        onClick: handleBack,\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_MapPin_Clock_Star_Heart_CalendarIcon_Loader2_ArrowLeft_Save_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                className: \"h-4 w-4 mr-2\"\n                            }, void 0, false, {\n                                fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                lineNumber: 234,\n                                columnNumber: 11\n                            }, this),\n                            \"Back\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                        lineNumber: 233,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        className: \"text-2xl font-bold\",\n                        children: \"Add to Wishlist\"\n                    }, void 0, false, {\n                        fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                        lineNumber: 237,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                        onClick: handleSubmit,\n                        disabled: isSubmitting,\n                        className: \"bg-sky-500 hover:bg-sky-600\",\n                        children: [\n                            isSubmitting ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_MapPin_Clock_Star_Heart_CalendarIcon_Loader2_ArrowLeft_Save_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                className: \"h-4 w-4 animate-spin mr-2\"\n                            }, void 0, false, {\n                                fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                lineNumber: 244,\n                                columnNumber: 13\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_MapPin_Clock_Star_Heart_CalendarIcon_Loader2_ArrowLeft_Save_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                className: \"h-4 w-4 mr-2\"\n                            }, void 0, false, {\n                                fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                lineNumber: 246,\n                                columnNumber: 13\n                            }, this),\n                            \"Save\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                        lineNumber: 238,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                lineNumber: 232,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                onSubmit: handleSubmit,\n                className: \"space-y-8\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_4__.Card, {\n                        className: \"p-4 border shadow-sm\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-lg font-semibold\",\n                                    children: placeData.name\n                                }, void 0, false, {\n                                    fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                    lineNumber: 256,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-start gap-2 text-muted-foreground\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_MapPin_Clock_Star_Heart_CalendarIcon_Loader2_ArrowLeft_Save_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                            className: \"h-4 w-4 mt-0.5 shrink-0\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                            lineNumber: 258,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-sm\",\n                                            children: placeData.address\n                                        }, void 0, false, {\n                                            fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                            lineNumber: 259,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                    lineNumber: 257,\n                                    columnNumber: 13\n                                }, this),\n                                placeData.photos && placeData.photos.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"grid grid-cols-3 gap-2 mt-3\",\n                                    children: placeData.photos.map((photo, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"aspect-square rounded-md overflow-hidden\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                src: photo,\n                                                alt: `${placeData.name} photo ${index + 1}`,\n                                                className: \"w-full h-full object-cover\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                                lineNumber: 267,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, index, false, {\n                                            fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                            lineNumber: 266,\n                                            columnNumber: 19\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                    lineNumber: 264,\n                                    columnNumber: 15\n                                }, this),\n                                placeData.types && placeData.types.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex flex-wrap gap-2 mt-2\",\n                                    children: placeData.types.slice(0, 3).map((type, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"px-2 py-1 bg-gray-100 dark:bg-gray-800 text-xs rounded-full\",\n                                            children: type.replace(/_/g, \" \")\n                                        }, index, false, {\n                                            fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                            lineNumber: 281,\n                                            columnNumber: 19\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                    lineNumber: 279,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                            lineNumber: 255,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                        lineNumber: 254,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-between\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"text-base font-medium flex items-center gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_MapPin_Clock_Star_Heart_CalendarIcon_Loader2_ArrowLeft_Save_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                                className: \"h-5 w-5 text-amber-500\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                                lineNumber: 297,\n                                                columnNumber: 15\n                                            }, this),\n                                            \"Interest Level\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                        lineNumber: 296,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"font-medium text-sm\",\n                                        children: getPreferenceLabel(preferenceScore)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                        lineNumber: 300,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                lineNumber: 295,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"pt-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_slider__WEBPACK_IMPORTED_MODULE_5__.Slider, {\n                                        min: 1,\n                                        max: 5,\n                                        step: 1,\n                                        value: [\n                                            preferenceScore\n                                        ],\n                                        onValueChange: (values)=>setPreferenceScore(values[0]),\n                                        className: \"mt-2\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                        lineNumber: 306,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex justify-between text-xs text-muted-foreground mt-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: \"Not interested\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                                lineNumber: 315,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: \"Must visit\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                                lineNumber: 316,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                        lineNumber: 314,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                lineNumber: 305,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                        lineNumber: 294,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-between\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"text-base font-medium flex items-center gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_MapPin_Clock_Star_Heart_CalendarIcon_Loader2_ArrowLeft_Save_lucide_react__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                                className: \"h-5 w-5 text-sky-500\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                                lineNumber: 325,\n                                                columnNumber: 15\n                                            }, this),\n                                            \"Visit Duration\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                        lineNumber: 324,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"font-medium text-sm\",\n                                        children: formatDuration(preferredDuration)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                        lineNumber: 328,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                lineNumber: 323,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"pt-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_slider__WEBPACK_IMPORTED_MODULE_5__.Slider, {\n                                        min: 15,\n                                        max: 4320,\n                                        step: 15,\n                                        value: [\n                                            preferredDuration\n                                        ],\n                                        onValueChange: (values)=>setPreferredDuration(values[0]),\n                                        className: \"mt-2\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                        lineNumber: 334,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex justify-between text-xs text-muted-foreground mt-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: \"15 minutes\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                                lineNumber: 343,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: \"3 days\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                                lineNumber: 344,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                        lineNumber: 342,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                lineNumber: 333,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                        lineNumber: 322,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-between\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"text-base font-medium flex items-center gap-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_MapPin_Clock_Star_Heart_CalendarIcon_Loader2_ArrowLeft_Save_lucide_react__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                                            className: \"h-5 w-5 text-violet-500\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                            lineNumber: 353,\n                                            columnNumber: 15\n                                        }, this),\n                                        \"Preferred Date (Optional)\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                    lineNumber: 352,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                lineNumber: 351,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_popover__WEBPACK_IMPORTED_MODULE_14__.Popover, {\n                                open: calendarOpen,\n                                onOpenChange: setCalendarOpen,\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_popover__WEBPACK_IMPORTED_MODULE_14__.PopoverTrigger, {\n                                        asChild: true,\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                            variant: \"outline\",\n                                            className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_8__.cn)(\"w-full justify-start text-left font-normal\", !preferredDate && \"text-muted-foreground\"),\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_MapPin_Clock_Star_Heart_CalendarIcon_Loader2_ArrowLeft_Save_lucide_react__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                                                    className: \"mr-2 h-4 w-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                                    lineNumber: 367,\n                                                    columnNumber: 17\n                                                }, this),\n                                                preferredDate ? (0,date_fns_format__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(preferredDate, \"PPP\") : \"Select preferred date\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                            lineNumber: 360,\n                                            columnNumber: 15\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                        lineNumber: 359,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_popover__WEBPACK_IMPORTED_MODULE_14__.PopoverContent, {\n                                        className: \"w-auto p-0\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_calendar__WEBPACK_IMPORTED_MODULE_13__.Calendar, {\n                                            mode: \"single\",\n                                            selected: preferredDate,\n                                            onSelect: (date)=>{\n                                                setPreferredDate(date);\n                                                setCalendarOpen(false);\n                                            },\n                                            initialFocus: true\n                                        }, void 0, false, {\n                                            fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                            lineNumber: 372,\n                                            columnNumber: 15\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                        lineNumber: 371,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                lineNumber: 358,\n                                columnNumber: 11\n                            }, this),\n                            preferredDate && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                variant: \"ghost\",\n                                size: \"sm\",\n                                onClick: ()=>setPreferredDate(undefined),\n                                className: \"text-xs\",\n                                children: \"Clear date\"\n                            }, void 0, false, {\n                                fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                lineNumber: 385,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                        lineNumber: 350,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-between p-4 border rounded-lg\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_MapPin_Clock_Star_Heart_CalendarIcon_Loader2_ArrowLeft_Save_lucide_react__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n                                        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_8__.cn)(\"h-5 w-5\", isPersonalFavorite ? \"text-pink-500 fill-pink-500\" : \"text-muted-foreground\")\n                                    }, void 0, false, {\n                                        fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                        lineNumber: 399,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"font-medium\",\n                                                children: \"Mark as Favorite\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                                lineNumber: 404,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-muted-foreground\",\n                                                children: \"Favorite places are prioritized in planning\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                                lineNumber: 405,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                        lineNumber: 403,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                lineNumber: 398,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_switch__WEBPACK_IMPORTED_MODULE_7__.Switch, {\n                                checked: isPersonalFavorite,\n                                onCheckedChange: setIsPersonalFavorite\n                            }, void 0, false, {\n                                fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                lineNumber: 410,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                        lineNumber: 397,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"text-base font-medium\",\n                                children: \"Notes (Optional)\"\n                            }, void 0, false, {\n                                fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                lineNumber: 418,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_textarea__WEBPACK_IMPORTED_MODULE_6__.Textarea, {\n                                placeholder: \"Add any notes about this place...\",\n                                value: notes,\n                                onChange: (e)=>setNotes(e.target.value),\n                                rows: 4,\n                                className: \"resize-none\"\n                            }, void 0, false, {\n                                fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                lineNumber: 419,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-xs text-muted-foreground\",\n                                children: \"These notes will be visible only to you and won't be shared with the group\"\n                            }, void 0, false, {\n                                fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                lineNumber: 426,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                        lineNumber: 417,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"pt-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                type: \"submit\",\n                                className: \"w-full bg-sky-500 hover:bg-sky-600\",\n                                disabled: isSubmitting,\n                                children: [\n                                    isSubmitting ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_MapPin_Clock_Star_Heart_CalendarIcon_Loader2_ArrowLeft_Save_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                        className: \"h-4 w-4 animate-spin mr-2\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                        lineNumber: 439,\n                                        columnNumber: 15\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_MapPin_Clock_Star_Heart_CalendarIcon_Loader2_ArrowLeft_Save_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                        className: \"h-4 w-4 mr-2\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                        lineNumber: 441,\n                                        columnNumber: 15\n                                    }, this),\n                                    \"Save to Wishlist\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                lineNumber: 433,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-xs text-center text-muted-foreground mt-2\",\n                                children: \"Adding to your wishlist does not guarantee inclusion in the final group itinerary. The optimization algorithm will consider all members' preferences.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                                lineNumber: 446,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                        lineNumber: 432,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n                lineNumber: 252,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/kominetenma/Desktop/project/components/places/add-place-form.tsx\",\n        lineNumber: 230,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3BsYWNlcy9hZGQtcGxhY2UtZm9ybS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFNEM7QUFDaUI7QUFDYjtBQUNKO0FBQ0k7QUFDSTtBQUNKO0FBVTFCO0FBQ1c7QUFDb0M7QUFDeEI7QUFDWTtBQUNIO0FBQ3BCO0FBQ2tCO0FBS25CO0FBYzFCLFNBQVMwQixhQUFhLEVBQzNCQyxTQUFTLEVBQ1RDLFNBQVMsRUFDVEMsT0FBTyxFQUNQQyxRQUFRLEVBQ1JDLFdBQVcsRUFDWEMsYUFBYSxZQUFZLEVBQ3pCQyxPQUFPLEVBQ1BDLE1BQU0sRUFDWTtJQUNsQixNQUFNQyxTQUFTbEMsMERBQVNBO0lBQ3hCLE1BQU1tQyxlQUFlbEMsZ0VBQWVBO0lBQ3BDLE1BQU0sRUFBRW1DLEtBQUssRUFBRSxHQUFHbkIsMkRBQVFBO0lBQzFCLE1BQU0sRUFBRW9CLFNBQVMsRUFBRSxHQUFHbkIsdUVBQWFBO0lBQ25DLE1BQU0sRUFBRW9CLFVBQVUsRUFBRSxHQUFHbkIsb0VBQU9BO0lBRTlCLG1CQUFtQjtJQUNuQixNQUFNb0IsZUFBZUosYUFBYUssR0FBRyxDQUFDO0lBQ3RDLE1BQU1DLGVBQWVOLGFBQWFLLEdBQUcsQ0FBQztJQUN0QyxNQUFNRSxZQUFZUCxhQUFhSyxHQUFHLENBQUM7SUFDbkMsTUFBTUcsY0FBY1IsYUFBYUssR0FBRyxDQUFDO0lBRXJDLGFBQWE7SUFDYixNQUFNLENBQUNJLGlCQUFpQkMsbUJBQW1CLEdBQUc5QywrQ0FBUUEsQ0FBQztJQUN2RCxNQUFNLENBQUMrQyxtQkFBbUJDLHFCQUFxQixHQUFHaEQsK0NBQVFBLENBQUMsS0FBSyxVQUFVO0lBQzFFLE1BQU0sQ0FBQ2lELE9BQU9DLFNBQVMsR0FBR2xELCtDQUFRQSxDQUFDO0lBQ25DLE1BQU0sQ0FBQ21ELG9CQUFvQkMsc0JBQXNCLEdBQUdwRCwrQ0FBUUEsQ0FBQztJQUM3RCxNQUFNLENBQUNxRCxlQUFlQyxpQkFBaUIs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QUFDRDtnQ0FBSUMsV0FBVTs7a0RBQ2IsOERBQUMxRix3SUFBS0E7d0NBQUMwRixXQUFXckYsOENBQUVBLENBQ2xCLFdBQ0FtQyxxQkFBcUIsZ0NBQWdDOzs7Ozs7a0RBRXZELDhEQUFDaUQ7OzBEQUNDLDhEQUFDRTtnREFBRUQsV0FBVTswREFBYzs7Ozs7OzBEQUMzQiw4REFBQ0M7Z0RBQUVELFdBQVU7MERBQWdDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7MENBS2pELDhEQUFDOUYseURBQU1BO2dDQUNMbUksU0FBU3ZGO2dDQUNUd0YsaUJBQWlCdkY7Ozs7Ozs7Ozs7OztrQ0FLckIsOERBQUNnRDt3QkFBSUMsV0FBVTs7MENBQ2IsOERBQUNzQjtnQ0FBTXRCLFdBQVU7MENBQXdCOzs7Ozs7MENBQ3pDLDhEQUFDL0YsNkRBQVFBO2dDQUNQc0ksYUFBWTtnQ0FDWmIsT0FBTzlFO2dDQUNQNEYsVUFBVSxDQUFDL0UsSUFBTVosU0FBU1ksRUFBRWdGLE1BQU0sQ0FBQ2YsS0FBSztnQ0FDeENnQixNQUFNO2dDQUNOMUMsV0FBVTs7Ozs7OzBDQUVaLDhEQUFDQztnQ0FBRUQsV0FBVTswQ0FBZ0M7Ozs7Ozs7Ozs7OztrQ0FNL0MsOERBQUNEO3dCQUFJQyxXQUFVOzswQ0FDYiw4REFBQ2xHLHlEQUFNQTtnQ0FDTHNILE1BQUs7Z0NBQ0xwQixXQUFVO2dDQUNWSyxVQUFVakQ7O29DQUVUQSw2QkFDQyw4REFBQzVDLHdJQUFPQTt3Q0FBQ3dGLFdBQVU7Ozs7OzZEQUVuQiw4REFBQ3RGLHdJQUFJQTt3Q0FBQ3NGLFdBQVU7Ozs7OztvQ0FDaEI7Ozs7Ozs7MENBSUosOERBQUNDO2dDQUFFRCxXQUFVOzBDQUFpRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBUXhFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLy4vY29tcG9uZW50cy9wbGFjZXMvYWRkLXBsYWNlLWZvcm0udHN4Pzg0ZDIiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlUm91dGVyLCB1c2VTZWFyY2hQYXJhbXMgfSBmcm9tICduZXh0L25hdmlnYXRpb24nO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbic7XG5pbXBvcnQgeyBDYXJkIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2NhcmQnO1xuaW1wb3J0IHsgU2xpZGVyIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL3NsaWRlcic7XG5pbXBvcnQgeyBUZXh0YXJlYSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS90ZXh0YXJlYSc7XG5pbXBvcnQgeyBTd2l0Y2ggfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvc3dpdGNoJztcbmltcG9ydCB7IFxuICBNYXBQaW4sIFxuICBDbG9jaywgXG4gIFN0YXIsIFxuICBIZWFydCxcbiAgQ2FsZW5kYXJJY29uLFxuICBMb2FkZXIyLFxuICBBcnJvd0xlZnQsXG4gIFNhdmVcbn0gZnJvbSAnbHVjaWRlLXJlYWN0JztcbmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnO1xuaW1wb3J0IHsgYWRkUGxhY2VUb015UGxhY2VzIH0gZnJvbSAnQC9saWIvYWN0aW9ucy9teS1wbGFjZXMtYWN0aW9ucyc7XG5pbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gJ0AvaG9va3MvdXNlLXRvYXN0JztcbmltcG9ydCB7IHVzZUd1ZXN0U3RvcmUgfSBmcm9tICdAL2xpYi9zdG9yZXMvZ3Vlc3Qtc3RvcmUnO1xuaW1wb3J0IHsgdXNlVHJpcCB9IGZyb20gJ0AvbGliL2NvbnRleHRzL3RyaXAtY29udGV4dCc7XG5pbXBvcnQgeyBmb3JtYXQgfSBmcm9tICdkYXRlLWZucyc7XG5pbXBvcnQgeyBDYWxlbmRhciB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9jYWxlbmRhcic7XG5pbXBvcnQge1xuICBQb3BvdmVyLFxuICBQb3BvdmVyQ29udGVudCxcbiAgUG9wb3ZlclRyaWdnZXIsXG59IGZyb20gJ0AvY29tcG9uZW50cy91aS9wb3BvdmVyJztcbmltcG9ydCB7IFNlYXJjaFJlc3VsdCwgTXlQbGFjZURhdGEgfSBmcm9tICdAL2xpYi90eXBlcy9wbGFjZXMnO1xuXG5pbnRlcmZhY2UgQWRkUGxhY2VGb3JtUHJvcHMge1xuICBwbGFjZURhdGE/OiBTZWFyY2hSZXN1bHQ7XG4gIG9uU3VjY2Vzcz86IChwbGFjZUlkOiBzdHJpbmcpID0+IHZvaWQ7XG4gIG9uRXJyb3I/OiAobWVzc2FnZTogc3RyaW5nKSA9PiB2b2lkO1xuICBvbkNhbmNlbD86ICgpID0+IHZvaWQ7XG4gIGRlZmF1bHREYXRlPzogRGF0ZTtcbiAgcmV0dXJuUGF0aD86IHN0cmluZztcbiAgZ3JvdXBJZD86IHN0cmluZztcbiAgdHJpcElkPzogc3RyaW5nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQWRkUGxhY2VGb3JtKHtcbiAgcGxhY2VEYXRhLFxuICBvblN1Y2Nlc3MsXG4gIG9uRXJyb3IsXG4gIG9uQ2FuY2VsLFxuICBkZWZhdWx0RGF0ZSxcbiAgcmV0dXJuUGF0aCA9ICcvbXktcGxhY2VzJyxcbiAgZ3JvdXBJZCxcbiAgdHJpcElkXG59OiBBZGRQbGFjZUZvcm1Qcm9wcykge1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3Qgc2VhcmNoUGFyYW1zID0gdXNlU2VhcmNoUGFyYW1zKCk7XG4gIGNvbnN0IHsgdG9hc3QgfSA9IHVzZVRvYXN0KCk7XG4gIGNvbnN0IHsgc2Vzc2lvbklkIH0gPSB1c2VHdWVzdFN0b3JlKCk7XG4gIGNvbnN0IHsgYWN0aXZlVHJpcCB9ID0gdXNlVHJpcCgpO1xuICBcbiAgLy8gR2V0IHF1ZXJ5IHBhcmFtc1xuICBjb25zdCBwYXJhbVBsYWNlSWQgPSBzZWFyY2hQYXJhbXMuZ2V0KCdwbGFjZUlkJyk7XG4gIGNvbnN0IHBhcmFtR3JvdXBJZCA9IHNlYXJjaFBhcmFtcy5nZXQoJ2dyb3VwSWQnKTtcbiAgY29uc3QgcGFyYW1EYXRlID0gc2VhcmNoUGFyYW1zLmdldCgnZGF0ZScpO1xuICBjb25zdCBwYXJhbVNvdXJjZSA9IHNlYXJjaFBhcmFtcy5nZXQoJ3NvdXJjZScpO1xuICBcbiAgLy8gRm9ybSBzdGF0ZVxuICBjb25zdCBbcHJlZmVyZW5jZVNjb3JlLCBzZXRQcmVmZXJlbmNlU2NvcmVdID0gdXNlU3RhdGUoMyk7XG4gIGNvbnN0IFtwcmVmZXJyZWREdXJhdGlvbiwgc2V0UHJlZmVycmVkRHVyYXRpb25dID0gdXNlU3RhdGUoNjApOyAvLyBtaW51dGVzXG4gIGNvbnN0IFtub3Rlcywgc2V0Tm90ZXNdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbaXNQZXJzb25hbEZhdm9yaXRlLCBzZXRJc1BlcnNvbmFsRmF2b3JpdGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcHJlZmVycmVkRGF0ZSwgc2V0UHJlZmVycmVkRGF0ZV0gPSB1c2VTdGF0ZTxEYXRlIHwgdW5kZWZpbmVkPihcbiAgICBkZWZhdWx0RGF0ZSB8fCAocGFyYW1EYXRlID8gbmV3IERhdGUocGFyYW1EYXRlKSA6IHVuZGVmaW5lZClcbiAgKTtcbiAgXG4gIC8vIFVJIHN0YXRlXG4gIGNvbnN0IFtpc1N1Ym1pdHRpbmcsIHNldElzU3VibWl0dGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjYWxlbmRhck9wZW4sIHNldENhbGVuZGFyT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIFxuICAvLyBXaGVuIGZvcm0gaXMgc3VibWl0dGVkXG4gIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IGFzeW5jIChlOiBSZWFjdC5Gb3JtRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgXG4gICAgaWYgKCFwbGFjZURhdGEgfHwgKCFncm91cElkICYmICFhY3RpdmVUcmlwKSB8fCAhc2Vzc2lvbklkKSB7XG4gICAgICBjb25zdCBlcnJvck1zZyA9IFwiTWlzc2luZyByZXF1aXJlZCBkYXRhLiBQbGVhc2UgdHJ5IGFnYWluLlwiO1xuICAgICAgY29uc29sZS5lcnJvcignTWlzc2luZyByZXF1aXJlZCBkYXRhIGZvciBmb3JtIHN1Ym1pc3Npb246Jywge1xuICAgICAgICBwbGFjZURhdGEsXG4gICAgICAgIGdyb3VwSWQsXG4gICAgICAgIGFjdGl2ZVRyaXAsXG4gICAgICAgIHNlc3Npb25JZFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmIChvbkVycm9yKSB7XG4gICAgICAgIG9uRXJyb3IoZXJyb3JNc2cpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG9hc3Qoe1xuICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgZGVzY3JpcHRpb246IGVycm9yTXNnLFxuICAgICAgICAgIHZhcmlhbnQ6IFwiZGVzdHJ1Y3RpdmVcIixcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIHNldElzU3VibWl0dGluZyh0cnVlKTtcbiAgICBjb25zb2xlLmxvZygnU3VibWl0dGluZyBmb3JtIHdpdGggZGF0YTonLCB7XG4gICAgICBwbGFjZURhdGEsXG4gICAgICBwcmVmZXJlbmNlU2NvcmUsXG4gICAgICBwcmVmZXJyZWREdXJhdGlvbixcbiAgICAgIHByZWZlcnJlZERhdGUsXG4gICAgICBub3RlcyxcbiAgICAgIGlzUGVyc29uYWxGYXZvcml0ZVxuICAgIH0pO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBQcmVwYXJlIGRhdGEgZm9yIEFQSSBjYWxsXG4gICAgICBjb25zdCBteVBsYWNlRGF0YTogUGFydGlhbDxNeVBsYWNlRGF0YT4gPSB7XG4gICAgICAgIHVzZXJfaWQ6IG51bGwsIC8vIFdpbGwgYmUgZmlsbGVkIG9uIHNlcnZlciBpZiBhdXRoZW50aWNhdGVkXG4gICAgICAgIHNlc3Npb25faWQ6IHNlc3Npb25JZCxcbiAgICAgICAgZ3JvdXBfaWQ6IGdyb3VwSWQgfHwgYWN0aXZlVHJpcCEuaWQsXG4gICAgICAgIHBsYWNlX2lkOiBwbGFjZURhdGEucGxhY2VfaWQsXG4gICAgICAgIG5hbWU6IHBsYWNlRGF0YS5uYW1lLFxuICAgICAgICBhZGRyZXNzOiBwbGFjZURhdGEuYWRkcmVzcyxcbiAgICAgICAgbGF0aXR1ZGU6IHBsYWNlRGF0YS5sYXRpdHVkZSxcbiAgICAgICAgbG9uZ2l0dWRlOiBwbGFjZURhdGEubG9uZ2l0dWRlLFxuICAgICAgICBwcmVmZXJlbmNlX3Njb3JlOiBwcmVmZXJlbmNlU2NvcmUsXG4gICAgICAgIHByZWZlcnJlZF9kdXJhdGlvbjogcHJlZmVycmVkRHVyYXRpb24sXG4gICAgICAgIHByZWZlcnJlZF9kYXRlOiBwcmVmZXJyZWREYXRlID8gZm9ybWF0KHByZWZlcnJlZERhdGUsICd5eXl5LU1NLWRkJykgOiBudWxsLFxuICAgICAgICBub3Rlczogbm90ZXMgfHwgbnVsbCxcbiAgICAgICAgaXNfcGVyc29uYWxfZmF2b3JpdGU6IGlzUGVyc29uYWxGYXZvcml0ZSxcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdTZW5kaW5nIHRvIGRhdGFiYXNlOicsIG15UGxhY2VEYXRhKTtcbiAgICAgIFxuICAgICAgLy8gQWRkIHBsYWNlIHRvIG15X3BsYWNlc1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYWRkUGxhY2VUb015UGxhY2VzKG15UGxhY2VEYXRhKTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ0RhdGFiYXNlIHJlc3VsdDonLCByZXN1bHQpO1xuICAgICAgXG4gICAgICAvLyBTaG93IHN1Y2Nlc3MgdG9hc3Qgd2l0aCBhdXRvLWludGVncmF0aW9uIG1lc3NhZ2VcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6IFwiUGxhY2UgYWRkZWRcIixcbiAgICAgICAgZGVzY3JpcHRpb246IHJlc3VsdC5hdXRvQWRkZWRUb1RyaXAgXG4gICAgICAgICAgPyBcIuKchSBBZGRlZCB0byB5b3VyIHdpc2hsaXN0IGFuZCBhdXRvbWF0aWNhbGx5IGluY2x1ZGVkIGluIHRyaXAgb3B0aW1pemF0aW9uXCJcbiAgICAgICAgICA6IFwiQWRkZWQgdG8geW91ciB3aXNobGlzdFwiLFxuICAgICAgICB2YXJpYW50OiBcImRlZmF1bHRcIixcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBDYWxsIHN1Y2Nlc3MgY2FsbGJhY2sgb3IgbmF2aWdhdGVcbiAgICAgIGlmIChvblN1Y2Nlc3MgJiYgcmVzdWx0LmlkKSB7XG4gICAgICAgIG9uU3VjY2VzcyhyZXN1bHQuaWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTmF2aWdhdGUgYmFjayBvciB0byBzcGVjaWZpZWQgcGF0aFxuICAgICAgICBpZiAocGFyYW1Tb3VyY2UpIHtcbiAgICAgICAgICByb3V0ZXIuYmFjaygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJvdXRlci5wdXNoKHJldHVyblBhdGgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFkZGluZyBwbGFjZTonLCBlcnJvcik7XG4gICAgICBjb25zdCBlcnJvck1zZyA9IFwiRmFpbGVkIHRvIGFkZCBwbGFjZS4gUGxlYXNlIHRyeSBhZ2Fpbi5cIjtcbiAgICAgIFxuICAgICAgaWYgKG9uRXJyb3IpIHtcbiAgICAgICAgb25FcnJvcihlcnJvck1zZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0b2FzdCh7XG4gICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICBkZXNjcmlwdGlvbjogZXJyb3JNc2csXG4gICAgICAgICAgdmFyaWFudDogXCJkZXN0cnVjdGl2ZVwiLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNTdWJtaXR0aW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG4gIFxuICAvLyBHZXQgbGFiZWwgZm9yIHByZWZlcmVuY2Ugc2NvcmVcbiAgY29uc3QgZ2V0UHJlZmVyZW5jZUxhYmVsID0gKHNjb3JlOiBudW1iZXIpOiBzdHJpbmcgPT4ge1xuICAgIHN3aXRjaCAoc2NvcmUpIHtcbiAgICAgIGNhc2UgMTogcmV0dXJuICdOb3QgaW50ZXJlc3RlZCc7XG4gICAgICBjYXNlIDI6IHJldHVybiAnU2xpZ2h0bHkgaW50ZXJlc3RlZCc7XG4gICAgICBjYXNlIDM6IHJldHVybiAnSW50ZXJlc3RlZCc7XG4gICAgICBjYXNlIDQ6IHJldHVybiAnVmVyeSBpbnRlcmVzdGVkJztcbiAgICAgIGNhc2UgNTogcmV0dXJuICdNdXN0IHZpc2l0JztcbiAgICAgIGRlZmF1bHQ6IHJldHVybiAnSW50ZXJlc3RlZCc7XG4gICAgfVxuICB9O1xuICBcbiAgLy8gRm9ybWF0IGR1cmF0aW9uIGZvciBkaXNwbGF5XG4gIGNvbnN0IGZvcm1hdER1cmF0aW9uID0gKG1pbnV0ZXM6IG51bWJlcik6IHN0cmluZyA9PiB7XG4gICAgaWYgKG1pbnV0ZXMgPCA2MCkgcmV0dXJuIGAke21pbnV0ZXN9IG1pbnV0ZXNgO1xuICAgIGlmIChtaW51dGVzIDwgMTQ0MCkge1xuICAgICAgY29uc3QgaG91cnMgPSBNYXRoLmZsb29yKG1pbnV0ZXMgLyA2MCk7XG4gICAgICBjb25zdCBtaW5zID0gbWludXRlcyAlIDYwO1xuICAgICAgcmV0dXJuIG1pbnMgPiAwID8gYCR7aG91cnN9aCAke21pbnN9bWAgOiBgJHtob3Vyc30gaG91cnNgO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBkYXlzID0gTWF0aC5mbG9vcihtaW51dGVzIC8gMTQ0MCk7XG4gICAgICBjb25zdCByZW1haW5pbmdIb3VycyA9IE1hdGguZmxvb3IoKG1pbnV0ZXMgJSAxNDQwKSAvIDYwKTtcbiAgICAgIGlmIChyZW1haW5pbmdIb3VycyA+IDApIHtcbiAgICAgICAgcmV0dXJuIGAke2RheXN9ICR7ZGF5cyA9PT0gMSA/ICdkYXknIDogJ2RheXMnfSAke3JlbWFpbmluZ0hvdXJzfWhgO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGAke2RheXN9ICR7ZGF5cyA9PT0gMSA/ICdkYXknIDogJ2RheXMnfWA7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBcbiAgLy8gSGFuZGxlIGJhY2sgYnV0dG9uXG4gIGNvbnN0IGhhbmRsZUJhY2sgPSAoKSA9PiB7XG4gICAgaWYgKG9uQ2FuY2VsKSB7XG4gICAgICBvbkNhbmNlbCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByb3V0ZXIuYmFjaygpO1xuICAgIH1cbiAgfTtcbiAgXG4gIGlmICghcGxhY2VEYXRhKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcC04XCI+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPk5vIHBsYWNlIGRhdGEgcHJvdmlkZWQ8L3A+XG4gICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwibXQtNFwiIG9uQ2xpY2s9e2hhbmRsZUJhY2t9IHZhcmlhbnQ9XCJvdXRsaW5lXCI+XG4gICAgICAgICAgPEFycm93TGVmdCBjbGFzc05hbWU9XCJoLTQgdy00IG1yLTJcIiAvPlxuICAgICAgICAgIEdvIEJhY2tcbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG4gIFxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyIG1heC13LTJ4bCBteC1hdXRvIHB5LTQgcHgtNCBzbTpweC02XCI+XG4gICAgICB7LyogSGVhZGVyICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbWItNlwiPlxuICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJnaG9zdFwiIHNpemU9XCJzbVwiIG9uQ2xpY2s9e2hhbmRsZUJhY2t9PlxuICAgICAgICAgIDxBcnJvd0xlZnQgY2xhc3NOYW1lPVwiaC00IHctNCBtci0yXCIgLz5cbiAgICAgICAgICBCYWNrXG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkXCI+QWRkIHRvIFdpc2hsaXN0PC9oMT5cbiAgICAgICAgPEJ1dHRvbiBcbiAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTdWJtaXR9IFxuICAgICAgICAgIGRpc2FibGVkPXtpc1N1Ym1pdHRpbmd9XG4gICAgICAgICAgY2xhc3NOYW1lPVwiYmctc2t5LTUwMCBob3ZlcjpiZy1za3ktNjAwXCJcbiAgICAgICAgPlxuICAgICAgICAgIHtpc1N1Ym1pdHRpbmcgPyAoXG4gICAgICAgICAgICA8TG9hZGVyMiBjbGFzc05hbWU9XCJoLTQgdy00IGFuaW1hdGUtc3BpbiBtci0yXCIgLz5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPFNhdmUgY2xhc3NOYW1lPVwiaC00IHctNCBtci0yXCIgLz5cbiAgICAgICAgICApfVxuICAgICAgICAgIFNhdmVcbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICAgIFxuICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0gY2xhc3NOYW1lPVwic3BhY2UteS04XCI+XG4gICAgICAgIHsvKiBQbGFjZSBQcmV2aWV3IENhcmQgKi99XG4gICAgICAgIDxDYXJkIGNsYXNzTmFtZT1cInAtNCBib3JkZXIgc2hhZG93LXNtXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGRcIj57cGxhY2VEYXRhLm5hbWV9PC9oMj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBnYXAtMiB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj5cbiAgICAgICAgICAgICAgPE1hcFBpbiBjbGFzc05hbWU9XCJoLTQgdy00IG10LTAuNSBzaHJpbmstMFwiIC8+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc21cIj57cGxhY2VEYXRhLmFkZHJlc3N9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHsvKiBQaG90b3MgaWYgYXZhaWxhYmxlICovfVxuICAgICAgICAgICAge3BsYWNlRGF0YS5waG90b3MgJiYgcGxhY2VEYXRhLnBob3Rvcy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0zIGdhcC0yIG10LTNcIj5cbiAgICAgICAgICAgICAgICB7cGxhY2VEYXRhLnBob3Rvcy5tYXAoKHBob3RvLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2luZGV4fSBjbGFzc05hbWU9XCJhc3BlY3Qtc3F1YXJlIHJvdW5kZWQtbWQgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbWcgXG4gICAgICAgICAgICAgICAgICAgICAgc3JjPXtwaG90b30gXG4gICAgICAgICAgICAgICAgICAgICAgYWx0PXtgJHtwbGFjZURhdGEubmFtZX0gcGhvdG8gJHtpbmRleCArIDF9YH0gXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbCBvYmplY3QtY292ZXJcIlxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgey8qIFBsYWNlIHR5cGVzIGlmIGF2YWlsYWJsZSAqL31cbiAgICAgICAgICAgIHtwbGFjZURhdGEudHlwZXMgJiYgcGxhY2VEYXRhLnR5cGVzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGdhcC0yIG10LTJcIj5cbiAgICAgICAgICAgICAgICB7cGxhY2VEYXRhLnR5cGVzLnNsaWNlKDAsIDMpLm1hcCgodHlwZSwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgIDxzcGFuIFxuICAgICAgICAgICAgICAgICAgICBrZXk9e2luZGV4fSBcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMiBweS0xIGJnLWdyYXktMTAwIGRhcms6YmctZ3JheS04MDAgdGV4dC14cyByb3VuZGVkLWZ1bGxcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7dHlwZS5yZXBsYWNlKC9fL2csICcgJyl9XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9DYXJkPlxuICAgICAgICBcbiAgICAgICAgey8qIFByZWZlcmVuY2UgU2NvcmUgU2V0dGluZyAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtYmFzZSBmb250LW1lZGl1bSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICA8U3RhciBjbGFzc05hbWU9XCJoLTUgdy01IHRleHQtYW1iZXItNTAwXCIgLz5cbiAgICAgICAgICAgICAgSW50ZXJlc3QgTGV2ZWxcbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgIHtnZXRQcmVmZXJlbmNlTGFiZWwocHJlZmVyZW5jZVNjb3JlKX1cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB0LTJcIj5cbiAgICAgICAgICAgIDxTbGlkZXJcbiAgICAgICAgICAgICAgbWluPXsxfVxuICAgICAgICAgICAgICBtYXg9ezV9XG4gICAgICAgICAgICAgIHN0ZXA9ezF9XG4gICAgICAgICAgICAgIHZhbHVlPXtbcHJlZmVyZW5jZVNjb3JlXX1cbiAgICAgICAgICAgICAgb25WYWx1ZUNoYW5nZT17KHZhbHVlcykgPT4gc2V0UHJlZmVyZW5jZVNjb3JlKHZhbHVlc1swXSl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTJcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmQgbXQtMlwiPlxuICAgICAgICAgICAgICA8c3Bhbj5Ob3QgaW50ZXJlc3RlZDwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4+TXVzdCB2aXNpdDwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIHsvKiBTdGF5IER1cmF0aW9uIFNldHRpbmcgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LWJhc2UgZm9udC1tZWRpdW0gZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgPENsb2NrIGNsYXNzTmFtZT1cImgtNSB3LTUgdGV4dC1za3ktNTAwXCIgLz5cbiAgICAgICAgICAgICAgVmlzaXQgRHVyYXRpb25cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgIHtmb3JtYXREdXJhdGlvbihwcmVmZXJyZWREdXJhdGlvbil9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwdC0yXCI+XG4gICAgICAgICAgICA8U2xpZGVyXG4gICAgICAgICAgICAgIG1pbj17MTV9XG4gICAgICAgICAgICAgIG1heD17NDMyMH1cbiAgICAgICAgICAgICAgc3RlcD17MTV9XG4gICAgICAgICAgICAgIHZhbHVlPXtbcHJlZmVycmVkRHVyYXRpb25dfVxuICAgICAgICAgICAgICBvblZhbHVlQ2hhbmdlPXsodmFsdWVzKSA9PiBzZXRQcmVmZXJyZWREdXJhdGlvbih2YWx1ZXNbMF0pfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtdC0yXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIG10LTJcIj5cbiAgICAgICAgICAgICAgPHNwYW4+MTUgbWludXRlczwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4+MyBkYXlzPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgey8qIFByZWZlcnJlZCBEYXRlIChvcHRpb25hbCkgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LWJhc2UgZm9udC1tZWRpdW0gZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgPENhbGVuZGFySWNvbiBjbGFzc05hbWU9XCJoLTUgdy01IHRleHQtdmlvbGV0LTUwMFwiIC8+XG4gICAgICAgICAgICAgIFByZWZlcnJlZCBEYXRlIChPcHRpb25hbClcbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAgPFBvcG92ZXIgb3Blbj17Y2FsZW5kYXJPcGVufSBvbk9wZW5DaGFuZ2U9e3NldENhbGVuZGFyT3Blbn0+XG4gICAgICAgICAgICA8UG9wb3ZlclRyaWdnZXIgYXNDaGlsZD5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICAgICAgICAgICAgXCJ3LWZ1bGwganVzdGlmeS1zdGFydCB0ZXh0LWxlZnQgZm9udC1ub3JtYWxcIixcbiAgICAgICAgICAgICAgICAgICFwcmVmZXJyZWREYXRlICYmIFwidGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCJcbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPENhbGVuZGFySWNvbiBjbGFzc05hbWU9XCJtci0yIGgtNCB3LTRcIiAvPlxuICAgICAgICAgICAgICAgIHtwcmVmZXJyZWREYXRlID8gZm9ybWF0KHByZWZlcnJlZERhdGUsIFwiUFBQXCIpIDogXCJTZWxlY3QgcHJlZmVycmVkIGRhdGVcIn1cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L1BvcG92ZXJUcmlnZ2VyPlxuICAgICAgICAgICAgPFBvcG92ZXJDb250ZW50IGNsYXNzTmFtZT1cInctYXV0byBwLTBcIj5cbiAgICAgICAgICAgICAgPENhbGVuZGFyXG4gICAgICAgICAgICAgICAgbW9kZT1cInNpbmdsZVwiXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQ9e3ByZWZlcnJlZERhdGV9XG4gICAgICAgICAgICAgICAgb25TZWxlY3Q9eyhkYXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRQcmVmZXJyZWREYXRlKGRhdGUpO1xuICAgICAgICAgICAgICAgICAgc2V0Q2FsZW5kYXJPcGVuKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIGluaXRpYWxGb2N1c1xuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9Qb3BvdmVyQ29udGVudD5cbiAgICAgICAgICA8L1BvcG92ZXI+XG4gICAgICAgICAgXG4gICAgICAgICAge3ByZWZlcnJlZERhdGUgJiYgKFxuICAgICAgICAgICAgPEJ1dHRvbiBcbiAgICAgICAgICAgICAgdmFyaWFudD1cImdob3N0XCIgXG4gICAgICAgICAgICAgIHNpemU9XCJzbVwiIFxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRQcmVmZXJyZWREYXRlKHVuZGVmaW5lZCl9IFxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXhzXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgQ2xlYXIgZGF0ZVxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICB7LyogUGVyc29uYWwgRmF2b3JpdGUgVG9nZ2xlICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBwLTQgYm9yZGVyIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XG4gICAgICAgICAgICA8SGVhcnQgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgICAgICAgXCJoLTUgdy01XCIsXG4gICAgICAgICAgICAgIGlzUGVyc29uYWxGYXZvcml0ZSA/IFwidGV4dC1waW5rLTUwMCBmaWxsLXBpbmstNTAwXCIgOiBcInRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiXG4gICAgICAgICAgICApfSAvPlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj5NYXJrIGFzIEZhdm9yaXRlPC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPlxuICAgICAgICAgICAgICAgIEZhdm9yaXRlIHBsYWNlcyBhcmUgcHJpb3JpdGl6ZWQgaW4gcGxhbm5pbmdcbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPFN3aXRjaFxuICAgICAgICAgICAgY2hlY2tlZD17aXNQZXJzb25hbEZhdm9yaXRlfVxuICAgICAgICAgICAgb25DaGVja2VkQ2hhbmdlPXtzZXRJc1BlcnNvbmFsRmF2b3JpdGV9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICB7LyogTm90ZXMgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtYmFzZSBmb250LW1lZGl1bVwiPk5vdGVzIChPcHRpb25hbCk8L2xhYmVsPlxuICAgICAgICAgIDxUZXh0YXJlYVxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJBZGQgYW55IG5vdGVzIGFib3V0IHRoaXMgcGxhY2UuLi5cIlxuICAgICAgICAgICAgdmFsdWU9e25vdGVzfVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXROb3RlcyhlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicmVzaXplLW5vbmVcIlxuICAgICAgICAgIC8+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj5cbiAgICAgICAgICAgIFRoZXNlIG5vdGVzIHdpbGwgYmUgdmlzaWJsZSBvbmx5IHRvIHlvdSBhbmQgd29uJ3QgYmUgc2hhcmVkIHdpdGggdGhlIGdyb3VwXG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIHsvKiBTdWJtaXQgQnV0dG9uIChCb3R0b20pICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB0LTRcIj5cbiAgICAgICAgICA8QnV0dG9uIFxuICAgICAgICAgICAgdHlwZT1cInN1Ym1pdFwiIFxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLXNreS01MDAgaG92ZXI6Ymctc2t5LTYwMFwiXG4gICAgICAgICAgICBkaXNhYmxlZD17aXNTdWJtaXR0aW5nfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtpc1N1Ym1pdHRpbmcgPyAoXG4gICAgICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT1cImgtNCB3LTQgYW5pbWF0ZS1zcGluIG1yLTJcIiAvPlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgPFNhdmUgY2xhc3NOYW1lPVwiaC00IHctNCBtci0yXCIgLz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICBTYXZlIHRvIFdpc2hsaXN0XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgXG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWNlbnRlciB0ZXh0LW11dGVkLWZvcmVncm91bmQgbXQtMlwiPlxuICAgICAgICAgICAgQWRkaW5nIHRvIHlvdXIgd2lzaGxpc3QgZG9lcyBub3QgZ3VhcmFudGVlIGluY2x1c2lvbiBpbiB0aGUgZmluYWwgZ3JvdXAgaXRpbmVyYXJ5LlxuICAgICAgICAgICAgVGhlIG9wdGltaXphdGlvbiBhbGdvcml0aG0gd2lsbCBjb25zaWRlciBhbGwgbWVtYmVycycgcHJlZmVyZW5jZXMuXG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZm9ybT5cbiAgICA8L2Rpdj5cbiAgKTtcbn0gIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlUm91dGVyIiwidXNlU2VhcmNoUGFyYW1zIiwiQnV0dG9uIiwiQ2FyZCIsIlNsaWRlciIsIlRleHRhcmVhIiwiU3dpdGNoIiwiTWFwUGluIiwiQ2xvY2siLCJTdGFyIiwiSGVhcnQiLCJDYWxlbmRhckljb24iLCJMb2FkZXIyIiwiQXJyb3dMZWZ0IiwiU2F2ZSIsImNuIiwiYWRkUGxhY2VUb015UGxhY2VzIiwidXNlVG9hc3QiLCJ1c2VHdWVzdFN0b3JlIiwidXNlVHJpcCIsImZvcm1hdCIsIkNhbGVuZGFyIiwiUG9wb3ZlciIsIlBvcG92ZXJDb250ZW50IiwiUG9wb3ZlclRyaWdnZXIiLCJBZGRQbGFjZUZvcm0iLCJwbGFjZURhdGEiLCJvblN1Y2Nlc3MiLCJvbkVycm9yIiwib25DYW5jZWwiLCJkZWZhdWx0RGF0ZSIsInJldHVyblBhdGgiLCJncm91cElkIiwidHJpcElkIiwicm91dGVyIiwic2VhcmNoUGFyYW1zIiwidG9hc3QiLCJzZXNzaW9uSWQiLCJhY3RpdmVUcmlwIiwicGFyYW1QbGFjZUlkIiwiZ2V0IiwicGFyYW1Hcm91cElkIiwicGFyYW1EYXRlIiwicGFyYW1Tb3VyY2UiLCJwcmVmZXJlbmNlU2NvcmUiLCJzZXRQcmVmZXJlbmNlU2NvcmUiLCJwcmVmZXJyZWREdXJhdGlvbiIsInNldFByZWZlcnJlZER1cmF0aW9uIiwibm90ZXMiLCJzZXROb3RlcyIsImlzUGVyc29uYWxGYXZvcml0ZSIsInNldElzUGVyc29uYWxGYXZvcml0ZSIsInByZWZlcnJlZERhdGUiLCJzZXRQcmVmZXJyZWREYXRlIiwiRGF0ZSIsInVuZGVmaW5lZCIsImlzU3VibWl0dGluZyIsInNldElzU3VibWl0dGluZyIsImNhbGVuZGFyT3BlbiIsInNldENhbGVuZGFyT3BlbiIsImhhbmRsZVN1Ym1pdCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImVycm9yTXNnIiwiY29uc29sZSIsImVycm9yIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsInZhcmlhbnQiLCJsb2ciLCJteVBsYWNlRGF0YSIsInVzZXJfaWQiLCJzZXNzaW9uX2lkIiwiZ3JvdXBfaWQiLCJpZCIsInBsYWNlX2lkIiwibmFtZSIsImFkZHJlc3MiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsInByZWZlcmVuY2Vfc2NvcmUiLCJwcmVmZXJyZWRfZHVyYXRpb24iLCJwcmVmZXJyZWRfZGF0ZSIsImlzX3BlcnNvbmFsX2Zhdm9yaXRlIiwicmVzdWx0IiwiYXV0b0FkZGVkVG9UcmlwIiwiYmFjayIsInB1c2giLCJnZXRQcmVmZXJlbmNlTGFiZWwiLCJzY29yZSIsImZvcm1hdER1cmF0aW9uIiwibWludXRlcyIsImhvdXJzIiwiTWF0aCIsImZsb29yIiwibWlucyIsImRheXMiLCJyZW1haW5pbmdIb3VycyIsImhhbmRsZUJhY2siLCJkaXYiLCJjbGFzc05hbWUiLCJwIiwib25DbGljayIsInNpemUiLCJoMSIsImRpc2FibGVkIiwiZm9ybSIsIm9uU3VibWl0IiwiaDIiLCJzcGFuIiwicGhvdG9zIiwibGVuZ3RoIiwibWFwIiwicGhvdG8iLCJpbmRleCIsImltZyIsInNyYyIsImFsdCIsInR5cGVzIiwic2xpY2UiLCJ0eXBlIiwicmVwbGFjZSIsImxhYmVsIiwibWluIiwibWF4Iiwic3RlcCIsInZhbHVlIiwib25WYWx1ZUNoYW5nZSIsInZhbHVlcyIsIm9wZW4iLCJvbk9wZW5DaGFuZ2UiLCJhc0NoaWxkIiwibW9kZSIsInNlbGVjdGVkIiwib25TZWxlY3QiLCJkYXRlIiwiaW5pdGlhbEZvY3VzIiwiY2hlY2tlZCIsIm9uQ2hlY2tlZENoYW5nZSIsInBsYWNlaG9sZGVyIiwib25DaGFuZ2UiLCJ0YXJnZXQiLCJyb3dzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/places/add-place-form.tsx\n");

/***/ }),

/***/ "(ssr)/./components/places/google-places-search.tsx":
/*!****************************************************!*\
  !*** ./components/places/google-places-search.tsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ GooglePlacesSearch)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/shared/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_Search_MapPin_Loader2_X_Globe_lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=Search,MapPin,Loader2,X,Globe!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/search.js\");\n/* harmony import */ var _barrel_optimize_names_Search_MapPin_Loader2_X_Globe_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Search,MapPin,Loader2,X,Globe!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_Search_MapPin_Loader2_X_Globe_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Search,MapPin,Loader2,X,Globe!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _barrel_optimize_names_Search_MapPin_Loader2_X_Globe_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Search,MapPin,Loader2,X,Globe!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/globe.js\");\n/* harmony import */ var _barrel_optimize_names_Search_MapPin_Loader2_X_Globe_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=Search,MapPin,Loader2,X,Globe!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/map-pin.js\");\n/* harmony import */ var _lib_utils_language_detection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/utils/language-detection */ \"(ssr)/./lib/utils/language-detection.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\nfunction GooglePlacesSearch({ placeholder, onPlaceSelect, size = \"medium\", className = \"\", autoFocus = false, countryRestriction, noResultsText }) {\n    const [query, setQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [results, setResults] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showResults, setShowResults] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [selectedPlace, setSelectedPlace] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [language, setLanguage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"en\");\n    const debounceTimer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const placesService = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // 言語の検出\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const detectedLanguage = (0,_lib_utils_language_detection__WEBPACK_IMPORTED_MODULE_2__.detectUserLanguage)();\n        setLanguage(detectedLanguage);\n        console.log(\"✅ GooglePlacesSearch 初期化:\", {\n            language: detectedLanguage,\n            countryRestriction\n        });\n        // initPlacesServiceを呼び出す\n        initPlacesService();\n        // APIが読み込まれているかのチェックを実行（バックアップメカニズム）\n        const checkGoogleMapsInterval = setInterval(()=>{\n            if (typeof google !== \"undefined\" && google.maps && google.maps.places) {\n                if (!placesService.current) {\n                    console.log(\"\\uD83D\\uDD04 Google Maps APIが読み込まれました。Places サービスを初期化します。\");\n                    initPlacesService();\n                }\n                clearInterval(checkGoogleMapsInterval);\n            }\n        }, 1000);\n        // 10秒後にチェックを停止\n        setTimeout(()=>clearInterval(checkGoogleMapsInterval), 10000);\n        return ()=>{\n            clearInterval(checkGoogleMapsInterval);\n        };\n    }, [\n        countryRestriction\n    ]);\n    // 改善：Google Mapsが確実に読み込まれるようにinitPlacesServiceを強化\n    // completeInit関数を外部に定義\n    const completeInit = (placesServiceRef)=>{\n        const mapDiv = document.createElement(\"div\");\n        mapDiv.style.display = \"none\";\n        document.body.appendChild(mapDiv);\n        try {\n            const map = new google.maps.Map(mapDiv, {\n                center: {\n                    lat: 0,\n                    lng: 0\n                },\n                zoom: 2\n            });\n            placesServiceRef.current = new google.maps.places.PlacesService(map);\n            console.log(\"✅ Google Places サービス初期化完了\");\n        } catch (error) {\n            console.error(\"❌ Places サービス初期化エラー:\", error);\n        }\n    };\n    const initPlacesService = ()=>{\n        try {\n            console.log(\"✅ Google Places サービス初期化を開始します\");\n            // Google Maps APIが読み込まれているか確認\n            if (typeof google === \"undefined\" || !google.maps || !google.maps.places) {\n                console.error(\"❌ Google Maps APIが読み込まれていません。initPlacesService呼び出し時点でgoogle.mapsが利用できません。\");\n                // scriptタグを手動で追加\n                const script = document.createElement(\"script\");\n                script.src = `https://maps.googleapis.com/maps/api/js?key=${\"AIzaSyCsjSFjgQPCQQmYD30S9t27Zyvcg87jLYM\"}&libraries=places`;\n                script.async = true;\n                script.defer = true;\n                script.onload = ()=>{\n                    console.log(\"✅ Google Maps API スクリプトが読み込まれました\");\n                    completeInit(placesService);\n                };\n                script.onerror = ()=>{\n                    console.error(\"❌ Google Maps API スクリプトの読み込みに失敗しました\");\n                };\n                document.head.appendChild(script);\n                return;\n            } else {\n                completeInit(placesService);\n            }\n        } catch (error) {\n            console.error(\"❌ initPlacesService 実行エラー:\", error);\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // 前回のタイマーをクリア\n        if (debounceTimer.current) {\n            clearTimeout(debounceTimer.current);\n        }\n        // 短すぎるクエリは検索しない\n        if (query.length < 2) {\n            setResults([]);\n            setShowResults(false);\n            return;\n        }\n        // 検索をデバウンス\n        debounceTimer.current = setTimeout(()=>{\n            performSearch(query);\n        }, 300);\n        return ()=>{\n            if (debounceTimer.current) {\n                clearTimeout(debounceTimer.current);\n            }\n        };\n    }, [\n        query,\n        language\n    ]);\n    // autoFocusがtrueの場合、ロード時に入力にフォーカス\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (autoFocus && inputRef.current) {\n            inputRef.current.focus();\n        }\n    }, [\n        autoFocus\n    ]);\n    const performSearch = async (searchQuery)=>{\n        setIsLoading(true);\n        setShowResults(true);\n        try {\n            if (placesService.current) {\n                // 実際のGoogle Places APIを使用\n                await performRealSearch(searchQuery);\n            } else {\n                // Google Places APIが初期化されていない場合\n                console.error(\"Google Places APIが初期化されていません\");\n                setResults([]);\n                // APIの初期化を試みる\n                initPlacesService();\n            }\n        } catch (error) {\n            console.error(\"検索エラー:\", error);\n            setResults([]);\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    // 検索クエリから言語を推測する関数\n    const detectQueryLanguage = (query)=>{\n        // 英数字のみの場合は英語と判定\n        if (/^[a-zA-Z0-9\\s.,\\-']+$/.test(query)) {\n            return \"en\";\n        }\n        // 日本語文字が含まれる場合は日本語と判定\n        if (/[\\u3000-\\u303f\\u3040-\\u309f\\u30a0-\\u30ff\\uff00-\\uff9f\\u4e00-\\u9faf]/.test(query)) {\n            return \"ja\";\n        }\n        // それ以外の場合はブラウザの言語設定を使用\n        return language;\n    };\n    const performRealSearch = async (searchQuery)=>{\n        return new Promise((resolve)=>{\n            if (!placesService.current) {\n                console.error(\"Places サービスが初期化されていません\");\n                setIsLoading(false);\n                resolve();\n                return;\n            }\n            // 検索クエリの言語を検出\n            const queryLanguage = detectQueryLanguage(searchQuery);\n            console.log(`🔍 検索クエリ「${searchQuery}」の言語を ${queryLanguage === \"en\" ? \"英語\" : queryLanguage === \"ja\" ? \"日本語\" : \"検出された言語\"} と判定しました`);\n            // 適切な言語設定で検索リクエストを構成\n            const request = {\n                query: searchQuery,\n                language: queryLanguage\n            };\n            // 国の制限がある場合は追加\n            if (countryRestriction) {\n                console.log(`🌍 検索を ${countryRestriction} に制限します`);\n                // request.locationBias は動作しないため、クエリに国名を追加\n                request.query = `${searchQuery} ${countryRestriction}`;\n            }\n            console.log(\"\\uD83D\\uDD0D Google Places 検索リクエスト:\", request);\n            placesService.current.textSearch(request, (results, status)=>{\n                if (status === google.maps.places.PlacesServiceStatus.OK && results) {\n                    console.log(\"✅ 検索結果:\", results.length, \"件の場所が見つかりました\");\n                    // 検索結果をSearchResult型に変換（最大5件まで）\n                    const searchResults = results.slice(0, 5).map((place)=>{\n                        const photoUrls = [];\n                        if (place.photos && place.photos.length > 0) {\n                            place.photos.slice(0, 2).forEach((photo)=>{\n                                photoUrls.push(photo.getUrl({\n                                    maxWidth: 400,\n                                    maxHeight: 300\n                                }));\n                            });\n                        }\n                        return {\n                            place_id: place.place_id || `place_${Date.now()}`,\n                            name: place.name || searchQuery,\n                            address: place.formatted_address || \"\",\n                            latitude: place.geometry?.location?.lat() || 0,\n                            longitude: place.geometry?.location?.lng() || 0,\n                            photos: photoUrls,\n                            types: place.types || [],\n                            rating: place.rating,\n                            user_ratings_total: place.user_ratings_total\n                        };\n                    });\n                    setResults(searchResults);\n                } else {\n                    console.warn(\"❌ Places 検索失敗:\", status);\n                    // findPlaceFromQueryをフォールバックとして試す\n                    console.log(\"代替検索方法を試みます...\");\n                    performFindPlaceSearch(searchQuery).then(()=>resolve());\n                    return;\n                }\n                setIsLoading(false);\n                resolve();\n            });\n        });\n    };\n    const performFindPlaceSearch = async (searchQuery)=>{\n        return new Promise((resolve)=>{\n            if (!placesService.current) {\n                setIsLoading(false);\n                resolve();\n                return;\n            }\n            // 検索クエリの言語を検出\n            const queryLanguage = detectQueryLanguage(searchQuery);\n            // 代替検索方法\n            const request = {\n                query: searchQuery,\n                fields: [\n                    \"name\",\n                    \"geometry\",\n                    \"formatted_address\",\n                    \"place_id\",\n                    \"types\",\n                    \"photos\",\n                    \"rating\",\n                    \"user_ratings_total\"\n                ],\n                language: queryLanguage\n            };\n            console.log(\"\\uD83D\\uDD0D findPlaceFromQuery 検索リクエスト:\", request);\n            placesService.current.findPlaceFromQuery(request, (results, status)=>{\n                if (status === google.maps.places.PlacesServiceStatus.OK && results) {\n                    console.log(\"✅ findPlaceFromQuery 検索結果:\", results);\n                    // 検索結果をSearchResult型に変換\n                    const searchResults = results.map((place)=>{\n                        const photoUrls = [];\n                        if (place.photos && place.photos.length > 0) {\n                            place.photos.slice(0, 2).forEach((photo)=>{\n                                photoUrls.push(photo.getUrl({\n                                    maxWidth: 400,\n                                    maxHeight: 300\n                                }));\n                            });\n                        }\n                        return {\n                            place_id: place.place_id || `place_${Date.now()}`,\n                            name: place.name || searchQuery,\n                            address: place.formatted_address || \"\",\n                            latitude: place.geometry?.location?.lat() || 0,\n                            longitude: place.geometry?.location?.lng() || 0,\n                            photos: photoUrls,\n                            types: place.types || [],\n                            rating: place.rating,\n                            user_ratings_total: place.user_ratings_total\n                        };\n                    });\n                    setResults(searchResults);\n                } else {\n                    console.error(\"findPlaceFromQuery 検索エラー:\", status);\n                    // 検索失敗の場合は空の結果を設定\n                    setResults([]);\n                }\n                setIsLoading(false);\n                resolve();\n            });\n        });\n    };\n    const handlePlaceSelect = (place)=>{\n        console.log(\"\\uD83C\\uDFAF 場所が選択されました:\", place);\n        setQuery(place.name);\n        setShowResults(false);\n        setSelectedPlace(place);\n        onPlaceSelect(place);\n    };\n    const handleInputFocus = ()=>{\n        if (results.length > 0) {\n            setShowResults(true);\n        }\n    };\n    const handleInputBlur = ()=>{\n        // クリックを許可するために結果を非表示にするのを遅らせる\n        setTimeout(()=>setShowResults(false), 200);\n    };\n    const clearSelection = ()=>{\n        setQuery(\"\");\n        setSelectedPlace(null);\n        setResults([]);\n        setShowResults(false);\n        if (inputRef.current) {\n            inputRef.current.focus();\n        }\n    };\n    const sizeClasses = {\n        small: \"text-sm py-1.5 px-2\",\n        medium: \"text-base py-2 px-3\",\n        large: \"text-lg py-3 px-4\"\n    };\n    // ローカライズされたプレースホルダーを取得\n    const localizedPlaceholder = getLocalizedPlaceholder(language, placeholder);\n    const localizedNoResultsText = getLocalizedNoResultsMessage(language, noResultsText);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `relative w-full ${className}`,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"relative\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Search_MapPin_Loader2_X_Globe_lucide_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                        className: \"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5\"\n                    }, void 0, false, {\n                        fileName: \"/Users/kominetenma/Desktop/project/components/places/google-places-search.tsx\",\n                        lineNumber: 362,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        ref: inputRef,\n                        type: \"text\",\n                        value: query,\n                        onChange: (e)=>setQuery(e.target.value),\n                        onFocus: handleInputFocus,\n                        onBlur: handleInputBlur,\n                        placeholder: localizedPlaceholder,\n                        className: `w-full pl-10 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent ${sizeClasses[size]}`\n                    }, void 0, false, {\n                        fileName: \"/Users/kominetenma/Desktop/project/components/places/google-places-search.tsx\",\n                        lineNumber: 363,\n                        columnNumber: 9\n                    }, this),\n                    isLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Search_MapPin_Loader2_X_Globe_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                        className: \"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 animate-spin\"\n                    }, void 0, false, {\n                        fileName: \"/Users/kominetenma/Desktop/project/components/places/google-places-search.tsx\",\n                        lineNumber: 374,\n                        columnNumber: 11\n                    }, this) : query.length > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        type: \"button\",\n                        onClick: clearSelection,\n                        className: \"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Search_MapPin_Loader2_X_Globe_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                            className: \"w-5 h-5\"\n                        }, void 0, false, {\n                            fileName: \"/Users/kominetenma/Desktop/project/components/places/google-places-search.tsx\",\n                            lineNumber: 381,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/kominetenma/Desktop/project/components/places/google-places-search.tsx\",\n                        lineNumber: 376,\n                        columnNumber: 11\n                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5\",\n                        title: `Language: ${language.toUpperCase()}`,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Search_MapPin_Loader2_X_Globe_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                            className: \"w-5 h-5\"\n                        }, void 0, false, {\n                            fileName: \"/Users/kominetenma/Desktop/project/components/places/google-places-search.tsx\",\n                            lineNumber: 388,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/kominetenma/Desktop/project/components/places/google-places-search.tsx\",\n                        lineNumber: 384,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/kominetenma/Desktop/project/components/places/google-places-search.tsx\",\n                lineNumber: 361,\n                columnNumber: 7\n            }, this),\n            selectedPlace && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-200 dark:border-blue-800\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center justify-between\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex-1\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-sm font-medium text-blue-900 dark:text-blue-100\",\n                                    children: selectedPlace.name\n                                }, void 0, false, {\n                                    fileName: \"/Users/kominetenma/Desktop/project/components/places/google-places-search.tsx\",\n                                    lineNumber: 398,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-xs text-blue-700 dark:text-blue-300\",\n                                    children: selectedPlace.address\n                                }, void 0, false, {\n                                    fileName: \"/Users/kominetenma/Desktop/project/components/places/google-places-search.tsx\",\n                                    lineNumber: 401,\n                                    columnNumber: 15\n                                }, this),\n                                selectedPlace.rating && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center text-xs mt-1\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-amber-500 mr-1\",\n                                            children: \"★\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/kominetenma/Desktop/project/components/places/google-places-search.tsx\",\n                                            lineNumber: 408,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-blue-700 dark:text-blue-300\",\n                                            children: selectedPlace.rating.toFixed(1)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/kominetenma/Desktop/project/components/places/google-places-search.tsx\",\n                                            lineNumber: 409,\n                                            columnNumber: 19\n                                        }, this),\n                                        selectedPlace.user_ratings_total && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-blue-600/70 dark:text-blue-400/70 ml-1\",\n                                            children: [\n                                                \"(\",\n                                                selectedPlace.user_ratings_total,\n                                                \")\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/kominetenma/Desktop/project/components/places/google-places-search.tsx\",\n                                            lineNumber: 411,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/kominetenma/Desktop/project/components/places/google-places-search.tsx\",\n                                    lineNumber: 407,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/kominetenma/Desktop/project/components/places/google-places-search.tsx\",\n                            lineNumber: 397,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: clearSelection,\n                            className: \"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-200\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Search_MapPin_Loader2_X_Globe_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                className: \"w-4 h-4\"\n                            }, void 0, false, {\n                                fileName: \"/Users/kominetenma/Desktop/project/components/places/google-places-search.tsx\",\n                                lineNumber: 422,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/kominetenma/Desktop/project/components/places/google-places-search.tsx\",\n                            lineNumber: 418,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/kominetenma/Desktop/project/components/places/google-places-search.tsx\",\n                    lineNumber: 396,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/kominetenma/Desktop/project/components/places/google-places-search.tsx\",\n                lineNumber: 395,\n                columnNumber: 9\n            }, this),\n            showResults && results.length > 0 && !selectedPlace && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg max-h-60 overflow-y-auto\",\n                children: results.map((place)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>handlePlaceSelect(place),\n                        className: \"w-full px-4 py-3 text-left hover:bg-gray-50 dark:hover:bg-gray-700 border-b border-gray-100 dark:border-gray-600 last:border-b-0 focus:bg-gray-50 dark:focus:bg-gray-700 focus:outline-none\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-start space-x-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Search_MapPin_Loader2_X_Globe_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                    className: \"w-5 h-5 text-gray-400 mt-0.5 flex-shrink-0\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/kominetenma/Desktop/project/components/places/google-places-search.tsx\",\n                                    lineNumber: 438,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1 min-w-0\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm font-medium text-gray-900 dark:text-white truncate\",\n                                            children: place.name\n                                        }, void 0, false, {\n                                            fileName: \"/Users/kominetenma/Desktop/project/components/places/google-places-search.tsx\",\n                                            lineNumber: 440,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-xs text-gray-500 dark:text-gray-400 truncate\",\n                                            children: place.address\n                                        }, void 0, false, {\n                                            fileName: \"/Users/kominetenma/Desktop/project/components/places/google-places-search.tsx\",\n                                            lineNumber: 443,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center space-x-3 mt-1\",\n                                            children: [\n                                                place.rating && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center text-xs\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-amber-500 mr-1\",\n                                                            children: \"★\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/kominetenma/Desktop/project/components/places/google-places-search.tsx\",\n                                                            lineNumber: 451,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            children: place.rating.toFixed(1)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/kominetenma/Desktop/project/components/places/google-places-search.tsx\",\n                                                            lineNumber: 452,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        place.user_ratings_total && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-gray-400 ml-1\",\n                                                            children: [\n                                                                \"(\",\n                                                                place.user_ratings_total,\n                                                                \")\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/kominetenma/Desktop/project/components/places/google-places-search.tsx\",\n                                                            lineNumber: 454,\n                                                            columnNumber: 27\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/kominetenma/Desktop/project/components/places/google-places-search.tsx\",\n                                                    lineNumber: 450,\n                                                    columnNumber: 23\n                                                }, this),\n                                                place.types && place.types.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-xs text-blue-500\",\n                                                    children: place.types.slice(0, 2).map((type)=>type.replace(/_/g, \" \")).join(\", \")\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/kominetenma/Desktop/project/components/places/google-places-search.tsx\",\n                                                    lineNumber: 460,\n                                                    columnNumber: 23\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/kominetenma/Desktop/project/components/places/google-places-search.tsx\",\n                                            lineNumber: 448,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/kominetenma/Desktop/project/components/places/google-places-search.tsx\",\n                                    lineNumber: 439,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/kominetenma/Desktop/project/components/places/google-places-search.tsx\",\n                            lineNumber: 437,\n                            columnNumber: 15\n                        }, this)\n                    }, place.place_id, false, {\n                        fileName: \"/Users/kominetenma/Desktop/project/components/places/google-places-search.tsx\",\n                        lineNumber: 432,\n                        columnNumber: 13\n                    }, this))\n            }, void 0, false, {\n                fileName: \"/Users/kominetenma/Desktop/project/components/places/google-places-search.tsx\",\n                lineNumber: 430,\n                columnNumber: 9\n            }, this),\n            showResults && !isLoading && results.length === 0 && query.length >= 2 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg p-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-sm text-gray-500 dark:text-gray-400 text-center\",\n                    children: [\n                        localizedNoResultsText,\n                        ' \"',\n                        query,\n                        '\"'\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/kominetenma/Desktop/project/components/places/google-places-search.tsx\",\n                    lineNumber: 475,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/kominetenma/Desktop/project/components/places/google-places-search.tsx\",\n                lineNumber: 474,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/kominetenma/Desktop/project/components/places/google-places-search.tsx\",\n        lineNumber: 360,\n        columnNumber: 5\n    }, this);\n}\n// ローカライズヘルパー関数\nconst getLocalizedPlaceholder = (language, customPlaceholder)=>{\n    if (customPlaceholder) return customPlaceholder;\n    const placeholders = {\n        \"en\": \"Search for places...\",\n        \"ja\": \"場所を検索...\",\n        \"fr\": \"Rechercher des lieux...\",\n        \"es\": \"Buscar lugares...\",\n        \"de\": \"Orte suchen...\",\n        \"zh\": \"搜索地点...\",\n        \"ko\": \"장소 검색...\",\n        \"pt\": \"Pesquisar lugares...\",\n        \"it\": \"Cerca luoghi...\",\n        \"ru\": \"Поиск мест...\"\n    };\n    return placeholders[language] || placeholders[\"en\"];\n};\nconst getLocalizedNoResultsMessage = (language, customMessage)=>{\n    if (customMessage) return customMessage;\n    const messages = {\n        \"en\": \"No places found for\",\n        \"ja\": \"見つかりませんでした:\",\n        \"fr\": \"Aucun lieu trouv\\xe9 pour\",\n        \"es\": \"No se encontraron lugares para\",\n        \"de\": \"Keine Orte gefunden f\\xfcr\",\n        \"zh\": \"未找到地点:\",\n        \"ko\": \"장소를 찾을 수 없습니다:\",\n        \"pt\": \"Nenhum lugar encontrado para\",\n        \"it\": \"Nessun luogo trovato per\",\n        \"ru\": \"Места не найдены:\"\n    };\n    return messages[language] || messages[\"en\"];\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3BsYWNlcy9nb29nbGUtcGxhY2VzLXNlYXJjaC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBRW9EO0FBQ2E7QUFFRztBQVlyRCxTQUFTUyxtQkFBbUIsRUFDekNDLFdBQVcsRUFDWEMsYUFBYSxFQUNiQyxPQUFPLFFBQVEsRUFDZkMsWUFBWSxFQUFFLEVBQ2RDLFlBQVksS0FBSyxFQUNqQkMsa0JBQWtCLEVBQ2xCQyxhQUFhLEVBQ1c7SUFDeEIsTUFBTSxDQUFDQyxPQUFPQyxTQUFTLEdBQUdsQiwrQ0FBUUEsQ0FBQztJQUNuQyxNQUFNLENBQUNtQixTQUFTQyxXQUFXLEdBQUdwQiwrQ0FBUUEsQ0FBaUIsRUFBRTtJQUN6RCxNQUFNLENBQUNxQixXQUFXQyxhQUFhLEdBQUd0QiwrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUN1QixhQUFhQyxlQUFlLEdBQUd4QiwrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUN5QixlQUFlQyxpQkFBaUIsR0FBRzFCLCtDQUFRQSxDQUFzQjtJQUN4RSxNQUFNLENBQUMyQixVQUFVQyxZQUFZLEdBQUc1QiwrQ0FBUUEsQ0FBQztJQUN6QyxNQUFNNkIsZ0JBQWdCM0IsNkNBQU1BO0lBQzVCLE1BQU00QixXQUFXNUIsNkNBQU1BLENBQW1CO0lBQzFDLE1BQU02QixnQkFBZ0I3Qiw2Q0FBTUEsQ0FBMEM7SUFFdEUsUUFBUTtJQUNSRCxnREFBU0EsQ0FBQztRQUNSLE1BQU0rQixtQkFBbUJ4QixpRkFBa0JBO1FBRTNDb0IsWUFBWUk7UUFFWkMsUUFBUUMsR0FBRyxDQUFDLDZCQUE2QjtZQUN2Q1AsVUFBVUs7WUFDVmpCO1FBQ0Y7UUFFQSx5QkFBeUI7UUFDdkJvQjtRQUVGLHFDQUFxQztRQUNuQyxNQUFNQywwQkFBMEJDLFlBQVk7WUFDMUMsSUFBSSxPQUFPQyxXQUFXLGVBQWVBLE9BQU9DLElBQUksSUFBSUQsT0FBT0MsSUFBSSxDQUFDQyxNQUFNLEVBQUU7Z0JBQ3hFLElBQUksQ0FB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SXlILFlBQVksQ0FBQyxLQUFLO0FBQ3JEO0FBRUEsTUFBTXJCLCtCQUErQixDQUFDcEcsVUFBa0IwSDtJQUN0RCxJQUFJQSxlQUFlLE9BQU9BO0lBRTFCLE1BQU1DLFdBQW1DO1FBQ3ZDLE1BQU07UUFDTixNQUFNO1FBQ04sTUFBTTtRQUNOLE1BQU07UUFDTixNQUFNO1FBQ04sTUFBTTtRQUNOLE1BQU07UUFDTixNQUFNO1FBQ04sTUFBTTtRQUNOLE1BQU07SUFDUjtJQUVBLE9BQU9BLFFBQVEsQ0FBQzNILFNBQVMsSUFBSTJILFFBQVEsQ0FBQyxLQUFLO0FBQzdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLy4vY29tcG9uZW50cy9wbGFjZXMvZ29vZ2xlLXBsYWNlcy1zZWFyY2gudHN4PzYwYTYiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBTZWFyY2gsIE1hcFBpbiwgTG9hZGVyMiwgWCwgR2xvYmUgfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuaW1wb3J0IHsgU2VhcmNoUmVzdWx0IH0gZnJvbSAnQC9saWIvdHlwZXMvcGxhY2VzJztcbmltcG9ydCB7IGRldGVjdFVzZXJMYW5ndWFnZSB9IGZyb20gJ0AvbGliL3V0aWxzL2xhbmd1YWdlLWRldGVjdGlvbic7XG5cbmludGVyZmFjZSBHb29nbGVQbGFjZXNTZWFyY2hQcm9wcyB7XG4gIHBsYWNlaG9sZGVyPzogc3RyaW5nO1xuICBvblBsYWNlU2VsZWN0OiAocGxhY2U6IFNlYXJjaFJlc3VsdCkgPT4gdm9pZDtcbiAgc2l6ZT86ICdzbWFsbCcgfCAnbWVkaXVtJyB8ICdsYXJnZSc7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbiAgYXV0b0ZvY3VzPzogYm9vbGVhbjtcbiAgY291bnRyeVJlc3RyaWN0aW9uPzogc3RyaW5nOyAvLyBPcHRpb25hbCBjb3VudHJ5IGNvZGUgcmVzdHJpY3Rpb25cbiAgbm9SZXN1bHRzVGV4dD86IHN0cmluZztcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gR29vZ2xlUGxhY2VzU2VhcmNoKHsgXG4gIHBsYWNlaG9sZGVyLFxuICBvblBsYWNlU2VsZWN0LCBcbiAgc2l6ZSA9ICdtZWRpdW0nLFxuICBjbGFzc05hbWUgPSAnJyxcbiAgYXV0b0ZvY3VzID0gZmFsc2UsXG4gIGNvdW50cnlSZXN0cmljdGlvbixcbiAgbm9SZXN1bHRzVGV4dFxufTogR29vZ2xlUGxhY2VzU2VhcmNoUHJvcHMpIHtcbiAgY29uc3QgW3F1ZXJ5LCBzZXRRdWVyeV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtyZXN1bHRzLCBzZXRSZXN1bHRzXSA9IHVzZVN0YXRlPFNlYXJjaFJlc3VsdFtdPihbXSk7XG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93UmVzdWx0cywgc2V0U2hvd1Jlc3VsdHNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2VsZWN0ZWRQbGFjZSwgc2V0U2VsZWN0ZWRQbGFjZV0gPSB1c2VTdGF0ZTxTZWFyY2hSZXN1bHQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2xhbmd1YWdlLCBzZXRMYW5ndWFnZV0gPSB1c2VTdGF0ZSgnZW4nKTtcbiAgY29uc3QgZGVib3VuY2VUaW1lciA9IHVzZVJlZjxOb2RlSlMuVGltZW91dD4oKTtcbiAgY29uc3QgaW5wdXRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IHBsYWNlc1NlcnZpY2UgPSB1c2VSZWY8Z29vZ2xlLm1hcHMucGxhY2VzLlBsYWNlc1NlcnZpY2UgfCBudWxsPihudWxsKTtcblxuICAvLyDoqIDoqp7jga7mpJzlh7pcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBkZXRlY3RlZExhbmd1YWdlID0gZGV0ZWN0VXNlckxhbmd1YWdlKCk7XG4gICAgXG4gICAgc2V0TGFuZ3VhZ2UoZGV0ZWN0ZWRMYW5ndWFnZSk7XG4gICAgXG4gICAgY29uc29sZS5sb2coJ+KchSBHb29nbGVQbGFjZXNTZWFyY2gg5Yid5pyf5YyWOicsIHtcbiAgICAgIGxhbmd1YWdlOiBkZXRlY3RlZExhbmd1YWdlLFxuICAgICAgY291bnRyeVJlc3RyaWN0aW9uXG4gICAgfSk7XG4gICAgXG4gICAgLy8gaW5pdFBsYWNlc1NlcnZpY2XjgpLlkbzjgbPlh7rjgZlcbiAgICAgIGluaXRQbGFjZXNTZXJ2aWNlKCk7XG4gICAgXG4gICAgLy8gQVBJ44GM6Kqt44G/6L6844G+44KM44Gm44GE44KL44GL44Gu44OB44Kn44OD44Kv44KS5a6f6KGM77yI44OQ44OD44Kv44Ki44OD44OX44Oh44Kr44OL44K644Og77yJXG4gICAgICBjb25zdCBjaGVja0dvb2dsZU1hcHNJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBnb29nbGUgIT09ICd1bmRlZmluZWQnICYmIGdvb2dsZS5tYXBzICYmIGdvb2dsZS5tYXBzLnBsYWNlcykge1xuICAgICAgICBpZiAoIXBsYWNlc1NlcnZpY2UuY3VycmVudCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIEdvb2dsZSBNYXBzIEFQSeOBjOiqreOBv+i+vOOBvuOCjOOBvuOBl+OBn+OAglBsYWNlcyDjgrXjg7zjg5PjgrnjgpLliJ3mnJ/ljJbjgZfjgb7jgZnjgIInKTtcbiAgICAgICAgICBpbml0UGxhY2VzU2VydmljZSgpO1xuICAgICAgICB9XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoY2hlY2tHb29nbGVNYXBzSW50ZXJ2YWwpO1xuICAgICAgfVxuICAgIH0sIDEwMDApO1xuICAgICAgXG4gICAgICAvLyAxMOenkuW+jOOBq+ODgeOCp+ODg+OCr+OCkuWBnOatolxuICAgICAgc2V0VGltZW91dCgoKSA9PiBjbGVhckludGVydmFsKGNoZWNrR29vZ2xlTWFwc0ludGVydmFsKSwgMTAwMDApO1xuICAgIFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjbGVhckludGVydmFsKGNoZWNrR29vZ2xlTWFwc0ludGVydmFsKTtcbiAgICB9O1xuICB9LCBbY291bnRyeVJlc3RyaWN0aW9uXSk7XG5cbiAgLy8g5pS55ZaE77yaR29vZ2xlIE1hcHPjgYznorrlrp/jgavoqq3jgb/ovrzjgb7jgozjgovjgojjgYbjgatpbml0UGxhY2VzU2VydmljZeOCkuW8t+WMllxuICAvLyBjb21wbGV0ZUluaXTplqLmlbDjgpLlpJbpg6jjgavlrprnvqlcbiAgY29uc3QgY29tcGxldGVJbml0ID0gKHBsYWNlc1NlcnZpY2VSZWY6IFJlYWN0Lk11dGFibGVSZWZPYmplY3Q8Z29vZ2xlLm1hcHMucGxhY2VzLlBsYWNlc1NlcnZpY2UgfCBudWxsPikgPT4ge1xuICAgIGNvbnN0IG1hcERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG1hcERpdi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobWFwRGl2KTtcbiAgICBcbiAgICB0cnkge1xuICAgIGNvbnN0IG1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAobWFwRGl2LCB7XG4gICAgICBjZW50ZXI6IHsgbGF0OiAwLCBsbmc6IDAgfSxcbiAgICAgIHpvb206IDJcbiAgICB9KTtcbiAgICBcbiAgICAgIHBsYWNlc1NlcnZpY2VSZWYuY3VycmVudCA9IG5ldyBnb29nbGUubWFwcy5wbGFjZXMuUGxhY2VzU2VydmljZShtYXApO1xuICAgIGNvbnNvbGUubG9nKCfinIUgR29vZ2xlIFBsYWNlcyDjgrXjg7zjg5PjgrnliJ3mnJ/ljJblrozkuoYnKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIFBsYWNlcyDjgrXjg7zjg5PjgrnliJ3mnJ/ljJbjgqjjg6njg7w6JywgZXJyb3IpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBpbml0UGxhY2VzU2VydmljZSA9ICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coJ+KchSBHb29nbGUgUGxhY2VzIOOCteODvOODk+OCueWIneacn+WMluOCkumWi+Wni+OBl+OBvuOBmScpO1xuICAgICAgXG4gICAgICAvLyBHb29nbGUgTWFwcyBBUEnjgYzoqq3jgb/ovrzjgb7jgozjgabjgYTjgovjgYvnorroqo1cbiAgICAgIGlmICh0eXBlb2YgZ29vZ2xlID09PSAndW5kZWZpbmVkJyB8fCAhZ29vZ2xlLm1hcHMgfHwgIWdvb2dsZS5tYXBzLnBsYWNlcykge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgR29vZ2xlIE1hcHMgQVBJ44GM6Kqt44G/6L6844G+44KM44Gm44GE44G+44Gb44KT44CCaW5pdFBsYWNlc1NlcnZpY2XlkbzjgbPlh7rjgZfmmYLngrnjgadnb29nbGUubWFwc+OBjOWIqeeUqOOBp+OBjeOBvuOBm+OCk+OAgicpO1xuICAgICAgICAvLyBzY3JpcHTjgr/jgrDjgpLmiYvli5Xjgafov73liqBcbiAgICAgICAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICAgIHNjcmlwdC5zcmMgPSBgaHR0cHM6Ly9tYXBzLmdvb2dsZWFwaXMuY29tL21hcHMvYXBpL2pzP2tleT0ke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0dPT0dMRV9NQVBTX0FQSV9LRVl9JmxpYnJhcmllcz1wbGFjZXNgO1xuICAgICAgICBzY3JpcHQuYXN5bmMgPSB0cnVlO1xuICAgICAgICBzY3JpcHQuZGVmZXIgPSB0cnVlO1xuICAgICAgICBzY3JpcHQub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgR29vZ2xlIE1hcHMgQVBJIOOCueOCr+ODquODl+ODiOOBjOiqreOBv+i+vOOBvuOCjOOBvuOBl+OBnycpO1xuICAgICAgICAgIGNvbXBsZXRlSW5pdChwbGFjZXNTZXJ2aWNlKTtcbiAgICAgICAgfTtcbiAgICAgICAgc2NyaXB0Lm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEdvb2dsZSBNYXBzIEFQSSDjgrnjgq/jg6rjg5fjg4jjga7oqq3jgb/ovrzjgb/jgavlpLHmlZfjgZfjgb7jgZfjgZ8nKTtcbiAgICAgICAgfTtcbiAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb21wbGV0ZUluaXQocGxhY2VzU2VydmljZSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBpbml0UGxhY2VzU2VydmljZSDlrp/ooYzjgqjjg6njg7w6JywgZXJyb3IpO1xuICAgIH1cbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIOWJjeWbnuOBruOCv+OCpOODnuODvOOCkuOCr+ODquOColxuICAgIGlmIChkZWJvdW5jZVRpbWVyLmN1cnJlbnQpIHtcbiAgICAgIGNsZWFyVGltZW91dChkZWJvdW5jZVRpbWVyLmN1cnJlbnQpO1xuICAgIH1cblxuICAgIC8vIOefreOBmeOBjuOCi+OCr+OCqOODquOBr+aknOe0ouOBl+OBquOBhFxuICAgIGlmIChxdWVyeS5sZW5ndGggPCAyKSB7XG4gICAgICBzZXRSZXN1bHRzKFtdKTtcbiAgICAgIHNldFNob3dSZXN1bHRzKGZhbHNlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyDmpJzntKLjgpLjg4fjg5Djgqbjg7PjgrlcbiAgICBkZWJvdW5jZVRpbWVyLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHBlcmZvcm1TZWFyY2gocXVlcnkpO1xuICAgIH0sIDMwMCk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKGRlYm91bmNlVGltZXIuY3VycmVudCkge1xuICAgICAgICBjbGVhclRpbWVvdXQoZGVib3VuY2VUaW1lci5jdXJyZW50KTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbcXVlcnksIGxhbmd1YWdlXSk7XG5cbiAgLy8gYXV0b0ZvY3Vz44GMdHJ1ZeOBruWgtOWQiOOAgeODreODvOODieaZguOBq+WFpeWKm+OBq+ODleOCqeODvOOCq+OCuVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhdXRvRm9jdXMgJiYgaW5wdXRSZWYuY3VycmVudCkge1xuICAgICAgaW5wdXRSZWYuY3VycmVudC5mb2N1cygpO1xuICAgIH1cbiAgfSwgW2F1dG9Gb2N1c10pO1xuXG4gIGNvbnN0IHBlcmZvcm1TZWFyY2ggPSBhc3luYyAoc2VhcmNoUXVlcnk6IHN0cmluZykgPT4ge1xuICAgIHNldElzTG9hZGluZyh0cnVlKTtcbiAgICBzZXRTaG93UmVzdWx0cyh0cnVlKTtcblxuICAgIHRyeSB7XG4gICAgICBpZiAocGxhY2VzU2VydmljZS5jdXJyZW50KSB7XG4gICAgICAgIC8vIOWun+mam+OBrkdvb2dsZSBQbGFjZXMgQVBJ44KS5L2/55SoXG4gICAgICAgIGF3YWl0IHBlcmZvcm1SZWFsU2VhcmNoKHNlYXJjaFF1ZXJ5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEdvb2dsZSBQbGFjZXMgQVBJ44GM5Yid5pyf5YyW44GV44KM44Gm44GE44Gq44GE5aC05ZCIXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0dvb2dsZSBQbGFjZXMgQVBJ44GM5Yid5pyf5YyW44GV44KM44Gm44GE44G+44Gb44KTJyk7XG4gICAgICAgIHNldFJlc3VsdHMoW10pO1xuICAgICAgICAvLyBBUEnjga7liJ3mnJ/ljJbjgpLoqabjgb/jgotcbiAgICAgICAgaW5pdFBsYWNlc1NlcnZpY2UoKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign5qSc57Si44Ko44Op44O8OicsIGVycm9yKTtcbiAgICAgIHNldFJlc3VsdHMoW10pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICAvLyDmpJzntKLjgq/jgqjjg6rjgYvjgonoqIDoqp7jgpLmjqjmuKzjgZnjgovplqLmlbBcbiAgY29uc3QgZGV0ZWN0UXVlcnlMYW5ndWFnZSA9IChxdWVyeTogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICAvLyDoi7HmlbDlrZfjga7jgb/jga7loLTlkIjjga/oi7Hoqp7jgajliKTlrppcbiAgICBpZiAoL15bYS16QS1aMC05XFxzLixcXC0nXSskLy50ZXN0KHF1ZXJ5KSkge1xuICAgICAgcmV0dXJuICdlbic7XG4gICAgfVxuICAgIFxuICAgIC8vIOaXpeacrOiqnuaWh+Wtl+OBjOWQq+OBvuOCjOOCi+WgtOWQiOOBr+aXpeacrOiqnuOBqOWIpOWumlxuICAgIGlmICgvW1xcdTMwMDAtXFx1MzAzZlxcdTMwNDAtXFx1MzA5ZlxcdTMwYTAtXFx1MzBmZlxcdWZmMDAtXFx1ZmY5ZlxcdTRlMDAtXFx1OWZhZl0vLnRlc3QocXVlcnkpKSB7XG4gICAgICByZXR1cm4gJ2phJztcbiAgICB9XG4gICAgXG4gICAgLy8g44Gd44KM5Lul5aSW44Gu5aC05ZCI44Gv44OW44Op44Km44K244Gu6KiA6Kqe6Kit5a6a44KS5L2/55SoXG4gICAgcmV0dXJuIGxhbmd1YWdlO1xuICB9O1xuXG4gIGNvbnN0IHBlcmZvcm1SZWFsU2VhcmNoID0gYXN5bmMgKHNlYXJjaFF1ZXJ5OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIGlmICghcGxhY2VzU2VydmljZS5jdXJyZW50KSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1BsYWNlcyDjgrXjg7zjg5PjgrnjgYzliJ3mnJ/ljJbjgZXjgozjgabjgYTjgb7jgZvjgpMnKTtcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIOaknOe0ouOCr+OCqOODquOBruiogOiqnuOCkuaknOWHulxuICAgICAgY29uc3QgcXVlcnlMYW5ndWFnZSA9IGRldGVjdFF1ZXJ5TGFuZ3VhZ2Uoc2VhcmNoUXVlcnkpO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhg8J+UjSDmpJzntKLjgq/jgqjjg6rjgIwke3NlYXJjaFF1ZXJ5feOAjeOBruiogOiqnuOCkiAke3F1ZXJ5TGFuZ3VhZ2UgPT09ICdlbicgPyAn6Iux6KqeJyA6IHF1ZXJ5TGFuZ3VhZ2UgPT09ICdqYScgPyAn5pel5pys6KqeJyA6ICfmpJzlh7rjgZXjgozjgZ/oqIDoqp4nfSDjgajliKTlrprjgZfjgb7jgZfjgZ9gKTtcblxuICAgICAgLy8g6YGp5YiH44Gq6KiA6Kqe6Kit5a6a44Gn5qSc57Si44Oq44Kv44Ko44K544OI44KS5qeL5oiQXG4gICAgICBjb25zdCByZXF1ZXN0OiBnb29nbGUubWFwcy5wbGFjZXMuVGV4dFNlYXJjaFJlcXVlc3QgPSB7XG4gICAgICAgIHF1ZXJ5OiBzZWFyY2hRdWVyeSxcbiAgICAgICAgbGFuZ3VhZ2U6IHF1ZXJ5TGFuZ3VhZ2VcbiAgICAgIH07XG5cbiAgICAgIC8vIOWbveOBruWItumZkOOBjOOBguOCi+WgtOWQiOOBr+i/veWKoFxuICAgICAgaWYgKGNvdW50cnlSZXN0cmljdGlvbikge1xuICAgICAgICBjb25zb2xlLmxvZyhg8J+MjSDmpJzntKLjgpIgJHtjb3VudHJ5UmVzdHJpY3Rpb259IOOBq+WItumZkOOBl+OBvuOBmWApO1xuICAgICAgICAvLyByZXF1ZXN0LmxvY2F0aW9uQmlhcyDjga/li5XkvZzjgZfjgarjgYTjgZ/jgoHjgIHjgq/jgqjjg6rjgavlm73lkI3jgpLov73liqBcbiAgICAgICAgcmVxdWVzdC5xdWVyeSA9IGAke3NlYXJjaFF1ZXJ5fSAke2NvdW50cnlSZXN0cmljdGlvbn1gO1xuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZygn8J+UjSBHb29nbGUgUGxhY2VzIOaknOe0ouODquOCr+OCqOOCueODiDonLCByZXF1ZXN0KTtcblxuICAgICAgcGxhY2VzU2VydmljZS5jdXJyZW50LnRleHRTZWFyY2gocmVxdWVzdCwgKHJlc3VsdHMsIHN0YXR1cykgPT4ge1xuICAgICAgICBpZiAoc3RhdHVzID09PSBnb29nbGUubWFwcy5wbGFjZXMuUGxhY2VzU2VydmljZVN0YXR1cy5PSyAmJiByZXN1bHRzKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ+KchSDmpJzntKLntZDmnpw6JywgcmVzdWx0cy5sZW5ndGgsICfku7bjga7loLTmiYDjgYzopovjgaTjgYvjgorjgb7jgZfjgZ8nKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyDmpJzntKLntZDmnpzjgpJTZWFyY2hSZXN1bHTlnovjgavlpInmj5vvvIjmnIDlpKc15Lu244G+44Gn77yJXG4gICAgICAgICAgY29uc3Qgc2VhcmNoUmVzdWx0czogU2VhcmNoUmVzdWx0W10gPSByZXN1bHRzLnNsaWNlKDAsIDUpLm1hcChwbGFjZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwaG90b1VybHM6IHN0cmluZ1tdID0gW107XG4gICAgICAgICAgICBpZiAocGxhY2UucGhvdG9zICYmIHBsYWNlLnBob3Rvcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIHBsYWNlLnBob3Rvcy5zbGljZSgwLCAyKS5mb3JFYWNoKHBob3RvID0+IHtcbiAgICAgICAgICAgICAgICBwaG90b1VybHMucHVzaChwaG90by5nZXRVcmwoeyBtYXhXaWR0aDogNDAwLCBtYXhIZWlnaHQ6IDMwMCB9KSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBwbGFjZV9pZDogcGxhY2UucGxhY2VfaWQgfHwgYHBsYWNlXyR7RGF0ZS5ub3coKX1gLFxuICAgICAgICAgICAgICBuYW1lOiBwbGFjZS5uYW1lIHx8IHNlYXJjaFF1ZXJ5LFxuICAgICAgICAgICAgICBhZGRyZXNzOiBwbGFjZS5mb3JtYXR0ZWRfYWRkcmVzcyB8fCAnJyxcbiAgICAgICAgICAgICAgbGF0aXR1ZGU6IHBsYWNlLmdlb21ldHJ5Py5sb2NhdGlvbj8ubGF0KCkgfHwgMCxcbiAgICAgICAgICAgICAgbG9uZ2l0dWRlOiBwbGFjZS5nZW9tZXRyeT8ubG9jYXRpb24/LmxuZygpIHx8IDAsXG4gICAgICAgICAgICAgIHBob3RvczogcGhvdG9VcmxzLFxuICAgICAgICAgICAgICB0eXBlczogcGxhY2UudHlwZXMgfHwgW10sXG4gICAgICAgICAgICAgIHJhdGluZzogcGxhY2UucmF0aW5nLFxuICAgICAgICAgICAgICB1c2VyX3JhdGluZ3NfdG90YWw6IHBsYWNlLnVzZXJfcmF0aW5nc190b3RhbFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICBzZXRSZXN1bHRzKHNlYXJjaFJlc3VsdHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUud2Fybign4p2MIFBsYWNlcyDmpJzntKLlpLHmlZc6Jywgc3RhdHVzKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBmaW5kUGxhY2VGcm9tUXVlcnnjgpLjg5Xjgqnjg7zjg6vjg5Djg4Pjgq/jgajjgZfjgaboqabjgZlcbiAgICAgICAgICBjb25zb2xlLmxvZygn5Luj5pu/5qSc57Si5pa55rOV44KS6Kmm44G/44G+44GZLi4uJyk7XG4gICAgICAgICAgcGVyZm9ybUZpbmRQbGFjZVNlYXJjaChzZWFyY2hRdWVyeSkudGhlbigoKSA9PiByZXNvbHZlKCkpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgcGVyZm9ybUZpbmRQbGFjZVNlYXJjaCA9IGFzeW5jIChzZWFyY2hRdWVyeTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICBpZiAoIXBsYWNlc1NlcnZpY2UuY3VycmVudCkge1xuICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8g5qSc57Si44Kv44Ko44Oq44Gu6KiA6Kqe44KS5qSc5Ye6XG4gICAgICBjb25zdCBxdWVyeUxhbmd1YWdlID0gZGV0ZWN0UXVlcnlMYW5ndWFnZShzZWFyY2hRdWVyeSk7XG5cbiAgICAgIC8vIOS7o+abv+aknOe0ouaWueazlVxuICAgICAgY29uc3QgcmVxdWVzdDogZ29vZ2xlLm1hcHMucGxhY2VzLkZpbmRQbGFjZUZyb21RdWVyeVJlcXVlc3QgPSB7XG4gICAgICAgIHF1ZXJ5OiBzZWFyY2hRdWVyeSxcbiAgICAgICAgZmllbGRzOiBbJ25hbWUnLCAnZ2VvbWV0cnknLCAnZm9ybWF0dGVkX2FkZHJlc3MnLCAncGxhY2VfaWQnLCAndHlwZXMnLCAncGhvdG9zJywgJ3JhdGluZycsICd1c2VyX3JhdGluZ3NfdG90YWwnXSxcbiAgICAgICAgbGFuZ3VhZ2U6IHF1ZXJ5TGFuZ3VhZ2VcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SNIGZpbmRQbGFjZUZyb21RdWVyeSDmpJzntKLjg6rjgq/jgqjjgrnjg4g6JywgcmVxdWVzdCk7XG4gICAgICBcbiAgICAgIHBsYWNlc1NlcnZpY2UuY3VycmVudC5maW5kUGxhY2VGcm9tUXVlcnkocmVxdWVzdCwgKHJlc3VsdHMsIHN0YXR1cykgPT4ge1xuICAgICAgICBpZiAoc3RhdHVzID09PSBnb29nbGUubWFwcy5wbGFjZXMuUGxhY2VzU2VydmljZVN0YXR1cy5PSyAmJiByZXN1bHRzKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ+KchSBmaW5kUGxhY2VGcm9tUXVlcnkg5qSc57Si57WQ5p6cOicsIHJlc3VsdHMpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIOaknOe0oue1kOaenOOCklNlYXJjaFJlc3VsdOWei+OBq+WkieaPm1xuICAgICAgICAgIGNvbnN0IHNlYXJjaFJlc3VsdHM6IFNlYXJjaFJlc3VsdFtdID0gcmVzdWx0cy5tYXAocGxhY2UgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGhvdG9VcmxzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICAgICAgaWYgKHBsYWNlLnBob3RvcyAmJiBwbGFjZS5waG90b3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBwbGFjZS5waG90b3Muc2xpY2UoMCwgMikuZm9yRWFjaChwaG90byA9PiB7XG4gICAgICAgICAgICAgICAgcGhvdG9VcmxzLnB1c2gocGhvdG8uZ2V0VXJsKHsgbWF4V2lkdGg6IDQwMCwgbWF4SGVpZ2h0OiAzMDAgfSkpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgcGxhY2VfaWQ6IHBsYWNlLnBsYWNlX2lkIHx8IGBwbGFjZV8ke0RhdGUubm93KCl9YCxcbiAgICAgICAgICAgICAgbmFtZTogcGxhY2UubmFtZSB8fCBzZWFyY2hRdWVyeSxcbiAgICAgICAgICAgICAgYWRkcmVzczogcGxhY2UuZm9ybWF0dGVkX2FkZHJlc3MgfHwgJycsXG4gICAgICAgICAgICAgIGxhdGl0dWRlOiBwbGFjZS5nZW9tZXRyeT8ubG9jYXRpb24/LmxhdCgpIHx8IDAsXG4gICAgICAgICAgICAgIGxvbmdpdHVkZTogcGxhY2UuZ2VvbWV0cnk/LmxvY2F0aW9uPy5sbmcoKSB8fCAwLFxuICAgICAgICAgICAgICBwaG90b3M6IHBob3RvVXJscyxcbiAgICAgICAgICAgICAgdHlwZXM6IHBsYWNlLnR5cGVzIHx8IFtdLFxuICAgICAgICAgICAgICByYXRpbmc6IHBsYWNlLnJhdGluZyxcbiAgICAgICAgICAgICAgdXNlcl9yYXRpbmdzX3RvdGFsOiBwbGFjZS51c2VyX3JhdGluZ3NfdG90YWxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgc2V0UmVzdWx0cyhzZWFyY2hSZXN1bHRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdmaW5kUGxhY2VGcm9tUXVlcnkg5qSc57Si44Ko44Op44O8OicsIHN0YXR1cyk7XG4gICAgICAgICAgLy8g5qSc57Si5aSx5pWX44Gu5aC05ZCI44Gv56m644Gu57WQ5p6c44KS6Kit5a6aXG4gICAgICAgICAgc2V0UmVzdWx0cyhbXSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVBsYWNlU2VsZWN0ID0gKHBsYWNlOiBTZWFyY2hSZXN1bHQpID0+IHtcbiAgICBjb25zb2xlLmxvZygn8J+OryDloLTmiYDjgYzpgbjmip7jgZXjgozjgb7jgZfjgZ86JywgcGxhY2UpO1xuICAgIHNldFF1ZXJ5KHBsYWNlLm5hbWUpO1xuICAgIHNldFNob3dSZXN1bHRzKGZhbHNlKTtcbiAgICBzZXRTZWxlY3RlZFBsYWNlKHBsYWNlKTtcbiAgICBvblBsYWNlU2VsZWN0KHBsYWNlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVJbnB1dEZvY3VzID0gKCkgPT4ge1xuICAgIGlmIChyZXN1bHRzLmxlbmd0aCA+IDApIHtcbiAgICAgIHNldFNob3dSZXN1bHRzKHRydWUpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVJbnB1dEJsdXIgPSAoKSA9PiB7XG4gICAgLy8g44Kv44Oq44OD44Kv44KS6Kix5Y+v44GZ44KL44Gf44KB44Gr57WQ5p6c44KS6Z2e6KGo56S644Gr44GZ44KL44Gu44KS6YGF44KJ44Gb44KLXG4gICAgc2V0VGltZW91dCgoKSA9PiBzZXRTaG93UmVzdWx0cyhmYWxzZSksIDIwMCk7XG4gIH07XG5cbiAgY29uc3QgY2xlYXJTZWxlY3Rpb24gPSAoKSA9PiB7XG4gICAgc2V0UXVlcnkoJycpO1xuICAgIHNldFNlbGVjdGVkUGxhY2UobnVsbCk7XG4gICAgc2V0UmVzdWx0cyhbXSk7XG4gICAgc2V0U2hvd1Jlc3VsdHMoZmFsc2UpO1xuICAgIGlmIChpbnB1dFJlZi5jdXJyZW50KSB7XG4gICAgICBpbnB1dFJlZi5jdXJyZW50LmZvY3VzKCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHNpemVDbGFzc2VzID0ge1xuICAgIHNtYWxsOiAndGV4dC1zbSBweS0xLjUgcHgtMicsXG4gICAgbWVkaXVtOiAndGV4dC1iYXNlIHB5LTIgcHgtMycsIFxuICAgIGxhcmdlOiAndGV4dC1sZyBweS0zIHB4LTQnXG4gIH07XG5cbiAgLy8g44Ot44O844Kr44Op44Kk44K644GV44KM44Gf44OX44Os44O844K544Ob44Or44OA44O844KS5Y+W5b6XXG4gIGNvbnN0IGxvY2FsaXplZFBsYWNlaG9sZGVyID0gZ2V0TG9jYWxpemVkUGxhY2Vob2xkZXIobGFuZ3VhZ2UsIHBsYWNlaG9sZGVyKTtcbiAgY29uc3QgbG9jYWxpemVkTm9SZXN1bHRzVGV4dCA9IGdldExvY2FsaXplZE5vUmVzdWx0c01lc3NhZ2UobGFuZ3VhZ2UsIG5vUmVzdWx0c1RleHQpO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2ByZWxhdGl2ZSB3LWZ1bGwgJHtjbGFzc05hbWV9YH0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XG4gICAgICAgIDxTZWFyY2ggY2xhc3NOYW1lPVwiYWJzb2x1dGUgbGVmdC0zIHRvcC0xLzIgdHJhbnNmb3JtIC10cmFuc2xhdGUteS0xLzIgdGV4dC1ncmF5LTQwMCB3LTUgaC01XCIgLz5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgcmVmPXtpbnB1dFJlZn1cbiAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgdmFsdWU9e3F1ZXJ5fVxuICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0UXVlcnkoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgIG9uRm9jdXM9e2hhbmRsZUlucHV0Rm9jdXN9XG4gICAgICAgICAgb25CbHVyPXtoYW5kbGVJbnB1dEJsdXJ9XG4gICAgICAgICAgcGxhY2Vob2xkZXI9e2xvY2FsaXplZFBsYWNlaG9sZGVyfVxuICAgICAgICAgIGNsYXNzTmFtZT17YHctZnVsbCBwbC0xMCBwci0xMCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIGRhcms6Ym9yZGVyLWdyYXktNjAwIHJvdW5kZWQtbGcgYmctd2hpdGUgZGFyazpiZy1ncmF5LTgwMCB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC13aGl0ZSBwbGFjZWhvbGRlci1ncmF5LTUwMCBkYXJrOnBsYWNlaG9sZGVyLWdyYXktNDAwIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsdWUtNTAwIGZvY3VzOmJvcmRlci10cmFuc3BhcmVudCAke3NpemVDbGFzc2VzW3NpemVdfWB9XG4gICAgICAgIC8+XG4gICAgICAgIHtpc0xvYWRpbmcgPyAoXG4gICAgICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPVwiYWJzb2x1dGUgcmlnaHQtMyB0b3AtMS8yIHRyYW5zZm9ybSAtdHJhbnNsYXRlLXktMS8yIHRleHQtZ3JheS00MDAgdy01IGgtNSBhbmltYXRlLXNwaW5cIiAvPlxuICAgICAgICApIDogcXVlcnkubGVuZ3RoID4gMCA/IChcbiAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBvbkNsaWNrPXtjbGVhclNlbGVjdGlvbn1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHJpZ2h0LTMgdG9wLTEvMiB0cmFuc2Zvcm0gLXRyYW5zbGF0ZS15LTEvMiB0ZXh0LWdyYXktNDAwIGhvdmVyOnRleHQtZ3JheS02MDAgZGFyazpob3Zlcjp0ZXh0LWdyYXktMzAwXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8WCBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgcmlnaHQtMyB0b3AtMS8yIHRyYW5zZm9ybSAtdHJhbnNsYXRlLXktMS8yIHRleHQtZ3JheS00MDAgdy01IGgtNVwiXG4gICAgICAgICAgICB0aXRsZT17YExhbmd1YWdlOiAke2xhbmd1YWdlLnRvVXBwZXJDYXNlKCl9YH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8R2xvYmUgY2xhc3NOYW1lPVwidy01IGgtNVwiIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIOmBuOaKnuOBleOCjOOBn+WgtOaJgOOBruODl+ODrOODk+ODpeODvCAqL31cbiAgICAgIHtzZWxlY3RlZFBsYWNlICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIHAtMyBiZy1ibHVlLTUwIGRhcms6YmctYmx1ZS05MDAvMjAgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWJsdWUtMjAwIGRhcms6Ym9yZGVyLWJsdWUtODAwXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xXCI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ibHVlLTkwMCBkYXJrOnRleHQtYmx1ZS0xMDBcIj5cbiAgICAgICAgICAgICAgICB7c2VsZWN0ZWRQbGFjZS5uYW1lfVxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ibHVlLTcwMCBkYXJrOnRleHQtYmx1ZS0zMDBcIj5cbiAgICAgICAgICAgICAgICB7c2VsZWN0ZWRQbGFjZS5hZGRyZXNzfVxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICB7Lyog6KmV5L6h5oOF5aCx44Gu6KGo56S6ICovfVxuICAgICAgICAgICAgICB7c2VsZWN0ZWRQbGFjZS5yYXRpbmcgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgdGV4dC14cyBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWFtYmVyLTUwMCBtci0xXCI+4piFPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ibHVlLTcwMCBkYXJrOnRleHQtYmx1ZS0zMDBcIj57c2VsZWN0ZWRQbGFjZS5yYXRpbmcudG9GaXhlZCgxKX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICB7c2VsZWN0ZWRQbGFjZS51c2VyX3JhdGluZ3NfdG90YWwgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWJsdWUtNjAwLzcwIGRhcms6dGV4dC1ibHVlLTQwMC83MCBtbC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgKHtzZWxlY3RlZFBsYWNlLnVzZXJfcmF0aW5nc190b3RhbH0pXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17Y2xlYXJTZWxlY3Rpb259XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtYmx1ZS02MDAgaG92ZXI6dGV4dC1ibHVlLTgwMCBkYXJrOnRleHQtYmx1ZS00MDAgZGFyazpob3Zlcjp0ZXh0LWJsdWUtMjAwXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPFggY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7Lyog5qSc57Si57WQ5p6c44OJ44Ot44OD44OX44OA44Km44OzICovfVxuICAgICAge3Nob3dSZXN1bHRzICYmIHJlc3VsdHMubGVuZ3RoID4gMCAmJiAhc2VsZWN0ZWRQbGFjZSAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgei01MCB3LWZ1bGwgbXQtMSBiZy13aGl0ZSBkYXJrOmJnLWdyYXktODAwIGJvcmRlciBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS03MDAgcm91bmRlZC1sZyBzaGFkb3ctbGcgbWF4LWgtNjAgb3ZlcmZsb3cteS1hdXRvXCI+XG4gICAgICAgICAge3Jlc3VsdHMubWFwKChwbGFjZSkgPT4gKFxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBrZXk9e3BsYWNlLnBsYWNlX2lkfVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVQbGFjZVNlbGVjdChwbGFjZSl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC00IHB5LTMgdGV4dC1sZWZ0IGhvdmVyOmJnLWdyYXktNTAgZGFyazpob3ZlcjpiZy1ncmF5LTcwMCBib3JkZXItYiBib3JkZXItZ3JheS0xMDAgZGFyazpib3JkZXItZ3JheS02MDAgbGFzdDpib3JkZXItYi0wIGZvY3VzOmJnLWdyYXktNTAgZGFyazpmb2N1czpiZy1ncmF5LTcwMCBmb2N1czpvdXRsaW5lLW5vbmVcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQgc3BhY2UteC0zXCI+XG4gICAgICAgICAgICAgICAgPE1hcFBpbiBjbGFzc05hbWU9XCJ3LTUgaC01IHRleHQtZ3JheS00MDAgbXQtMC41IGZsZXgtc2hyaW5rLTBcIiAvPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG1pbi13LTBcIj5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTkwMCBkYXJrOnRleHQtd2hpdGUgdHJ1bmNhdGVcIj5cbiAgICAgICAgICAgICAgICAgICAge3BsYWNlLm5hbWV9XG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwIHRydW5jYXRlXCI+XG4gICAgICAgICAgICAgICAgICAgIHtwbGFjZS5hZGRyZXNzfVxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICB7Lyog6KmV5L6h44Go5aC05omA44K/44Kk44OX44Gu5oOF5aCxICovfVxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTMgbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICB7cGxhY2UucmF0aW5nICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHRleHQteHNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtYW1iZXItNTAwIG1yLTFcIj7imIU8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj57cGxhY2UucmF0aW5nLnRvRml4ZWQoMSl9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAge3BsYWNlLnVzZXJfcmF0aW5nc190b3RhbCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgbWwtMVwiPih7cGxhY2UudXNlcl9yYXRpbmdzX3RvdGFsfSk8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAge3BsYWNlLnR5cGVzICYmIHBsYWNlLnR5cGVzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ibHVlLTUwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3BsYWNlLnR5cGVzLnNsaWNlKDAsIDIpLm1hcCh0eXBlID0+IHR5cGUucmVwbGFjZSgvXy9nLCAnICcpKS5qb2luKCcsICcpfVxuICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICkpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiDmpJzntKLntZDmnpzjgarjgZfjg6Hjg4Pjgrvjg7zjgrggKi99XG4gICAgICB7c2hvd1Jlc3VsdHMgJiYgIWlzTG9hZGluZyAmJiByZXN1bHRzLmxlbmd0aCA9PT0gMCAmJiBxdWVyeS5sZW5ndGggPj0gMiAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgei01MCB3LWZ1bGwgbXQtMSBiZy13aGl0ZSBkYXJrOmJnLWdyYXktODAwIGJvcmRlciBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS03MDAgcm91bmRlZC1sZyBzaGFkb3ctbGcgcC00XCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMCB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAge2xvY2FsaXplZE5vUmVzdWx0c1RleHR9IFwie3F1ZXJ5fVwiXG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbi8vIOODreODvOOCq+ODqeOCpOOCuuODmOODq+ODkeODvOmWouaVsFxuY29uc3QgZ2V0TG9jYWxpemVkUGxhY2Vob2xkZXIgPSAobGFuZ3VhZ2U6IHN0cmluZywgY3VzdG9tUGxhY2Vob2xkZXI/OiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICBpZiAoY3VzdG9tUGxhY2Vob2xkZXIpIHJldHVybiBjdXN0b21QbGFjZWhvbGRlcjtcbiAgXG4gIGNvbnN0IHBsYWNlaG9sZGVyczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICAnZW4nOiAnU2VhcmNoIGZvciBwbGFjZXMuLi4nLFxuICAgICdqYSc6ICfloLTmiYDjgpLmpJzntKIuLi4nLFxuICAgICdmcic6ICdSZWNoZXJjaGVyIGRlcyBsaWV1eC4uLicsXG4gICAgJ2VzJzogJ0J1c2NhciBsdWdhcmVzLi4uJyxcbiAgICAnZGUnOiAnT3J0ZSBzdWNoZW4uLi4nLFxuICAgICd6aCc6ICfmkJzntKLlnLDngrkuLi4nLFxuICAgICdrbyc6ICfsnqXshowg6rKA7IOJLi4uJyxcbiAgICAncHQnOiAnUGVzcXVpc2FyIGx1Z2FyZXMuLi4nLFxuICAgICdpdCc6ICdDZXJjYSBsdW9naGkuLi4nLFxuICAgICdydSc6ICfQn9C+0LjRgdC6INC80LXRgdGCLi4uJ1xuICB9O1xuICBcbiAgcmV0dXJuIHBsYWNlaG9sZGVyc1tsYW5ndWFnZV0gfHwgcGxhY2Vob2xkZXJzWydlbiddO1xufTtcblxuY29uc3QgZ2V0TG9jYWxpemVkTm9SZXN1bHRzTWVzc2FnZSA9IChsYW5ndWFnZTogc3RyaW5nLCBjdXN0b21NZXNzYWdlPzogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgaWYgKGN1c3RvbU1lc3NhZ2UpIHJldHVybiBjdXN0b21NZXNzYWdlO1xuICBcbiAgY29uc3QgbWVzc2FnZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgJ2VuJzogJ05vIHBsYWNlcyBmb3VuZCBmb3InLFxuICAgICdqYSc6ICfopovjgaTjgYvjgorjgb7jgZvjgpPjgafjgZfjgZ86JyxcbiAgICAnZnInOiAnQXVjdW4gbGlldSB0cm91dsOpIHBvdXInLFxuICAgICdlcyc6ICdObyBzZSBlbmNvbnRyYXJvbiBsdWdhcmVzIHBhcmEnLFxuICAgICdkZSc6ICdLZWluZSBPcnRlIGdlZnVuZGVuIGbDvHInLFxuICAgICd6aCc6ICfmnKrmib7liLDlnLDngrk6JyxcbiAgICAna28nOiAn7J6l7IaM66W8IOywvuydhCDsiJgg7JeG7Iq164uI64ukOicsXG4gICAgJ3B0JzogJ05lbmh1bSBsdWdhciBlbmNvbnRyYWRvIHBhcmEnLFxuICAgICdpdCc6ICdOZXNzdW4gbHVvZ28gdHJvdmF0byBwZXInLFxuICAgICdydSc6ICfQnNC10YHRgtCwINC90LUg0L3QsNC50LTQtdC90Ys6J1xuICB9O1xuICBcbiAgcmV0dXJuIG1lc3NhZ2VzW2xhbmd1YWdlXSB8fCBtZXNzYWdlc1snZW4nXTtcbn07Il0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwiU2VhcmNoIiwiTWFwUGluIiwiTG9hZGVyMiIsIlgiLCJHbG9iZSIsImRldGVjdFVzZXJMYW5ndWFnZSIsIkdvb2dsZVBsYWNlc1NlYXJjaCIsInBsYWNlaG9sZGVyIiwib25QbGFjZVNlbGVjdCIsInNpemUiLCJjbGFzc05hbWUiLCJhdXRvRm9jdXMiLCJjb3VudHJ5UmVzdHJpY3Rpb24iLCJub1Jlc3VsdHNUZXh0IiwicXVlcnkiLCJzZXRRdWVyeSIsInJlc3VsdHMiLCJzZXRSZXN1bHRzIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwic2hvd1Jlc3VsdHMiLCJzZXRTaG93UmVzdWx0cyIsInNlbGVjdGVkUGxhY2UiLCJzZXRTZWxlY3RlZFBsYWNlIiwibGFuZ3VhZ2UiLCJzZXRMYW5ndWFnZSIsImRlYm91bmNlVGltZXIiLCJpbnB1dFJlZiIsInBsYWNlc1NlcnZpY2UiLCJkZXRlY3RlZExhbmd1YWdlIiwiY29uc29sZSIsImxvZyIsImluaXRQbGFjZXNTZXJ2aWNlIiwiY2hlY2tHb29nbGVNYXBzSW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImdvb2dsZSIsIm1hcHMiLCJwbGFjZXMiLCJjdXJyZW50IiwiY2xlYXJJbnRlcnZhbCIsInNldFRpbWVvdXQiLCJjb21wbGV0ZUluaXQiLCJwbGFjZXNTZXJ2aWNlUmVmIiwibWFwRGl2IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic3R5bGUiLCJkaXNwbGF5IiwiYm9keSIsImFwcGVuZENoaWxkIiwibWFwIiwiTWFwIiwiY2VudGVyIiwibGF0IiwibG5nIiwiem9vbSIsIlBsYWNlc1NlcnZpY2UiLCJlcnJvciIsInNjcmlwdCIsInNyYyIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19HT09HTEVfTUFQU19BUElfS0VZIiwiYXN5bmMiLCJkZWZlciIsIm9ubG9hZCIsIm9uZXJyb3IiLCJoZWFkIiwiY2xlYXJUaW1lb3V0IiwibGVuZ3RoIiwicGVyZm9ybVNlYXJjaCIsImZvY3VzIiwic2VhcmNoUXVlcnkiLCJwZXJmb3JtUmVhbFNlYXJjaCIsImRldGVjdFF1ZXJ5TGFuZ3VhZ2UiLCJ0ZXN0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJxdWVyeUxhbmd1YWdlIiwicmVxdWVzdCIsInRleHRTZWFyY2giLCJzdGF0dXMiLCJQbGFjZXNTZXJ2aWNlU3RhdHVzIiwiT0siLCJzZWFyY2hSZXN1bHRzIiwic2xpY2UiLCJwbGFjZSIsInBob3RvVXJscyIsInBob3RvcyIsImZvckVhY2giLCJwaG90byIsInB1c2giLCJnZXRVcmwiLCJtYXhXaWR0aCIsIm1heEhlaWdodCIsInBsYWNlX2lkIiwiRGF0ZSIsIm5vdyIsIm5hbWUiLCJhZGRyZXNzIiwiZm9ybWF0dGVkX2FkZHJlc3MiLCJsYXRpdHVkZSIsImdlb21ldHJ5IiwibG9jYXRpb24iLCJsb25naXR1ZGUiLCJ0eXBlcyIsInJhdGluZyIsInVzZXJfcmF0aW5nc190b3RhbCIsIndhcm4iLCJwZXJmb3JtRmluZFBsYWNlU2VhcmNoIiwidGhlbiIsImZpZWxkcyIsImZpbmRQbGFjZUZyb21RdWVyeSIsImhhbmRsZVBsYWNlU2VsZWN0IiwiaGFuZGxlSW5wdXRGb2N1cyIsImhhbmRsZUlucHV0Qmx1ciIsImNsZWFyU2VsZWN0aW9uIiwic2l6ZUNsYXNzZXMiLCJzbWFsbCIsIm1lZGl1bSIsImxhcmdlIiwibG9jYWxpemVkUGxhY2Vob2xkZXIiLCJnZXRMb2NhbGl6ZWRQbGFjZWhvbGRlciIsImxvY2FsaXplZE5vUmVzdWx0c1RleHQiLCJnZXRMb2NhbGl6ZWROb1Jlc3VsdHNNZXNzYWdlIiwiZGl2IiwiaW5wdXQiLCJyZWYiLCJ0eXBlIiwidmFsdWUiLCJvbkNoYW5nZSIsImUiLCJ0YXJnZXQiLCJvbkZvY3VzIiwib25CbHVyIiwiYnV0dG9uIiwib25DbGljayIsInRpdGxlIiwidG9VcHBlckNhc2UiLCJwIiwic3BhbiIsInRvRml4ZWQiLCJyZXBsYWNlIiwiam9pbiIsImN1c3RvbVBsYWNlaG9sZGVyIiwicGxhY2Vob2xkZXJzIiwiY3VzdG9tTWVzc2FnZSIsIm1lc3NhZ2VzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/places/google-places-search.tsx\n");

/***/ }),

/***/ "(ssr)/./components/theme-provider.tsx":
/*!***************************************!*\
  !*** ./components/theme-provider.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ThemeProvider: () => (/* binding */ ThemeProvider)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/shared/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_themes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-themes */ \"(ssr)/./node_modules/next-themes/dist/index.js\");\n/* harmony import */ var next_themes__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_themes__WEBPACK_IMPORTED_MODULE_2__);\n/* __next_internal_client_entry_do_not_use__ ThemeProvider auto */ \n\n\nfunction ThemeProvider({ children, ...props }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_themes__WEBPACK_IMPORTED_MODULE_2__.ThemeProvider, {\n        defaultTheme: \"light\",\n        ...props,\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/kominetenma/Desktop/project/components/theme-provider.tsx\",\n        lineNumber: 8,\n        columnNumber: 10\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3RoZW1lLXByb3ZpZGVyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUUrQjtBQUNtQztBQUczRCxTQUFTQyxjQUFjLEVBQUVFLFFBQVEsRUFBRSxHQUFHQyxPQUEyQjtJQUN0RSxxQkFBTyw4REFBQ0Ysc0RBQWtCQTtRQUFDRyxjQUFhO1FBQVMsR0FBR0QsS0FBSztrQkFBR0Q7Ozs7OztBQUM5RCIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy8uL2NvbXBvbmVudHMvdGhlbWUtcHJvdmlkZXIudHN4PzkyODkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgVGhlbWVQcm92aWRlciBhcyBOZXh0VGhlbWVzUHJvdmlkZXIgfSBmcm9tIFwibmV4dC10aGVtZXNcIjtcbmltcG9ydCB7IHR5cGUgVGhlbWVQcm92aWRlclByb3BzIH0gZnJvbSBcIm5leHQtdGhlbWVzL2Rpc3QvdHlwZXNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIFRoZW1lUHJvdmlkZXIoeyBjaGlsZHJlbiwgLi4ucHJvcHMgfTogVGhlbWVQcm92aWRlclByb3BzKSB7XG4gIHJldHVybiA8TmV4dFRoZW1lc1Byb3ZpZGVyIGRlZmF1bHRUaGVtZT1cImxpZ2h0XCIgey4uLnByb3BzfT57Y2hpbGRyZW59PC9OZXh0VGhlbWVzUHJvdmlkZXI+O1xufSJdLCJuYW1lcyI6WyJSZWFjdCIsIlRoZW1lUHJvdmlkZXIiLCJOZXh0VGhlbWVzUHJvdmlkZXIiLCJjaGlsZHJlbiIsInByb3BzIiwiZGVmYXVsdFRoZW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/theme-provider.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/button.tsx":
/*!**********************************!*\
  !*** ./components/ui/button.tsx ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Button: () => (/* binding */ Button),\n/* harmony export */   buttonVariants: () => (/* binding */ buttonVariants)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/shared/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @radix-ui/react-slot */ \"(ssr)/./node_modules/@radix-ui/react-slot/dist/index.mjs\");\n/* harmony import */ var class_variance_authority__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-variance-authority */ \"(ssr)/./node_modules/class-variance-authority/dist/index.mjs\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n\n\n\n\n\nconst buttonVariants = (0,class_variance_authority__WEBPACK_IMPORTED_MODULE_2__.cva)(\"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\", {\n    variants: {\n        variant: {\n            default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n            destructive: \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n            outline: \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n            secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n            ghost: \"hover:bg-accent hover:text-accent-foreground\",\n            link: \"text-primary underline-offset-4 hover:underline\"\n        },\n        size: {\n            default: \"h-10 px-4 py-2\",\n            sm: \"h-9 rounded-md px-3\",\n            lg: \"h-11 rounded-md px-8\",\n            icon: \"h-10 w-10\"\n        }\n    },\n    defaultVariants: {\n        variant: \"default\",\n        size: \"default\"\n    }\n});\nconst Button = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, variant, size, asChild = false, ...props }, ref)=>{\n    const Comp = asChild ? _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_4__.Slot : \"button\";\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Comp, {\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)(buttonVariants({\n            variant,\n            size,\n            className\n        })),\n        ref: ref,\n        ...props\n    }, void 0, false, {\n        fileName: \"/Users/kominetenma/Desktop/project/components/ui/button.tsx\",\n        lineNumber: 46,\n        columnNumber: 7\n    }, undefined);\n});\nButton.displayName = \"Button\";\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL2J1dHRvbi50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUErQjtBQUNhO0FBQ3NCO0FBRWpDO0FBRWpDLE1BQU1JLGlCQUFpQkYsNkRBQUdBLENBQ3hCLDBSQUNBO0lBQ0VHLFVBQVU7UUFDUkMsU0FBUztZQUNQQyxTQUFTO1lBQ1RDLGFBQ0U7WUFDRkMsU0FDRTtZQUNGQyxXQUNFO1lBQ0ZDLE9BQU87WUFDUEMsTUFBTTtRQUNSO1FBQ0FDLE1BQU07WUFDSk4sU0FBUztZQUNUTyxJQUFJO1lBQ0pDLElBQUk7WUFDSkMsTUFBTTtRQUNSO0lBQ0Y7SUFDQUMsaUJBQWlCO1FBQ2ZYLFNBQVM7UUFDVE8sTUFBTTtJQUNSO0FBQ0Y7QUFTRixNQUFNSyx1QkFBU2xCLDZDQUFnQixDQUM3QixDQUFDLEVBQUVvQixTQUFTLEVBQUVkLE9BQU8sRUFBRU8sSUFBSSxFQUFFUSxVQUFVLEtBQUssRUFBRSxHQUFHQyxPQUFPLEVBQUVDO0lBQ3hELE1BQU1DLE9BQU9ILFVBQVVwQixzREFBSUEsR0FBRztJQUM5QixxQkFDRSw4REFBQ3VCO1FBQ0NKLFdBQVdqQiw4Q0FBRUEsQ0FBQ0MsZUFBZTtZQUFFRTtZQUFTTztZQUFNTztRQUFVO1FBQ3hERyxLQUFLQTtRQUNKLEdBQUdELEtBQUs7Ozs7OztBQUdmO0FBRUZKLE9BQU9PLFdBQVcsR0FBRztBQUVhIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLy4vY29tcG9uZW50cy91aS9idXR0b24udHN4Pzg5NDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgU2xvdCB9IGZyb20gJ0ByYWRpeC11aS9yZWFjdC1zbG90JztcbmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknO1xuXG5pbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJztcblxuY29uc3QgYnV0dG9uVmFyaWFudHMgPSBjdmEoXG4gICdpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgd2hpdGVzcGFjZS1ub3dyYXAgcm91bmRlZC1tZCB0ZXh0LXNtIGZvbnQtbWVkaXVtIHJpbmctb2Zmc2V0LWJhY2tncm91bmQgdHJhbnNpdGlvbi1jb2xvcnMgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUgZm9jdXMtdmlzaWJsZTpyaW5nLTIgZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC0yIGRpc2FibGVkOnBvaW50ZXItZXZlbnRzLW5vbmUgZGlzYWJsZWQ6b3BhY2l0eS01MCcsXG4gIHtcbiAgICB2YXJpYW50czoge1xuICAgICAgdmFyaWFudDoge1xuICAgICAgICBkZWZhdWx0OiAnYmctcHJpbWFyeSB0ZXh0LXByaW1hcnktZm9yZWdyb3VuZCBob3ZlcjpiZy1wcmltYXJ5LzkwJyxcbiAgICAgICAgZGVzdHJ1Y3RpdmU6XG4gICAgICAgICAgJ2JnLWRlc3RydWN0aXZlIHRleHQtZGVzdHJ1Y3RpdmUtZm9yZWdyb3VuZCBob3ZlcjpiZy1kZXN0cnVjdGl2ZS85MCcsXG4gICAgICAgIG91dGxpbmU6XG4gICAgICAgICAgJ2JvcmRlciBib3JkZXItaW5wdXQgYmctYmFja2dyb3VuZCBob3ZlcjpiZy1hY2NlbnQgaG92ZXI6dGV4dC1hY2NlbnQtZm9yZWdyb3VuZCcsXG4gICAgICAgIHNlY29uZGFyeTpcbiAgICAgICAgICAnYmctc2Vjb25kYXJ5IHRleHQtc2Vjb25kYXJ5LWZvcmVncm91bmQgaG92ZXI6Ymctc2Vjb25kYXJ5LzgwJyxcbiAgICAgICAgZ2hvc3Q6ICdob3ZlcjpiZy1hY2NlbnQgaG92ZXI6dGV4dC1hY2NlbnQtZm9yZWdyb3VuZCcsXG4gICAgICAgIGxpbms6ICd0ZXh0LXByaW1hcnkgdW5kZXJsaW5lLW9mZnNldC00IGhvdmVyOnVuZGVybGluZScsXG4gICAgICB9LFxuICAgICAgc2l6ZToge1xuICAgICAgICBkZWZhdWx0OiAnaC0xMCBweC00IHB5LTInLFxuICAgICAgICBzbTogJ2gtOSByb3VuZGVkLW1kIHB4LTMnLFxuICAgICAgICBsZzogJ2gtMTEgcm91bmRlZC1tZCBweC04JyxcbiAgICAgICAgaWNvbjogJ2gtMTAgdy0xMCcsXG4gICAgICB9LFxuICAgIH0sXG4gICAgZGVmYXVsdFZhcmlhbnRzOiB7XG4gICAgICB2YXJpYW50OiAnZGVmYXVsdCcsXG4gICAgICBzaXplOiAnZGVmYXVsdCcsXG4gICAgfSxcbiAgfVxuKTtcblxuZXhwb3J0IGludGVyZmFjZSBCdXR0b25Qcm9wc1xuICBleHRlbmRzIFJlYWN0LkJ1dHRvbkhUTUxBdHRyaWJ1dGVzPEhUTUxCdXR0b25FbGVtZW50PixcbiAgICBWYXJpYW50UHJvcHM8dHlwZW9mIGJ1dHRvblZhcmlhbnRzPiB7XG4gIGFzQ2hpbGQ/OiBib29sZWFuO1xufVxuXG5jb25zdCBCdXR0b24gPSBSZWFjdC5mb3J3YXJkUmVmPEhUTUxCdXR0b25FbGVtZW50LCBCdXR0b25Qcm9wcz4oXG4gICh7IGNsYXNzTmFtZSwgdmFyaWFudCwgc2l6ZSwgYXNDaGlsZCA9IGZhbHNlLCAuLi5wcm9wcyB9LCByZWYpID0+IHtcbiAgICBjb25zdCBDb21wID0gYXNDaGlsZCA/IFNsb3QgOiAnYnV0dG9uJztcbiAgICByZXR1cm4gKFxuICAgICAgPENvbXBcbiAgICAgICAgY2xhc3NOYW1lPXtjbihidXR0b25WYXJpYW50cyh7IHZhcmlhbnQsIHNpemUsIGNsYXNzTmFtZSB9KSl9XG4gICAgICAgIHJlZj17cmVmfVxuICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAvPlxuICAgICk7XG4gIH1cbik7XG5CdXR0b24uZGlzcGxheU5hbWUgPSAnQnV0dG9uJztcblxuZXhwb3J0IHsgQnV0dG9uLCBidXR0b25WYXJpYW50cyB9O1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwiU2xvdCIsImN2YSIsImNuIiwiYnV0dG9uVmFyaWFudHMiLCJ2YXJpYW50cyIsInZhcmlhbnQiLCJkZWZhdWx0IiwiZGVzdHJ1Y3RpdmUiLCJvdXRsaW5lIiwic2Vjb25kYXJ5IiwiZ2hvc3QiLCJsaW5rIiwic2l6ZSIsInNtIiwibGciLCJpY29uIiwiZGVmYXVsdFZhcmlhbnRzIiwiQnV0dG9uIiwiZm9yd2FyZFJlZiIsImNsYXNzTmFtZSIsImFzQ2hpbGQiLCJwcm9wcyIsInJlZiIsIkNvbXAiLCJkaXNwbGF5TmFtZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/button.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/calendar.tsx":
/*!************************************!*\
  !*** ./components/ui/calendar.tsx ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Calendar: () => (/* binding */ Calendar)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/shared/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_ChevronLeft_ChevronRight_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronLeft,ChevronRight!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/chevron-left.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronLeft_ChevronRight_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronLeft,ChevronRight!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/chevron-right.js\");\n/* harmony import */ var react_day_picker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-day-picker */ \"(ssr)/./node_modules/react-day-picker/dist/index.js\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/button */ \"(ssr)/./components/ui/button.tsx\");\n/* __next_internal_client_entry_do_not_use__ Calendar auto */ \n\n\n\n\n\nfunction Calendar({ className, classNames, showOutsideDays = true, ...props }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_day_picker__WEBPACK_IMPORTED_MODULE_2__.DayPicker, {\n        showOutsideDays: showOutsideDays,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)(\"p-3\", className),\n        classNames: {\n            months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n            month: \"space-y-4\",\n            caption: \"flex justify-center pt-1 relative items-center\",\n            caption_label: \"text-sm font-medium\",\n            nav: \"space-x-1 flex items-center\",\n            nav_button: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)((0,_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.buttonVariants)({\n                variant: \"outline\"\n            }), \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"),\n            nav_button_previous: \"absolute left-1\",\n            nav_button_next: \"absolute right-1\",\n            table: \"w-full border-collapse space-y-1\",\n            head_row: \"flex\",\n            head_cell: \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n            row: \"flex w-full mt-2\",\n            cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n            day: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)((0,_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.buttonVariants)({\n                variant: \"ghost\"\n            }), \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"),\n            day_range_end: \"day-range-end\",\n            day_selected: \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n            day_today: \"bg-accent text-accent-foreground\",\n            day_outside: \"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30\",\n            day_disabled: \"text-muted-foreground opacity-50\",\n            day_range_middle: \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n            day_hidden: \"invisible\",\n            ...classNames\n        },\n        components: {\n            IconLeft: ({ ...props })=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronLeft_ChevronRight_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                    className: \"h-4 w-4\"\n                }, void 0, false, void 0, void 0),\n            IconRight: ({ ...props })=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronLeft_ChevronRight_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                    className: \"h-4 w-4\"\n                }, void 0, false, void 0, void 0)\n        },\n        ...props\n    }, void 0, false, {\n        fileName: \"/Users/kominetenma/Desktop/project/components/ui/calendar.tsx\",\n        lineNumber: 19,\n        columnNumber: 5\n    }, this);\n}\nCalendar.displayName = \"Calendar\";\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL2NhbGVuZGFyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUUrQjtBQUMwQjtBQUNaO0FBRVo7QUFDdUI7QUFJeEQsU0FBU00sU0FBUyxFQUNoQkMsU0FBUyxFQUNUQyxVQUFVLEVBQ1ZDLGtCQUFrQixJQUFJLEVBQ3RCLEdBQUdDLE9BQ1c7SUFDZCxxQkFDRSw4REFBQ1AsdURBQVNBO1FBQ1JNLGlCQUFpQkE7UUFDakJGLFdBQVdILDhDQUFFQSxDQUFDLE9BQU9HO1FBQ3JCQyxZQUFZO1lBQ1ZHLFFBQVE7WUFDUkMsT0FBTztZQUNQQyxTQUFTO1lBQ1RDLGVBQWU7WUFDZkMsS0FBSztZQUNMQyxZQUFZWiw4Q0FBRUEsQ0FDWkMscUVBQWNBLENBQUM7Z0JBQUVZLFNBQVM7WUFBVSxJQUNwQztZQUVGQyxxQkFBcUI7WUFDckJDLGlCQUFpQjtZQUNqQkMsT0FBTztZQUNQQyxVQUFVO1lBQ1ZDLFdBQ0U7WUFDRkMsS0FBSztZQUNMQyxNQUFNO1lBQ05DLEtBQUtyQiw4Q0FBRUEsQ0FDTEMscUVBQWNBLENBQUM7Z0JBQUVZLFNBQVM7WUFBUSxJQUNsQztZQUVGUyxlQUFlO1lBQ2ZDLGNBQ0U7WUFDRkMsV0FBVztZQUNYQyxhQUNFO1lBQ0ZDLGNBQWM7WUFDZEMsa0JBQ0U7WUFDRkMsWUFBWTtZQUNaLEdBQUd4QixVQUFVO1FBQ2Y7UUFDQXlCLFlBQVk7WUFDVkMsVUFBVSxDQUFDLEVBQUUsR0FBR3hCLE9BQU8saUJBQUssOERBQUNULG9HQUFXQTtvQkFBQ00sV0FBVTs7WUFDbkQ0QixXQUFXLENBQUMsRUFBRSxHQUFHekIsT0FBTyxpQkFBSyw4REFBQ1Isb0dBQVlBO29CQUFDSyxXQUFVOztRQUN2RDtRQUNDLEdBQUdHLEtBQUs7Ozs7OztBQUdmO0FBQ0FKLFNBQVM4QixXQUFXLEdBQUc7QUFFSCIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy8uL2NvbXBvbmVudHMvdWkvY2FsZW5kYXIudHN4PzgzNTIiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBDaGV2cm9uTGVmdCwgQ2hldnJvblJpZ2h0IH0gZnJvbSAnbHVjaWRlLXJlYWN0JztcbmltcG9ydCB7IERheVBpY2tlciB9IGZyb20gJ3JlYWN0LWRheS1waWNrZXInO1xuXG5pbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJztcbmltcG9ydCB7IGJ1dHRvblZhcmlhbnRzIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbic7XG5cbmV4cG9ydCB0eXBlIENhbGVuZGFyUHJvcHMgPSBSZWFjdC5Db21wb25lbnRQcm9wczx0eXBlb2YgRGF5UGlja2VyPjtcblxuZnVuY3Rpb24gQ2FsZW5kYXIoe1xuICBjbGFzc05hbWUsXG4gIGNsYXNzTmFtZXMsXG4gIHNob3dPdXRzaWRlRGF5cyA9IHRydWUsXG4gIC4uLnByb3BzXG59OiBDYWxlbmRhclByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPERheVBpY2tlclxuICAgICAgc2hvd091dHNpZGVEYXlzPXtzaG93T3V0c2lkZURheXN9XG4gICAgICBjbGFzc05hbWU9e2NuKCdwLTMnLCBjbGFzc05hbWUpfVxuICAgICAgY2xhc3NOYW1lcz17e1xuICAgICAgICBtb250aHM6ICdmbGV4IGZsZXgtY29sIHNtOmZsZXgtcm93IHNwYWNlLXktNCBzbTpzcGFjZS14LTQgc206c3BhY2UteS0wJyxcbiAgICAgICAgbW9udGg6ICdzcGFjZS15LTQnLFxuICAgICAgICBjYXB0aW9uOiAnZmxleCBqdXN0aWZ5LWNlbnRlciBwdC0xIHJlbGF0aXZlIGl0ZW1zLWNlbnRlcicsXG4gICAgICAgIGNhcHRpb25fbGFiZWw6ICd0ZXh0LXNtIGZvbnQtbWVkaXVtJyxcbiAgICAgICAgbmF2OiAnc3BhY2UteC0xIGZsZXggaXRlbXMtY2VudGVyJyxcbiAgICAgICAgbmF2X2J1dHRvbjogY24oXG4gICAgICAgICAgYnV0dG9uVmFyaWFudHMoeyB2YXJpYW50OiAnb3V0bGluZScgfSksXG4gICAgICAgICAgJ2gtNyB3LTcgYmctdHJhbnNwYXJlbnQgcC0wIG9wYWNpdHktNTAgaG92ZXI6b3BhY2l0eS0xMDAnXG4gICAgICAgICksXG4gICAgICAgIG5hdl9idXR0b25fcHJldmlvdXM6ICdhYnNvbHV0ZSBsZWZ0LTEnLFxuICAgICAgICBuYXZfYnV0dG9uX25leHQ6ICdhYnNvbHV0ZSByaWdodC0xJyxcbiAgICAgICAgdGFibGU6ICd3LWZ1bGwgYm9yZGVyLWNvbGxhcHNlIHNwYWNlLXktMScsXG4gICAgICAgIGhlYWRfcm93OiAnZmxleCcsXG4gICAgICAgIGhlYWRfY2VsbDpcbiAgICAgICAgICAndGV4dC1tdXRlZC1mb3JlZ3JvdW5kIHJvdW5kZWQtbWQgdy05IGZvbnQtbm9ybWFsIHRleHQtWzAuOHJlbV0nLFxuICAgICAgICByb3c6ICdmbGV4IHctZnVsbCBtdC0yJyxcbiAgICAgICAgY2VsbDogJ2gtOSB3LTkgdGV4dC1jZW50ZXIgdGV4dC1zbSBwLTAgcmVsYXRpdmUgWyY6aGFzKFthcmlhLXNlbGVjdGVkXS5kYXktcmFuZ2UtZW5kKV06cm91bmRlZC1yLW1kIFsmOmhhcyhbYXJpYS1zZWxlY3RlZF0uZGF5LW91dHNpZGUpXTpiZy1hY2NlbnQvNTAgWyY6aGFzKFthcmlhLXNlbGVjdGVkXSldOmJnLWFjY2VudCBmaXJzdDpbJjpoYXMoW2FyaWEtc2VsZWN0ZWRdKV06cm91bmRlZC1sLW1kIGxhc3Q6WyY6aGFzKFthcmlhLXNlbGVjdGVkXSldOnJvdW5kZWQtci1tZCBmb2N1cy13aXRoaW46cmVsYXRpdmUgZm9jdXMtd2l0aGluOnotMjAnLFxuICAgICAgICBkYXk6IGNuKFxuICAgICAgICAgIGJ1dHRvblZhcmlhbnRzKHsgdmFyaWFudDogJ2dob3N0JyB9KSxcbiAgICAgICAgICAnaC05IHctOSBwLTAgZm9udC1ub3JtYWwgYXJpYS1zZWxlY3RlZDpvcGFjaXR5LTEwMCdcbiAgICAgICAgKSxcbiAgICAgICAgZGF5X3JhbmdlX2VuZDogJ2RheS1yYW5nZS1lbmQnLFxuICAgICAgICBkYXlfc2VsZWN0ZWQ6XG4gICAgICAgICAgJ2JnLXByaW1hcnkgdGV4dC1wcmltYXJ5LWZvcmVncm91bmQgaG92ZXI6YmctcHJpbWFyeSBob3Zlcjp0ZXh0LXByaW1hcnktZm9yZWdyb3VuZCBmb2N1czpiZy1wcmltYXJ5IGZvY3VzOnRleHQtcHJpbWFyeS1mb3JlZ3JvdW5kJyxcbiAgICAgICAgZGF5X3RvZGF5OiAnYmctYWNjZW50IHRleHQtYWNjZW50LWZvcmVncm91bmQnLFxuICAgICAgICBkYXlfb3V0c2lkZTpcbiAgICAgICAgICAnZGF5LW91dHNpZGUgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIG9wYWNpdHktNTAgYXJpYS1zZWxlY3RlZDpiZy1hY2NlbnQvNTAgYXJpYS1zZWxlY3RlZDp0ZXh0LW11dGVkLWZvcmVncm91bmQgYXJpYS1zZWxlY3RlZDpvcGFjaXR5LTMwJyxcbiAgICAgICAgZGF5X2Rpc2FibGVkOiAndGV4dC1tdXRlZC1mb3JlZ3JvdW5kIG9wYWNpdHktNTAnLFxuICAgICAgICBkYXlfcmFuZ2VfbWlkZGxlOlxuICAgICAgICAgICdhcmlhLXNlbGVjdGVkOmJnLWFjY2VudCBhcmlhLXNlbGVjdGVkOnRleHQtYWNjZW50LWZvcmVncm91bmQnLFxuICAgICAgICBkYXlfaGlkZGVuOiAnaW52aXNpYmxlJyxcbiAgICAgICAgLi4uY2xhc3NOYW1lcyxcbiAgICAgIH19XG4gICAgICBjb21wb25lbnRzPXt7XG4gICAgICAgIEljb25MZWZ0OiAoeyAuLi5wcm9wcyB9KSA9PiA8Q2hldnJvbkxlZnQgY2xhc3NOYW1lPVwiaC00IHctNFwiIC8+LFxuICAgICAgICBJY29uUmlnaHQ6ICh7IC4uLnByb3BzIH0pID0+IDxDaGV2cm9uUmlnaHQgY2xhc3NOYW1lPVwiaC00IHctNFwiIC8+LFxuICAgICAgfX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICAvPlxuICApO1xufVxuQ2FsZW5kYXIuZGlzcGxheU5hbWUgPSAnQ2FsZW5kYXInO1xuXG5leHBvcnQgeyBDYWxlbmRhciB9O1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwiQ2hldnJvbkxlZnQiLCJDaGV2cm9uUmlnaHQiLCJEYXlQaWNrZXIiLCJjbiIsImJ1dHRvblZhcmlhbnRzIiwiQ2FsZW5kYXIiLCJjbGFzc05hbWUiLCJjbGFzc05hbWVzIiwic2hvd091dHNpZGVEYXlzIiwicHJvcHMiLCJtb250aHMiLCJtb250aCIsImNhcHRpb24iLCJjYXB0aW9uX2xhYmVsIiwibmF2IiwibmF2X2J1dHRvbiIsInZhcmlhbnQiLCJuYXZfYnV0dG9uX3ByZXZpb3VzIiwibmF2X2J1dHRvbl9uZXh0IiwidGFibGUiLCJoZWFkX3JvdyIsImhlYWRfY2VsbCIsInJvdyIsImNlbGwiLCJkYXkiLCJkYXlfcmFuZ2VfZW5kIiwiZGF5X3NlbGVjdGVkIiwiZGF5X3RvZGF5IiwiZGF5X291dHNpZGUiLCJkYXlfZGlzYWJsZWQiLCJkYXlfcmFuZ2VfbWlkZGxlIiwiZGF5X2hpZGRlbiIsImNvbXBvbmVudHMiLCJJY29uTGVmdCIsIkljb25SaWdodCIsImRpc3BsYXlOYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/calendar.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/card.tsx":
/*!********************************!*\
  !*** ./components/ui/card.tsx ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Card: () => (/* binding */ Card),\n/* harmony export */   CardContent: () => (/* binding */ CardContent),\n/* harmony export */   CardDescription: () => (/* binding */ CardDescription),\n/* harmony export */   CardFooter: () => (/* binding */ CardFooter),\n/* harmony export */   CardHeader: () => (/* binding */ CardHeader),\n/* harmony export */   CardTitle: () => (/* binding */ CardTitle)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/shared/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n\n\n\nconst Card = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"rounded-lg border bg-card text-card-foreground shadow-sm\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/Users/kominetenma/Desktop/project/components/ui/card.tsx\",\n        lineNumber: 9,\n        columnNumber: 3\n    }, undefined));\nCard.displayName = \"Card\";\nconst CardHeader = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"flex flex-col space-y-1.5 p-6\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/Users/kominetenma/Desktop/project/components/ui/card.tsx\",\n        lineNumber: 24,\n        columnNumber: 3\n    }, undefined));\nCardHeader.displayName = \"CardHeader\";\nconst CardTitle = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"text-2xl font-semibold leading-none tracking-tight\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/Users/kominetenma/Desktop/project/components/ui/card.tsx\",\n        lineNumber: 36,\n        columnNumber: 3\n    }, undefined));\nCardTitle.displayName = \"CardTitle\";\nconst CardDescription = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"text-sm text-muted-foreground\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/Users/kominetenma/Desktop/project/components/ui/card.tsx\",\n        lineNumber: 51,\n        columnNumber: 3\n    }, undefined));\nCardDescription.displayName = \"CardDescription\";\nconst CardContent = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"p-6 pt-0\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/Users/kominetenma/Desktop/project/components/ui/card.tsx\",\n        lineNumber: 63,\n        columnNumber: 3\n    }, undefined));\nCardContent.displayName = \"CardContent\";\nconst CardFooter = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"flex items-center p-6 pt-0\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/Users/kominetenma/Desktop/project/components/ui/card.tsx\",\n        lineNumber: 71,\n        columnNumber: 3\n    }, undefined));\nCardFooter.displayName = \"CardFooter\";\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL2NhcmQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUErQjtBQUVFO0FBRWpDLE1BQU1FLHFCQUFPRiw2Q0FBZ0IsQ0FHM0IsQ0FBQyxFQUFFSSxTQUFTLEVBQUUsR0FBR0MsT0FBTyxFQUFFQyxvQkFDMUIsOERBQUNDO1FBQ0NELEtBQUtBO1FBQ0xGLFdBQVdILDhDQUFFQSxDQUNYLDREQUNBRztRQUVELEdBQUdDLEtBQUs7Ozs7OztBQUdiSCxLQUFLTSxXQUFXLEdBQUc7QUFFbkIsTUFBTUMsMkJBQWFULDZDQUFnQixDQUdqQyxDQUFDLEVBQUVJLFNBQVMsRUFBRSxHQUFHQyxPQUFPLEVBQUVDLG9CQUMxQiw4REFBQ0M7UUFDQ0QsS0FBS0E7UUFDTEYsV0FBV0gsOENBQUVBLENBQUMsaUNBQWlDRztRQUM5QyxHQUFHQyxLQUFLOzs7Ozs7QUFHYkksV0FBV0QsV0FBVyxHQUFHO0FBRXpCLE1BQU1FLDBCQUFZViw2Q0FBZ0IsQ0FHaEMsQ0FBQyxFQUFFSSxTQUFTLEVBQUUsR0FBR0MsT0FBTyxFQUFFQyxvQkFDMUIsOERBQUNLO1FBQ0NMLEtBQUtBO1FBQ0xGLFdBQVdILDhDQUFFQSxDQUNYLHNEQUNBRztRQUVELEdBQUdDLEtBQUs7Ozs7OztBQUdiSyxVQUFVRixXQUFXLEdBQUc7QUFFeEIsTUFBTUksZ0NBQWtCWiw2Q0FBZ0IsQ0FHdEMsQ0FBQyxFQUFFSSxTQUFTLEVBQUUsR0FBR0MsT0FBTyxFQUFFQyxvQkFDMUIsOERBQUNPO1FBQ0NQLEtBQUtBO1FBQ0xGLFdBQVdILDhDQUFFQSxDQUFDLGlDQUFpQ0c7UUFDOUMsR0FBR0MsS0FBSzs7Ozs7O0FBR2JPLGdCQUFnQkosV0FBVyxHQUFHO0FBRTlCLE1BQU1NLDRCQUFjZCw2Q0FBZ0IsQ0FHbEMsQ0FBQyxFQUFFSSxTQUFTLEVBQUUsR0FBR0MsT0FBTyxFQUFFQyxvQkFDMUIsOERBQUNDO1FBQUlELEtBQUtBO1FBQUtGLFdBQVdILDhDQUFFQSxDQUFDLFlBQVlHO1FBQWEsR0FBR0MsS0FBSzs7Ozs7O0FBRWhFUyxZQUFZTixXQUFXLEdBQUc7QUFFMUIsTUFBTU8sMkJBQWFmLDZDQUFnQixDQUdqQyxDQUFDLEVBQUVJLFNBQVMsRUFBRSxHQUFHQyxPQUFPLEVBQUVDLG9CQUMxQiw4REFBQ0M7UUFDQ0QsS0FBS0E7UUFDTEYsV0FBV0gsOENBQUVBLENBQUMsOEJBQThCRztRQUMzQyxHQUFHQyxLQUFLOzs7Ozs7QUFHYlUsV0FBV1AsV0FBVyxHQUFHO0FBU3ZCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLy4vY29tcG9uZW50cy91aS9jYXJkLnRzeD9hZDkxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7XG5cbmNvbnN0IENhcmQgPSBSZWFjdC5mb3J3YXJkUmVmPFxuICBIVE1MRGl2RWxlbWVudCxcbiAgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+XG4+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoXG4gIDxkaXZcbiAgICByZWY9e3JlZn1cbiAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgJ3JvdW5kZWQtbGcgYm9yZGVyIGJnLWNhcmQgdGV4dC1jYXJkLWZvcmVncm91bmQgc2hhZG93LXNtJyxcbiAgICAgIGNsYXNzTmFtZVxuICAgICl9XG4gICAgey4uLnByb3BzfVxuICAvPlxuKSk7XG5DYXJkLmRpc3BsYXlOYW1lID0gJ0NhcmQnO1xuXG5jb25zdCBDYXJkSGVhZGVyID0gUmVhY3QuZm9yd2FyZFJlZjxcbiAgSFRNTERpdkVsZW1lbnQsXG4gIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PlxuPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKFxuICA8ZGl2XG4gICAgcmVmPXtyZWZ9XG4gICAgY2xhc3NOYW1lPXtjbignZmxleCBmbGV4LWNvbCBzcGFjZS15LTEuNSBwLTYnLCBjbGFzc05hbWUpfVxuICAgIHsuLi5wcm9wc31cbiAgLz5cbikpO1xuQ2FyZEhlYWRlci5kaXNwbGF5TmFtZSA9ICdDYXJkSGVhZGVyJztcblxuY29uc3QgQ2FyZFRpdGxlID0gUmVhY3QuZm9yd2FyZFJlZjxcbiAgSFRNTFBhcmFncmFwaEVsZW1lbnQsXG4gIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxIZWFkaW5nRWxlbWVudD5cbj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+IChcbiAgPGgzXG4gICAgcmVmPXtyZWZ9XG4gICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICd0ZXh0LTJ4bCBmb250LXNlbWlib2xkIGxlYWRpbmctbm9uZSB0cmFja2luZy10aWdodCcsXG4gICAgICBjbGFzc05hbWVcbiAgICApfVxuICAgIHsuLi5wcm9wc31cbiAgLz5cbikpO1xuQ2FyZFRpdGxlLmRpc3BsYXlOYW1lID0gJ0NhcmRUaXRsZSc7XG5cbmNvbnN0IENhcmREZXNjcmlwdGlvbiA9IFJlYWN0LmZvcndhcmRSZWY8XG4gIEhUTUxQYXJhZ3JhcGhFbGVtZW50LFxuICBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MUGFyYWdyYXBoRWxlbWVudD5cbj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+IChcbiAgPHBcbiAgICByZWY9e3JlZn1cbiAgICBjbGFzc05hbWU9e2NuKCd0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCcsIGNsYXNzTmFtZSl9XG4gICAgey4uLnByb3BzfVxuICAvPlxuKSk7XG5DYXJkRGVzY3JpcHRpb24uZGlzcGxheU5hbWUgPSAnQ2FyZERlc2NyaXB0aW9uJztcblxuY29uc3QgQ2FyZENvbnRlbnQgPSBSZWFjdC5mb3J3YXJkUmVmPFxuICBIVE1MRGl2RWxlbWVudCxcbiAgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+XG4+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoXG4gIDxkaXYgcmVmPXtyZWZ9IGNsYXNzTmFtZT17Y24oJ3AtNiBwdC0wJywgY2xhc3NOYW1lKX0gey4uLnByb3BzfSAvPlxuKSk7XG5DYXJkQ29udGVudC5kaXNwbGF5TmFtZSA9ICdDYXJkQ29udGVudCc7XG5cbmNvbnN0IENhcmRGb290ZXIgPSBSZWFjdC5mb3J3YXJkUmVmPFxuICBIVE1MRGl2RWxlbWVudCxcbiAgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+XG4+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoXG4gIDxkaXZcbiAgICByZWY9e3JlZn1cbiAgICBjbGFzc05hbWU9e2NuKCdmbGV4IGl0ZW1zLWNlbnRlciBwLTYgcHQtMCcsIGNsYXNzTmFtZSl9XG4gICAgey4uLnByb3BzfVxuICAvPlxuKSk7XG5DYXJkRm9vdGVyLmRpc3BsYXlOYW1lID0gJ0NhcmRGb290ZXInO1xuXG5leHBvcnQge1xuICBDYXJkLFxuICBDYXJkSGVhZGVyLFxuICBDYXJkRm9vdGVyLFxuICBDYXJkVGl0bGUsXG4gIENhcmREZXNjcmlwdGlvbixcbiAgQ2FyZENvbnRlbnQsXG59O1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwiY24iLCJDYXJkIiwiZm9yd2FyZFJlZiIsImNsYXNzTmFtZSIsInByb3BzIiwicmVmIiwiZGl2IiwiZGlzcGxheU5hbWUiLCJDYXJkSGVhZGVyIiwiQ2FyZFRpdGxlIiwiaDMiLCJDYXJkRGVzY3JpcHRpb24iLCJwIiwiQ2FyZENvbnRlbnQiLCJDYXJkRm9vdGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/card.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/dropdown-menu.tsx":
/*!*****************************************!*\
  !*** ./components/ui/dropdown-menu.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DropdownMenu: () => (/* binding */ DropdownMenu),\n/* harmony export */   DropdownMenuCheckboxItem: () => (/* binding */ DropdownMenuCheckboxItem),\n/* harmony export */   DropdownMenuContent: () => (/* binding */ DropdownMenuContent),\n/* harmony export */   DropdownMenuGroup: () => (/* binding */ DropdownMenuGroup),\n/* harmony export */   DropdownMenuItem: () => (/* binding */ DropdownMenuItem),\n/* harmony export */   DropdownMenuLabel: () => (/* binding */ DropdownMenuLabel),\n/* harmony export */   DropdownMenuPortal: () => (/* binding */ DropdownMenuPortal),\n/* harmony export */   DropdownMenuRadioGroup: () => (/* binding */ DropdownMenuRadioGroup),\n/* harmony export */   DropdownMenuRadioItem: () => (/* binding */ DropdownMenuRadioItem),\n/* harmony export */   DropdownMenuSeparator: () => (/* binding */ DropdownMenuSeparator),\n/* harmony export */   DropdownMenuShortcut: () => (/* binding */ DropdownMenuShortcut),\n/* harmony export */   DropdownMenuSub: () => (/* binding */ DropdownMenuSub),\n/* harmony export */   DropdownMenuSubContent: () => (/* binding */ DropdownMenuSubContent),\n/* harmony export */   DropdownMenuSubTrigger: () => (/* binding */ DropdownMenuSubTrigger),\n/* harmony export */   DropdownMenuTrigger: () => (/* binding */ DropdownMenuTrigger)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/shared/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @radix-ui/react-dropdown-menu */ \"(ssr)/./node_modules/@radix-ui/react-dropdown-menu/dist/index.mjs\");\n/* harmony import */ var _barrel_optimize_names_Check_ChevronRight_Circle_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Check,ChevronRight,Circle!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/chevron-right.js\");\n/* harmony import */ var _barrel_optimize_names_Check_ChevronRight_Circle_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Check,ChevronRight,Circle!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/check.js\");\n/* harmony import */ var _barrel_optimize_names_Check_ChevronRight_Circle_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Check,ChevronRight,Circle!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/circle.js\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n/* __next_internal_client_entry_do_not_use__ DropdownMenu,DropdownMenuTrigger,DropdownMenuContent,DropdownMenuItem,DropdownMenuCheckboxItem,DropdownMenuRadioItem,DropdownMenuLabel,DropdownMenuSeparator,DropdownMenuShortcut,DropdownMenuGroup,DropdownMenuPortal,DropdownMenuSub,DropdownMenuSubContent,DropdownMenuSubTrigger,DropdownMenuRadioGroup auto */ \n\n\n\n\nconst DropdownMenu = _radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.Root;\nconst DropdownMenuTrigger = _radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.Trigger;\nconst DropdownMenuGroup = _radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.Group;\nconst DropdownMenuPortal = _radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.Portal;\nconst DropdownMenuSub = _radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.Sub;\nconst DropdownMenuRadioGroup = _radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.RadioGroup;\nconst DropdownMenuSubTrigger = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, inset, children, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.SubTrigger, {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent\", inset && \"pl-8\", className),\n        ...props,\n        children: [\n            children,\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_ChevronRight_Circle_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                className: \"ml-auto h-4 w-4\"\n            }, void 0, false, {\n                fileName: \"/Users/kominetenma/Desktop/project/components/ui/dropdown-menu.tsx\",\n                lineNumber: 37,\n                columnNumber: 5\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/kominetenma/Desktop/project/components/ui/dropdown-menu.tsx\",\n        lineNumber: 27,\n        columnNumber: 3\n    }, undefined));\nDropdownMenuSubTrigger.displayName = _radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.SubTrigger.displayName;\nconst DropdownMenuSubContent = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.SubContent, {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/Users/kominetenma/Desktop/project/components/ui/dropdown-menu.tsx\",\n        lineNumber: 47,\n        columnNumber: 3\n    }, undefined));\nDropdownMenuSubContent.displayName = _radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.SubContent.displayName;\nconst DropdownMenuContent = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, sideOffset = 4, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.Portal, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.Content, {\n            ref: ref,\n            sideOffset: sideOffset,\n            className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\", className),\n            ...props\n        }, void 0, false, {\n            fileName: \"/Users/kominetenma/Desktop/project/components/ui/dropdown-menu.tsx\",\n            lineNumber: 64,\n            columnNumber: 5\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/Users/kominetenma/Desktop/project/components/ui/dropdown-menu.tsx\",\n        lineNumber: 63,\n        columnNumber: 3\n    }, undefined));\nDropdownMenuContent.displayName = _radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.Content.displayName;\nconst DropdownMenuItem = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, inset, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.Item, {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\", inset && \"pl-8\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/Users/kominetenma/Desktop/project/components/ui/dropdown-menu.tsx\",\n        lineNumber: 83,\n        columnNumber: 3\n    }, undefined));\nDropdownMenuItem.displayName = _radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.Item.displayName;\nconst DropdownMenuCheckboxItem = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, children, checked, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.CheckboxItem, {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\", className),\n        checked: checked,\n        ...props,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.ItemIndicator, {\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_ChevronRight_Circle_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                        className: \"h-4 w-4\"\n                    }, void 0, false, {\n                        fileName: \"/Users/kominetenma/Desktop/project/components/ui/dropdown-menu.tsx\",\n                        lineNumber: 110,\n                        columnNumber: 9\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/Users/kominetenma/Desktop/project/components/ui/dropdown-menu.tsx\",\n                    lineNumber: 109,\n                    columnNumber: 7\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/kominetenma/Desktop/project/components/ui/dropdown-menu.tsx\",\n                lineNumber: 108,\n                columnNumber: 5\n            }, undefined),\n            children\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/kominetenma/Desktop/project/components/ui/dropdown-menu.tsx\",\n        lineNumber: 99,\n        columnNumber: 3\n    }, undefined));\nDropdownMenuCheckboxItem.displayName = _radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.CheckboxItem.displayName;\nconst DropdownMenuRadioItem = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, children, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.RadioItem, {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\", className),\n        ...props,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.ItemIndicator, {\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_ChevronRight_Circle_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                        className: \"h-2 w-2 fill-current\"\n                    }, void 0, false, {\n                        fileName: \"/Users/kominetenma/Desktop/project/components/ui/dropdown-menu.tsx\",\n                        lineNumber: 133,\n                        columnNumber: 9\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/Users/kominetenma/Desktop/project/components/ui/dropdown-menu.tsx\",\n                    lineNumber: 132,\n                    columnNumber: 7\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/kominetenma/Desktop/project/components/ui/dropdown-menu.tsx\",\n                lineNumber: 131,\n                columnNumber: 5\n            }, undefined),\n            children\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/kominetenma/Desktop/project/components/ui/dropdown-menu.tsx\",\n        lineNumber: 123,\n        columnNumber: 3\n    }, undefined));\nDropdownMenuRadioItem.displayName = _radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.RadioItem.displayName;\nconst DropdownMenuLabel = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, inset, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.Label, {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"px-2 py-1.5 text-sm font-semibold\", inset && \"pl-8\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/Users/kominetenma/Desktop/project/components/ui/dropdown-menu.tsx\",\n        lineNumber: 147,\n        columnNumber: 3\n    }, undefined));\nDropdownMenuLabel.displayName = _radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.Label.displayName;\nconst DropdownMenuSeparator = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.Separator, {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"-mx-1 my-1 h-px bg-muted\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/Users/kominetenma/Desktop/project/components/ui/dropdown-menu.tsx\",\n        lineNumber: 163,\n        columnNumber: 3\n    }, undefined));\nDropdownMenuSeparator.displayName = _radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.Separator.displayName;\nconst DropdownMenuShortcut = ({ className, ...props })=>{\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"ml-auto text-xs tracking-widest opacity-60\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/Users/kominetenma/Desktop/project/components/ui/dropdown-menu.tsx\",\n        lineNumber: 176,\n        columnNumber: 5\n    }, undefined);\n};\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\";\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFLakIsV0FBVTswQkFDZCw0RUFBQ25CLHdFQUFtQzs4QkFDbEMsNEVBQUNHLHFHQUFNQTt3QkFBQ2dCLFdBQVU7Ozs7Ozs7Ozs7Ozs7Ozs7WUFHckJFOzs7Ozs7O0FBR0xpQixzQkFBc0JiLFdBQVcsR0FBR3pCLG9FQUErQixDQUFDeUIsV0FBVztBQUUvRSxNQUFNZSxrQ0FBb0J6Qyw2Q0FBZ0IsQ0FLeEMsQ0FBQyxFQUFFb0IsU0FBUyxFQUFFQyxLQUFLLEVBQUUsR0FBR0UsT0FBTyxFQUFFQyxvQkFDakMsOERBQUN2QixnRUFBMkI7UUFDMUJ1QixLQUFLQTtRQUNMSixXQUFXZiw4Q0FBRUEsQ0FDWCxxQ0FDQWdCLFNBQVMsUUFDVEQ7UUFFRCxHQUFHRyxLQUFLOzs7Ozs7QUFHYmtCLGtCQUFrQmYsV0FBVyxHQUFHekIsZ0VBQTJCLENBQUN5QixXQUFXO0FBRXZFLE1BQU1pQixzQ0FBd0IzQyw2Q0FBZ0IsQ0FHNUMsQ0FBQyxFQUFFb0IsU0FBUyxFQUFFLEdBQUdHLE9BQU8sRUFBRUMsb0JBQzFCLDhEQUFDdkIsb0VBQStCO1FBQzlCdUIsS0FBS0E7UUFDTEosV0FBV2YsOENBQUVBLENBQUMsNEJBQTRCZTtRQUN6QyxHQUFHRyxLQUFLOzs7Ozs7QUFHYm9CLHNCQUFzQmpCLFdBQVcsR0FBR3pCLG9FQUErQixDQUFDeUIsV0FBVztBQUUvRSxNQUFNbUIsdUJBQXVCLENBQUMsRUFDNUJ6QixTQUFTLEVBQ1QsR0FBR0csT0FDbUM7SUFDdEMscUJBQ0UsOERBQUNjO1FBQ0NqQixXQUFXZiw4Q0FBRUEsQ0FBQyw4Q0FBOENlO1FBQzNELEdBQUdHLEtBQUs7Ozs7OztBQUdmO0FBQ0FzQixxQkFBcUJuQixXQUFXLEdBQUc7QUFrQmpDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLy4vY29tcG9uZW50cy91aS9kcm9wZG93bi1tZW51LnRzeD8wMjRhIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICogYXMgRHJvcGRvd25NZW51UHJpbWl0aXZlIGZyb20gJ0ByYWRpeC11aS9yZWFjdC1kcm9wZG93bi1tZW51JztcbmltcG9ydCB7IENoZWNrLCBDaGV2cm9uUmlnaHQsIENpcmNsZSB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XG5cbmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnO1xuXG5jb25zdCBEcm9wZG93bk1lbnUgPSBEcm9wZG93bk1lbnVQcmltaXRpdmUuUm9vdDtcblxuY29uc3QgRHJvcGRvd25NZW51VHJpZ2dlciA9IERyb3Bkb3duTWVudVByaW1pdGl2ZS5UcmlnZ2VyO1xuXG5jb25zdCBEcm9wZG93bk1lbnVHcm91cCA9IERyb3Bkb3duTWVudVByaW1pdGl2ZS5Hcm91cDtcblxuY29uc3QgRHJvcGRvd25NZW51UG9ydGFsID0gRHJvcGRvd25NZW51UHJpbWl0aXZlLlBvcnRhbDtcblxuY29uc3QgRHJvcGRvd25NZW51U3ViID0gRHJvcGRvd25NZW51UHJpbWl0aXZlLlN1YjtcblxuY29uc3QgRHJvcGRvd25NZW51UmFkaW9Hcm91cCA9IERyb3Bkb3duTWVudVByaW1pdGl2ZS5SYWRpb0dyb3VwO1xuXG5jb25zdCBEcm9wZG93bk1lbnVTdWJUcmlnZ2VyID0gUmVhY3QuZm9yd2FyZFJlZjxcbiAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgRHJvcGRvd25NZW51UHJpbWl0aXZlLlN1YlRyaWdnZXI+LFxuICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIERyb3Bkb3duTWVudVByaW1pdGl2ZS5TdWJUcmlnZ2VyPiAmIHtcbiAgICBpbnNldD86IGJvb2xlYW47XG4gIH1cbj4oKHsgY2xhc3NOYW1lLCBpbnNldCwgY2hpbGRyZW4sIC4uLnByb3BzIH0sIHJlZikgPT4gKFxuICA8RHJvcGRvd25NZW51UHJpbWl0aXZlLlN1YlRyaWdnZXJcbiAgICByZWY9e3JlZn1cbiAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgJ2ZsZXggY3Vyc29yLWRlZmF1bHQgc2VsZWN0LW5vbmUgaXRlbXMtY2VudGVyIHJvdW5kZWQtc20gcHgtMiBweS0xLjUgdGV4dC1zbSBvdXRsaW5lLW5vbmUgZm9jdXM6YmctYWNjZW50IGRhdGEtW3N0YXRlPW9wZW5dOmJnLWFjY2VudCcsXG4gICAgICBpbnNldCAmJiAncGwtOCcsXG4gICAgICBjbGFzc05hbWVcbiAgICApfVxuICAgIHsuLi5wcm9wc31cbiAgPlxuICAgIHtjaGlsZHJlbn1cbiAgICA8Q2hldnJvblJpZ2h0IGNsYXNzTmFtZT1cIm1sLWF1dG8gaC00IHctNFwiIC8+XG4gIDwvRHJvcGRvd25NZW51UHJpbWl0aXZlLlN1YlRyaWdnZXI+XG4pKTtcbkRyb3Bkb3duTWVudVN1YlRyaWdnZXIuZGlzcGxheU5hbWUgPVxuICBEcm9wZG93bk1lbnVQcmltaXRpdmUuU3ViVHJpZ2dlci5kaXNwbGF5TmFtZTtcblxuY29uc3QgRHJvcGRvd25NZW51U3ViQ29udGVudCA9IFJlYWN0LmZvcndhcmRSZWY8XG4gIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIERyb3Bkb3duTWVudVByaW1pdGl2ZS5TdWJDb250ZW50PixcbiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBEcm9wZG93bk1lbnVQcmltaXRpdmUuU3ViQ29udGVudD5cbj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+IChcbiAgPERyb3Bkb3duTWVudVByaW1pdGl2ZS5TdWJDb250ZW50XG4gICAgcmVmPXtyZWZ9XG4gICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICd6LTUwIG1pbi13LVs4cmVtXSBvdmVyZmxvdy1oaWRkZW4gcm91bmRlZC1tZCBib3JkZXIgYmctcG9wb3ZlciBwLTEgdGV4dC1wb3BvdmVyLWZvcmVncm91bmQgc2hhZG93LWxnIGRhdGEtW3N0YXRlPW9wZW5dOmFuaW1hdGUtaW4gZGF0YS1bc3RhdGU9Y2xvc2VkXTphbmltYXRlLW91dCBkYXRhLVtzdGF0ZT1jbG9zZWRdOmZhZGUtb3V0LTAgZGF0YS1bc3RhdGU9b3Blbl06ZmFkZS1pbi0wIGRhdGEtW3N0YXRlPWNsb3NlZF06em9vbS1vdXQtOTUgZGF0YS1bc3RhdGU9b3Blbl06em9vbS1pbi05NSBkYXRhLVtzaWRlPWJvdHRvbV06c2xpZGUtaW4tZnJvbS10b3AtMiBkYXRhLVtzaWRlPWxlZnRdOnNsaWRlLWluLWZyb20tcmlnaHQtMiBkYXRhLVtzaWRlPXJpZ2h0XTpzbGlkZS1pbi1mcm9tLWxlZnQtMiBkYXRhLVtzaWRlPXRvcF06c2xpZGUtaW4tZnJvbS1ib3R0b20tMicsXG4gICAgICBjbGFzc05hbWVcbiAgICApfVxuICAgIHsuLi5wcm9wc31cbiAgLz5cbikpO1xuRHJvcGRvd25NZW51U3ViQ29udGVudC5kaXNwbGF5TmFtZSA9XG4gIERyb3Bkb3duTWVudVByaW1pdGl2ZS5TdWJDb250ZW50LmRpc3BsYXlOYW1lO1xuXG5jb25zdCBEcm9wZG93bk1lbnVDb250ZW50ID0gUmVhY3QuZm9yd2FyZFJlZjxcbiAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgRHJvcGRvd25NZW51UHJpbWl0aXZlLkNvbnRlbnQ+LFxuICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIERyb3Bkb3duTWVudVByaW1pdGl2ZS5Db250ZW50PlxuPigoeyBjbGFzc05hbWUsIHNpZGVPZmZzZXQgPSA0LCAuLi5wcm9wcyB9LCByZWYpID0+IChcbiAgPERyb3Bkb3duTWVudVByaW1pdGl2ZS5Qb3J0YWw+XG4gICAgPERyb3Bkb3duTWVudVByaW1pdGl2ZS5Db250ZW50XG4gICAgICByZWY9e3JlZn1cbiAgICAgIHNpZGVPZmZzZXQ9e3NpZGVPZmZzZXR9XG4gICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICAnei01MCBtaW4tdy1bOHJlbV0gb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQtbWQgYm9yZGVyIGJnLXBvcG92ZXIgcC0xIHRleHQtcG9wb3Zlci1mb3JlZ3JvdW5kIHNoYWRvdy1tZCBkYXRhLVtzdGF0ZT1vcGVuXTphbmltYXRlLWluIGRhdGEtW3N0YXRlPWNsb3NlZF06YW5pbWF0ZS1vdXQgZGF0YS1bc3RhdGU9Y2xvc2VkXTpmYWRlLW91dC0wIGRhdGEtW3N0YXRlPW9wZW5dOmZhZGUtaW4tMCBkYXRhLVtzdGF0ZT1jbG9zZWRdOnpvb20tb3V0LTk1IGRhdGEtW3N0YXRlPW9wZW5dOnpvb20taW4tOTUgZGF0YS1bc2lkZT1ib3R0b21dOnNsaWRlLWluLWZyb20tdG9wLTIgZGF0YS1bc2lkZT1sZWZ0XTpzbGlkZS1pbi1mcm9tLXJpZ2h0LTIgZGF0YS1bc2lkZT1yaWdodF06c2xpZGUtaW4tZnJvbS1sZWZ0LTIgZGF0YS1bc2lkZT10b3BdOnNsaWRlLWluLWZyb20tYm90dG9tLTInLFxuICAgICAgICBjbGFzc05hbWVcbiAgICAgICl9XG4gICAgICB7Li4ucHJvcHN9XG4gICAgLz5cbiAgPC9Ecm9wZG93bk1lbnVQcmltaXRpdmUuUG9ydGFsPlxuKSk7XG5Ecm9wZG93bk1lbnVDb250ZW50LmRpc3BsYXlOYW1lID0gRHJvcGRvd25NZW51UHJpbWl0aXZlLkNvbnRlbnQuZGlzcGxheU5hbWU7XG5cbmNvbnN0IERyb3Bkb3duTWVudUl0ZW0gPSBSZWFjdC5mb3J3YXJkUmVmPFxuICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBEcm9wZG93bk1lbnVQcmltaXRpdmUuSXRlbT4sXG4gIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgRHJvcGRvd25NZW51UHJpbWl0aXZlLkl0ZW0+ICYge1xuICAgIGluc2V0PzogYm9vbGVhbjtcbiAgfVxuPigoeyBjbGFzc05hbWUsIGluc2V0LCAuLi5wcm9wcyB9LCByZWYpID0+IChcbiAgPERyb3Bkb3duTWVudVByaW1pdGl2ZS5JdGVtXG4gICAgcmVmPXtyZWZ9XG4gICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICdyZWxhdGl2ZSBmbGV4IGN1cnNvci1kZWZhdWx0IHNlbGVjdC1ub25lIGl0ZW1zLWNlbnRlciByb3VuZGVkLXNtIHB4LTIgcHktMS41IHRleHQtc20gb3V0bGluZS1ub25lIHRyYW5zaXRpb24tY29sb3JzIGZvY3VzOmJnLWFjY2VudCBmb2N1czp0ZXh0LWFjY2VudC1mb3JlZ3JvdW5kIGRhdGEtW2Rpc2FibGVkXTpwb2ludGVyLWV2ZW50cy1ub25lIGRhdGEtW2Rpc2FibGVkXTpvcGFjaXR5LTUwJyxcbiAgICAgIGluc2V0ICYmICdwbC04JyxcbiAgICAgIGNsYXNzTmFtZVxuICAgICl9XG4gICAgey4uLnByb3BzfVxuICAvPlxuKSk7XG5Ecm9wZG93bk1lbnVJdGVtLmRpc3BsYXlOYW1lID0gRHJvcGRvd25NZW51UHJpbWl0aXZlLkl0ZW0uZGlzcGxheU5hbWU7XG5cbmNvbnN0IERyb3Bkb3duTWVudUNoZWNrYm94SXRlbSA9IFJlYWN0LmZvcndhcmRSZWY8XG4gIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIERyb3Bkb3duTWVudVByaW1pdGl2ZS5DaGVja2JveEl0ZW0+LFxuICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIERyb3Bkb3duTWVudVByaW1pdGl2ZS5DaGVja2JveEl0ZW0+XG4+KCh7IGNsYXNzTmFtZSwgY2hpbGRyZW4sIGNoZWNrZWQsIC4uLnByb3BzIH0sIHJlZikgPT4gKFxuICA8RHJvcGRvd25NZW51UHJpbWl0aXZlLkNoZWNrYm94SXRlbVxuICAgIHJlZj17cmVmfVxuICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAncmVsYXRpdmUgZmxleCBjdXJzb3ItZGVmYXVsdCBzZWxlY3Qtbm9uZSBpdGVtcy1jZW50ZXIgcm91bmRlZC1zbSBweS0xLjUgcGwtOCBwci0yIHRleHQtc20gb3V0bGluZS1ub25lIHRyYW5zaXRpb24tY29sb3JzIGZvY3VzOmJnLWFjY2VudCBmb2N1czp0ZXh0LWFjY2VudC1mb3JlZ3JvdW5kIGRhdGEtW2Rpc2FibGVkXTpwb2ludGVyLWV2ZW50cy1ub25lIGRhdGEtW2Rpc2FibGVkXTpvcGFjaXR5LTUwJyxcbiAgICAgIGNsYXNzTmFtZVxuICAgICl9XG4gICAgY2hlY2tlZD17Y2hlY2tlZH1cbiAgICB7Li4ucHJvcHN9XG4gID5cbiAgICA8c3BhbiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBsZWZ0LTIgZmxleCBoLTMuNSB3LTMuNSBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgIDxEcm9wZG93bk1lbnVQcmltaXRpdmUuSXRlbUluZGljYXRvcj5cbiAgICAgICAgPENoZWNrIGNsYXNzTmFtZT1cImgtNCB3LTRcIiAvPlxuICAgICAgPC9Ecm9wZG93bk1lbnVQcmltaXRpdmUuSXRlbUluZGljYXRvcj5cbiAgICA8L3NwYW4+XG4gICAge2NoaWxkcmVufVxuICA8L0Ryb3Bkb3duTWVudVByaW1pdGl2ZS5DaGVja2JveEl0ZW0+XG4pKTtcbkRyb3Bkb3duTWVudUNoZWNrYm94SXRlbS5kaXNwbGF5TmFtZSA9XG4gIERyb3Bkb3duTWVudVByaW1pdGl2ZS5DaGVja2JveEl0ZW0uZGlzcGxheU5hbWU7XG5cbmNvbnN0IERyb3Bkb3duTWVudVJhZGlvSXRlbSA9IFJlYWN0LmZvcndhcmRSZWY8XG4gIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIERyb3Bkb3duTWVudVByaW1pdGl2ZS5SYWRpb0l0ZW0+LFxuICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIERyb3Bkb3duTWVudVByaW1pdGl2ZS5SYWRpb0l0ZW0+XG4+KCh7IGNsYXNzTmFtZSwgY2hpbGRyZW4sIC4uLnByb3BzIH0sIHJlZikgPT4gKFxuICA8RHJvcGRvd25NZW51UHJpbWl0aXZlLlJhZGlvSXRlbVxuICAgIHJlZj17cmVmfVxuICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAncmVsYXRpdmUgZmxleCBjdXJzb3ItZGVmYXVsdCBzZWxlY3Qtbm9uZSBpdGVtcy1jZW50ZXIgcm91bmRlZC1zbSBweS0xLjUgcGwtOCBwci0yIHRleHQtc20gb3V0bGluZS1ub25lIHRyYW5zaXRpb24tY29sb3JzIGZvY3VzOmJnLWFjY2VudCBmb2N1czp0ZXh0LWFjY2VudC1mb3JlZ3JvdW5kIGRhdGEtW2Rpc2FibGVkXTpwb2ludGVyLWV2ZW50cy1ub25lIGRhdGEtW2Rpc2FibGVkXTpvcGFjaXR5LTUwJyxcbiAgICAgIGNsYXNzTmFtZVxuICAgICl9XG4gICAgey4uLnByb3BzfVxuICA+XG4gICAgPHNwYW4gY2xhc3NOYW1lPVwiYWJzb2x1dGUgbGVmdC0yIGZsZXggaC0zLjUgdy0zLjUgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICA8RHJvcGRvd25NZW51UHJpbWl0aXZlLkl0ZW1JbmRpY2F0b3I+XG4gICAgICAgIDxDaXJjbGUgY2xhc3NOYW1lPVwiaC0yIHctMiBmaWxsLWN1cnJlbnRcIiAvPlxuICAgICAgPC9Ecm9wZG93bk1lbnVQcmltaXRpdmUuSXRlbUluZGljYXRvcj5cbiAgICA8L3NwYW4+XG4gICAge2NoaWxkcmVufVxuICA8L0Ryb3Bkb3duTWVudVByaW1pdGl2ZS5SYWRpb0l0ZW0+XG4pKTtcbkRyb3Bkb3duTWVudVJhZGlvSXRlbS5kaXNwbGF5TmFtZSA9IERyb3Bkb3duTWVudVByaW1pdGl2ZS5SYWRpb0l0ZW0uZGlzcGxheU5hbWU7XG5cbmNvbnN0IERyb3Bkb3duTWVudUxhYmVsID0gUmVhY3QuZm9yd2FyZFJlZjxcbiAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgRHJvcGRvd25NZW51UHJpbWl0aXZlLkxhYmVsPixcbiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBEcm9wZG93bk1lbnVQcmltaXRpdmUuTGFiZWw+ICYge1xuICAgIGluc2V0PzogYm9vbGVhbjtcbiAgfVxuPigoeyBjbGFzc05hbWUsIGluc2V0LCAuLi5wcm9wcyB9LCByZWYpID0+IChcbiAgPERyb3Bkb3duTWVudVByaW1pdGl2ZS5MYWJlbFxuICAgIHJlZj17cmVmfVxuICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAncHgtMiBweS0xLjUgdGV4dC1zbSBmb250LXNlbWlib2xkJyxcbiAgICAgIGluc2V0ICYmICdwbC04JyxcbiAgICAgIGNsYXNzTmFtZVxuICAgICl9XG4gICAgey4uLnByb3BzfVxuICAvPlxuKSk7XG5Ecm9wZG93bk1lbnVMYWJlbC5kaXNwbGF5TmFtZSA9IERyb3Bkb3duTWVudVByaW1pdGl2ZS5MYWJlbC5kaXNwbGF5TmFtZTtcblxuY29uc3QgRHJvcGRvd25NZW51U2VwYXJhdG9yID0gUmVhY3QuZm9yd2FyZFJlZjxcbiAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgRHJvcGRvd25NZW51UHJpbWl0aXZlLlNlcGFyYXRvcj4sXG4gIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgRHJvcGRvd25NZW51UHJpbWl0aXZlLlNlcGFyYXRvcj5cbj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+IChcbiAgPERyb3Bkb3duTWVudVByaW1pdGl2ZS5TZXBhcmF0b3JcbiAgICByZWY9e3JlZn1cbiAgICBjbGFzc05hbWU9e2NuKCctbXgtMSBteS0xIGgtcHggYmctbXV0ZWQnLCBjbGFzc05hbWUpfVxuICAgIHsuLi5wcm9wc31cbiAgLz5cbikpO1xuRHJvcGRvd25NZW51U2VwYXJhdG9yLmRpc3BsYXlOYW1lID0gRHJvcGRvd25NZW51UHJpbWl0aXZlLlNlcGFyYXRvci5kaXNwbGF5TmFtZTtcblxuY29uc3QgRHJvcGRvd25NZW51U2hvcnRjdXQgPSAoe1xuICBjbGFzc05hbWUsXG4gIC4uLnByb3BzXG59OiBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MU3BhbkVsZW1lbnQ+KSA9PiB7XG4gIHJldHVybiAoXG4gICAgPHNwYW5cbiAgICAgIGNsYXNzTmFtZT17Y24oJ21sLWF1dG8gdGV4dC14cyB0cmFja2luZy13aWRlc3Qgb3BhY2l0eS02MCcsIGNsYXNzTmFtZSl9XG4gICAgICB7Li4ucHJvcHN9XG4gICAgLz5cbiAgKTtcbn07XG5Ecm9wZG93bk1lbnVTaG9ydGN1dC5kaXNwbGF5TmFtZSA9ICdEcm9wZG93bk1lbnVTaG9ydGN1dCc7XG5cbmV4cG9ydCB7XG4gIERyb3Bkb3duTWVudSxcbiAgRHJvcGRvd25NZW51VHJpZ2dlcixcbiAgRHJvcGRvd25NZW51Q29udGVudCxcbiAgRHJvcGRvd25NZW51SXRlbSxcbiAgRHJvcGRvd25NZW51Q2hlY2tib3hJdGVtLFxuICBEcm9wZG93bk1lbnVSYWRpb0l0ZW0sXG4gIERyb3Bkb3duTWVudUxhYmVsLFxuICBEcm9wZG93bk1lbnVTZXBhcmF0b3IsXG4gIERyb3Bkb3duTWVudVNob3J0Y3V0LFxuICBEcm9wZG93bk1lbnVHcm91cCxcbiAgRHJvcGRvd25NZW51UG9ydGFsLFxuICBEcm9wZG93bk1lbnVTdWIsXG4gIERyb3Bkb3duTWVudVN1YkNvbnRlbnQsXG4gIERyb3Bkb3duTWVudVN1YlRyaWdnZXIsXG4gIERyb3Bkb3duTWVudVJhZGlvR3JvdXAsXG59O1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwiRHJvcGRvd25NZW51UHJpbWl0aXZlIiwiQ2hlY2siLCJDaGV2cm9uUmlnaHQiLCJDaXJjbGUiLCJjbiIsIkRyb3Bkb3duTWVudSIsIlJvb3QiLCJEcm9wZG93bk1lbnVUcmlnZ2VyIiwiVHJpZ2dlciIsIkRyb3Bkb3duTWVudUdyb3VwIiwiR3JvdXAiLCJEcm9wZG93bk1lbnVQb3J0YWwiLCJQb3J0YWwiLCJEcm9wZG93bk1lbnVTdWIiLCJTdWIiLCJEcm9wZG93bk1lbnVSYWRpb0dyb3VwIiwiUmFkaW9Hcm91cCIsIkRyb3Bkb3duTWVudVN1YlRyaWdnZXIiLCJmb3J3YXJkUmVmIiwiY2xhc3NOYW1lIiwiaW5zZXQiLCJjaGlsZHJlbiIsInByb3BzIiwicmVmIiwiU3ViVHJpZ2dlciIsImRpc3BsYXlOYW1lIiwiRHJvcGRvd25NZW51U3ViQ29udGVudCIsIlN1YkNvbnRlbnQiLCJEcm9wZG93bk1lbnVDb250ZW50Iiwic2lkZU9mZnNldCIsIkNvbnRlbnQiLCJEcm9wZG93bk1lbnVJdGVtIiwiSXRlbSIsIkRyb3Bkb3duTWVudUNoZWNrYm94SXRlbSIsImNoZWNrZWQiLCJDaGVja2JveEl0ZW0iLCJzcGFuIiwiSXRlbUluZGljYXRvciIsIkRyb3Bkb3duTWVudVJhZGlvSXRlbSIsIlJhZGlvSXRlbSIsIkRyb3Bkb3duTWVudUxhYmVsIiwiTGFiZWwiLCJEcm9wZG93bk1lbnVTZXBhcmF0b3IiLCJTZXBhcmF0b3IiLCJEcm9wZG93bk1lbnVTaG9ydGN1dCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/dropdown-menu.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/popover.tsx":
/*!***********************************!*\
  !*** ./components/ui/popover.tsx ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Popover: () => (/* binding */ Popover),\n/* harmony export */   PopoverContent: () => (/* binding */ PopoverContent),\n/* harmony export */   PopoverTrigger: () => (/* binding */ PopoverTrigger)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/shared/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _radix_ui_react_popover__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @radix-ui/react-popover */ \"(ssr)/./node_modules/@radix-ui/react-popover/dist/index.mjs\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n/* __next_internal_client_entry_do_not_use__ Popover,PopoverTrigger,PopoverContent auto */ \n\n\n\nconst Popover = _radix_ui_react_popover__WEBPACK_IMPORTED_MODULE_3__.Root;\nconst PopoverTrigger = _radix_ui_react_popover__WEBPACK_IMPORTED_MODULE_3__.Trigger;\nconst PopoverContent = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, align = \"center\", sideOffset = 4, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_popover__WEBPACK_IMPORTED_MODULE_3__.Portal, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_popover__WEBPACK_IMPORTED_MODULE_3__.Content, {\n            ref: ref,\n            align: align,\n            sideOffset: sideOffset,\n            className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\", className),\n            ...props\n        }, void 0, false, {\n            fileName: \"/Users/kominetenma/Desktop/project/components/ui/popover.tsx\",\n            lineNumber: 17,\n            columnNumber: 5\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/Users/kominetenma/Desktop/project/components/ui/popover.tsx\",\n        lineNumber: 16,\n        columnNumber: 3\n    }, undefined));\nPopoverContent.displayName = _radix_ui_react_popover__WEBPACK_IMPORTED_MODULE_3__.Content.displayName;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL3BvcG92ZXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFFK0I7QUFDNkI7QUFFM0I7QUFFakMsTUFBTUcsVUFBVUYseURBQXFCO0FBRXJDLE1BQU1JLGlCQUFpQkosNERBQXdCO0FBRS9DLE1BQU1NLCtCQUFpQlAsNkNBQWdCLENBR3JDLENBQUMsRUFBRVMsU0FBUyxFQUFFQyxRQUFRLFFBQVEsRUFBRUMsYUFBYSxDQUFDLEVBQUUsR0FBR0MsT0FBTyxFQUFFQyxvQkFDNUQsOERBQUNaLDJEQUF1QjtrQkFDdEIsNEVBQUNBLDREQUF3QjtZQUN2QlksS0FBS0E7WUFDTEgsT0FBT0E7WUFDUEMsWUFBWUE7WUFDWkYsV0FBV1AsOENBQUVBLENBQ1gsOGFBQ0FPO1lBRUQsR0FBR0csS0FBSzs7Ozs7Ozs7Ozs7QUFJZkwsZUFBZVMsV0FBVyxHQUFHZiw0REFBd0IsQ0FBQ2UsV0FBVztBQUVkIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLy4vY29tcG9uZW50cy91aS9wb3BvdmVyLnRzeD9hMWUwIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICogYXMgUG9wb3ZlclByaW1pdGl2ZSBmcm9tICdAcmFkaXgtdWkvcmVhY3QtcG9wb3Zlcic7XG5cbmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnO1xuXG5jb25zdCBQb3BvdmVyID0gUG9wb3ZlclByaW1pdGl2ZS5Sb290O1xuXG5jb25zdCBQb3BvdmVyVHJpZ2dlciA9IFBvcG92ZXJQcmltaXRpdmUuVHJpZ2dlcjtcblxuY29uc3QgUG9wb3ZlckNvbnRlbnQgPSBSZWFjdC5mb3J3YXJkUmVmPFxuICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBQb3BvdmVyUHJpbWl0aXZlLkNvbnRlbnQ+LFxuICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIFBvcG92ZXJQcmltaXRpdmUuQ29udGVudD5cbj4oKHsgY2xhc3NOYW1lLCBhbGlnbiA9ICdjZW50ZXInLCBzaWRlT2Zmc2V0ID0gNCwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoXG4gIDxQb3BvdmVyUHJpbWl0aXZlLlBvcnRhbD5cbiAgICA8UG9wb3ZlclByaW1pdGl2ZS5Db250ZW50XG4gICAgICByZWY9e3JlZn1cbiAgICAgIGFsaWduPXthbGlnbn1cbiAgICAgIHNpZGVPZmZzZXQ9e3NpZGVPZmZzZXR9XG4gICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICAnei01MCB3LTcyIHJvdW5kZWQtbWQgYm9yZGVyIGJnLXBvcG92ZXIgcC00IHRleHQtcG9wb3Zlci1mb3JlZ3JvdW5kIHNoYWRvdy1tZCBvdXRsaW5lLW5vbmUgZGF0YS1bc3RhdGU9b3Blbl06YW5pbWF0ZS1pbiBkYXRhLVtzdGF0ZT1jbG9zZWRdOmFuaW1hdGUtb3V0IGRhdGEtW3N0YXRlPWNsb3NlZF06ZmFkZS1vdXQtMCBkYXRhLVtzdGF0ZT1vcGVuXTpmYWRlLWluLTAgZGF0YS1bc3RhdGU9Y2xvc2VkXTp6b29tLW91dC05NSBkYXRhLVtzdGF0ZT1vcGVuXTp6b29tLWluLTk1IGRhdGEtW3NpZGU9Ym90dG9tXTpzbGlkZS1pbi1mcm9tLXRvcC0yIGRhdGEtW3NpZGU9bGVmdF06c2xpZGUtaW4tZnJvbS1yaWdodC0yIGRhdGEtW3NpZGU9cmlnaHRdOnNsaWRlLWluLWZyb20tbGVmdC0yIGRhdGEtW3NpZGU9dG9wXTpzbGlkZS1pbi1mcm9tLWJvdHRvbS0yJyxcbiAgICAgICAgY2xhc3NOYW1lXG4gICAgICApfVxuICAgICAgey4uLnByb3BzfVxuICAgIC8+XG4gIDwvUG9wb3ZlclByaW1pdGl2ZS5Qb3J0YWw+XG4pKTtcblBvcG92ZXJDb250ZW50LmRpc3BsYXlOYW1lID0gUG9wb3ZlclByaW1pdGl2ZS5Db250ZW50LmRpc3BsYXlOYW1lO1xuXG5leHBvcnQgeyBQb3BvdmVyLCBQb3BvdmVyVHJpZ2dlciwgUG9wb3ZlckNvbnRlbnQgfTtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsIlBvcG92ZXJQcmltaXRpdmUiLCJjbiIsIlBvcG92ZXIiLCJSb290IiwiUG9wb3ZlclRyaWdnZXIiLCJUcmlnZ2VyIiwiUG9wb3ZlckNvbnRlbnQiLCJmb3J3YXJkUmVmIiwiY2xhc3NOYW1lIiwiYWxpZ24iLCJzaWRlT2Zmc2V0IiwicHJvcHMiLCJyZWYiLCJQb3J0YWwiLCJDb250ZW50IiwiZGlzcGxheU5hbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/popover.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/slider.tsx":
/*!**********************************!*\
  !*** ./components/ui/slider.tsx ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Slider: () => (/* binding */ Slider)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/shared/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _radix_ui_react_slider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @radix-ui/react-slider */ \"(ssr)/./node_modules/@radix-ui/react-slider/dist/index.mjs\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n/* __next_internal_client_entry_do_not_use__ Slider auto */ \n\n\n\nconst Slider = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_slider__WEBPACK_IMPORTED_MODULE_3__.Root, {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"relative flex w-full touch-none select-none items-center\", className),\n        ...props,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_slider__WEBPACK_IMPORTED_MODULE_3__.Track, {\n                className: \"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_slider__WEBPACK_IMPORTED_MODULE_3__.Range, {\n                    className: \"absolute h-full bg-primary\"\n                }, void 0, false, {\n                    fileName: \"/Users/kominetenma/Desktop/project/components/ui/slider.tsx\",\n                    lineNumber: 21,\n                    columnNumber: 7\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/kominetenma/Desktop/project/components/ui/slider.tsx\",\n                lineNumber: 20,\n                columnNumber: 5\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_slider__WEBPACK_IMPORTED_MODULE_3__.Thumb, {\n                className: \"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\"\n            }, void 0, false, {\n                fileName: \"/Users/kominetenma/Desktop/project/components/ui/slider.tsx\",\n                lineNumber: 23,\n                columnNumber: 5\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/kominetenma/Desktop/project/components/ui/slider.tsx\",\n        lineNumber: 12,\n        columnNumber: 3\n    }, undefined));\nSlider.displayName = _radix_ui_react_slider__WEBPACK_IMPORTED_MODULE_3__.Root.displayName;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL3NsaWRlci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFFK0I7QUFDMkI7QUFFekI7QUFFakMsTUFBTUcsdUJBQVNILDZDQUFnQixDQUc3QixDQUFDLEVBQUVLLFNBQVMsRUFBRSxHQUFHQyxPQUFPLEVBQUVDLG9CQUMxQiw4REFBQ04sd0RBQW9CO1FBQ25CTSxLQUFLQTtRQUNMRixXQUFXSCw4Q0FBRUEsQ0FDWCw0REFDQUc7UUFFRCxHQUFHQyxLQUFLOzswQkFFVCw4REFBQ0wseURBQXFCO2dCQUFDSSxXQUFVOzBCQUMvQiw0RUFBQ0oseURBQXFCO29CQUFDSSxXQUFVOzs7Ozs7Ozs7OzswQkFFbkMsOERBQUNKLHlEQUFxQjtnQkFBQ0ksV0FBVTs7Ozs7Ozs7Ozs7O0FBR3JDRixPQUFPUyxXQUFXLEdBQUdYLHdEQUFvQixDQUFDVyxXQUFXO0FBRW5DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLy4vY29tcG9uZW50cy91aS9zbGlkZXIudHN4PzEyZDAiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBTbGlkZXJQcmltaXRpdmUgZnJvbSAnQHJhZGl4LXVpL3JlYWN0LXNsaWRlcic7XG5cbmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnO1xuXG5jb25zdCBTbGlkZXIgPSBSZWFjdC5mb3J3YXJkUmVmPFxuICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBTbGlkZXJQcmltaXRpdmUuUm9vdD4sXG4gIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgU2xpZGVyUHJpbWl0aXZlLlJvb3Q+XG4+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoXG4gIDxTbGlkZXJQcmltaXRpdmUuUm9vdFxuICAgIHJlZj17cmVmfVxuICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAncmVsYXRpdmUgZmxleCB3LWZ1bGwgdG91Y2gtbm9uZSBzZWxlY3Qtbm9uZSBpdGVtcy1jZW50ZXInLFxuICAgICAgY2xhc3NOYW1lXG4gICAgKX1cbiAgICB7Li4ucHJvcHN9XG4gID5cbiAgICA8U2xpZGVyUHJpbWl0aXZlLlRyYWNrIGNsYXNzTmFtZT1cInJlbGF0aXZlIGgtMiB3LWZ1bGwgZ3JvdyBvdmVyZmxvdy1oaWRkZW4gcm91bmRlZC1mdWxsIGJnLXNlY29uZGFyeVwiPlxuICAgICAgPFNsaWRlclByaW1pdGl2ZS5SYW5nZSBjbGFzc05hbWU9XCJhYnNvbHV0ZSBoLWZ1bGwgYmctcHJpbWFyeVwiIC8+XG4gICAgPC9TbGlkZXJQcmltaXRpdmUuVHJhY2s+XG4gICAgPFNsaWRlclByaW1pdGl2ZS5UaHVtYiBjbGFzc05hbWU9XCJibG9jayBoLTUgdy01IHJvdW5kZWQtZnVsbCBib3JkZXItMiBib3JkZXItcHJpbWFyeSBiZy1iYWNrZ3JvdW5kIHJpbmctb2Zmc2V0LWJhY2tncm91bmQgdHJhbnNpdGlvbi1jb2xvcnMgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUgZm9jdXMtdmlzaWJsZTpyaW5nLTIgZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC0yIGRpc2FibGVkOnBvaW50ZXItZXZlbnRzLW5vbmUgZGlzYWJsZWQ6b3BhY2l0eS01MFwiIC8+XG4gIDwvU2xpZGVyUHJpbWl0aXZlLlJvb3Q+XG4pKTtcblNsaWRlci5kaXNwbGF5TmFtZSA9IFNsaWRlclByaW1pdGl2ZS5Sb290LmRpc3BsYXlOYW1lO1xuXG5leHBvcnQgeyBTbGlkZXIgfTtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsIlNsaWRlclByaW1pdGl2ZSIsImNuIiwiU2xpZGVyIiwiZm9yd2FyZFJlZiIsImNsYXNzTmFtZSIsInByb3BzIiwicmVmIiwiUm9vdCIsIlRyYWNrIiwiUmFuZ2UiLCJUaHVtYiIsImRpc3BsYXlOYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/slider.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/switch.tsx":
/*!**********************************!*\
  !*** ./components/ui/switch.tsx ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Switch: () => (/* binding */ Switch)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/shared/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _radix_ui_react_switch__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @radix-ui/react-switch */ \"(ssr)/./node_modules/@radix-ui/react-switch/dist/index.mjs\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n/* __next_internal_client_entry_do_not_use__ Switch auto */ \n\n\n\nconst Switch = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_switch__WEBPACK_IMPORTED_MODULE_3__.Root, {\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\", className),\n        ...props,\n        ref: ref,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_switch__WEBPACK_IMPORTED_MODULE_3__.Thumb, {\n            className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\")\n        }, void 0, false, {\n            fileName: \"/Users/kominetenma/Desktop/project/components/ui/switch.tsx\",\n            lineNumber: 20,\n            columnNumber: 5\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/Users/kominetenma/Desktop/project/components/ui/switch.tsx\",\n        lineNumber: 12,\n        columnNumber: 3\n    }, undefined));\nSwitch.displayName = _radix_ui_react_switch__WEBPACK_IMPORTED_MODULE_3__.Root.displayName;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL3N3aXRjaC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFFK0I7QUFDNEI7QUFFMUI7QUFFakMsTUFBTUcsdUJBQVNILDZDQUFnQixDQUc3QixDQUFDLEVBQUVLLFNBQVMsRUFBRSxHQUFHQyxPQUFPLEVBQUVDLG9CQUMxQiw4REFBQ04sd0RBQXFCO1FBQ3BCSSxXQUFXSCw4Q0FBRUEsQ0FDWCxzWEFDQUc7UUFFRCxHQUFHQyxLQUFLO1FBQ1RDLEtBQUtBO2tCQUVMLDRFQUFDTix5REFBc0I7WUFDckJJLFdBQVdILDhDQUFFQSxDQUNYOzs7Ozs7Ozs7OztBQUtSQyxPQUFPTyxXQUFXLEdBQUdULHdEQUFxQixDQUFDUyxXQUFXO0FBRXBDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLy4vY29tcG9uZW50cy91aS9zd2l0Y2gudHN4P2ZiNDUiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBTd2l0Y2hQcmltaXRpdmVzIGZyb20gJ0ByYWRpeC11aS9yZWFjdC1zd2l0Y2gnO1xuXG5pbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJztcblxuY29uc3QgU3dpdGNoID0gUmVhY3QuZm9yd2FyZFJlZjxcbiAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgU3dpdGNoUHJpbWl0aXZlcy5Sb290PixcbiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBTd2l0Y2hQcmltaXRpdmVzLlJvb3Q+XG4+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoXG4gIDxTd2l0Y2hQcmltaXRpdmVzLlJvb3RcbiAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgJ3BlZXIgaW5saW5lLWZsZXggaC02IHctMTEgc2hyaW5rLTAgY3Vyc29yLXBvaW50ZXIgaXRlbXMtY2VudGVyIHJvdW5kZWQtZnVsbCBib3JkZXItMiBib3JkZXItdHJhbnNwYXJlbnQgdHJhbnNpdGlvbi1jb2xvcnMgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUgZm9jdXMtdmlzaWJsZTpyaW5nLTIgZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC0yIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtYmFja2dyb3VuZCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgZGlzYWJsZWQ6b3BhY2l0eS01MCBkYXRhLVtzdGF0ZT1jaGVja2VkXTpiZy1wcmltYXJ5IGRhdGEtW3N0YXRlPXVuY2hlY2tlZF06YmctaW5wdXQnLFxuICAgICAgY2xhc3NOYW1lXG4gICAgKX1cbiAgICB7Li4ucHJvcHN9XG4gICAgcmVmPXtyZWZ9XG4gID5cbiAgICA8U3dpdGNoUHJpbWl0aXZlcy5UaHVtYlxuICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgJ3BvaW50ZXItZXZlbnRzLW5vbmUgYmxvY2sgaC01IHctNSByb3VuZGVkLWZ1bGwgYmctYmFja2dyb3VuZCBzaGFkb3ctbGcgcmluZy0wIHRyYW5zaXRpb24tdHJhbnNmb3JtIGRhdGEtW3N0YXRlPWNoZWNrZWRdOnRyYW5zbGF0ZS14LTUgZGF0YS1bc3RhdGU9dW5jaGVja2VkXTp0cmFuc2xhdGUteC0wJ1xuICAgICAgKX1cbiAgICAvPlxuICA8L1N3aXRjaFByaW1pdGl2ZXMuUm9vdD5cbikpO1xuU3dpdGNoLmRpc3BsYXlOYW1lID0gU3dpdGNoUHJpbWl0aXZlcy5Sb290LmRpc3BsYXlOYW1lO1xuXG5leHBvcnQgeyBTd2l0Y2ggfTtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsIlN3aXRjaFByaW1pdGl2ZXMiLCJjbiIsIlN3aXRjaCIsImZvcndhcmRSZWYiLCJjbGFzc05hbWUiLCJwcm9wcyIsInJlZiIsIlJvb3QiLCJUaHVtYiIsImRpc3BsYXlOYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/switch.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/textarea.tsx":
/*!************************************!*\
  !*** ./components/ui/textarea.tsx ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Textarea: () => (/* binding */ Textarea)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/shared/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n\n\n\nconst Textarea = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>{\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\", className),\n        ref: ref,\n        ...props\n    }, void 0, false, {\n        fileName: \"/Users/kominetenma/Desktop/project/components/ui/textarea.tsx\",\n        lineNumber: 11,\n        columnNumber: 7\n    }, undefined);\n});\nTextarea.displayName = \"Textarea\";\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL3RleHRhcmVhLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQStCO0FBRUU7QUFLakMsTUFBTUUseUJBQVdGLDZDQUFnQixDQUMvQixDQUFDLEVBQUVJLFNBQVMsRUFBRSxHQUFHQyxPQUFPLEVBQUVDO0lBQ3hCLHFCQUNFLDhEQUFDQztRQUNDSCxXQUFXSCw4Q0FBRUEsQ0FDWCx3U0FDQUc7UUFFRkUsS0FBS0E7UUFDSixHQUFHRCxLQUFLOzs7Ozs7QUFHZjtBQUVGSCxTQUFTTSxXQUFXLEdBQUc7QUFFSCIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy8uL2NvbXBvbmVudHMvdWkvdGV4dGFyZWEudHN4P2I4MDIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJztcblxuZXhwb3J0IGludGVyZmFjZSBUZXh0YXJlYVByb3BzXG4gIGV4dGVuZHMgUmVhY3QuVGV4dGFyZWFIVE1MQXR0cmlidXRlczxIVE1MVGV4dEFyZWFFbGVtZW50PiB7fVxuXG5jb25zdCBUZXh0YXJlYSA9IFJlYWN0LmZvcndhcmRSZWY8SFRNTFRleHRBcmVhRWxlbWVudCwgVGV4dGFyZWFQcm9wcz4oXG4gICh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIDx0ZXh0YXJlYVxuICAgICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICAgICdmbGV4IG1pbi1oLVs4MHB4XSB3LWZ1bGwgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWlucHV0IGJnLWJhY2tncm91bmQgcHgtMyBweS0yIHRleHQtc20gcmluZy1vZmZzZXQtYmFja2dyb3VuZCBwbGFjZWhvbGRlcjp0ZXh0LW11dGVkLWZvcmVncm91bmQgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUgZm9jdXMtdmlzaWJsZTpyaW5nLTIgZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC0yIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCBkaXNhYmxlZDpvcGFjaXR5LTUwJyxcbiAgICAgICAgICBjbGFzc05hbWVcbiAgICAgICAgKX1cbiAgICAgICAgcmVmPXtyZWZ9XG4gICAgICAgIHsuLi5wcm9wc31cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxuKTtcblRleHRhcmVhLmRpc3BsYXlOYW1lID0gJ1RleHRhcmVhJztcblxuZXhwb3J0IHsgVGV4dGFyZWEgfTtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsImNuIiwiVGV4dGFyZWEiLCJmb3J3YXJkUmVmIiwiY2xhc3NOYW1lIiwicHJvcHMiLCJyZWYiLCJ0ZXh0YXJlYSIsImRpc3BsYXlOYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/textarea.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/toast.tsx":
/*!*********************************!*\
  !*** ./components/ui/toast.tsx ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Toast: () => (/* binding */ Toast),\n/* harmony export */   ToastAction: () => (/* binding */ ToastAction),\n/* harmony export */   ToastClose: () => (/* binding */ ToastClose),\n/* harmony export */   ToastDescription: () => (/* binding */ ToastDescription),\n/* harmony export */   ToastProvider: () => (/* binding */ ToastProvider),\n/* harmony export */   ToastTitle: () => (/* binding */ ToastTitle),\n/* harmony export */   ToastViewport: () => (/* binding */ ToastViewport)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/shared/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _radix_ui_react_toast__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @radix-ui/react-toast */ \"(ssr)/./node_modules/@radix-ui/react-toast/dist/index.mjs\");\n/* harmony import */ var class_variance_authority__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-variance-authority */ \"(ssr)/./node_modules/class-variance-authority/dist/index.mjs\");\n/* harmony import */ var _barrel_optimize_names_X_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n/* __next_internal_client_entry_do_not_use__ ToastProvider,ToastViewport,Toast,ToastTitle,ToastDescription,ToastClose,ToastAction auto */ \n\n\n\n\n\nconst ToastProvider = _radix_ui_react_toast__WEBPACK_IMPORTED_MODULE_4__.Provider;\nconst ToastViewport = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_toast__WEBPACK_IMPORTED_MODULE_4__.Viewport, {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)(\"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/Users/kominetenma/Desktop/project/components/ui/toast.tsx\",\n        lineNumber: 16,\n        columnNumber: 3\n    }, undefined));\nToastViewport.displayName = _radix_ui_react_toast__WEBPACK_IMPORTED_MODULE_4__.Viewport.displayName;\nconst toastVariants = (0,class_variance_authority__WEBPACK_IMPORTED_MODULE_2__.cva)(\"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\", {\n    variants: {\n        variant: {\n            default: \"border bg-background text-foreground\",\n            destructive: \"destructive group border-destructive bg-destructive text-destructive-foreground\"\n        }\n    },\n    defaultVariants: {\n        variant: \"default\"\n    }\n});\nconst Toast = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, variant, ...props }, ref)=>{\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_toast__WEBPACK_IMPORTED_MODULE_4__.Root, {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)(toastVariants({\n            variant\n        }), className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/Users/kominetenma/Desktop/project/components/ui/toast.tsx\",\n        lineNumber: 49,\n        columnNumber: 5\n    }, undefined);\n});\nToast.displayName = _radix_ui_react_toast__WEBPACK_IMPORTED_MODULE_4__.Root.displayName;\nconst ToastAction = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_toast__WEBPACK_IMPORTED_MODULE_4__.Action, {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)(\"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/Users/kominetenma/Desktop/project/components/ui/toast.tsx\",\n        lineNumber: 62,\n        columnNumber: 3\n    }, undefined));\nToastAction.displayName = _radix_ui_react_toast__WEBPACK_IMPORTED_MODULE_4__.Action.displayName;\nconst ToastClose = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_toast__WEBPACK_IMPORTED_MODULE_4__.Close, {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)(\"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\", className),\n        \"toast-close\": \"\",\n        ...props,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_X_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n            className: \"h-4 w-4\"\n        }, void 0, false, {\n            fileName: \"/Users/kominetenma/Desktop/project/components/ui/toast.tsx\",\n            lineNumber: 86,\n            columnNumber: 5\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/Users/kominetenma/Desktop/project/components/ui/toast.tsx\",\n        lineNumber: 77,\n        columnNumber: 3\n    }, undefined));\nToastClose.displayName = _radix_ui_react_toast__WEBPACK_IMPORTED_MODULE_4__.Close.displayName;\nconst ToastTitle = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_toast__WEBPACK_IMPORTED_MODULE_4__.Title, {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)(\"text-sm font-semibold\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/Users/kominetenma/Desktop/project/components/ui/toast.tsx\",\n        lineNumber: 95,\n        columnNumber: 3\n    }, undefined));\nToastTitle.displayName = _radix_ui_react_toast__WEBPACK_IMPORTED_MODULE_4__.Title.displayName;\nconst ToastDescription = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_toast__WEBPACK_IMPORTED_MODULE_4__.Description, {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)(\"text-sm opacity-90\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/Users/kominetenma/Desktop/project/components/ui/toast.tsx\",\n        lineNumber: 107,\n        columnNumber: 3\n    }, undefined));\nToastDescription.displayName = _radix_ui_react_toast__WEBPACK_IMPORTED_MODULE_4__.Description.displayName;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL3RvYXN0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRStCO0FBQzBCO0FBQ1M7QUFDakM7QUFFQTtBQUVqQyxNQUFNSyxnQkFBZ0JKLDJEQUF3QjtBQUU5QyxNQUFNTSw4QkFBZ0JQLDZDQUFnQixDQUdwQyxDQUFDLEVBQUVTLFNBQVMsRUFBRSxHQUFHQyxPQUFPLEVBQUVDLG9CQUMxQiw4REFBQ1YsMkRBQXdCO1FBQ3ZCVSxLQUFLQTtRQUNMRixXQUFXTCw4Q0FBRUEsQ0FDWCxxSUFDQUs7UUFFRCxHQUFHQyxLQUFLOzs7Ozs7QUFHYkgsY0FBY00sV0FBVyxHQUFHWiwyREFBd0IsQ0FBQ1ksV0FBVztBQUVoRSxNQUFNQyxnQkFBZ0JaLDZEQUFHQSxDQUN2Qiw2bEJBQ0E7SUFDRWEsVUFBVTtRQUNSQyxTQUFTO1lBQ1BDLFNBQVM7WUFDVEMsYUFDRTtRQUNKO0lBQ0Y7SUFDQUMsaUJBQWlCO1FBQ2ZILFNBQVM7SUFDWDtBQUNGO0FBR0YsTUFBTUksc0JBQVFwQiw2Q0FBZ0IsQ0FJNUIsQ0FBQyxFQUFFUyxTQUFTLEVBQUVPLE9BQU8sRUFBRSxHQUFHTixPQUFPLEVBQUVDO0lBQ25DLHFCQUNFLDhEQUFDVix1REFBb0I7UUFDbkJVLEtBQUtBO1FBQ0xGLFdBQVdMLDhDQUFFQSxDQUFDVSxjQUFjO1lBQUVFO1FBQVEsSUFBSVA7UUFDekMsR0FBR0MsS0FBSzs7Ozs7O0FBR2Y7QUFDQVUsTUFBTVAsV0FBVyxHQUFHWix1REFBb0IsQ0FBQ1ksV0FBVztBQUVwRCxNQUFNUyw0QkFBY3RCLDZDQUFnQixDQUdsQyxDQUFDLEVBQUVTLFNBQVMsRUFBRSxHQUFHQyxPQUFPLEVBQUVDLG9CQUMxQiw4REFBQ1YseURBQXNCO1FBQ3JCVSxLQUFLQTtRQUNMRixXQUFXTCw4Q0FBRUEsQ0FDWCxzZ0JBQ0FLO1FBRUQsR0FBR0MsS0FBSzs7Ozs7O0FBR2JZLFlBQVlULFdBQVcsR0FBR1oseURBQXNCLENBQUNZLFdBQVc7QUFFNUQsTUFBTVcsMkJBQWF4Qiw2Q0FBZ0IsQ0FHakMsQ0FBQyxFQUFFUyxTQUFTLEVBQUUsR0FBR0MsT0FBTyxFQUFFQyxvQkFDMUIsOERBQUNWLHdEQUFxQjtRQUNwQlUsS0FBS0E7UUFDTEYsV0FBV0wsOENBQUVBLENBQ1gseVZBQ0FLO1FBRUZpQixlQUFZO1FBQ1gsR0FBR2hCLEtBQUs7a0JBRVQsNEVBQUNQLDZFQUFDQTtZQUFDTSxXQUFVOzs7Ozs7Ozs7OztBQUdqQmUsV0FBV1gsV0FBVyxHQUFHWix3REFBcUIsQ0FBQ1ksV0FBVztBQUUxRCxNQUFNYywyQkFBYTNCLDZDQUFnQixDQUdqQyxDQUFDLEVBQUVTLFNBQVMsRUFBRSxHQUFHQyxPQUFPLEVBQUVDLG9CQUMxQiw4REFBQ1Ysd0RBQXFCO1FBQ3BCVSxLQUFLQTtRQUNMRixXQUFXTCw4Q0FBRUEsQ0FBQyx5QkFBeUJLO1FBQ3RDLEdBQUdDLEtBQUs7Ozs7OztBQUdiaUIsV0FBV2QsV0FBVyxHQUFHWix3REFBcUIsQ0FBQ1ksV0FBVztBQUUxRCxNQUFNZ0IsaUNBQW1CN0IsNkNBQWdCLENBR3ZDLENBQUMsRUFBRVMsU0FBUyxFQUFFLEdBQUdDLE9BQU8sRUFBRUMsb0JBQzFCLDhEQUFDViw4REFBMkI7UUFDMUJVLEtBQUtBO1FBQ0xGLFdBQVdMLDhDQUFFQSxDQUFDLHNCQUFzQks7UUFDbkMsR0FBR0MsS0FBSzs7Ozs7O0FBR2JtQixpQkFBaUJoQixXQUFXLEdBQUdaLDhEQUEyQixDQUFDWSxXQUFXO0FBZ0JwRSIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy8uL2NvbXBvbmVudHMvdWkvdG9hc3QudHN4P2VjNGYiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBUb2FzdFByaW1pdGl2ZXMgZnJvbSAnQHJhZGl4LXVpL3JlYWN0LXRvYXN0JztcbmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknO1xuaW1wb3J0IHsgWCB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XG5cbmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnO1xuXG5jb25zdCBUb2FzdFByb3ZpZGVyID0gVG9hc3RQcmltaXRpdmVzLlByb3ZpZGVyO1xuXG5jb25zdCBUb2FzdFZpZXdwb3J0ID0gUmVhY3QuZm9yd2FyZFJlZjxcbiAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgVG9hc3RQcmltaXRpdmVzLlZpZXdwb3J0PixcbiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBUb2FzdFByaW1pdGl2ZXMuVmlld3BvcnQ+XG4+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoXG4gIDxUb2FzdFByaW1pdGl2ZXMuVmlld3BvcnRcbiAgICByZWY9e3JlZn1cbiAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgJ2ZpeGVkIHRvcC0wIHotWzEwMF0gZmxleCBtYXgtaC1zY3JlZW4gdy1mdWxsIGZsZXgtY29sLXJldmVyc2UgcC00IHNtOmJvdHRvbS0wIHNtOnJpZ2h0LTAgc206dG9wLWF1dG8gc206ZmxleC1jb2wgbWQ6bWF4LXctWzQyMHB4XScsXG4gICAgICBjbGFzc05hbWVcbiAgICApfVxuICAgIHsuLi5wcm9wc31cbiAgLz5cbikpO1xuVG9hc3RWaWV3cG9ydC5kaXNwbGF5TmFtZSA9IFRvYXN0UHJpbWl0aXZlcy5WaWV3cG9ydC5kaXNwbGF5TmFtZTtcblxuY29uc3QgdG9hc3RWYXJpYW50cyA9IGN2YShcbiAgJ2dyb3VwIHBvaW50ZXItZXZlbnRzLWF1dG8gcmVsYXRpdmUgZmxleCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBzcGFjZS14LTQgb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQtbWQgYm9yZGVyIHAtNiBwci04IHNoYWRvdy1sZyB0cmFuc2l0aW9uLWFsbCBkYXRhLVtzd2lwZT1jYW5jZWxdOnRyYW5zbGF0ZS14LTAgZGF0YS1bc3dpcGU9ZW5kXTp0cmFuc2xhdGUteC1bdmFyKC0tcmFkaXgtdG9hc3Qtc3dpcGUtZW5kLXgpXSBkYXRhLVtzd2lwZT1tb3ZlXTp0cmFuc2xhdGUteC1bdmFyKC0tcmFkaXgtdG9hc3Qtc3dpcGUtbW92ZS14KV0gZGF0YS1bc3dpcGU9bW92ZV06dHJhbnNpdGlvbi1ub25lIGRhdGEtW3N0YXRlPW9wZW5dOmFuaW1hdGUtaW4gZGF0YS1bc3RhdGU9Y2xvc2VkXTphbmltYXRlLW91dCBkYXRhLVtzd2lwZT1lbmRdOmFuaW1hdGUtb3V0IGRhdGEtW3N0YXRlPWNsb3NlZF06ZmFkZS1vdXQtODAgZGF0YS1bc3RhdGU9Y2xvc2VkXTpzbGlkZS1vdXQtdG8tcmlnaHQtZnVsbCBkYXRhLVtzdGF0ZT1vcGVuXTpzbGlkZS1pbi1mcm9tLXRvcC1mdWxsIGRhdGEtW3N0YXRlPW9wZW5dOnNtOnNsaWRlLWluLWZyb20tYm90dG9tLWZ1bGwnLFxuICB7XG4gICAgdmFyaWFudHM6IHtcbiAgICAgIHZhcmlhbnQ6IHtcbiAgICAgICAgZGVmYXVsdDogJ2JvcmRlciBiZy1iYWNrZ3JvdW5kIHRleHQtZm9yZWdyb3VuZCcsXG4gICAgICAgIGRlc3RydWN0aXZlOlxuICAgICAgICAgICdkZXN0cnVjdGl2ZSBncm91cCBib3JkZXItZGVzdHJ1Y3RpdmUgYmctZGVzdHJ1Y3RpdmUgdGV4dC1kZXN0cnVjdGl2ZS1mb3JlZ3JvdW5kJyxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBkZWZhdWx0VmFyaWFudHM6IHtcbiAgICAgIHZhcmlhbnQ6ICdkZWZhdWx0JyxcbiAgICB9LFxuICB9XG4pO1xuXG5jb25zdCBUb2FzdCA9IFJlYWN0LmZvcndhcmRSZWY8XG4gIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFRvYXN0UHJpbWl0aXZlcy5Sb290PixcbiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBUb2FzdFByaW1pdGl2ZXMuUm9vdD4gJlxuICAgIFZhcmlhbnRQcm9wczx0eXBlb2YgdG9hc3RWYXJpYW50cz5cbj4oKHsgY2xhc3NOYW1lLCB2YXJpYW50LCAuLi5wcm9wcyB9LCByZWYpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8VG9hc3RQcmltaXRpdmVzLlJvb3RcbiAgICAgIHJlZj17cmVmfVxuICAgICAgY2xhc3NOYW1lPXtjbih0b2FzdFZhcmlhbnRzKHsgdmFyaWFudCB9KSwgY2xhc3NOYW1lKX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICAvPlxuICApO1xufSk7XG5Ub2FzdC5kaXNwbGF5TmFtZSA9IFRvYXN0UHJpbWl0aXZlcy5Sb290LmRpc3BsYXlOYW1lO1xuXG5jb25zdCBUb2FzdEFjdGlvbiA9IFJlYWN0LmZvcndhcmRSZWY8XG4gIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFRvYXN0UHJpbWl0aXZlcy5BY3Rpb24+LFxuICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIFRvYXN0UHJpbWl0aXZlcy5BY3Rpb24+XG4+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoXG4gIDxUb2FzdFByaW1pdGl2ZXMuQWN0aW9uXG4gICAgcmVmPXtyZWZ9XG4gICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICdpbmxpbmUtZmxleCBoLTggc2hyaW5rLTAgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtbWQgYm9yZGVyIGJnLXRyYW5zcGFyZW50IHB4LTMgdGV4dC1zbSBmb250LW1lZGl1bSByaW5nLW9mZnNldC1iYWNrZ3JvdW5kIHRyYW5zaXRpb24tY29sb3JzIGhvdmVyOmJnLXNlY29uZGFyeSBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctcmluZyBmb2N1czpyaW5nLW9mZnNldC0yIGRpc2FibGVkOnBvaW50ZXItZXZlbnRzLW5vbmUgZGlzYWJsZWQ6b3BhY2l0eS01MCBncm91cC1bLmRlc3RydWN0aXZlXTpib3JkZXItbXV0ZWQvNDAgZ3JvdXAtWy5kZXN0cnVjdGl2ZV06aG92ZXI6Ym9yZGVyLWRlc3RydWN0aXZlLzMwIGdyb3VwLVsuZGVzdHJ1Y3RpdmVdOmhvdmVyOmJnLWRlc3RydWN0aXZlIGdyb3VwLVsuZGVzdHJ1Y3RpdmVdOmhvdmVyOnRleHQtZGVzdHJ1Y3RpdmUtZm9yZWdyb3VuZCBncm91cC1bLmRlc3RydWN0aXZlXTpmb2N1czpyaW5nLWRlc3RydWN0aXZlJyxcbiAgICAgIGNsYXNzTmFtZVxuICAgICl9XG4gICAgey4uLnByb3BzfVxuICAvPlxuKSk7XG5Ub2FzdEFjdGlvbi5kaXNwbGF5TmFtZSA9IFRvYXN0UHJpbWl0aXZlcy5BY3Rpb24uZGlzcGxheU5hbWU7XG5cbmNvbnN0IFRvYXN0Q2xvc2UgPSBSZWFjdC5mb3J3YXJkUmVmPFxuICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBUb2FzdFByaW1pdGl2ZXMuQ2xvc2U+LFxuICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIFRvYXN0UHJpbWl0aXZlcy5DbG9zZT5cbj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+IChcbiAgPFRvYXN0UHJpbWl0aXZlcy5DbG9zZVxuICAgIHJlZj17cmVmfVxuICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAnYWJzb2x1dGUgcmlnaHQtMiB0b3AtMiByb3VuZGVkLW1kIHAtMSB0ZXh0LWZvcmVncm91bmQvNTAgb3BhY2l0eS0wIHRyYW5zaXRpb24tb3BhY2l0eSBob3Zlcjp0ZXh0LWZvcmVncm91bmQgZm9jdXM6b3BhY2l0eS0xMDAgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBncm91cC1ob3ZlcjpvcGFjaXR5LTEwMCBncm91cC1bLmRlc3RydWN0aXZlXTp0ZXh0LXJlZC0zMDAgZ3JvdXAtWy5kZXN0cnVjdGl2ZV06aG92ZXI6dGV4dC1yZWQtNTAgZ3JvdXAtWy5kZXN0cnVjdGl2ZV06Zm9jdXM6cmluZy1yZWQtNDAwIGdyb3VwLVsuZGVzdHJ1Y3RpdmVdOmZvY3VzOnJpbmctb2Zmc2V0LXJlZC02MDAnLFxuICAgICAgY2xhc3NOYW1lXG4gICAgKX1cbiAgICB0b2FzdC1jbG9zZT1cIlwiXG4gICAgey4uLnByb3BzfVxuICA+XG4gICAgPFggY2xhc3NOYW1lPVwiaC00IHctNFwiIC8+XG4gIDwvVG9hc3RQcmltaXRpdmVzLkNsb3NlPlxuKSk7XG5Ub2FzdENsb3NlLmRpc3BsYXlOYW1lID0gVG9hc3RQcmltaXRpdmVzLkNsb3NlLmRpc3BsYXlOYW1lO1xuXG5jb25zdCBUb2FzdFRpdGxlID0gUmVhY3QuZm9yd2FyZFJlZjxcbiAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgVG9hc3RQcmltaXRpdmVzLlRpdGxlPixcbiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBUb2FzdFByaW1pdGl2ZXMuVGl0bGU+XG4+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoXG4gIDxUb2FzdFByaW1pdGl2ZXMuVGl0bGVcbiAgICByZWY9e3JlZn1cbiAgICBjbGFzc05hbWU9e2NuKCd0ZXh0LXNtIGZvbnQtc2VtaWJvbGQnLCBjbGFzc05hbWUpfVxuICAgIHsuLi5wcm9wc31cbiAgLz5cbikpO1xuVG9hc3RUaXRsZS5kaXNwbGF5TmFtZSA9IFRvYXN0UHJpbWl0aXZlcy5UaXRsZS5kaXNwbGF5TmFtZTtcblxuY29uc3QgVG9hc3REZXNjcmlwdGlvbiA9IFJlYWN0LmZvcndhcmRSZWY8XG4gIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFRvYXN0UHJpbWl0aXZlcy5EZXNjcmlwdGlvbj4sXG4gIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgVG9hc3RQcmltaXRpdmVzLkRlc2NyaXB0aW9uPlxuPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKFxuICA8VG9hc3RQcmltaXRpdmVzLkRlc2NyaXB0aW9uXG4gICAgcmVmPXtyZWZ9XG4gICAgY2xhc3NOYW1lPXtjbigndGV4dC1zbSBvcGFjaXR5LTkwJywgY2xhc3NOYW1lKX1cbiAgICB7Li4ucHJvcHN9XG4gIC8+XG4pKTtcblRvYXN0RGVzY3JpcHRpb24uZGlzcGxheU5hbWUgPSBUb2FzdFByaW1pdGl2ZXMuRGVzY3JpcHRpb24uZGlzcGxheU5hbWU7XG5cbnR5cGUgVG9hc3RQcm9wcyA9IFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgVG9hc3Q+O1xuXG50eXBlIFRvYXN0QWN0aW9uRWxlbWVudCA9IFJlYWN0LlJlYWN0RWxlbWVudDx0eXBlb2YgVG9hc3RBY3Rpb24+O1xuXG5leHBvcnQge1xuICB0eXBlIFRvYXN0UHJvcHMsXG4gIHR5cGUgVG9hc3RBY3Rpb25FbGVtZW50LFxuICBUb2FzdFByb3ZpZGVyLFxuICBUb2FzdFZpZXdwb3J0LFxuICBUb2FzdCxcbiAgVG9hc3RUaXRsZSxcbiAgVG9hc3REZXNjcmlwdGlvbixcbiAgVG9hc3RDbG9zZSxcbiAgVG9hc3RBY3Rpb24sXG59O1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwiVG9hc3RQcmltaXRpdmVzIiwiY3ZhIiwiWCIsImNuIiwiVG9hc3RQcm92aWRlciIsIlByb3ZpZGVyIiwiVG9hc3RWaWV3cG9ydCIsImZvcndhcmRSZWYiLCJjbGFzc05hbWUiLCJwcm9wcyIsInJlZiIsIlZpZXdwb3J0IiwiZGlzcGxheU5hbWUiLCJ0b2FzdFZhcmlhbnRzIiwidmFyaWFudHMiLCJ2YXJpYW50IiwiZGVmYXVsdCIsImRlc3RydWN0aXZlIiwiZGVmYXVsdFZhcmlhbnRzIiwiVG9hc3QiLCJSb290IiwiVG9hc3RBY3Rpb24iLCJBY3Rpb24iLCJUb2FzdENsb3NlIiwiQ2xvc2UiLCJ0b2FzdC1jbG9zZSIsIlRvYXN0VGl0bGUiLCJUaXRsZSIsIlRvYXN0RGVzY3JpcHRpb24iLCJEZXNjcmlwdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/toast.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/toaster.tsx":
/*!***********************************!*\
  !*** ./components/ui/toaster.tsx ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Toaster: () => (/* binding */ Toaster)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/shared/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _hooks_use_toast__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/hooks/use-toast */ \"(ssr)/./hooks/use-toast.ts\");\n/* harmony import */ var _components_ui_toast__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/toast */ \"(ssr)/./components/ui/toast.tsx\");\n/* __next_internal_client_entry_do_not_use__ Toaster auto */ \n\n\nfunction Toaster() {\n    const { toasts } = (0,_hooks_use_toast__WEBPACK_IMPORTED_MODULE_1__.useToast)();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_toast__WEBPACK_IMPORTED_MODULE_2__.ToastProvider, {\n        children: [\n            toasts.map(function({ id, title, description, action, ...props }) {\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_toast__WEBPACK_IMPORTED_MODULE_2__.Toast, {\n                    ...props,\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"grid gap-1\",\n                            children: [\n                                title && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_toast__WEBPACK_IMPORTED_MODULE_2__.ToastTitle, {\n                                    children: title\n                                }, void 0, false, {\n                                    fileName: \"/Users/kominetenma/Desktop/project/components/ui/toaster.tsx\",\n                                    lineNumber: 22,\n                                    columnNumber: 25\n                                }, this),\n                                description && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_toast__WEBPACK_IMPORTED_MODULE_2__.ToastDescription, {\n                                    children: description\n                                }, void 0, false, {\n                                    fileName: \"/Users/kominetenma/Desktop/project/components/ui/toaster.tsx\",\n                                    lineNumber: 24,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/kominetenma/Desktop/project/components/ui/toaster.tsx\",\n                            lineNumber: 21,\n                            columnNumber: 13\n                        }, this),\n                        action,\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_toast__WEBPACK_IMPORTED_MODULE_2__.ToastClose, {}, void 0, false, {\n                            fileName: \"/Users/kominetenma/Desktop/project/components/ui/toaster.tsx\",\n                            lineNumber: 28,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, id, true, {\n                    fileName: \"/Users/kominetenma/Desktop/project/components/ui/toaster.tsx\",\n                    lineNumber: 20,\n                    columnNumber: 11\n                }, this);\n            }),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_toast__WEBPACK_IMPORTED_MODULE_2__.ToastViewport, {}, void 0, false, {\n                fileName: \"/Users/kominetenma/Desktop/project/components/ui/toaster.tsx\",\n                lineNumber: 32,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/kominetenma/Desktop/project/components/ui/toaster.tsx\",\n        lineNumber: 17,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL3RvYXN0ZXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUU2QztBQVFkO0FBRXhCLFNBQVNPO0lBQ2QsTUFBTSxFQUFFQyxNQUFNLEVBQUUsR0FBR1IsMERBQVFBO0lBRTNCLHFCQUNFLDhEQUFDSSwrREFBYUE7O1lBQ1hJLE9BQU9DLEdBQUcsQ0FBQyxTQUFVLEVBQUVDLEVBQUUsRUFBRUMsS0FBSyxFQUFFQyxXQUFXLEVBQUVDLE1BQU0sRUFBRSxHQUFHQyxPQUFPO2dCQUNoRSxxQkFDRSw4REFBQ2IsdURBQUtBO29CQUFXLEdBQUdhLEtBQUs7O3NDQUN2Qiw4REFBQ0M7NEJBQUlDLFdBQVU7O2dDQUNaTCx1QkFBUyw4REFBQ04sNERBQVVBOzhDQUFFTTs7Ozs7O2dDQUN0QkMsNkJBQ0MsOERBQUNULGtFQUFnQkE7OENBQUVTOzs7Ozs7Ozs7Ozs7d0JBR3RCQztzQ0FDRCw4REFBQ1gsNERBQVVBOzs7Ozs7bUJBUkRROzs7OztZQVdoQjswQkFDQSw4REFBQ0osK0RBQWFBOzs7Ozs7Ozs7OztBQUdwQiIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy8uL2NvbXBvbmVudHMvdWkvdG9hc3Rlci50c3g/MzZlNyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSAnQC9ob29rcy91c2UtdG9hc3QnO1xuaW1wb3J0IHtcbiAgVG9hc3QsXG4gIFRvYXN0Q2xvc2UsXG4gIFRvYXN0RGVzY3JpcHRpb24sXG4gIFRvYXN0UHJvdmlkZXIsXG4gIFRvYXN0VGl0bGUsXG4gIFRvYXN0Vmlld3BvcnQsXG59IGZyb20gJ0AvY29tcG9uZW50cy91aS90b2FzdCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBUb2FzdGVyKCkge1xuICBjb25zdCB7IHRvYXN0cyB9ID0gdXNlVG9hc3QoKTtcblxuICByZXR1cm4gKFxuICAgIDxUb2FzdFByb3ZpZGVyPlxuICAgICAge3RvYXN0cy5tYXAoZnVuY3Rpb24gKHsgaWQsIHRpdGxlLCBkZXNjcmlwdGlvbiwgYWN0aW9uLCAuLi5wcm9wcyB9KSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFRvYXN0IGtleT17aWR9IHsuLi5wcm9wc30+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ2FwLTFcIj5cbiAgICAgICAgICAgICAge3RpdGxlICYmIDxUb2FzdFRpdGxlPnt0aXRsZX08L1RvYXN0VGl0bGU+fVxuICAgICAgICAgICAgICB7ZGVzY3JpcHRpb24gJiYgKFxuICAgICAgICAgICAgICAgIDxUb2FzdERlc2NyaXB0aW9uPntkZXNjcmlwdGlvbn08L1RvYXN0RGVzY3JpcHRpb24+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHthY3Rpb259XG4gICAgICAgICAgICA8VG9hc3RDbG9zZSAvPlxuICAgICAgICAgIDwvVG9hc3Q+XG4gICAgICAgICk7XG4gICAgICB9KX1cbiAgICAgIDxUb2FzdFZpZXdwb3J0IC8+XG4gICAgPC9Ub2FzdFByb3ZpZGVyPlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZVRvYXN0IiwiVG9hc3QiLCJUb2FzdENsb3NlIiwiVG9hc3REZXNjcmlwdGlvbiIsIlRvYXN0UHJvdmlkZXIiLCJUb2FzdFRpdGxlIiwiVG9hc3RWaWV3cG9ydCIsIlRvYXN0ZXIiLCJ0b2FzdHMiLCJtYXAiLCJpZCIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJhY3Rpb24iLCJwcm9wcyIsImRpdiIsImNsYXNzTmFtZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/toaster.tsx\n");

/***/ }),

/***/ "(ssr)/./components/user/user-avatar.tsx":
/*!*****************************************!*\
  !*** ./components/user/user-avatar.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UserAvatar: () => (/* binding */ UserAvatar)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/shared/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n\n\nfunction UserAvatar({ initials, color, className, size = \"md\" }) {\n    const sizeClasses = {\n        sm: \"h-8 w-8 text-xs\",\n        md: \"h-10 w-10 text-sm\",\n        lg: \"h-12 w-12 text-base\"\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_1__.cn)(\"rounded-full flex items-center justify-center font-semibold text-white\", sizeClasses[size], className),\n        style: {\n            backgroundColor: color\n        },\n        children: initials\n    }, void 0, false, {\n        fileName: \"/Users/kominetenma/Desktop/project/components/user/user-avatar.tsx\",\n        lineNumber: 23,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VzZXIvdXNlci1hdmF0YXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQWlDO0FBUzFCLFNBQVNDLFdBQVcsRUFDekJDLFFBQVEsRUFDUkMsS0FBSyxFQUNMQyxTQUFTLEVBQ1RDLE9BQU8sSUFBSSxFQUNLO0lBQ2hCLE1BQU1DLGNBQWM7UUFDbEJDLElBQUk7UUFDSkMsSUFBSTtRQUNKQyxJQUFJO0lBQ047SUFFQSxxQkFDRSw4REFBQ0M7UUFDQ04sV0FBV0osOENBQUVBLENBQ1gsMEVBQ0FNLFdBQVcsQ0FBQ0QsS0FBSyxFQUNqQkQ7UUFFRk8sT0FBTztZQUFFQyxpQkFBaUJUO1FBQU07a0JBRS9CRDs7Ozs7O0FBR1AiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMvLi9jb21wb25lbnRzL3VzZXIvdXNlci1hdmF0YXIudHN4Pzg2NjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY24gfSBmcm9tIFwiQC9saWIvdXRpbHNcIjtcblxuaW50ZXJmYWNlIFVzZXJBdmF0YXJQcm9wcyB7XG4gIGluaXRpYWxzOiBzdHJpbmc7XG4gIGNvbG9yOiBzdHJpbmc7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbiAgc2l6ZT86IFwic21cIiB8IFwibWRcIiB8IFwibGdcIjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFVzZXJBdmF0YXIoeyBcbiAgaW5pdGlhbHMsIFxuICBjb2xvciwgXG4gIGNsYXNzTmFtZSxcbiAgc2l6ZSA9IFwibWRcIiBcbn06IFVzZXJBdmF0YXJQcm9wcykge1xuICBjb25zdCBzaXplQ2xhc3NlcyA9IHtcbiAgICBzbTogXCJoLTggdy04IHRleHQteHNcIixcbiAgICBtZDogXCJoLTEwIHctMTAgdGV4dC1zbVwiLFxuICAgIGxnOiBcImgtMTIgdy0xMiB0ZXh0LWJhc2VcIlxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgXCJyb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlXCIsXG4gICAgICAgIHNpemVDbGFzc2VzW3NpemVdLFxuICAgICAgICBjbGFzc05hbWVcbiAgICAgICl9XG4gICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yIH19XG4gICAgPlxuICAgICAge2luaXRpYWxzfVxuICAgIDwvZGl2PlxuICApO1xufSJdLCJuYW1lcyI6WyJjbiIsIlVzZXJBdmF0YXIiLCJpbml0aWFscyIsImNvbG9yIiwiY2xhc3NOYW1lIiwic2l6ZSIsInNpemVDbGFzc2VzIiwic20iLCJtZCIsImxnIiwiZGl2Iiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/user/user-avatar.tsx\n");

/***/ }),

/***/ "(ssr)/./hooks/use-toast.ts":
/*!****************************!*\
  !*** ./hooks/use-toast.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   reducer: () => (/* binding */ reducer),\n/* harmony export */   toast: () => (/* binding */ toast),\n/* harmony export */   useToast: () => (/* binding */ useToast)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* __next_internal_client_entry_do_not_use__ reducer,useToast,toast auto */ // Inspired by react-hot-toast library\n\nconst TOAST_LIMIT = 1;\nconst TOAST_REMOVE_DELAY = 1000000;\nconst actionTypes = {\n    ADD_TOAST: \"ADD_TOAST\",\n    UPDATE_TOAST: \"UPDATE_TOAST\",\n    DISMISS_TOAST: \"DISMISS_TOAST\",\n    REMOVE_TOAST: \"REMOVE_TOAST\"\n};\nlet count = 0;\nfunction genId() {\n    count = (count + 1) % Number.MAX_SAFE_INTEGER;\n    return count.toString();\n}\nconst toastTimeouts = new Map();\nconst addToRemoveQueue = (toastId)=>{\n    if (toastTimeouts.has(toastId)) {\n        return;\n    }\n    const timeout = setTimeout(()=>{\n        toastTimeouts.delete(toastId);\n        dispatch({\n            type: \"REMOVE_TOAST\",\n            toastId: toastId\n        });\n    }, TOAST_REMOVE_DELAY);\n    toastTimeouts.set(toastId, timeout);\n};\nconst reducer = (state, action)=>{\n    switch(action.type){\n        case \"ADD_TOAST\":\n            return {\n                ...state,\n                toasts: [\n                    action.toast,\n                    ...state.toasts\n                ].slice(0, TOAST_LIMIT)\n            };\n        case \"UPDATE_TOAST\":\n            return {\n                ...state,\n                toasts: state.toasts.map((t)=>t.id === action.toast.id ? {\n                        ...t,\n                        ...action.toast\n                    } : t)\n            };\n        case \"DISMISS_TOAST\":\n            {\n                const { toastId } = action;\n                // ! Side effects ! - This could be extracted into a dismissToast() action,\n                // but I'll keep it here for simplicity\n                if (toastId) {\n                    addToRemoveQueue(toastId);\n                } else {\n                    state.toasts.forEach((toast)=>{\n                        addToRemoveQueue(toast.id);\n                    });\n                }\n                return {\n                    ...state,\n                    toasts: state.toasts.map((t)=>t.id === toastId || toastId === undefined ? {\n                            ...t,\n                            open: false\n                        } : t)\n                };\n            }\n        case \"REMOVE_TOAST\":\n            if (action.toastId === undefined) {\n                return {\n                    ...state,\n                    toasts: []\n                };\n            }\n            return {\n                ...state,\n                toasts: state.toasts.filter((t)=>t.id !== action.toastId)\n            };\n    }\n};\nconst listeners = [];\nlet memoryState = {\n    toasts: []\n};\nfunction dispatch(action) {\n    memoryState = reducer(memoryState, action);\n    listeners.forEach((listener)=>{\n        listener(memoryState);\n    });\n}\nfunction toast({ ...props }) {\n    const id = genId();\n    const update = (props)=>dispatch({\n            type: \"UPDATE_TOAST\",\n            toast: {\n                ...props,\n                id\n            }\n        });\n    const dismiss = ()=>dispatch({\n            type: \"DISMISS_TOAST\",\n            toastId: id\n        });\n    dispatch({\n        type: \"ADD_TOAST\",\n        toast: {\n            ...props,\n            id,\n            open: true,\n            onOpenChange: (open)=>{\n                if (!open) dismiss();\n            }\n        }\n    });\n    return {\n        id: id,\n        dismiss,\n        update\n    };\n}\nfunction useToast() {\n    const [state, setState] = react__WEBPACK_IMPORTED_MODULE_0__.useState(memoryState);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        listeners.push(setState);\n        return ()=>{\n            const index = listeners.indexOf(setState);\n            if (index > -1) {\n                listeners.splice(index, 1);\n            }\n        };\n    }, [\n        state\n    ]);\n    return {\n        ...state,\n        toast,\n        dismiss: (toastId)=>dispatch({\n                type: \"DISMISS_TOAST\",\n                toastId\n            })\n    };\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVUsSUFBTXJCLFNBQVM7WUFBRUMsTUFBTTtZQUFpQk4sU0FBU2dCO1FBQUc7SUFFcEVYLFNBQVM7UUFDUEMsTUFBTTtRQUNOTSxPQUFPO1lBQ0wsR0FBR1ksS0FBSztZQUNSUjtZQUNBRyxNQUFNO1lBQ05RLGNBQWMsQ0FBQ1I7Z0JBQ2IsSUFBSSxDQUFDQSxNQUFNTztZQUNiO1FBQ0Y7SUFDRjtJQUVBLE9BQU87UUFDTFYsSUFBSUE7UUFDSlU7UUFDQUQ7SUFDRjtBQUNGO0FBRUEsU0FBU0c7SUFDUCxNQUFNLENBQUNuQixPQUFPb0IsU0FBUyxHQUFHN0MsMkNBQWMsQ0FBUXNDO0lBRWhEdEMsNENBQWUsQ0FBQztRQUNkcUMsVUFBVVcsSUFBSSxDQUFDSDtRQUNmLE9BQU87WUFDTCxNQUFNSSxRQUFRWixVQUFVYSxPQUFPLENBQUNMO1lBQ2hDLElBQUlJLFFBQVEsQ0FBQyxHQUFHO2dCQUNkWixVQUFVYyxNQUFNLENBQUNGLE9BQU87WUFDMUI7UUFDRjtJQUNGLEdBQUc7UUFBQ3hCO0tBQU07SUFFVixPQUFPO1FBQ0wsR0FBR0EsS0FBSztRQUNSRztRQUNBYyxTQUFTLENBQUMxQixVQUFxQkssU0FBUztnQkFBRUMsTUFBTTtnQkFBaUJOO1lBQVE7SUFDM0U7QUFDRjtBQUUyQiIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy8uL2hvb2tzL3VzZS10b2FzdC50cz8xYzgxIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuLy8gSW5zcGlyZWQgYnkgcmVhY3QtaG90LXRvYXN0IGxpYnJhcnlcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHR5cGUgeyBUb2FzdEFjdGlvbkVsZW1lbnQsIFRvYXN0UHJvcHMgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvdG9hc3QnO1xuXG5jb25zdCBUT0FTVF9MSU1JVCA9IDE7XG5jb25zdCBUT0FTVF9SRU1PVkVfREVMQVkgPSAxMDAwMDAwO1xuXG50eXBlIFRvYXN0ZXJUb2FzdCA9IFRvYXN0UHJvcHMgJiB7XG4gIGlkOiBzdHJpbmc7XG4gIHRpdGxlPzogUmVhY3QuUmVhY3ROb2RlO1xuICBkZXNjcmlwdGlvbj86IFJlYWN0LlJlYWN0Tm9kZTtcbiAgYWN0aW9uPzogVG9hc3RBY3Rpb25FbGVtZW50O1xufTtcblxuY29uc3QgYWN0aW9uVHlwZXMgPSB7XG4gIEFERF9UT0FTVDogJ0FERF9UT0FTVCcsXG4gIFVQREFURV9UT0FTVDogJ1VQREFURV9UT0FTVCcsXG4gIERJU01JU1NfVE9BU1Q6ICdESVNNSVNTX1RPQVNUJyxcbiAgUkVNT1ZFX1RPQVNUOiAnUkVNT1ZFX1RPQVNUJyxcbn0gYXMgY29uc3Q7XG5cbmxldCBjb3VudCA9IDA7XG5cbmZ1bmN0aW9uIGdlbklkKCkge1xuICBjb3VudCA9IChjb3VudCArIDEpICUgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7XG4gIHJldHVybiBjb3VudC50b1N0cmluZygpO1xufVxuXG50eXBlIEFjdGlvblR5cGUgPSB0eXBlb2YgYWN0aW9uVHlwZXM7XG5cbnR5cGUgQWN0aW9uID1cbiAgfCB7XG4gICAgICB0eXBlOiBBY3Rpb25UeXBlWydBRERfVE9BU1QnXTtcbiAgICAgIHRvYXN0OiBUb2FzdGVyVG9hc3Q7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6IEFjdGlvblR5cGVbJ1VQREFURV9UT0FTVCddO1xuICAgICAgdG9hc3Q6IFBhcnRpYWw8VG9hc3RlclRvYXN0PjtcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogQWN0aW9uVHlwZVsnRElTTUlTU19UT0FTVCddO1xuICAgICAgdG9hc3RJZD86IFRvYXN0ZXJUb2FzdFsnaWQnXTtcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogQWN0aW9uVHlwZVsnUkVNT1ZFX1RPQVNUJ107XG4gICAgICB0b2FzdElkPzogVG9hc3RlclRvYXN0WydpZCddO1xuICAgIH07XG5cbmludGVyZmFjZSBTdGF0ZSB7XG4gIHRvYXN0czogVG9hc3RlclRvYXN0W107XG59XG5cbmNvbnN0IHRvYXN0VGltZW91dHMgPSBuZXcgTWFwPHN0cmluZywgUmV0dXJuVHlwZTx0eXBlb2Ygc2V0VGltZW91dD4+KCk7XG5cbmNvbnN0IGFkZFRvUmVtb3ZlUXVldWUgPSAodG9hc3RJZDogc3RyaW5nKSA9PiB7XG4gIGlmICh0b2FzdFRpbWVvdXRzLmhhcyh0b2FzdElkKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICB0b2FzdFRpbWVvdXRzLmRlbGV0ZSh0b2FzdElkKTtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiAnUkVNT1ZFX1RPQVNUJyxcbiAgICAgIHRvYXN0SWQ6IHRvYXN0SWQsXG4gICAgfSk7XG4gIH0sIFRPQVNUX1JFTU9WRV9ERUxBWSk7XG5cbiAgdG9hc3RUaW1lb3V0cy5zZXQodG9hc3RJZCwgdGltZW91dCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVkdWNlciA9IChzdGF0ZTogU3RhdGUsIGFjdGlvbjogQWN0aW9uKTogU3RhdGUgPT4ge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSAnQUREX1RPQVNUJzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICB0b2FzdHM6IFthY3Rpb24udG9hc3QsIC4uLnN0YXRlLnRvYXN0c10uc2xpY2UoMCwgVE9BU1RfTElNSVQpLFxuICAgICAgfTtcblxuICAgIGNhc2UgJ1VQREFURV9UT0FTVCc6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgdG9hc3RzOiBzdGF0ZS50b2FzdHMubWFwKCh0KSA9PlxuICAgICAgICAgIHQuaWQgPT09IGFjdGlvbi50b2FzdC5pZCA/IHsgLi4udCwgLi4uYWN0aW9uLnRvYXN0IH0gOiB0XG4gICAgICAgICksXG4gICAgICB9O1xuXG4gICAgY2FzZSAnRElTTUlTU19UT0FTVCc6IHtcbiAgICAgIGNvbnN0IHsgdG9hc3RJZCB9ID0gYWN0aW9uO1xuXG4gICAgICAvLyAhIFNpZGUgZWZmZWN0cyAhIC0gVGhpcyBjb3VsZCBiZSBleHRyYWN0ZWQgaW50byBhIGRpc21pc3NUb2FzdCgpIGFjdGlvbixcbiAgICAgIC8vIGJ1dCBJJ2xsIGtlZXAgaXQgaGVyZSBmb3Igc2ltcGxpY2l0eVxuICAgICAgaWYgKHRvYXN0SWQpIHtcbiAgICAgICAgYWRkVG9SZW1vdmVRdWV1ZSh0b2FzdElkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXRlLnRvYXN0cy5mb3JFYWNoKCh0b2FzdCkgPT4ge1xuICAgICAgICAgIGFkZFRvUmVtb3ZlUXVldWUodG9hc3QuaWQpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIHRvYXN0czogc3RhdGUudG9hc3RzLm1hcCgodCkgPT5cbiAgICAgICAgICB0LmlkID09PSB0b2FzdElkIHx8IHRvYXN0SWQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgLi4udCxcbiAgICAgICAgICAgICAgICBvcGVuOiBmYWxzZSxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiB0XG4gICAgICAgICksXG4gICAgICB9O1xuICAgIH1cbiAgICBjYXNlICdSRU1PVkVfVE9BU1QnOlxuICAgICAgaWYgKGFjdGlvbi50b2FzdElkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgICB0b2FzdHM6IFtdLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIHRvYXN0czogc3RhdGUudG9hc3RzLmZpbHRlcigodCkgPT4gdC5pZCAhPT0gYWN0aW9uLnRvYXN0SWQpLFxuICAgICAgfTtcbiAgfVxufTtcblxuY29uc3QgbGlzdGVuZXJzOiBBcnJheTwoc3RhdGU6IFN0YXRlKSA9PiB2b2lkPiA9IFtdO1xuXG5sZXQgbWVtb3J5U3RhdGU6IFN0YXRlID0geyB0b2FzdHM6IFtdIH07XG5cbmZ1bmN0aW9uIGRpc3BhdGNoKGFjdGlvbjogQWN0aW9uKSB7XG4gIG1lbW9yeVN0YXRlID0gcmVkdWNlcihtZW1vcnlTdGF0ZSwgYWN0aW9uKTtcbiAgbGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiB7XG4gICAgbGlzdGVuZXIobWVtb3J5U3RhdGUpO1xuICB9KTtcbn1cblxudHlwZSBUb2FzdCA9IE9taXQ8VG9hc3RlclRvYXN0LCAnaWQnPjtcblxuZnVuY3Rpb24gdG9hc3QoeyAuLi5wcm9wcyB9OiBUb2FzdCkge1xuICBjb25zdCBpZCA9IGdlbklkKCk7XG5cbiAgY29uc3QgdXBkYXRlID0gKHByb3BzOiBUb2FzdGVyVG9hc3QpID0+XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogJ1VQREFURV9UT0FTVCcsXG4gICAgICB0b2FzdDogeyAuLi5wcm9wcywgaWQgfSxcbiAgICB9KTtcbiAgY29uc3QgZGlzbWlzcyA9ICgpID0+IGRpc3BhdGNoKHsgdHlwZTogJ0RJU01JU1NfVE9BU1QnLCB0b2FzdElkOiBpZCB9KTtcblxuICBkaXNwYXRjaCh7XG4gICAgdHlwZTogJ0FERF9UT0FTVCcsXG4gICAgdG9hc3Q6IHtcbiAgICAgIC4uLnByb3BzLFxuICAgICAgaWQsXG4gICAgICBvcGVuOiB0cnVlLFxuICAgICAgb25PcGVuQ2hhbmdlOiAob3BlbikgPT4ge1xuICAgICAgICBpZiAoIW9wZW4pIGRpc21pc3MoKTtcbiAgICAgIH0sXG4gICAgfSxcbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICBpZDogaWQsXG4gICAgZGlzbWlzcyxcbiAgICB1cGRhdGUsXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZVRvYXN0KCkge1xuICBjb25zdCBbc3RhdGUsIHNldFN0YXRlXSA9IFJlYWN0LnVzZVN0YXRlPFN0YXRlPihtZW1vcnlTdGF0ZSk7XG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBsaXN0ZW5lcnMucHVzaChzZXRTdGF0ZSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNvbnN0IGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2Yoc2V0U3RhdGUpO1xuICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW3N0YXRlXSk7XG5cbiAgcmV0dXJuIHtcbiAgICAuLi5zdGF0ZSxcbiAgICB0b2FzdCxcbiAgICBkaXNtaXNzOiAodG9hc3RJZD86IHN0cmluZykgPT4gZGlzcGF0Y2goeyB0eXBlOiAnRElTTUlTU19UT0FTVCcsIHRvYXN0SWQgfSksXG4gIH07XG59XG5cbmV4cG9ydCB7IHVzZVRvYXN0LCB0b2FzdCB9O1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwiVE9BU1RfTElNSVQiLCJUT0FTVF9SRU1PVkVfREVMQVkiLCJhY3Rpb25UeXBlcyIsIkFERF9UT0FTVCIsIlVQREFURV9UT0FTVCIsIkRJU01JU1NfVE9BU1QiLCJSRU1PVkVfVE9BU1QiLCJjb3VudCIsImdlbklkIiwiTnVtYmVyIiwiTUFYX1NBRkVfSU5URUdFUiIsInRvU3RyaW5nIiwidG9hc3RUaW1lb3V0cyIsIk1hcCIsImFkZFRvUmVtb3ZlUXVldWUiLCJ0b2FzdElkIiwiaGFzIiwidGltZW91dCIsInNldFRpbWVvdXQiLCJkZWxldGUiLCJkaXNwYXRjaCIsInR5cGUiLCJzZXQiLCJyZWR1Y2VyIiwic3RhdGUiLCJhY3Rpb24iLCJ0b2FzdHMiLCJ0b2FzdCIsInNsaWNlIiwibWFwIiwidCIsImlkIiwiZm9yRWFjaCIsInVuZGVmaW5lZCIsIm9wZW4iLCJmaWx0ZXIiLCJsaXN0ZW5lcnMiLCJtZW1vcnlTdGF0ZSIsImxpc3RlbmVyIiwicHJvcHMiLCJ1cGRhdGUiLCJkaXNtaXNzIiwib25PcGVuQ2hhbmdlIiwidXNlVG9hc3QiLCJzZXRTdGF0ZSIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwicHVzaCIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./hooks/use-toast.ts\n");

/***/ }),

/***/ "(ssr)/./lib/actions/guest-actions.ts":
/*!**************************************!*\
  !*** ./lib/actions/guest-actions.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createGuestUser: () => (/* binding */ createGuestUser),
/* harmony export */   updateGuestProfile: () => (/* binding */ updateGuestProfile)
/* harmony export */ });
/* harmony import */ var next_dist_client_app_call_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/client/app-call-server */ "(ssr)/./node_modules/next/dist/client/app-call-server.js");
/* harmony import */ var next_dist_client_app_call_server__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_app_call_server__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! private-next-rsc-action-proxy */ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-proxy.js");
/* harmony import */ var private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! private-next-rsc-action-client-wrapper */ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js");



function __build_action__(action, args) {
  return (0,next_dist_client_app_call_server__WEBPACK_IMPORTED_MODULE_0__.callServer)(action.$$id, args)
}

/* __next_internal_action_entry_do_not_use__ createGuestUser,updateGuestProfile */ 

var createGuestUser = (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_2__.createServerReference)("091f3497b3d2e4aaf15c52b9e36782c9f8cc179d");
var updateGuestProfile = (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_2__.createServerReference)("e2452351d79d4b84cb2fefe8b36f50e00555c650");



/***/ }),

/***/ "(ssr)/./lib/actions/my-places-actions.ts":
/*!******************************************!*\
  !*** ./lib/actions/my-places-actions.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   addMyPlaceToTrip: () => (/* binding */ addMyPlaceToTrip),
/* harmony export */   addPlaceToMyPlaces: () => (/* binding */ addPlaceToMyPlaces),
/* harmony export */   copyAllMyPlacesToTrip: () => (/* binding */ copyAllMyPlacesToTrip),
/* harmony export */   deleteMyPlace: () => (/* binding */ deleteMyPlace),
/* harmony export */   getMyPlacesForTrip: () => (/* binding */ getMyPlacesForTrip),
/* harmony export */   updateMyPlace: () => (/* binding */ updateMyPlace)
/* harmony export */ });
/* harmony import */ var next_dist_client_app_call_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/client/app-call-server */ "(ssr)/./node_modules/next/dist/client/app-call-server.js");
/* harmony import */ var next_dist_client_app_call_server__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_app_call_server__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! private-next-rsc-action-proxy */ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-proxy.js");
/* harmony import */ var private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! private-next-rsc-action-client-wrapper */ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js");



function __build_action__(action, args) {
  return (0,next_dist_client_app_call_server__WEBPACK_IMPORTED_MODULE_0__.callServer)(action.$$id, args)
}

/* __next_internal_action_entry_do_not_use__ addPlaceToMyPlaces,updateMyPlace,getMyPlacesForTrip,addMyPlaceToTrip,copyAllMyPlacesToTrip,deleteMyPlace */ 

var addPlaceToMyPlaces = (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_2__.createServerReference)("e45a518b347b597f301ceb2b1e38e1b793450974");
var updateMyPlace = (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_2__.createServerReference)("25ae65fee132d88323477c3c720ca50f7f108069");
var getMyPlacesForTrip = (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_2__.createServerReference)("91b3bdb9503bb94c49587dba8c6524a0aaae4f5a");
var addMyPlaceToTrip = (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_2__.createServerReference)("8f2cda273699c3cf0dda28117b5f231f0473ce2a");
var copyAllMyPlacesToTrip = (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_2__.createServerReference)("65d0de60eb68c648a9ba070cdf3cf729676e4304");
var deleteMyPlace = (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_2__.createServerReference)("0706b50d7a6747782b9c8d1c08fad818d3e436aa");



/***/ }),

/***/ "(ssr)/./lib/contexts/trip-context.tsx":
/*!***************************************!*\
  !*** ./lib/contexts/trip-context.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TripProvider: () => (/* binding */ TripProvider),\n/* harmony export */   useTrip: () => (/* binding */ useTrip)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/shared/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(ssr)/./node_modules/next/navigation.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_navigation__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lib_supabase_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/supabase/client */ \"(ssr)/./lib/supabase/client.ts\");\n/* harmony import */ var _lib_stores_guest_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/stores/guest-store */ \"(ssr)/./lib/stores/guest-store.ts\");\n/* __next_internal_client_entry_do_not_use__ TripProvider,useTrip auto */ \n\n\n\n\nconst TripContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(null);\nfunction TripProvider({ children }) {\n    const [activeTrip, setActiveTrip] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [initialized, setInitialized] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)();\n    const tripId = searchParams.get(\"id\");\n    const { sessionId } = (0,_lib_stores_guest_store__WEBPACK_IMPORTED_MODULE_4__.useGuestStore)();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const pathname = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.usePathname)();\n    const previousTripId = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Function to save active trip ID\n    const saveActiveTripId = async (id)=>{\n        if (!sessionId) return;\n        const supabase = (0,_lib_supabase_client__WEBPACK_IMPORTED_MODULE_3__.createClient)();\n        await supabase.from(\"session_settings\").upsert({\n            session_id: sessionId,\n            setting_key: \"last_active_trip\",\n            setting_value: id,\n            updated_at: new Date().toISOString()\n        }, {\n            onConflict: \"session_id,setting_key\"\n        });\n    };\n    // Navigate with trip ID appended\n    const navigateWithTrip = (path)=>{\n        if (activeTrip) {\n            router.push(`${path}?id=${activeTrip.id}`);\n        } else {\n            router.push(path);\n        }\n    };\n    // Restore last selected trip\n    const restoreLastTrip = async ()=>{\n        if (!sessionId) return null;\n        const supabase = (0,_lib_supabase_client__WEBPACK_IMPORTED_MODULE_3__.createClient)();\n        const { data } = await supabase.from(\"session_settings\").select(\"setting_value\").eq(\"session_id\", sessionId).eq(\"setting_key\", \"last_active_trip\").single();\n        if (data?.setting_value) {\n            return data.setting_value;\n        }\n        return null;\n    };\n    // Initialize trip on app startup\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const initializeTrip = async ()=>{\n            if (!sessionId || initialized) return;\n            // If no trip ID in URL, restore last trip\n            if (!tripId) {\n                const lastTripId = await restoreLastTrip();\n                if (lastTripId) {\n                    // Load trip data\n                    const supabase = (0,_lib_supabase_client__WEBPACK_IMPORTED_MODULE_3__.createClient)();\n                    const { data } = await supabase.from(\"trip_groups\").select(\"*\").eq(\"id\", lastTripId).single();\n                    if (data) {\n                        setActiveTrip(data);\n                        // Add trip ID to current page if needed\n                        if (pathname.startsWith(\"/my-trip\")) {\n                            router.replace(`${pathname}?id=${lastTripId}`);\n                        }\n                    }\n                }\n            }\n            setInitialized(true);\n        };\n        initializeTrip();\n    }, [\n        sessionId,\n        tripId,\n        pathname,\n        router,\n        initialized\n    ]);\n    // Handle trip ID changes from URL\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!tripId || !sessionId || !initialized) {\n            // Don't clear activeTrip just because tripId is not in URL\n            // This allows trip selection to persist across navigation\n            return;\n        }\n        // Skip if the trip ID hasn't changed\n        if (tripId === previousTripId.current) {\n            return;\n        }\n        // If URL has trip ID and it's different from current active trip\n        if (tripId !== activeTrip?.id) {\n            const fetchTrip = async ()=>{\n                const supabase = (0,_lib_supabase_client__WEBPACK_IMPORTED_MODULE_3__.createClient)();\n                const { data } = await supabase.from(\"trip_groups\").select(\"*\").eq(\"id\", tripId).single();\n                if (data) {\n                    previousTripId.current = tripId;\n                    setActiveTrip(data);\n                    saveActiveTripId(data.id);\n                }\n            };\n            fetchTrip();\n        }\n    }, [\n        tripId,\n        sessionId,\n        activeTrip,\n        initialized\n    ]);\n    // Custom setActiveTrip function that also updates previousTripId\n    const handleSetActiveTrip = (trip)=>{\n        if (trip) {\n            previousTripId.current = trip.id;\n            if (trip.id) {\n                saveActiveTripId(trip.id);\n            }\n        } else {\n            previousTripId.current = null;\n        }\n        setActiveTrip(trip);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TripContext.Provider, {\n        value: {\n            activeTrip,\n            setActiveTrip: handleSetActiveTrip,\n            activeTripId: activeTrip?.id || null,\n            navigateWithTrip,\n            restoreLastTrip\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/kominetenma/Desktop/project/lib/contexts/trip-context.tsx\",\n        lineNumber: 161,\n        columnNumber: 5\n    }, this);\n}\nconst useTrip = ()=>{\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(TripContext);\n    if (context === null) {\n        throw new Error(\"useTrip must be used within a TripProvider\");\n    }\n    return context;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b250ZXh0cy90cmlwLWNvbnRleHQudHN4P2Q1NGYiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0LCB1c2VTdGF0ZSwgdXNlRWZmZWN0LCBSZWFjdE5vZGUsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVJvdXRlciwgdXNlUGF0aG5hbWUsIHVzZVNlYXJjaFBhcmFtcyB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAL2xpYi9zdXBhYmFzZS9jbGllbnQnO1xuaW1wb3J0IHsgdXNlR3Vlc3RTdG9yZSB9IGZyb20gJ0AvbGliL3N0b3Jlcy9ndWVzdC1zdG9yZSc7XG5cbmludGVyZmFjZSBUcmlwIHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nIHwgbnVsbDtcbiAgZGVwYXJ0dXJlX2xvY2F0aW9uOiBzdHJpbmc7XG4gIHN0YXJ0X2RhdGU6IHN0cmluZyB8IG51bGw7XG4gIGVuZF9kYXRlOiBzdHJpbmcgfCBudWxsO1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBUcmlwQ29udGV4dFR5cGUge1xuICBhY3RpdmVUcmlwOiBUcmlwIHwgbnVsbDtcbiAgc2V0QWN0aXZlVHJpcDogKHRyaXA6IFRyaXAgfCBudWxsKSA9PiB2b2lkO1xuICBhY3RpdmVUcmlwSWQ6IHN0cmluZyB8IG51bGw7XG4gIG5hdmlnYXRlV2l0aFRyaXA6IChwYXRoOiBzdHJpbmcpID0+IHZvaWQ7XG4gIHJlc3RvcmVMYXN0VHJpcDogKCkgPT4gUHJvbWlzZTxzdHJpbmcgfCBudWxsPjtcbn1cblxuY29uc3QgVHJpcENvbnRleHQgPSBjcmVhdGVDb250ZXh0PFRyaXBDb250ZXh0VHlwZSB8IG51bGw+KG51bGwpO1xuXG5leHBvcnQgZnVuY3Rpb24gVHJpcFByb3ZpZGVyKHsgY2hpbGRyZW4gfTogeyBjaGlsZHJlbjogUmVhY3ROb2RlIH0pIHtcbiAgY29uc3QgW2FjdGl2ZVRyaXAsIHNldEFjdGl2ZVRyaXBdID0gdXNlU3RhdGU8VHJpcCB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbaW5pdGlhbGl6ZWQsIHNldEluaXRpYWxpemVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3Qgc2VhcmNoUGFyYW1zID0gdXNlU2VhcmNoUGFyYW1zKCk7XG4gIGNvbnN0IHRyaXBJZCA9IHNlYXJjaFBhcmFtcy5nZXQoXCJpZFwiKTtcbiAgY29uc3QgeyBzZXNzaW9uSWQgfSA9IHVzZUd1ZXN0U3RvcmUoKTtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG4gIGNvbnN0IHBhdGhuYW1lID0gdXNlUGF0aG5hbWUoKTtcbiAgY29uc3QgcHJldmlvdXNUcmlwSWQgPSB1c2VSZWY8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIFxuICAvLyBGdW5jdGlvbiB0byBzYXZlIGFjdGl2ZSB0cmlwIElEXG4gIGNvbnN0IHNhdmVBY3RpdmVUcmlwSWQgPSBhc3luYyAoaWQ6IHN0cmluZykgPT4ge1xuICAgIGlmICghc2Vzc2lvbklkKSByZXR1cm47XG4gICAgXG4gICAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoKTtcbiAgICBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3Nlc3Npb25fc2V0dGluZ3MnKVxuICAgICAgLnVwc2VydCh7XG4gICAgICAgIHNlc3Npb25faWQ6IHNlc3Npb25JZCxcbiAgICAgICAgc2V0dGluZ19rZXk6ICdsYXN0X2FjdGl2ZV90cmlwJyxcbiAgICAgICAgc2V0dGluZ192YWx1ZTogaWQsXG4gICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgfSwgeyBvbkNvbmZsaWN0OiAnc2Vzc2lvbl9pZCxzZXR0aW5nX2tleScgfSk7XG4gIH07XG4gIFxuICAvLyBOYXZpZ2F0ZSB3aXRoIHRyaXAgSUQgYXBwZW5kZWRcbiAgY29uc3QgbmF2aWdhdGVXaXRoVHJpcCA9IChwYXRoOiBzdHJpbmcpID0+IHtcbiAgICBpZiAoYWN0aXZlVHJpcCkge1xuICAgICAgcm91dGVyLnB1c2goYCR7cGF0aH0/aWQ9JHthY3RpdmVUcmlwLmlkfWApO1xuICAgIH0gZWxzZSB7XG4gICAgICByb3V0ZXIucHVzaChwYXRoKTtcbiAgICB9XG4gIH07XG4gIFxuICAvLyBSZXN0b3JlIGxhc3Qgc2VsZWN0ZWQgdHJpcFxuICBjb25zdCByZXN0b3JlTGFzdFRyaXAgPSBhc3luYyAoKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiA9PiB7XG4gICAgaWYgKCFzZXNzaW9uSWQpIHJldHVybiBudWxsO1xuICAgIFxuICAgIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KCk7XG4gICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3Nlc3Npb25fc2V0dGluZ3MnKVxuICAgICAgLnNlbGVjdCgnc2V0dGluZ192YWx1ZScpXG4gICAgICAuZXEoJ3Nlc3Npb25faWQnLCBzZXNzaW9uSWQpXG4gICAgICAuZXEoJ3NldHRpbmdfa2V5JywgJ2xhc3RfYWN0aXZlX3RyaXAnKVxuICAgICAgLnNpbmdsZSgpO1xuICAgIFxuICAgIGlmIChkYXRhPy5zZXR0aW5nX3ZhbHVlKSB7XG4gICAgICByZXR1cm4gZGF0YS5zZXR0aW5nX3ZhbHVlO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICAvLyBJbml0aWFsaXplIHRyaXAgb24gYXBwIHN0YXJ0dXBcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBpbml0aWFsaXplVHJpcCA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghc2Vzc2lvbklkIHx8IGluaXRpYWxpemVkKSByZXR1cm47XG4gICAgICBcbiAgICAgIC8vIElmIG5vIHRyaXAgSUQgaW4gVVJMLCByZXN0b3JlIGxhc3QgdHJpcFxuICAgICAgaWYgKCF0cmlwSWQpIHtcbiAgICAgICAgY29uc3QgbGFzdFRyaXBJZCA9IGF3YWl0IHJlc3RvcmVMYXN0VHJpcCgpO1xuICAgICAgICBpZiAobGFzdFRyaXBJZCkge1xuICAgICAgICAgIC8vIExvYWQgdHJpcCBkYXRhXG4gICAgICAgICAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoKTtcbiAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgICAuZnJvbSgndHJpcF9ncm91cHMnKVxuICAgICAgICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAgICAgICAuZXEoJ2lkJywgbGFzdFRyaXBJZClcbiAgICAgICAgICAgIC5zaW5nbGUoKTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgc2V0QWN0aXZlVHJpcChkYXRhKTtcbiAgICAgICAgICAgIC8vIEFkZCB0cmlwIElEIHRvIGN1cnJlbnQgcGFnZSBpZiBuZWVkZWRcbiAgICAgICAgICAgIGlmIChwYXRobmFtZS5zdGFydHNXaXRoKCcvbXktdHJpcCcpKSB7XG4gICAgICAgICAgICAgIHJvdXRlci5yZXBsYWNlKGAke3BhdGhuYW1lfT9pZD0ke2xhc3RUcmlwSWR9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzZXRJbml0aWFsaXplZCh0cnVlKTtcbiAgICB9O1xuICAgIFxuICAgIGluaXRpYWxpemVUcmlwKCk7XG4gIH0sIFtzZXNzaW9uSWQsIHRyaXBJZCwgcGF0aG5hbWUsIHJvdXRlciwgaW5pdGlhbGl6ZWRdKTtcbiAgXG4gIC8vIEhhbmRsZSB0cmlwIElEIGNoYW5nZXMgZnJvbSBVUkxcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXRyaXBJZCB8fCAhc2Vzc2lvbklkIHx8ICFpbml0aWFsaXplZCkge1xuICAgICAgLy8gRG9uJ3QgY2xlYXIgYWN0aXZlVHJpcCBqdXN0IGJlY2F1c2UgdHJpcElkIGlzIG5vdCBpbiBVUkxcbiAgICAgIC8vIFRoaXMgYWxsb3dzIHRyaXAgc2VsZWN0aW9uIHRvIHBlcnNpc3QgYWNyb3NzIG5hdmlnYXRpb25cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gU2tpcCBpZiB0aGUgdHJpcCBJRCBoYXNuJ3QgY2hhbmdlZFxuICAgIGlmICh0cmlwSWQgPT09IHByZXZpb3VzVHJpcElkLmN1cnJlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gSWYgVVJMIGhhcyB0cmlwIElEIGFuZCBpdCdzIGRpZmZlcmVudCBmcm9tIGN1cnJlbnQgYWN0aXZlIHRyaXBcbiAgICBpZiAodHJpcElkICE9PSBhY3RpdmVUcmlwPy5pZCkge1xuICAgICAgY29uc3QgZmV0Y2hUcmlwID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudCgpO1xuICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oJ3RyaXBfZ3JvdXBzJylcbiAgICAgICAgICAuc2VsZWN0KCcqJylcbiAgICAgICAgICAuZXEoJ2lkJywgdHJpcElkKVxuICAgICAgICAgIC5zaW5nbGUoKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgcHJldmlvdXNUcmlwSWQuY3VycmVudCA9IHRyaXBJZDtcbiAgICAgICAgICBzZXRBY3RpdmVUcmlwKGRhdGEpO1xuICAgICAgICAgIHNhdmVBY3RpdmVUcmlwSWQoZGF0YS5pZCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBcbiAgICAgIGZldGNoVHJpcCgpO1xuICAgIH1cbiAgfSwgW3RyaXBJZCwgc2Vzc2lvbklkLCBhY3RpdmVUcmlwLCBpbml0aWFsaXplZF0pO1xuICBcbiAgLy8gQ3VzdG9tIHNldEFjdGl2ZVRyaXAgZnVuY3Rpb24gdGhhdCBhbHNvIHVwZGF0ZXMgcHJldmlvdXNUcmlwSWRcbiAgY29uc3QgaGFuZGxlU2V0QWN0aXZlVHJpcCA9ICh0cmlwOiBUcmlwIHwgbnVsbCkgPT4ge1xuICAgIGlmICh0cmlwKSB7XG4gICAgICBwcmV2aW91c1RyaXBJZC5jdXJyZW50ID0gdHJpcC5pZDtcbiAgICAgIGlmICh0cmlwLmlkKSB7XG4gICAgICAgIHNhdmVBY3RpdmVUcmlwSWQodHJpcC5pZCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHByZXZpb3VzVHJpcElkLmN1cnJlbnQgPSBudWxsO1xuICAgIH1cbiAgICBzZXRBY3RpdmVUcmlwKHRyaXApO1xuICB9O1xuICBcbiAgcmV0dXJuIChcbiAgICA8VHJpcENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3tcbiAgICAgIGFjdGl2ZVRyaXAsXG4gICAgICBzZXRBY3RpdmVUcmlwOiBoYW5kbGVTZXRBY3RpdmVUcmlwLFxuICAgICAgYWN0aXZlVHJpcElkOiBhY3RpdmVUcmlwPy5pZCB8fCBudWxsLFxuICAgICAgbmF2aWdhdGVXaXRoVHJpcCxcbiAgICAgIHJlc3RvcmVMYXN0VHJpcFxuICAgIH19PlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvVHJpcENvbnRleHQuUHJvdmlkZXI+XG4gICk7XG59XG5cbmV4cG9ydCBjb25zdCB1c2VUcmlwID0gKCkgPT4ge1xuICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChUcmlwQ29udGV4dCk7XG4gIGlmIChjb250ZXh0ID09PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1c2VUcmlwIG11c3QgYmUgdXNlZCB3aXRoaW4gYSBUcmlwUHJvdmlkZXInKTtcbiAgfVxuICByZXR1cm4gY29udGV4dDtcbn07ICJdLCJuYW1lcyI6WyJjcmVhdGVDb250ZXh0IiwidXNlQ29udGV4dCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlUm91dGVyIiwidXNlUGF0aG5hbWUiLCJ1c2VTZWFyY2hQYXJhbXMiLCJjcmVhdGVDbGllbnQiLCJ1c2VHdWVzdFN0b3JlIiwiVHJpcENvbnRleHQiLCJUcmlwUHJvdmlkZXIiLCJjaGlsZHJlbiIsImFjdGl2ZVRyaXAiLCJzZXRBY3RpdmVUcmlwIiwiaW5pdGlhbGl6ZWQiLCJzZXRJbml0aWFsaXplZCIsInNlYXJjaFBhcmFtcyIsInRyaXBJZCIsImdldCIsInNlc3Npb25JZCIsInJvdXRlciIsInBhdGhuYW1lIiwicHJldmlvdXNUcmlwSWQiLCJzYXZlQWN0aXZlVHJpcElkIiwiaWQiLCJzdXBhYmFzZSIsImZyb20iLCJ1cHNlcnQiLCJzZXNzaW9uX2lkIiwic2V0dGluZ19rZXkiLCJzZXR0aW5nX3ZhbHVlIiwidXBkYXRlZF9hdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsIm9uQ29uZmxpY3QiLCJuYXZpZ2F0ZVdpdGhUcmlwIiwicGF0aCIsInB1c2giLCJyZXN0b3JlTGFzdFRyaXAiLCJkYXRhIiwic2VsZWN0IiwiZXEiLCJzaW5nbGUiLCJpbml0aWFsaXplVHJpcCIsImxhc3RUcmlwSWQiLCJzdGFydHNXaXRoIiwicmVwbGFjZSIsImN1cnJlbnQiLCJmZXRjaFRyaXAiLCJoYW5kbGVTZXRBY3RpdmVUcmlwIiwidHJpcCIsIlByb3ZpZGVyIiwidmFsdWUiLCJhY3RpdmVUcmlwSWQiLCJ1c2VUcmlwIiwiY29udGV4dCIsIkVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./lib/contexts/trip-context.tsx\n");

/***/ }),

/***/ "(ssr)/./lib/stores/guest-store.ts":
/*!***********************************!*\
  !*** ./lib/stores/guest-store.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useGuestStore: () => (/* binding */ useGuestStore)\n/* harmony export */ });\n/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zustand */ \"(ssr)/./node_modules/zustand/esm/react.mjs\");\n\nconst useGuestStore = (0,zustand__WEBPACK_IMPORTED_MODULE_0__.create)((set)=>({\n        sessionId: null,\n        guestData: null,\n        isInitialized: false,\n        initializeGuestSession: (sessionId, userData)=>set({\n                sessionId,\n                guestData: userData,\n                isInitialized: true\n            }),\n        updateGuestData: (data)=>set((state)=>({\n                    guestData: state.guestData ? {\n                        ...state.guestData,\n                        ...data\n                    } : null\n                }))\n    }));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9saWIvc3RvcmVzL2d1ZXN0LXN0b3JlLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWlDO0FBa0IxQixNQUFNQyxnQkFBZ0JELCtDQUFNQSxDQUFhLENBQUNFLE1BQVM7UUFDeERDLFdBQVc7UUFDWEMsV0FBVztRQUNYQyxlQUFlO1FBRWZDLHdCQUF3QixDQUFDSCxXQUFXSSxXQUFhTCxJQUFJO2dCQUNuREM7Z0JBQ0FDLFdBQVdHO2dCQUNYRixlQUFlO1lBQ2pCO1FBRUFHLGlCQUFpQixDQUFDQyxPQUFTUCxJQUFJLENBQUNRLFFBQVc7b0JBQ3pDTixXQUFXTSxNQUFNTixTQUFTLEdBQUc7d0JBQUUsR0FBR00sTUFBTU4sU0FBUzt3QkFBRSxHQUFHSyxJQUFJO29CQUFDLElBQUk7Z0JBQ2pFO0lBQ0YsSUFBSSIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy8uL2xpYi9zdG9yZXMvZ3Vlc3Qtc3RvcmUudHM/NjE4OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGUgfSBmcm9tICd6dXN0YW5kJztcblxuaW50ZXJmYWNlIEd1ZXN0VXNlciB7XG4gIGlkOiBzdHJpbmc7XG4gIGZ1bGxOYW1lPzogc3RyaW5nO1xuICBkaXNwbGF5SW5pdGlhbHM6IHN0cmluZztcbiAgYXNzaWduZWRDb2xvcjogc3RyaW5nO1xuICBpc0d1ZXN0OiBib29sZWFuO1xufVxuXG5pbnRlcmZhY2UgR3Vlc3RTdGF0ZSB7XG4gIHNlc3Npb25JZDogc3RyaW5nIHwgbnVsbDtcbiAgZ3Vlc3REYXRhOiBHdWVzdFVzZXIgfCBudWxsO1xuICBpc0luaXRpYWxpemVkOiBib29sZWFuO1xuICBpbml0aWFsaXplR3Vlc3RTZXNzaW9uOiAoc2Vzc2lvbklkOiBzdHJpbmcsIHVzZXJEYXRhOiBHdWVzdFVzZXIpID0+IHZvaWQ7XG4gIHVwZGF0ZUd1ZXN0RGF0YTogKGRhdGE6IFBhcnRpYWw8R3Vlc3RVc2VyPikgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGNvbnN0IHVzZUd1ZXN0U3RvcmUgPSBjcmVhdGU8R3Vlc3RTdGF0ZT4oKHNldCkgPT4gKHtcbiAgc2Vzc2lvbklkOiBudWxsLFxuICBndWVzdERhdGE6IG51bGwsXG4gIGlzSW5pdGlhbGl6ZWQ6IGZhbHNlLFxuICBcbiAgaW5pdGlhbGl6ZUd1ZXN0U2Vzc2lvbjogKHNlc3Npb25JZCwgdXNlckRhdGEpID0+IHNldCh7XG4gICAgc2Vzc2lvbklkLFxuICAgIGd1ZXN0RGF0YTogdXNlckRhdGEsXG4gICAgaXNJbml0aWFsaXplZDogdHJ1ZSxcbiAgfSksXG4gIFxuICB1cGRhdGVHdWVzdERhdGE6IChkYXRhKSA9PiBzZXQoKHN0YXRlKSA9PiAoe1xuICAgIGd1ZXN0RGF0YTogc3RhdGUuZ3Vlc3REYXRhID8geyAuLi5zdGF0ZS5ndWVzdERhdGEsIC4uLmRhdGEgfSA6IG51bGwsXG4gIH0pKSxcbn0pKTsiXSwibmFtZXMiOlsiY3JlYXRlIiwidXNlR3Vlc3RTdG9yZSIsInNldCIsInNlc3Npb25JZCIsImd1ZXN0RGF0YSIsImlzSW5pdGlhbGl6ZWQiLCJpbml0aWFsaXplR3Vlc3RTZXNzaW9uIiwidXNlckRhdGEiLCJ1cGRhdGVHdWVzdERhdGEiLCJkYXRhIiwic3RhdGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./lib/stores/guest-store.ts\n");

/***/ }),

/***/ "(ssr)/./lib/supabase/client.ts":
/*!********************************!*\
  !*** ./lib/supabase/client.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createClient: () => (/* binding */ createClient)\n/* harmony export */ });\n/* harmony import */ var _supabase_ssr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/ssr */ \"(ssr)/./node_modules/@supabase/ssr/dist/main/index.js\");\n/* harmony import */ var _supabase_ssr__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_ssr__WEBPACK_IMPORTED_MODULE_0__);\n/* __next_internal_client_entry_do_not_use__ createClient auto */ \nfunction createClient() {\n    // 新しいプロジェクトの値に更新\n    const supabaseUrl = \"https://zceqyydzdrbvtsxnqeqx.supabase.co\";\n    const supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpjZXF5eWR6ZHJidnRzeG5xZXF4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg4ODkwMDcsImV4cCI6MjA2NDQ2NTAwN30.Jw7nnt6rvcoYxkYutW2baZ9BU0FrAxvtL3DZ3DoT5_0\";\n    console.log(\"Creating Supabase client with:\", {\n        url: supabaseUrl,\n        key: supabaseAnonKey ? \"defined\" : \"undefined\"\n    });\n    return (0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_0__.createBrowserClient)(supabaseUrl, supabaseAnonKey);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9saWIvc3VwYWJhc2UvY2xpZW50LnRzIiwibWFwcGluZ3MiOiI7Ozs7OztrRUFFb0Q7QUFFN0MsU0FBU0M7SUFDZCxpQkFBaUI7SUFDakIsTUFBTUMsY0FBYztJQUNwQixNQUFNQyxrQkFBa0I7SUFFeEJDLFFBQVFDLEdBQUcsQ0FBQyxrQ0FBa0M7UUFDNUNDLEtBQUtKO1FBQ0xLLEtBQUtKLGtCQUFrQixZQUFZO0lBQ3JDO0lBRUEsT0FBT0gsa0VBQW1CQSxDQUN4QkUsYUFDQUM7QUFFSiIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy8uL2xpYi9zdXBhYmFzZS9jbGllbnQudHM/NWFiZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgY3JlYXRlQnJvd3NlckNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zc3InO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2xpZW50KCkge1xuICAvLyDmlrDjgZfjgYTjg5fjg63jgrjjgqfjgq/jg4jjga7lgKTjgavmm7TmlrBcbiAgY29uc3Qgc3VwYWJhc2VVcmwgPSBcImh0dHBzOi8vemNlcXl5ZHpkcmJ2dHN4bnFlcXguc3VwYWJhc2UuY29cIjtcbiAgY29uc3Qgc3VwYWJhc2VBbm9uS2V5ID0gXCJleUpoYkdjaU9pSklVekkxTmlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKcGMzTWlPaUp6ZFhCaFltRnpaU0lzSW5KbFppSTZJbnBqWlhGNWVXUjZaSEppZG5SemVHNXhaWEY0SWl3aWNtOXNaU0k2SW1GdWIyNGlMQ0pwWVhRaU9qRTNORGc0T0Rrd01EY3NJbVY0Y0NJNk1qQTJORFEyTlRBd04zMC5KdzdubnQ2cnZjb1l4a1l1dFcyYmFaOUJVMEZyQXh2dEwzRFozRG9UNV8wXCI7XG4gIFxuICBjb25zb2xlLmxvZygnQ3JlYXRpbmcgU3VwYWJhc2UgY2xpZW50IHdpdGg6JywgeyBcbiAgICB1cmw6IHN1cGFiYXNlVXJsLCBcbiAgICBrZXk6IHN1cGFiYXNlQW5vbktleSA/ICdkZWZpbmVkJyA6ICd1bmRlZmluZWQnIFxuICB9KTtcbiAgXG4gIHJldHVybiBjcmVhdGVCcm93c2VyQ2xpZW50KFxuICAgIHN1cGFiYXNlVXJsLFxuICAgIHN1cGFiYXNlQW5vbktleVxuICApO1xufSJdLCJuYW1lcyI6WyJjcmVhdGVCcm93c2VyQ2xpZW50IiwiY3JlYXRlQ2xpZW50Iiwic3VwYWJhc2VVcmwiLCJzdXBhYmFzZUFub25LZXkiLCJjb25zb2xlIiwibG9nIiwidXJsIiwia2V5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./lib/supabase/client.ts\n");

/***/ }),

/***/ "(ssr)/./lib/utils.ts":
/*!**********************!*\
  !*** ./lib/utils.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cn: () => (/* binding */ cn),\n/* harmony export */   generateRandomCode: () => (/* binding */ generateRandomCode),\n/* harmony export */   generateRandomColor: () => (/* binding */ generateRandomColor)\n/* harmony export */ });\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! clsx */ \"(ssr)/./node_modules/clsx/dist/clsx.mjs\");\n/* harmony import */ var tailwind_merge__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tailwind-merge */ \"(ssr)/./node_modules/tailwind-merge/dist/bundle-mjs.mjs\");\n\n\nfunction cn(...inputs) {\n    return (0,tailwind_merge__WEBPACK_IMPORTED_MODULE_1__.twMerge)((0,clsx__WEBPACK_IMPORTED_MODULE_0__.clsx)(inputs));\n}\n// Generate a random hex color that is visually pleasing\nfunction generateRandomColor() {\n    // Generate colors in HSL for better visual appeal\n    // Use a set of predefined hues that are visually distinct\n    const hues = [\n        15,\n        45,\n        75,\n        105,\n        135,\n        165,\n        195,\n        225,\n        255,\n        285,\n        315,\n        345\n    ];\n    // Select a random hue from the list\n    const hue = hues[Math.floor(Math.random() * hues.length)];\n    // Keep saturation and lightness in a good range for visibility\n    const saturation = 65 + Math.floor(Math.random() * 20); // 65-85%\n    const lightness = 45 + Math.floor(Math.random() * 15); // 45-60%\n    // Convert HSL to Hex\n    return hslToHex(hue, saturation, lightness);\n}\n// Helper function to convert HSL to Hex\nfunction hslToHex(h, s, l) {\n    s /= 100;\n    l /= 100;\n    const c = (1 - Math.abs(2 * l - 1)) * s;\n    const x = c * (1 - Math.abs(h / 60 % 2 - 1));\n    const m = l - c / 2;\n    let r = 0, g = 0, b = 0;\n    if (0 <= h && h < 60) {\n        r = c;\n        g = x;\n        b = 0;\n    } else if (60 <= h && h < 120) {\n        r = x;\n        g = c;\n        b = 0;\n    } else if (120 <= h && h < 180) {\n        r = 0;\n        g = c;\n        b = x;\n    } else if (180 <= h && h < 240) {\n        r = 0;\n        g = x;\n        b = c;\n    } else if (240 <= h && h < 300) {\n        r = x;\n        g = 0;\n        b = c;\n    } else if (300 <= h && h < 360) {\n        r = c;\n        g = 0;\n        b = x;\n    }\n    // Convert to hex\n    const rHex = Math.round((r + m) * 255).toString(16).padStart(2, \"0\");\n    const gHex = Math.round((g + m) * 255).toString(16).padStart(2, \"0\");\n    const bHex = Math.round((b + m) * 255).toString(16).padStart(2, \"0\");\n    return `#${rHex}${gHex}${bHex}`;\n}\n// Generate a random 6-digit code for trip sharing\nfunction generateRandomCode() {\n    // Generate a random 6-digit number\n    const min = 100000; // Smallest 6-digit number\n    const max = 999999; // Largest 6-digit number\n    return Math.floor(min + Math.random() * (max - min + 1)).toString();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dUIsQ0FBQUEsTUFBTUQsTUFBTSxJQUFJTCxRQUFRO0FBQ25FIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLy4vbGliL3V0aWxzLnRzP2Y3NDUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2xzeCwgdHlwZSBDbGFzc1ZhbHVlIH0gZnJvbSAnY2xzeCc7XG5pbXBvcnQgeyB0d01lcmdlIH0gZnJvbSAndGFpbHdpbmQtbWVyZ2UnO1xuXG5leHBvcnQgZnVuY3Rpb24gY24oLi4uaW5wdXRzOiBDbGFzc1ZhbHVlW10pIHtcbiAgcmV0dXJuIHR3TWVyZ2UoY2xzeChpbnB1dHMpKTtcbn1cblxuLy8gR2VuZXJhdGUgYSByYW5kb20gaGV4IGNvbG9yIHRoYXQgaXMgdmlzdWFsbHkgcGxlYXNpbmdcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVJhbmRvbUNvbG9yKCk6IHN0cmluZyB7XG4gIC8vIEdlbmVyYXRlIGNvbG9ycyBpbiBIU0wgZm9yIGJldHRlciB2aXN1YWwgYXBwZWFsXG4gIC8vIFVzZSBhIHNldCBvZiBwcmVkZWZpbmVkIGh1ZXMgdGhhdCBhcmUgdmlzdWFsbHkgZGlzdGluY3RcbiAgY29uc3QgaHVlcyA9IFtcbiAgICAxNSwgNDUsIDc1LCAxMDUsIDEzNSwgMTY1LCBcbiAgICAxOTUsIDIyNSwgMjU1LCAyODUsIDMxNSwgMzQ1XG4gIF07XG4gIFxuICAvLyBTZWxlY3QgYSByYW5kb20gaHVlIGZyb20gdGhlIGxpc3RcbiAgY29uc3QgaHVlID0gaHVlc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBodWVzLmxlbmd0aCldO1xuICBcbiAgLy8gS2VlcCBzYXR1cmF0aW9uIGFuZCBsaWdodG5lc3MgaW4gYSBnb29kIHJhbmdlIGZvciB2aXNpYmlsaXR5XG4gIGNvbnN0IHNhdHVyYXRpb24gPSA2NSArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDIwKTsgLy8gNjUtODUlXG4gIGNvbnN0IGxpZ2h0bmVzcyA9IDQ1ICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTUpOyAvLyA0NS02MCVcbiAgXG4gIC8vIENvbnZlcnQgSFNMIHRvIEhleFxuICByZXR1cm4gaHNsVG9IZXgoaHVlLCBzYXR1cmF0aW9uLCBsaWdodG5lc3MpO1xufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gY29udmVydCBIU0wgdG8gSGV4XG5mdW5jdGlvbiBoc2xUb0hleChoOiBudW1iZXIsIHM6IG51bWJlciwgbDogbnVtYmVyKTogc3RyaW5nIHtcbiAgcyAvPSAxMDA7XG4gIGwgLz0gMTAwO1xuICBcbiAgY29uc3QgYyA9ICgxIC0gTWF0aC5hYnMoMiAqIGwgLSAxKSkgKiBzO1xuICBjb25zdCB4ID0gYyAqICgxIC0gTWF0aC5hYnMoKChoIC8gNjApICUgMikgLSAxKSk7XG4gIGNvbnN0IG0gPSBsIC0gYy8yO1xuICBcbiAgbGV0IHIgPSAwLCBnID0gMCwgYiA9IDA7XG4gIFxuICBpZiAoMCA8PSBoICYmIGggPCA2MCkge1xuICAgIHIgPSBjOyBnID0geDsgYiA9IDA7XG4gIH0gZWxzZSBpZiAoNjAgPD0gaCAmJiBoIDwgMTIwKSB7XG4gICAgciA9IHg7IGcgPSBjOyBiID0gMDtcbiAgfSBlbHNlIGlmICgxMjAgPD0gaCAmJiBoIDwgMTgwKSB7XG4gICAgciA9IDA7IGcgPSBjOyBiID0geDtcbiAgfSBlbHNlIGlmICgxODAgPD0gaCAmJiBoIDwgMjQwKSB7XG4gICAgciA9IDA7IGcgPSB4OyBiID0gYztcbiAgfSBlbHNlIGlmICgyNDAgPD0gaCAmJiBoIDwgMzAwKSB7XG4gICAgciA9IHg7IGcgPSAwOyBiID0gYztcbiAgfSBlbHNlIGlmICgzMDAgPD0gaCAmJiBoIDwgMzYwKSB7XG4gICAgciA9IGM7IGcgPSAwOyBiID0geDtcbiAgfVxuICBcbiAgLy8gQ29udmVydCB0byBoZXhcbiAgY29uc3QgckhleCA9IE1hdGgucm91bmQoKHIgKyBtKSAqIDI1NSkudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsICcwJyk7XG4gIGNvbnN0IGdIZXggPSBNYXRoLnJvdW5kKChnICsgbSkgKiAyNTUpLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpO1xuICBjb25zdCBiSGV4ID0gTWF0aC5yb3VuZCgoYiArIG0pICogMjU1KS50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKTtcbiAgXG4gIHJldHVybiBgIyR7ckhleH0ke2dIZXh9JHtiSGV4fWA7XG59XG5cbi8vIEdlbmVyYXRlIGEgcmFuZG9tIDYtZGlnaXQgY29kZSBmb3IgdHJpcCBzaGFyaW5nXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVSYW5kb21Db2RlKCk6IHN0cmluZyB7XG4gIC8vIEdlbmVyYXRlIGEgcmFuZG9tIDYtZGlnaXQgbnVtYmVyXG4gIGNvbnN0IG1pbiA9IDEwMDAwMDsgLy8gU21hbGxlc3QgNi1kaWdpdCBudW1iZXJcbiAgY29uc3QgbWF4ID0gOTk5OTk5OyAvLyBMYXJnZXN0IDYtZGlnaXQgbnVtYmVyXG4gIFxuICByZXR1cm4gTWF0aC5mbG9vcihtaW4gKyBNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKS50b1N0cmluZygpO1xufSJdLCJuYW1lcyI6WyJjbHN4IiwidHdNZXJnZSIsImNuIiwiaW5wdXRzIiwiZ2VuZXJhdGVSYW5kb21Db2xvciIsImh1ZXMiLCJodWUiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJsZW5ndGgiLCJzYXR1cmF0aW9uIiwibGlnaHRuZXNzIiwiaHNsVG9IZXgiLCJoIiwicyIsImwiLCJjIiwiYWJzIiwieCIsIm0iLCJyIiwiZyIsImIiLCJySGV4Iiwicm91bmQiLCJ0b1N0cmluZyIsInBhZFN0YXJ0IiwiZ0hleCIsImJIZXgiLCJnZW5lcmF0ZVJhbmRvbUNvZGUiLCJtaW4iLCJtYXgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./lib/utils.ts\n");

/***/ }),

/***/ "(ssr)/./lib/utils/language-detection.ts":
/*!*****************************************!*\
  !*** ./lib/utils/language-detection.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   detectUserLanguage: () => (/* binding */ detectUserLanguage),\n/* harmony export */   detectUserRegion: () => (/* binding */ detectUserRegion),\n/* harmony export */   getLocationBias: () => (/* binding */ getLocationBias)\n/* harmony export */ });\n/**\n * 言語検出のためのユーティリティ関数\n */ /**\n * ユーザーの言語を検出する\n * @returns 検出された言語コード（例: 'en', 'ja', 'fr'）\n */ const detectUserLanguage = ()=>{\n    if (true) {\n        return \"en\"; // サーバーサイドではデフォルト英語\n    }\n    // 複数のソースから言語を検出\n    const browserLang = navigator.language || navigator.languages && navigator.languages[0] || \"en\";\n    // 主要言語コードを抽出（例: 'en-US' -> 'en'）\n    const primaryLang = browserLang.split(\"-\")[0];\n    // Google Maps APIがサポートする言語リスト\n    const supportedLanguages = [\n        \"af\",\n        \"am\",\n        \"ar\",\n        \"az\",\n        \"be\",\n        \"bg\",\n        \"bn\",\n        \"bs\",\n        \"ca\",\n        \"cs\",\n        \"da\",\n        \"de\",\n        \"el\",\n        \"en\",\n        \"es\",\n        \"et\",\n        \"eu\",\n        \"fa\",\n        \"fi\",\n        \"fil\",\n        \"fr\",\n        \"gl\",\n        \"gu\",\n        \"hi\",\n        \"hr\",\n        \"hu\",\n        \"hy\",\n        \"id\",\n        \"is\",\n        \"it\",\n        \"iw\",\n        \"ja\",\n        \"ka\",\n        \"kk\",\n        \"km\",\n        \"kn\",\n        \"ko\",\n        \"ky\",\n        \"lo\",\n        \"lt\",\n        \"lv\",\n        \"mk\",\n        \"ml\",\n        \"mn\",\n        \"mr\",\n        \"ms\",\n        \"my\",\n        \"nb\",\n        \"ne\",\n        \"nl\",\n        \"no\",\n        \"pa\",\n        \"pl\",\n        \"pt\",\n        \"ro\",\n        \"ru\",\n        \"si\",\n        \"sk\",\n        \"sl\",\n        \"sq\",\n        \"sr\",\n        \"sv\",\n        \"sw\",\n        \"ta\",\n        \"te\",\n        \"th\",\n        \"tr\",\n        \"uk\",\n        \"ur\",\n        \"uz\",\n        \"vi\",\n        \"zh\"\n    ];\n    console.log(\"\\uD83C\\uDF0D 検出された言語:\", primaryLang);\n    // サポートされている言語か英語にフォールバック\n    return supportedLanguages.includes(primaryLang) ? primaryLang : \"en\";\n};\n/**\n * ユーザーのリージョンを検出する\n * @returns 検出されたリージョンコード（例: 'US', 'JP', 'FR'）\n */ const detectUserRegion = ()=>{\n    if (true) {\n        return \"US\"; // サーバーサイドではデフォルトUS\n    }\n    // ブラウザの言語からリージョンを取得\n    const browserLang = navigator.language || \"en-US\";\n    const parts = browserLang.split(\"-\");\n    const region = parts.length > 1 ? parts[1] : undefined;\n    console.log(\"\\uD83C\\uDF0D 検出されたリージョン:\", region || \"US\");\n    // リージョンコードまたはデフォルトUSを返す\n    return region || \"US\";\n};\n/**\n * 検索ロケーションバイアスを取得する\n * @returns LocationBiasオブジェクト\n */ const getLocationBias = ()=>{\n    if (true) {\n        return undefined;\n    }\n    // ユーザーの位置情報を使用してバイアスを設定\n    const worldBounds = {\n        east: 180,\n        north: 85,\n        south: -85,\n        west: -180\n    };\n    return worldBounds;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9saWIvdXRpbHMvbGFuZ3VhZ2UtZGV0ZWN0aW9uLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOztDQUVDLEdBRUQ7OztDQUdDLEdBQ00sTUFBTUEscUJBQXFCO0lBQ2hDLElBQUksSUFBa0IsRUFBYTtRQUNqQyxPQUFPLE1BQU0sbUJBQW1CO0lBQ2xDO0lBRUEsZ0JBQWdCO0lBQ2hCLE1BQU1DLGNBQWNDLFVBQVVDLFFBQVEsSUFBS0QsVUFBVUUsU0FBUyxJQUFJRixVQUFVRSxTQUFTLENBQUMsRUFBRSxJQUFLO0lBRTdGLGlDQUFpQztJQUNqQyxNQUFNQyxjQUFjSixZQUFZSyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7SUFFN0MsOEJBQThCO0lBQzlCLE1BQU1DLHFCQUFxQjtRQUN6QjtRQUFNO1FBQU07UUFBTTtRQUFNO1FBQU07UUFBTTtRQUFNO1FBQU07UUFBTTtRQUFNO1FBQU07UUFDbEU7UUFBTTtRQUFNO1FBQU07UUFBTTtRQUFNO1FBQU07UUFBTTtRQUFPO1FBQU07UUFBTTtRQUFNO1FBQ25FO1FBQU07UUFBTTtRQUFNO1FBQU07UUFBTTtRQUFNO1FBQU07UUFBTTtRQUFNO1FBQU07UUFBTTtRQUNsRTtRQUFNO1FBQU07UUFBTTtRQUFNO1FBQU07UUFBTTtRQUFNO1FBQU07UUFBTTtRQUFNO1FBQU07UUFDbEU7UUFBTTtRQUFNO1FBQU07UUFBTTtRQUFNO1FBQU07UUFBTTtRQUFNO1FBQU07UUFBTTtRQUFNO1FBQ2xFO1FBQU07UUFBTTtRQUFNO1FBQU07UUFBTTtRQUFNO1FBQU07UUFBTTtRQUFNO1FBQU07UUFBTTtLQUNuRTtJQUVEQyxRQUFRQyxHQUFHLENBQUMseUJBQWVKO0lBRTNCLHlCQUF5QjtJQUN6QixPQUFPRSxtQkFBbUJHLFFBQVEsQ0FBQ0wsZUFBZUEsY0FBYztBQUNsRSxFQUFFO0FBRUY7OztDQUdDLEdBQ00sTUFBTU0sbUJBQW1CO0lBQzlCLElBQUksSUFBa0IsRUFBYTtRQUNqQyxPQUFPLE1BQU0sbUJBQW1CO0lBQ2xDO0lBRUEsb0JBQW9CO0lBQ3BCLE1BQU1WLGNBQWNDLFVBQVVDLFFBQVEsSUFBSTtJQUMxQyxNQUFNUyxRQUFRWCxZQUFZSyxLQUFLLENBQUM7SUFDaEMsTUFBTU8sU0FBU0QsTUFBTUUsTUFBTSxHQUFHLElBQUlGLEtBQUssQ0FBQyxFQUFFLEdBQUdHO0lBRTdDUCxRQUFRQyxHQUFHLENBQUMsNEJBQWtCSSxVQUFVO0lBRXhDLHdCQUF3QjtJQUN4QixPQUFPQSxVQUFVO0FBQ25CLEVBQUU7QUFFRjs7O0NBR0MsR0FDTSxNQUFNRyxrQkFBa0I7SUFDN0IsSUFBSSxJQUFtRCxFQUFhO1FBQ2xFLE9BQU9EO0lBQ1Q7SUFFQSx3QkFBd0I7SUFDeEIsTUFBTUcsY0FBYztRQUNsQkMsTUFBTTtRQUNOQyxPQUFPO1FBQ1BDLE9BQU8sQ0FBQztRQUNSQyxNQUFNLENBQUM7SUFDVDtJQUVBLE9BQU9KO0FBQ1QsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy8uL2xpYi91dGlscy9sYW5ndWFnZS1kZXRlY3Rpb24udHM/ZTY1OCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIOiogOiqnuaknOWHuuOBruOBn+OCgeOBruODpuODvOODhuOCo+ODquODhuOCo+mWouaVsFxuICovXG5cbi8qKlxuICog44Om44O844K244O844Gu6KiA6Kqe44KS5qSc5Ye644GZ44KLXG4gKiBAcmV0dXJucyDmpJzlh7rjgZXjgozjgZ/oqIDoqp7jgrPjg7zjg4nvvIjkvos6ICdlbicsICdqYScsICdmcifvvIlcbiAqL1xuZXhwb3J0IGNvbnN0IGRldGVjdFVzZXJMYW5ndWFnZSA9ICgpOiBzdHJpbmcgPT4ge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gJ2VuJzsgLy8g44K144O844OQ44O844K144Kk44OJ44Gn44Gv44OH44OV44Kp44Or44OI6Iux6KqeXG4gIH1cbiAgXG4gIC8vIOikh+aVsOOBruOCveODvOOCueOBi+OCieiogOiqnuOCkuaknOWHulxuICBjb25zdCBicm93c2VyTGFuZyA9IG5hdmlnYXRvci5sYW5ndWFnZSB8fCAobmF2aWdhdG9yLmxhbmd1YWdlcyAmJiBuYXZpZ2F0b3IubGFuZ3VhZ2VzWzBdKSB8fCAnZW4nO1xuICBcbiAgLy8g5Li76KaB6KiA6Kqe44Kz44O844OJ44KS5oq95Ye677yI5L6LOiAnZW4tVVMnIC0+ICdlbifvvIlcbiAgY29uc3QgcHJpbWFyeUxhbmcgPSBicm93c2VyTGFuZy5zcGxpdCgnLScpWzBdO1xuICBcbiAgLy8gR29vZ2xlIE1hcHMgQVBJ44GM44K144Od44O844OI44GZ44KL6KiA6Kqe44Oq44K544OIXG4gIGNvbnN0IHN1cHBvcnRlZExhbmd1YWdlcyA9IFtcbiAgICAnYWYnLCAnYW0nLCAnYXInLCAnYXonLCAnYmUnLCAnYmcnLCAnYm4nLCAnYnMnLCAnY2EnLCAnY3MnLCAnZGEnLCAnZGUnLFxuICAgICdlbCcsICdlbicsICdlcycsICdldCcsICdldScsICdmYScsICdmaScsICdmaWwnLCAnZnInLCAnZ2wnLCAnZ3UnLCAnaGknLFxuICAgICdocicsICdodScsICdoeScsICdpZCcsICdpcycsICdpdCcsICdpdycsICdqYScsICdrYScsICdraycsICdrbScsICdrbicsXG4gICAgJ2tvJywgJ2t5JywgJ2xvJywgJ2x0JywgJ2x2JywgJ21rJywgJ21sJywgJ21uJywgJ21yJywgJ21zJywgJ215JywgJ25iJyxcbiAgICAnbmUnLCAnbmwnLCAnbm8nLCAncGEnLCAncGwnLCAncHQnLCAncm8nLCAncnUnLCAnc2knLCAnc2snLCAnc2wnLCAnc3EnLFxuICAgICdzcicsICdzdicsICdzdycsICd0YScsICd0ZScsICd0aCcsICd0cicsICd1aycsICd1cicsICd1eicsICd2aScsICd6aCdcbiAgXTtcbiAgXG4gIGNvbnNvbGUubG9nKCfwn4yNIOaknOWHuuOBleOCjOOBn+iogOiqnjonLCBwcmltYXJ5TGFuZyk7XG4gIFxuICAvLyDjgrXjg53jg7zjg4jjgZXjgozjgabjgYTjgovoqIDoqp7jgYvoi7Hoqp7jgavjg5Xjgqnjg7zjg6vjg5Djg4Pjgq9cbiAgcmV0dXJuIHN1cHBvcnRlZExhbmd1YWdlcy5pbmNsdWRlcyhwcmltYXJ5TGFuZykgPyBwcmltYXJ5TGFuZyA6ICdlbic7XG59O1xuXG4vKipcbiAqIOODpuODvOOCtuODvOOBruODquODvOOCuOODp+ODs+OCkuaknOWHuuOBmeOCi1xuICogQHJldHVybnMg5qSc5Ye644GV44KM44Gf44Oq44O844K444On44Oz44Kz44O844OJ77yI5L6LOiAnVVMnLCAnSlAnLCAnRlIn77yJXG4gKi9cbmV4cG9ydCBjb25zdCBkZXRlY3RVc2VyUmVnaW9uID0gKCk6IHN0cmluZyA9PiB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiAnVVMnOyAvLyDjgrXjg7zjg5Djg7zjgrXjgqTjg4njgafjga/jg4fjg5Xjgqnjg6vjg4hVU1xuICB9XG4gIFxuICAvLyDjg5bjg6njgqbjgrbjga7oqIDoqp7jgYvjgonjg6rjg7zjgrjjg6fjg7PjgpLlj5blvpdcbiAgY29uc3QgYnJvd3NlckxhbmcgPSBuYXZpZ2F0b3IubGFuZ3VhZ2UgfHwgJ2VuLVVTJztcbiAgY29uc3QgcGFydHMgPSBicm93c2VyTGFuZy5zcGxpdCgnLScpO1xuICBjb25zdCByZWdpb24gPSBwYXJ0cy5sZW5ndGggPiAxID8gcGFydHNbMV0gOiB1bmRlZmluZWQ7XG4gIFxuICBjb25zb2xlLmxvZygn8J+MjSDmpJzlh7rjgZXjgozjgZ/jg6rjg7zjgrjjg6fjg7M6JywgcmVnaW9uIHx8ICdVUycpO1xuICBcbiAgLy8g44Oq44O844K444On44Oz44Kz44O844OJ44G+44Gf44Gv44OH44OV44Kp44Or44OIVVPjgpLov5TjgZlcbiAgcmV0dXJuIHJlZ2lvbiB8fCAnVVMnO1xufTtcblxuLyoqXG4gKiDmpJzntKLjg63jgrHjg7zjgrfjg6fjg7Pjg5DjgqTjgqLjgrnjgpLlj5blvpfjgZnjgotcbiAqIEByZXR1cm5zIExvY2F0aW9uQmlhc+OCquODluOCuOOCp+OCr+ODiFxuICovXG5leHBvcnQgY29uc3QgZ2V0TG9jYXRpb25CaWFzID0gKCkgPT4ge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIGdvb2dsZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIFxuICAvLyDjg6bjg7zjgrbjg7zjga7kvY3nva7mg4XloLHjgpLkvb/nlKjjgZfjgabjg5DjgqTjgqLjgrnjgpLoqK3lrppcbiAgY29uc3Qgd29ybGRCb3VuZHMgPSB7XG4gICAgZWFzdDogMTgwLFxuICAgIG5vcnRoOiA4NSxcbiAgICBzb3V0aDogLTg1LFxuICAgIHdlc3Q6IC0xODBcbiAgfTtcbiAgXG4gIHJldHVybiB3b3JsZEJvdW5kcztcbn07ICJdLCJuYW1lcyI6WyJkZXRlY3RVc2VyTGFuZ3VhZ2UiLCJicm93c2VyTGFuZyIsIm5hdmlnYXRvciIsImxhbmd1YWdlIiwibGFuZ3VhZ2VzIiwicHJpbWFyeUxhbmciLCJzcGxpdCIsInN1cHBvcnRlZExhbmd1YWdlcyIsImNvbnNvbGUiLCJsb2ciLCJpbmNsdWRlcyIsImRldGVjdFVzZXJSZWdpb24iLCJwYXJ0cyIsInJlZ2lvbiIsImxlbmd0aCIsInVuZGVmaW5lZCIsImdldExvY2F0aW9uQmlhcyIsImdvb2dsZSIsIndvcmxkQm91bmRzIiwiZWFzdCIsIm5vcnRoIiwic291dGgiLCJ3ZXN0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./lib/utils/language-detection.ts\n");

/***/ }),

/***/ "(rsc)/./app/globals.css":
/*!*************************!*\
  !*** ./app/globals.css ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"d11a3318c6f5\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvZ2xvYmFscy5jc3MiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLGNBQWM7QUFDN0IsSUFBSSxLQUFVLEVBQUUsRUFBdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMvLi9hcHAvZ2xvYmFscy5jc3M/YTMzMiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcImQxMWEzMzE4YzZmNVwiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/globals.css\n");

/***/ }),

/***/ "(rsc)/./app/layout.tsx":
/*!************************!*\
  !*** ./app/layout.tsx ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RootLayout),\n/* harmony export */   metadata: () => (/* binding */ metadata)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/shared/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_font_google_target_css_path_app_layout_tsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/font/google/target.css?{\"path\":\"app/layout.tsx\",\"import\":\"Inter\",\"arguments\":[{\"subsets\":[\"latin\"]}],\"variableName\":\"inter\"} */ \"(rsc)/./node_modules/next/font/google/target.css?{\\\"path\\\":\\\"app/layout.tsx\\\",\\\"import\\\":\\\"Inter\\\",\\\"arguments\\\":[{\\\"subsets\\\":[\\\"latin\\\"]}],\\\"variableName\\\":\\\"inter\\\"}\");\n/* harmony import */ var next_font_google_target_css_path_app_layout_tsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_font_google_target_css_path_app_layout_tsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./globals.css */ \"(rsc)/./app/globals.css\");\n/* harmony import */ var _components_theme_provider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/theme-provider */ \"(rsc)/./components/theme-provider.tsx\");\n/* harmony import */ var _components_ui_toaster__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/toaster */ \"(rsc)/./components/ui/toaster.tsx\");\n/* harmony import */ var _components_layouts_main_layout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/layouts/main-layout */ \"(rsc)/./components/layouts/main-layout.tsx\");\n\n\n\n\n\n\nconst metadata = {\n    title: \"Voypath - Optimize Group Travel\",\n    description: \"Plan your group trips with optimal routes based on everyone's preferences\",\n    viewport: \"width=device-width, initial-scale=1, maximum-scale=1\"\n};\n// Add a Google Maps script tag with standardized English language setting\nconst getGoogleMapsScript = ()=>{\n    // Only execute on client-side\n    if (false) {}\n    // Default for server-side\n    return `https://maps.googleapis.com/maps/api/js?key=${\"AIzaSyCsjSFjgQPCQQmYD30S9t27Zyvcg87jLYM\"}&libraries=places&language=en`;\n};\nfunction RootLayout({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"html\", {\n        lang: \"en\",\n        suppressHydrationWarning: true,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n            className: (next_font_google_target_css_path_app_layout_tsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_5___default().className),\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_theme_provider__WEBPACK_IMPORTED_MODULE_2__.ThemeProvider, {\n                attribute: \"class\",\n                defaultTheme: \"system\",\n                enableSystem: true,\n                disableTransitionOnChange: true,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_layouts_main_layout__WEBPACK_IMPORTED_MODULE_4__.MainLayout, {\n                        children: children\n                    }, void 0, false, {\n                        fileName: \"/Users/kominetenma/Desktop/project/app/layout.tsx\",\n                        lineNumber: 40,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_toaster__WEBPACK_IMPORTED_MODULE_3__.Toaster, {}, void 0, false, {\n                        fileName: \"/Users/kominetenma/Desktop/project/app/layout.tsx\",\n                        lineNumber: 41,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/kominetenma/Desktop/project/app/layout.tsx\",\n                lineNumber: 34,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/kominetenma/Desktop/project/app/layout.tsx\",\n            lineNumber: 33,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/kominetenma/Desktop/project/app/layout.tsx\",\n        lineNumber: 32,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvbGF5b3V0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQU9NQTtBQVBpQjtBQUdxQztBQUNWO0FBQ1k7QUFJdkQsTUFBTUksV0FBcUI7SUFDaENDLE9BQU87SUFDUEMsYUFBYTtJQUNiQyxVQUFVO0FBQ1osRUFBRTtBQUVGLDBFQUEwRTtBQUMxRSxNQUFNQyxzQkFBc0I7SUFDMUIsOEJBQThCO0lBQzlCLElBQUksS0FBa0IsRUFBYSxFQUVsQztJQUNELDBCQUEwQjtJQUMxQixPQUFPLENBQUMsNENBQTRDLEVBQUVDLHlDQUEyQyxDQUFDLDZCQUE2QixDQUFDO0FBQ2xJO0FBRWUsU0FBU0csV0FBVyxFQUNqQ0MsUUFBUSxFQUdUO0lBQ0MscUJBQ0UsOERBQUNDO1FBQUtDLE1BQUs7UUFBS0Msd0JBQXdCO2tCQUN0Qyw0RUFBQ0M7WUFBS0MsV0FBV2xCLDJKQUFlO3NCQUM5Qiw0RUFBQ0MscUVBQWFBO2dCQUNaa0IsV0FBVTtnQkFDVkMsY0FBYTtnQkFDYkMsWUFBWTtnQkFDWkMseUJBQXlCOztrQ0FFekIsOERBQUNuQix1RUFBVUE7a0NBQUVVOzs7Ozs7a0NBQ2IsOERBQUNYLDJEQUFPQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBS2xCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLy4vYXBwL2xheW91dC50c3g/OTk4OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJy4vZ2xvYmFscy5jc3MnO1xuaW1wb3J0IHR5cGUgeyBNZXRhZGF0YSB9IGZyb20gJ25leHQnO1xuaW1wb3J0IHsgSW50ZXIgfSBmcm9tICduZXh0L2ZvbnQvZ29vZ2xlJztcbmltcG9ydCB7IFRoZW1lUHJvdmlkZXIgfSBmcm9tICdAL2NvbXBvbmVudHMvdGhlbWUtcHJvdmlkZXInO1xuaW1wb3J0IHsgVG9hc3RlciB9IGZyb20gJ0AvY29tcG9uZW50cy91aS90b2FzdGVyJztcbmltcG9ydCB7IE1haW5MYXlvdXQgfSBmcm9tICdAL2NvbXBvbmVudHMvbGF5b3V0cy9tYWluLWxheW91dCc7XG5cbmNvbnN0IGludGVyID0gSW50ZXIoeyBzdWJzZXRzOiBbJ2xhdGluJ10gfSk7XG5cbmV4cG9ydCBjb25zdCBtZXRhZGF0YTogTWV0YWRhdGEgPSB7XG4gIHRpdGxlOiAnVm95cGF0aCAtIE9wdGltaXplIEdyb3VwIFRyYXZlbCcsXG4gIGRlc2NyaXB0aW9uOiAnUGxhbiB5b3VyIGdyb3VwIHRyaXBzIHdpdGggb3B0aW1hbCByb3V0ZXMgYmFzZWQgb24gZXZlcnlvbmVcXCdzIHByZWZlcmVuY2VzJyxcbiAgdmlld3BvcnQ6ICd3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSwgbWF4aW11bS1zY2FsZT0xJyxcbn07XG5cbi8vIEFkZCBhIEdvb2dsZSBNYXBzIHNjcmlwdCB0YWcgd2l0aCBzdGFuZGFyZGl6ZWQgRW5nbGlzaCBsYW5ndWFnZSBzZXR0aW5nXG5jb25zdCBnZXRHb29nbGVNYXBzU2NyaXB0ID0gKCkgPT4ge1xuICAvLyBPbmx5IGV4ZWN1dGUgb24gY2xpZW50LXNpZGVcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIGBodHRwczovL21hcHMuZ29vZ2xlYXBpcy5jb20vbWFwcy9hcGkvanM/a2V5PSR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfR09PR0xFX01BUFNfQVBJX0tFWX0mbGlicmFyaWVzPXBsYWNlcyZsYW5ndWFnZT1lbmA7XG4gIH1cbiAgLy8gRGVmYXVsdCBmb3Igc2VydmVyLXNpZGVcbiAgcmV0dXJuIGBodHRwczovL21hcHMuZ29vZ2xlYXBpcy5jb20vbWFwcy9hcGkvanM/a2V5PSR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfR09PR0xFX01BUFNfQVBJX0tFWX0mbGlicmFyaWVzPXBsYWNlcyZsYW5ndWFnZT1lbmA7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBSb290TGF5b3V0KHtcbiAgY2hpbGRyZW4sXG59OiB7XG4gIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7XG59KSB7XG4gIHJldHVybiAoXG4gICAgPGh0bWwgbGFuZz1cImVuXCIgc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nPlxuICAgICAgPGJvZHkgY2xhc3NOYW1lPXtpbnRlci5jbGFzc05hbWV9PlxuICAgICAgICA8VGhlbWVQcm92aWRlclxuICAgICAgICAgIGF0dHJpYnV0ZT1cImNsYXNzXCJcbiAgICAgICAgICBkZWZhdWx0VGhlbWU9XCJzeXN0ZW1cIlxuICAgICAgICAgIGVuYWJsZVN5c3RlbVxuICAgICAgICAgIGRpc2FibGVUcmFuc2l0aW9uT25DaGFuZ2VcbiAgICAgICAgPlxuICAgICAgICAgIDxNYWluTGF5b3V0PntjaGlsZHJlbn08L01haW5MYXlvdXQ+XG4gICAgICAgICAgPFRvYXN0ZXIgLz5cbiAgICAgICAgPC9UaGVtZVByb3ZpZGVyPlxuICAgICAgPC9ib2R5PlxuICAgIDwvaHRtbD5cbiAgKTtcbn0iXSwibmFtZXMiOlsiaW50ZXIiLCJUaGVtZVByb3ZpZGVyIiwiVG9hc3RlciIsIk1haW5MYXlvdXQiLCJtZXRhZGF0YSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJ2aWV3cG9ydCIsImdldEdvb2dsZU1hcHNTY3JpcHQiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfR09PR0xFX01BUFNfQVBJX0tFWSIsIlJvb3RMYXlvdXQiLCJjaGlsZHJlbiIsImh0bWwiLCJsYW5nIiwic3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nIiwiYm9keSIsImNsYXNzTmFtZSIsImF0dHJpYnV0ZSIsImRlZmF1bHRUaGVtZSIsImVuYWJsZVN5c3RlbSIsImRpc2FibGVUcmFuc2l0aW9uT25DaGFuZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/layout.tsx\n");

/***/ }),

/***/ "(rsc)/./app/my-trip/layout.tsx":
/*!********************************!*\
  !*** ./app/my-trip/layout.tsx ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $$typeof: () => (/* binding */ $$typeof),
/* harmony export */   __esModule: () => (/* binding */ __esModule),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

const proxy = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/Users/kominetenma/Desktop/project/app/my-trip/layout.tsx`)

// Accessing the __esModule property and exporting $$typeof are required here.
// The __esModule getter forces the proxy target to create the default export
// and the $$typeof value is for rendering logic to determine if the module
// is a client boundary.
const { __esModule, $$typeof } = proxy;
const __default__ = proxy.default;


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__default__);

/***/ }),

/***/ "(rsc)/./app/my-trip/my-places/add/page.tsx":
/*!********************************************!*\
  !*** ./app/my-trip/my-places/add/page.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $$typeof: () => (/* binding */ $$typeof),
/* harmony export */   __esModule: () => (/* binding */ __esModule),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

const proxy = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/Users/kominetenma/Desktop/project/app/my-trip/my-places/add/page.tsx`)

// Accessing the __esModule property and exporting $$typeof are required here.
// The __esModule getter forces the proxy target to create the default export
// and the $$typeof value is for rendering logic to determine if the module
// is a client boundary.
const { __esModule, $$typeof } = proxy;
const __default__ = proxy.default;


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__default__);

/***/ }),

/***/ "(rsc)/./components/layouts/main-layout.tsx":
/*!********************************************!*\
  !*** ./components/layouts/main-layout.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MainLayout: () => (/* binding */ e0)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

const proxy = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/Users/kominetenma/Desktop/project/components/layouts/main-layout.tsx`)

// Accessing the __esModule property and exporting $$typeof are required here.
// The __esModule getter forces the proxy target to create the default export
// and the $$typeof value is for rendering logic to determine if the module
// is a client boundary.
const { __esModule, $$typeof } = proxy;
const __default__ = proxy.default;

const e0 = proxy["MainLayout"];


/***/ }),

/***/ "(rsc)/./components/theme-provider.tsx":
/*!***************************************!*\
  !*** ./components/theme-provider.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ThemeProvider: () => (/* binding */ e0)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

const proxy = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/Users/kominetenma/Desktop/project/components/theme-provider.tsx`)

// Accessing the __esModule property and exporting $$typeof are required here.
// The __esModule getter forces the proxy target to create the default export
// and the $$typeof value is for rendering logic to determine if the module
// is a client boundary.
const { __esModule, $$typeof } = proxy;
const __default__ = proxy.default;

const e0 = proxy["ThemeProvider"];


/***/ }),

/***/ "(rsc)/./components/ui/toaster.tsx":
/*!***********************************!*\
  !*** ./components/ui/toaster.tsx ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Toaster: () => (/* binding */ e0)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

const proxy = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/Users/kominetenma/Desktop/project/components/ui/toaster.tsx`)

// Accessing the __esModule property and exporting $$typeof are required here.
// The __esModule getter forces the proxy target to create the default export
// and the $$typeof value is for rendering logic to determine if the module
// is a client boundary.
const { __esModule, $$typeof } = proxy;
const __default__ = proxy.default;

const e0 = proxy["Toaster"];


/***/ }),

/***/ "(action-browser)/./lib/actions/guest-actions.ts":
/*!**************************************!*\
  !*** ./lib/actions/guest-actions.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createGuestUser: () => (/* binding */ createGuestUser),\n/* harmony export */   updateGuestProfile: () => (/* binding */ updateGuestProfile)\n/* harmony export */ });\n/* harmony import */ var private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! private-next-rsc-action-proxy */ \"(action-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-proxy.js\");\n/* harmony import */ var _lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabase/server */ \"(action-browser)/./lib/supabase/server.ts\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/headers */ \"(action-browser)/./node_modules/next/headers.js\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_headers__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/utils */ \"(action-browser)/./lib/utils.ts\");\n/* harmony import */ var private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! private-next-rsc-action-validate */ \"(action-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-validate.js\");\n/* __next_internal_action_entry_do_not_use__ createGuestUser,updateGuestProfile */ \n\n\n\n// Create a new guest user\nasync function createGuestUser() {\n    const cookieStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_2__.cookies)();\n    const supabase = (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__.createClient)(cookieStore);\n    // Generate a random session ID\n    const sessionId = crypto.randomUUID();\n    const randomColor = (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.generateRandomColor)();\n    // Create a new guest user in the database\n    const { data, error } = await supabase.from(\"users\").insert({\n        is_guest: true,\n        session_id: sessionId,\n        display_initials: \"GU\",\n        avatar_url: null\n    }).select().single();\n    if (error) {\n        console.error(\"Error creating guest user:\", error);\n        throw new Error(\"Failed to create guest user\");\n    }\n    // group_membersテーブルへの追加は削除 - トリップ作成時やグループ参加時に行うべき\n    return {\n        sessionId,\n        guestData: {\n            id: data.id,\n            displayInitials: data.display_initials,\n            assignedColor: randomColor,\n            isGuest: true\n        }\n    };\n}\n// Update guest profile\nasync function updateGuestProfile(sessionId, userData) {\n    if (!sessionId) throw new Error(\"No session ID provided\");\n    const cookieStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_2__.cookies)();\n    const supabase = (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__.createClient)(cookieStore);\n    // Update the user record\n    const { error } = await supabase.from(\"users\").update({\n        full_name: userData.fullName,\n        display_initials: userData.displayInitials\n    }).eq(\"session_id\", sessionId);\n    if (error) {\n        console.error(\"Error updating guest profile:\", error);\n        throw new Error(\"Failed to update profile\");\n    }\n    // Also update any group_member entries\n    const { error: memberError } = await supabase.from(\"group_members\").update({\n        display_name: userData.fullName\n    }).eq(\"session_id\", sessionId);\n    if (memberError) {\n        console.error(\"Error updating group member:\", memberError);\n    }\n    return {\n        success: true\n    };\n}\n\n(0,private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_4__.ensureServerEntryExports)([\n    createGuestUser,\n    updateGuestProfile\n]);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"091f3497b3d2e4aaf15c52b9e36782c9f8cc179d\", null, createGuestUser);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"e2452351d79d4b84cb2fefe8b36f50e00555c650\", null, updateGuestProfile);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL2xpYi9hY3Rpb25zL2d1ZXN0LWFjdGlvbnMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBRXFEO0FBQ2Q7QUFDVztBQUVsRCwwQkFBMEI7QUFDbkIsZUFBZUc7SUFDcEIsTUFBTUMsY0FBY0gscURBQU9BO0lBQzNCLE1BQU1JLFdBQVdMLGtFQUFZQSxDQUFDSTtJQUU5QiwrQkFBK0I7SUFDL0IsTUFBTUUsWUFBWUMsT0FBT0MsVUFBVTtJQUNuQyxNQUFNQyxjQUFjUCwrREFBbUJBO0lBRXZDLDBDQUEwQztJQUMxQyxNQUFNLEVBQUVRLElBQUksRUFBRUMsS0FBSyxFQUFFLEdBQUcsTUFBTU4sU0FDM0JPLElBQUksQ0FBQyxTQUNMQyxNQUFNLENBQUM7UUFDTkMsVUFBVTtRQUNWQyxZQUFZVDtRQUNaVSxrQkFBa0I7UUFDbEJDLFlBQVk7SUFDZCxHQUNDQyxNQUFNLEdBQ05DLE1BQU07SUFFVCxJQUFJUixPQUFPO1FBQ1RTLFFBQVFULEtBQUssQ0FBQyw4QkFBOEJBO1FBQzVDLE1BQU0sSUFBSVUsTUFBTTtJQUNsQjtJQUVBLGtEQUFrRDtJQUVsRCxPQUFPO1FBQ0xmO1FBQ0FnQixXQUFXO1lBQ1RDLElBQUliLEtBQUthLEVBQUU7WUFDWEMsaUJBQWlCZCxLQUFLTSxnQkFBZ0I7WUFDdENTLGVBQWVoQjtZQUNmaUIsU0FBUztRQUNYO0lBQ0Y7QUFDRjtBQUVBLHVCQUF1QjtBQUNoQixlQUFlQyxtQkFDcEJyQixTQUF3QixFQUN4QnNCLFFBQXlEO0lBRXpELElBQUksQ0FBQ3RCLFdBQVcsTUFBTSxJQUFJZSxNQUFNO0lBRWhDLE1BQU1qQixjQUFjSCxxREFBT0E7SUFDM0IsTUFBTUksV0FBV0wsa0VBQVlBLENBQUNJO0lBRTlCLHlCQUF5QjtJQUN6QixNQUFNLEVBQUVPLEtBQUssRUFBRSxHQUFHLE1BQU1OLFNBQ3JCTyxJQUFJLENBQUMsU0FDTGlCLE1BQU0sQ0FBQztRQUNOQyxXQUFXRixTQUFTRyxRQUFRO1FBQzVCZixrQkFBa0JZLFNBQVNKLGVBQWU7SUFDNUMsR0FDQ1EsRUFBRSxDQUFDLGNBQWMxQjtJQUVwQixJQUFJSyxPQUFPO1FBQ1RTLFFBQVFULEtBQUssQ0FBQyxpQ0FBaUNBO1FBQy9DLE1BQU0sSUFBSVUsTUFBTTtJQUNsQjtJQUVBLHVDQUF1QztJQUN2QyxNQUFNLEVBQUVWLE9BQU9zQixXQUFXLEVBQUUsR0FBRyxNQUFNNUIsU0FDbENPLElBQUksQ0FBQyxpQkFDTGlCLE1BQU0sQ0FBQztRQUNOSyxjQUFjTixTQUFTRyxRQUFRO0lBQ2pDLEdBQ0NDLEVBQUUsQ0FBQyxjQUFjMUI7SUFFcEIsSUFBSTJCLGFBQWE7UUFDZmIsUUFBUVQsS0FBSyxDQUFDLGdDQUFnQ3NCO0lBQ2hEO0lBRUEsT0FBTztRQUFFRSxTQUFTO0lBQUs7QUFDekIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMvLi9saWIvYWN0aW9ucy9ndWVzdC1hY3Rpb25zLnRzPzMyNTQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc2VydmVyXCI7XG5cbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0AvbGliL3N1cGFiYXNlL3NlcnZlcic7XG5pbXBvcnQgeyBjb29raWVzIH0gZnJvbSAnbmV4dC9oZWFkZXJzJztcbmltcG9ydCB7IGdlbmVyYXRlUmFuZG9tQ29sb3IgfSBmcm9tICdAL2xpYi91dGlscyc7XG5cbi8vIENyZWF0ZSBhIG5ldyBndWVzdCB1c2VyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlR3Vlc3RVc2VyKCkge1xuICBjb25zdCBjb29raWVTdG9yZSA9IGNvb2tpZXMoKTtcbiAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoY29va2llU3RvcmUpO1xuICBcbiAgLy8gR2VuZXJhdGUgYSByYW5kb20gc2Vzc2lvbiBJRFxuICBjb25zdCBzZXNzaW9uSWQgPSBjcnlwdG8ucmFuZG9tVVVJRCgpO1xuICBjb25zdCByYW5kb21Db2xvciA9IGdlbmVyYXRlUmFuZG9tQ29sb3IoKTtcbiAgXG4gIC8vIENyZWF0ZSBhIG5ldyBndWVzdCB1c2VyIGluIHRoZSBkYXRhYmFzZVxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKCd1c2VycycpXG4gICAgLmluc2VydCh7XG4gICAgICBpc19ndWVzdDogdHJ1ZSxcbiAgICAgIHNlc3Npb25faWQ6IHNlc3Npb25JZCxcbiAgICAgIGRpc3BsYXlfaW5pdGlhbHM6ICdHVScsIC8vIERlZmF1bHQgZ3Vlc3QgdXNlciBpbml0aWFsc1xuICAgICAgYXZhdGFyX3VybDogbnVsbCxcbiAgICB9KVxuICAgIC5zZWxlY3QoKVxuICAgIC5zaW5nbGUoKTtcbiAgXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIGd1ZXN0IHVzZXI6JywgZXJyb3IpO1xuICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGNyZWF0ZSBndWVzdCB1c2VyJyk7XG4gIH1cbiAgXG4gIC8vIGdyb3VwX21lbWJlcnPjg4bjg7zjg5bjg6vjgbjjga7ov73liqDjga/liYrpmaQgLSDjg4jjg6rjg4Pjg5fkvZzmiJDmmYLjgoTjgrDjg6vjg7zjg5flj4LliqDmmYLjgavooYzjgYbjgbnjgY1cbiAgXG4gIHJldHVybiB7XG4gICAgc2Vzc2lvbklkLFxuICAgIGd1ZXN0RGF0YToge1xuICAgICAgaWQ6IGRhdGEuaWQsXG4gICAgICBkaXNwbGF5SW5pdGlhbHM6IGRhdGEuZGlzcGxheV9pbml0aWFscyxcbiAgICAgIGFzc2lnbmVkQ29sb3I6IHJhbmRvbUNvbG9yLFxuICAgICAgaXNHdWVzdDogdHJ1ZSxcbiAgICB9LFxuICB9O1xufVxuXG4vLyBVcGRhdGUgZ3Vlc3QgcHJvZmlsZVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUd1ZXN0UHJvZmlsZShcbiAgc2Vzc2lvbklkOiBzdHJpbmcgfCBudWxsLCBcbiAgdXNlckRhdGE6IHsgZnVsbE5hbWU/OiBzdHJpbmc7IGRpc3BsYXlJbml0aWFscz86IHN0cmluZyB9XG4pIHtcbiAgaWYgKCFzZXNzaW9uSWQpIHRocm93IG5ldyBFcnJvcignTm8gc2Vzc2lvbiBJRCBwcm92aWRlZCcpO1xuICBcbiAgY29uc3QgY29va2llU3RvcmUgPSBjb29raWVzKCk7XG4gIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KGNvb2tpZVN0b3JlKTtcbiAgXG4gIC8vIFVwZGF0ZSB0aGUgdXNlciByZWNvcmRcbiAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgndXNlcnMnKVxuICAgIC51cGRhdGUoe1xuICAgICAgZnVsbF9uYW1lOiB1c2VyRGF0YS5mdWxsTmFtZSxcbiAgICAgIGRpc3BsYXlfaW5pdGlhbHM6IHVzZXJEYXRhLmRpc3BsYXlJbml0aWFscyxcbiAgICB9KVxuICAgIC5lcSgnc2Vzc2lvbl9pZCcsIHNlc3Npb25JZCk7XG4gIFxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBndWVzdCBwcm9maWxlOicsIGVycm9yKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byB1cGRhdGUgcHJvZmlsZScpO1xuICB9XG4gIFxuICAvLyBBbHNvIHVwZGF0ZSBhbnkgZ3JvdXBfbWVtYmVyIGVudHJpZXNcbiAgY29uc3QgeyBlcnJvcjogbWVtYmVyRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgLmZyb20oJ2dyb3VwX21lbWJlcnMnKVxuICAgIC51cGRhdGUoe1xuICAgICAgZGlzcGxheV9uYW1lOiB1c2VyRGF0YS5mdWxsTmFtZSxcbiAgICB9KVxuICAgIC5lcSgnc2Vzc2lvbl9pZCcsIHNlc3Npb25JZCk7XG4gIFxuICBpZiAobWVtYmVyRXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBncm91cCBtZW1iZXI6JywgbWVtYmVyRXJyb3IpO1xuICB9XG4gIFxuICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG59Il0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsImNvb2tpZXMiLCJnZW5lcmF0ZVJhbmRvbUNvbG9yIiwiY3JlYXRlR3Vlc3RVc2VyIiwiY29va2llU3RvcmUiLCJzdXBhYmFzZSIsInNlc3Npb25JZCIsImNyeXB0byIsInJhbmRvbVVVSUQiLCJyYW5kb21Db2xvciIsImRhdGEiLCJlcnJvciIsImZyb20iLCJpbnNlcnQiLCJpc19ndWVzdCIsInNlc3Npb25faWQiLCJkaXNwbGF5X2luaXRpYWxzIiwiYXZhdGFyX3VybCIsInNlbGVjdCIsInNpbmdsZSIsImNvbnNvbGUiLCJFcnJvciIsImd1ZXN0RGF0YSIsImlkIiwiZGlzcGxheUluaXRpYWxzIiwiYXNzaWduZWRDb2xvciIsImlzR3Vlc3QiLCJ1cGRhdGVHdWVzdFByb2ZpbGUiLCJ1c2VyRGF0YSIsInVwZGF0ZSIsImZ1bGxfbmFtZSIsImZ1bGxOYW1lIiwiZXEiLCJtZW1iZXJFcnJvciIsImRpc3BsYXlfbmFtZSIsInN1Y2Nlc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./lib/actions/guest-actions.ts\n");

/***/ }),

/***/ "(action-browser)/./lib/actions/my-places-actions.ts":
/*!******************************************!*\
  !*** ./lib/actions/my-places-actions.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addMyPlaceToTrip: () => (/* binding */ addMyPlaceToTrip),\n/* harmony export */   addPlaceToMyPlaces: () => (/* binding */ addPlaceToMyPlaces),\n/* harmony export */   copyAllMyPlacesToTrip: () => (/* binding */ copyAllMyPlacesToTrip),\n/* harmony export */   deleteMyPlace: () => (/* binding */ deleteMyPlace),\n/* harmony export */   getMyPlacesForTrip: () => (/* binding */ getMyPlacesForTrip),\n/* harmony export */   updateMyPlace: () => (/* binding */ updateMyPlace)\n/* harmony export */ });\n/* harmony import */ var private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! private-next-rsc-action-proxy */ \"(action-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-proxy.js\");\n/* harmony import */ var _lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabase/server */ \"(action-browser)/./lib/supabase/server.ts\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/headers */ \"(action-browser)/./node_modules/next/headers.js\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_headers__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lib_actions_optimization_actions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/actions/optimization-actions */ \"(action-browser)/./lib/actions/optimization-actions.ts\");\n/* harmony import */ var private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! private-next-rsc-action-validate */ \"(action-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-validate.js\");\n/* __next_internal_action_entry_do_not_use__ addPlaceToMyPlaces,updateMyPlace,getMyPlacesForTrip,addMyPlaceToTrip,copyAllMyPlacesToTrip,deleteMyPlace */ \n\n\n\n/**\n * Add a place to the user's personal wishlist (my_places table)\n */ async function addPlaceToMyPlaces(params) {\n    const cookieStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_2__.cookies)();\n    const supabase = (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__.createClient)(cookieStore);\n    try {\n        // Get the user ID from the session if authenticated\n        const { data: { user } } = await supabase.auth.getUser();\n        const userId = user?.id || null;\n        // Convert between different parameter formats if needed\n        const insertData = {};\n        // Map fields based on whether we have a new or old format\n        if (\"place_id\" in params) {\n            // New format (MyPlaceData)\n            insertData.user_id = userId || params.user_id;\n            insertData.session_id = params.session_id;\n            insertData.group_id = params.group_id;\n            insertData.name = params.name;\n            insertData.address = params.address;\n            insertData.place_id = params.place_id;\n            insertData.latitude = params.latitude;\n            insertData.longitude = params.longitude;\n            insertData.preference_score = params.preference_score;\n            insertData.preferred_duration = params.preferred_duration;\n            insertData.preferred_date = params.preferred_date;\n            insertData.notes = params.notes;\n            insertData.is_personal_favorite = params.is_personal_favorite;\n        } else {\n            // Old format (AddPlaceToMyPlacesParams)\n            const oldParams = params;\n            insertData.user_id = userId || oldParams.userId;\n            insertData.session_id = oldParams.sessionId;\n            insertData.group_id = oldParams.groupId;\n            insertData.name = oldParams.name;\n            insertData.address = oldParams.address;\n            insertData.place_id = oldParams.placeId;\n            insertData.latitude = oldParams.latitude;\n            insertData.longitude = oldParams.longitude;\n            insertData.preference_score = oldParams.preferenceScore;\n            insertData.preferred_duration = oldParams.preferredDuration;\n            insertData.preferred_date = oldParams.preferredDate;\n            insertData.notes = oldParams.notes;\n            insertData.is_personal_favorite = oldParams.isPersonalFavorite;\n        }\n        // Generate unique place_id if it's 'temp' or empty\n        if (!insertData.place_id || insertData.place_id === \"temp\") {\n            insertData.place_id = `place_${insertData.latitude}_${insertData.longitude}_${Date.now()}`;\n        }\n        console.log(\"\\uD83D\\uDD0D Inserting into my_places:\", {\n            ...insertData,\n            actualUserId: userId,\n            sessionIdFromParams: \"session_id\" in params ? params.session_id : params.sessionId\n        });\n        // Insert into my_places table with conflict handling\n        const { data: myPlaceData, error } = await supabase.from(\"my_places\").insert(insertData).select().single();\n        if (error) {\n            console.error(\"Error adding place to my_places:\", error);\n            throw new Error(\"Failed to add place to wishlist\");\n        }\n        // 🎯 AUTOMATIC INTEGRATION: Add to trip destinations and user preferences\n        try {\n            // 1. Check if destination already exists in trip\n            const { data: existingDestination } = await supabase.from(\"destinations\").select(\"id\").eq(\"group_id\", insertData.group_id).eq(\"place_id\", insertData.place_id).single();\n            let destinationId;\n            if (existingDestination) {\n                // Use existing destination\n                destinationId = existingDestination.id;\n            } else {\n                // Create destination in destinations table\n                const { data: newDestination, error: destinationError } = await supabase.from(\"destinations\").insert({\n                    group_id: insertData.group_id,\n                    name: insertData.name,\n                    address: insertData.address,\n                    place_id: insertData.place_id,\n                    latitude: insertData.latitude,\n                    longitude: insertData.longitude,\n                    created_by: userId\n                }).select().single();\n                if (destinationError) {\n                    console.warn(\"Warning: Could not create destination automatically:\", destinationError);\n                // Don't fail the my_places creation, just warn\n                } else {\n                    destinationId = newDestination.id;\n                }\n            }\n            // 2. Create user preference if destination was created/found\n            if (destinationId) {\n                // Check if user preference already exists\n                let query = supabase.from(\"user_preferences\").select(\"id\").eq(\"group_id\", insertData.group_id).eq(\"destination_id\", destinationId);\n                if (userId) {\n                    query = query.eq(\"user_id\", userId);\n                } else {\n                    query = query.eq(\"session_id\", insertData.session_id);\n                }\n                const { data: existingPreference } = await query.single();\n                if (!existingPreference) {\n                    // Create user preference\n                    const { error: preferenceError } = await supabase.from(\"user_preferences\").insert({\n                        group_id: insertData.group_id,\n                        user_id: userId,\n                        session_id: insertData.session_id,\n                        destination_id: destinationId,\n                        preference_score: insertData.preference_score,\n                        preferred_duration: insertData.preferred_duration,\n                        notes: insertData.notes,\n                        is_personal_favorite: insertData.is_personal_favorite\n                    });\n                    if (preferenceError) {\n                        console.warn(\"Warning: Could not create user preference automatically:\", preferenceError);\n                    // Don't fail the my_places creation, just warn\n                    } else {\n                        console.log(\"✅ Automatically added to trip destinations and preferences\");\n                    }\n                }\n            }\n        } catch (autoIntegrationError) {\n            console.warn(\"Warning: Auto-integration to trip failed:\", autoIntegrationError);\n        // Don't fail the my_places creation - the user can manually add later\n        }\n        // 🎯 NEW: 自動最適化トリガー\n        try {\n            await triggerAutomaticOptimization(insertData.group_id, insertData.session_id);\n        } catch (optimizationError) {\n            console.warn(\"⚠️ Auto-optimization failed but place was added successfully:\", optimizationError);\n        // エラーでもMy Places追加は成功させる\n        }\n        return {\n            success: true,\n            id: myPlaceData.id,\n            autoAddedToTrip: true\n        };\n    } catch (error) {\n        console.error(\"Error in addPlaceToMyPlaces:\", error);\n        throw new Error(\"Failed to add place to wishlist\");\n    }\n}\n/**\n * Update a place in the user's personal wishlist\n */ async function updateMyPlace(params) {\n    const cookieStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_2__.cookies)();\n    const supabase = (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__.createClient)(cookieStore);\n    try {\n        // Prepare update object with only provided fields\n        const updateData = {};\n        if (params.preferenceScore !== undefined) updateData.preference_score = params.preferenceScore;\n        if (params.preferredDuration !== undefined) updateData.preferred_duration = params.preferredDuration;\n        if (params.preferredDate !== undefined) updateData.preferred_date = params.preferredDate;\n        if (params.notes !== undefined) updateData.notes = params.notes;\n        if (params.isPersonalFavorite !== undefined) updateData.is_personal_favorite = params.isPersonalFavorite;\n        // Update timestamp\n        updateData.updated_at = new Date().toISOString();\n        // Update in database\n        const { data, error } = await supabase.from(\"my_places\").update(updateData).eq(\"id\", params.id).select().single();\n        if (error) {\n            console.error(\"Error updating place in my_places:\", error);\n            throw new Error(\"Failed to update place in wishlist\");\n        }\n        return {\n            success: true,\n            id: data.id\n        };\n    } catch (error) {\n        console.error(\"Error in updateMyPlace:\", error);\n        throw new Error(\"Failed to update place in wishlist\");\n    }\n}\n/**\n * Get all places in the user's personal wishlist for a specific trip with adoption status\n */ async function getMyPlacesForTrip(groupId, sessionId) {\n    try {\n        console.log(\"\\uD83D\\uDD0D getMyPlacesForTrip called with:\", {\n            groupId,\n            sessionId\n        });\n        // Create Supabase client with cookies\n        const cookieStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_2__.cookies)();\n        const supabase = (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__.createClient)(cookieStore);\n        console.log(\"\\uD83D\\uDD0D Supabase client created successfully\");\n        // Get the user ID from the session if authenticated\n        const { data: { user }, error: authError } = await supabase.auth.getUser();\n        const userId = user?.id || null;\n        console.log(\"\\uD83D\\uDD0D Authentication result:\", {\n            userId: userId ? \"authenticated\" : \"guest\",\n            authError: authError?.message\n        });\n        // Validate inputs\n        if (!groupId) {\n            throw new Error(\"Group ID is required\");\n        }\n        if (!sessionId && !userId) {\n            throw new Error(\"Either sessionId or userId is required\");\n        }\n        // First, test if my_places table is accessible at all\n        console.log(\"\\uD83D\\uDD0D Testing my_places table access...\");\n        const { count, error: testError } = await supabase.from(\"my_places\").select(\"*\", {\n            count: \"exact\",\n            head: true\n        }).eq(\"group_id\", groupId);\n        console.log(\"\\uD83D\\uDD0D Table access test:\", {\n            count,\n            testError: testError?.message\n        });\n        // Query to get places\n        let query = supabase.from(\"my_places\").select(\"*\").eq(\"group_id\", groupId).order(\"created_at\", {\n            ascending: false\n        });\n        // Add user/session filter based on authentication status\n        if (userId) {\n            query = query.eq(\"user_id\", userId);\n            console.log(\"\\uD83D\\uDD0D Querying by user_id:\", userId);\n        } else {\n            query = query.eq(\"session_id\", sessionId);\n            console.log(\"\\uD83D\\uDD0D Querying by session_id:\", sessionId);\n        }\n        console.log(\"\\uD83D\\uDD0D Executing query...\");\n        const { data, error } = await query;\n        console.log(\"\\uD83D\\uDD0D Query result:\", {\n            dataLength: data?.length,\n            error: error?.message,\n            errorCode: error?.code,\n            errorDetails: error?.details,\n            errorHint: error?.hint\n        });\n        if (error) {\n            console.error(\"Error fetching places from my_places:\", error);\n            throw new Error(`Failed to fetch places from wishlist: ${error.message}`);\n        }\n        // Get optimized places from places table to check adoption status\n        const { data: optimizedPlaces } = await supabase.from(\"places\").select(\"name, latitude, longitude, visit_order, scheduled_date, scheduled_duration\").eq(\"group_id\", groupId);\n        // Transform data for frontend with adoption status\n        const places = data.map((place)=>{\n            // Check if this place is adopted in the optimized plan\n            const adoptedPlace = optimizedPlaces?.find((opt)=>opt.name === place.name || Math.abs(opt.latitude - place.latitude) < 0.001 && Math.abs(opt.longitude - place.longitude) < 0.001);\n            return {\n                id: place.id,\n                name: place.name,\n                address: place.address,\n                placeId: place.place_id,\n                latitude: place.latitude,\n                longitude: place.longitude,\n                preferenceScore: place.preference_score,\n                preferredDuration: place.preferred_duration,\n                preferredDate: place.preferred_date,\n                notes: place.notes,\n                isPersonalFavorite: place.is_personal_favorite,\n                createdAt: place.created_at,\n                // 🎯 Adoption status\n                isAdopted: !!adoptedPlace,\n                adoptedDetails: adoptedPlace ? {\n                    visitOrder: adoptedPlace.visit_order,\n                    scheduledDate: adoptedPlace.scheduled_date,\n                    allocatedDuration: adoptedPlace.scheduled_duration\n                } : null\n            };\n        });\n        return {\n            success: true,\n            places\n        };\n    } catch (error) {\n        console.error(\"Error in getMyPlacesForTrip:\", error);\n        // より詳細なエラー情報を提供\n        let errorMessage = \"Failed to fetch places from wishlist\";\n        if (error instanceof Error) {\n            errorMessage += `: ${error.message}`;\n        }\n        throw new Error(errorMessage);\n    }\n}\n/**\n * Add a My Place to the actual trip (copy from my_places to destinations + user_preferences)\n */ async function addMyPlaceToTrip(myPlaceId) {\n    const cookieStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_2__.cookies)();\n    const supabase = (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__.createClient)(cookieStore);\n    try {\n        // Get the user ID from the session if authenticated\n        const { data: { user } } = await supabase.auth.getUser();\n        const userId = user?.id || null;\n        // 1. Get the My Place data\n        const { data: myPlace, error: fetchError } = await supabase.from(\"my_places\").select(\"*\").eq(\"id\", myPlaceId).single();\n        if (fetchError || !myPlace) {\n            console.error(\"Error fetching my place:\", fetchError);\n            throw new Error(\"My Place not found\");\n        }\n        // 2. Check if destination already exists in trip\n        const { data: existingDestination } = await supabase.from(\"destinations\").select(\"id\").eq(\"group_id\", myPlace.group_id).eq(\"place_id\", myPlace.place_id).single();\n        let destinationId;\n        if (existingDestination) {\n            // Use existing destination\n            destinationId = existingDestination.id;\n        } else {\n            // 3. Create destination in destinations table\n            const { data: newDestination, error: destinationError } = await supabase.from(\"destinations\").insert({\n                group_id: myPlace.group_id,\n                name: myPlace.name,\n                address: myPlace.address,\n                place_id: myPlace.place_id,\n                latitude: myPlace.latitude,\n                longitude: myPlace.longitude,\n                created_by: userId\n            }).select().single();\n            if (destinationError) {\n                console.error(\"Error creating destination:\", destinationError);\n                throw new Error(\"Failed to create destination\");\n            }\n            destinationId = newDestination.id;\n        }\n        // 4. Check if user preference already exists\n        let query = supabase.from(\"user_preferences\").select(\"id\").eq(\"group_id\", myPlace.group_id).eq(\"destination_id\", destinationId);\n        if (userId) {\n            query = query.eq(\"user_id\", userId);\n        } else {\n            query = query.eq(\"session_id\", myPlace.session_id);\n        }\n        const { data: existingPreference } = await query.single();\n        if (existingPreference) {\n            return {\n                success: true,\n                message: \"Place already in trip\"\n            };\n        }\n        // 5. Create user preference\n        const { error: preferenceError } = await supabase.from(\"user_preferences\").insert({\n            group_id: myPlace.group_id,\n            user_id: userId,\n            session_id: myPlace.session_id,\n            destination_id: destinationId,\n            preference_score: myPlace.preference_score,\n            preferred_duration: myPlace.preferred_duration,\n            notes: myPlace.notes,\n            is_personal_favorite: myPlace.is_personal_favorite\n        });\n        if (preferenceError) {\n            console.error(\"Error creating user preference:\", preferenceError);\n            throw new Error(\"Failed to create user preference\");\n        }\n        return {\n            success: true,\n            message: \"Successfully added to trip\"\n        };\n    } catch (error) {\n        console.error(\"Error in addMyPlaceToTrip:\", error);\n        throw new Error(\"Failed to add place to trip\");\n    }\n}\n/**\n * Copy all My Places to the actual trip\n */ async function copyAllMyPlacesToTrip(groupId, sessionId) {\n    const cookieStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_2__.cookies)();\n    const supabase = (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__.createClient)(cookieStore);\n    try {\n        // Get all my places for this trip\n        const { places } = await getMyPlacesForTrip(groupId, sessionId);\n        let successCount = 0;\n        let errors = [];\n        // Copy each place to trip\n        for (const place of places){\n            try {\n                await addMyPlaceToTrip(place.id);\n                successCount++;\n            } catch (error) {\n                errors.push(`Failed to add ${place.name}: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n            }\n        }\n        return {\n            success: true,\n            message: `Added ${successCount} places to trip${errors.length > 0 ? ` (${errors.length} failed)` : \"\"}`,\n            errors\n        };\n    } catch (error) {\n        console.error(\"Error in copyAllMyPlacesToTrip:\", error);\n        throw new Error(\"Failed to copy places to trip\");\n    }\n}\n/**\n * Delete a place from the user's personal wishlist\n */ async function deleteMyPlace(id) {\n    const cookieStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_2__.cookies)();\n    const supabase = (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__.createClient)(cookieStore);\n    try {\n        const { error } = await supabase.from(\"my_places\").delete().eq(\"id\", id);\n        if (error) {\n            console.error(\"Error deleting place from my_places:\", error);\n            throw new Error(\"Failed to delete place from wishlist\");\n        }\n        return {\n            success: true\n        };\n    } catch (error) {\n        console.error(\"Error in deleteMyPlace:\", error);\n        throw new Error(\"Failed to delete place from wishlist\");\n    }\n}\n/**\n * 🆕 自動最適化トリガー関数\n * My Places追加後に自動的に最適化を実行\n */ async function triggerAutomaticOptimization(groupId, sessionId) {\n    try {\n        console.log(\"\\uD83D\\uDE80 Starting automatic optimization for group:\", groupId);\n        const cookieStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_2__.cookies)();\n        const supabase = (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__.createClient)(cookieStore);\n        // グループの全destinations数をチェック\n        const { data: destinations, error: destError } = await supabase.from(\"destinations\").select(\"id\").eq(\"group_id\", groupId);\n        if (destError) {\n            console.warn(\"Failed to check destinations:\", destError);\n            return;\n        }\n        // グループメンバーが存在するかチェック（最適化に必要）\n        const { data: members, error: memberError } = await supabase.from(\"group_members\").select(\"id, user_id, session_id\").eq(\"group_id\", groupId);\n        if (memberError || !members || members.length === 0) {\n            console.warn(\"⚠️ Group members not found, skipping optimization for now:\", memberError?.message);\n            // Skip optimization if members aren't set up yet\n            // The user can manually trigger optimization later\n            return;\n        }\n        // トリップ情報もチェック（最適化に必要）\n        const { data: tripInfo, error: tripError } = await supabase.from(\"trip_groups\").select(\"departure_location, departure_location_lat, departure_location_lng\").eq(\"id\", groupId).single();\n        console.log(\"\\uD83D\\uDD0D Trip info for optimization:\", {\n            tripInfo,\n            tripError: tripError?.message,\n            hasCoordinates: !!(tripInfo?.departure_location_lat && tripInfo?.departure_location_lng)\n        });\n        // 1箇所以上あれば最適化実行\n        if (destinations && destinations.length >= 1) {\n            console.log(`📊 Found ${destinations.length} destinations, triggering optimization...`);\n            // 出発地座標がない場合は最適化をスキップ\n            if (!tripInfo?.departure_location_lat || !tripInfo?.departure_location_lng) {\n                console.warn(\"⚠️ Skipping optimization: departure coordinates missing\");\n                return;\n            }\n            const userContext = {\n                id: null,\n                sessionId: sessionId,\n                isGuest: true\n            };\n            // 最適化実行\n            const result = await (0,_lib_actions_optimization_actions__WEBPACK_IMPORTED_MODULE_3__.optimizeTripRoute)(groupId, userContext);\n            if (result.status === \"success\") {\n                console.log(\"✅ Auto-optimization completed successfully\");\n                // 🎯 リアルタイム更新通知\n                await broadcastOptimizationUpdate(groupId, result.data);\n            } else {\n                console.warn(\"⚠️ Auto-optimization failed:\", result.error);\n            }\n        } else {\n            console.log(\"\\uD83D\\uDCCD No destinations found, skipping optimization\");\n        }\n    } catch (error) {\n        console.warn(\"⚠️ Auto-optimization failed:\", error);\n    // エラーでもMy Places追加は成功させる\n    }\n}\n/**\n * 🆕 リアルタイム更新ブロードキャスト関数\n * 最適化完了をグループメンバーに通知\n */ async function broadcastOptimizationUpdate(groupId, optimizationData) {\n    const cookieStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_2__.cookies)();\n    const supabase = (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__.createClient)(cookieStore);\n    try {\n        // Supabase Realtimeでグループメンバーに通知\n        const { error } = await supabase.from(\"optimization_updates\").insert({\n            group_id: groupId,\n            update_type: \"route_optimized\",\n            data: optimizationData,\n            timestamp: new Date().toISOString()\n        });\n        if (error) {\n            console.warn(\"Failed to broadcast optimization update:\", error);\n        } else {\n            console.log(\"\\uD83D\\uDCE1 Optimization update broadcasted successfully\");\n        }\n    } catch (error) {\n        console.warn(\"Failed to broadcast update:\", error);\n    }\n}\n\n(0,private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_4__.ensureServerEntryExports)([\n    addPlaceToMyPlaces,\n    updateMyPlace,\n    getMyPlacesForTrip,\n    addMyPlaceToTrip,\n    copyAllMyPlacesToTrip,\n    deleteMyPlace\n]);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"e45a518b347b597f301ceb2b1e38e1b793450974\", null, addPlaceToMyPlaces);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"25ae65fee132d88323477c3c720ca50f7f108069\", null, updateMyPlace);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"91b3bdb9503bb94c49587dba8c6524a0aaae4f5a\", null, getMyPlacesForTrip);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"8f2cda273699c3cf0dda28117b5f231f0473ce2a\", null, addMyPlaceToTrip);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"65d0de60eb68c648a9ba070cdf3cf729676e4304\", null, copyAllMyPlacesToTrip);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"0706b50d7a6747782b9c8d1c08fad818d3e436aa\", null, deleteMyPlace);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL2xpYi9hY3Rpb25zL215LXBsYWNlcy1hY3Rpb25zLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFcUQ7QUFDZDtBQUVnQztBQTRCdkU7O0NBRUMsR0FDTSxlQUFlRyxtQkFBbUJDLE1BQXVEO0lBQzlGLE1BQU1DLGNBQWNKLHFEQUFPQTtJQUMzQixNQUFNSyxXQUFXTixrRUFBWUEsQ0FBQ0s7SUFFOUIsSUFBSTtRQUNGLG9EQUFvRDtRQUNwRCxNQUFNLEVBQUVFLE1BQU0sRUFBRUMsSUFBSSxFQUFFLEVBQUUsR0FBRyxNQUFNRixTQUFTRyxJQUFJLENBQUNDLE9BQU87UUFDdEQsTUFBTUMsU0FBU0gsTUFBTUksTUFBTTtRQUUzQix3REFBd0Q7UUFDeEQsTUFBTUMsYUFBa0IsQ0FBQztRQUV6QiwwREFBMEQ7UUFDMUQsSUFBSSxjQUFjVCxRQUFRO1lBQ3hCLDJCQUEyQjtZQUMzQlMsV0FBV0MsT0FBTyxHQUFHSCxVQUFVUCxPQUFPVSxPQUFPO1lBQzdDRCxXQUFXRSxVQUFVLEdBQUdYLE9BQU9XLFVBQVU7WUFDekNGLFdBQVdHLFFBQVEsR0FBR1osT0FBT1ksUUFBUTtZQUNyQ0gsV0FBV0ksSUFBSSxHQUFHYixPQUFPYSxJQUFJO1lBQzdCSixXQUFXSyxPQUFPLEdBQUdkLE9BQU9jLE9BQU87WUFDbkNMLFdBQVdNLFFBQVEsR0FBR2YsT0FBT2UsUUFBUTtZQUNyQ04sV0FBV08sUUFBUSxHQUFHaEIsT0FBT2dCLFFBQVE7WUFDckNQLFdBQVdRLFNBQVMsR0FBR2pCLE9BQU9pQixTQUFTO1lBQ3ZDUixXQUFXUyxnQkFBZ0IsR0FBR2xCLE9BQU9rQixnQkFBZ0I7WUFDckRULFdBQVdVLGtCQUFrQixHQUFHbkIsT0FBT21CLGtCQUFrQjtZQUN6RFYsV0FBV1csY0FBYyxHQUFHcEIsT0FBT29CLGNBQWM7WUFDakRYLFdBQVdZLEtBQUssR0FBR3JCLE9BQU9xQixLQUFLO1lBQy9CWixXQUFXYSxvQkFBb0IsR0FBR3RCLE9B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WixnQkFBZ0I7Z0JBQ2hCLE1BQU0yRiw0QkFBNEJwRyxTQUFTa0csT0FBT3hILElBQUk7WUFDeEQsT0FBTztnQkFDTDhCLFFBQVFpQixJQUFJLENBQUMsZ0NBQWdDeUUsT0FBT3JGLEtBQUs7WUFDM0Q7UUFDRixPQUFPO1lBQ0xMLFFBQVFDLEdBQUcsQ0FBQztRQUNkO0lBQ0YsRUFBRSxPQUFPSSxPQUFPO1FBQ2RMLFFBQVFpQixJQUFJLENBQUMsZ0NBQWdDWjtJQUM3Qyx5QkFBeUI7SUFDM0I7QUFDRjtBQUVBOzs7Q0FHQyxHQUNELGVBQWV1Riw0QkFBNEJwRyxPQUFlLEVBQUVxRyxnQkFBcUI7SUFDL0UsTUFBTTdILGNBQWNKLHFEQUFPQTtJQUMzQixNQUFNSyxXQUFXTixrRUFBWUEsQ0FBQ0s7SUFFOUIsSUFBSTtRQUNGLGdDQUFnQztRQUNoQyxNQUFNLEVBQUVxQyxLQUFLLEVBQUUsR0FBRyxNQUFNcEMsU0FDckJxQyxJQUFJLENBQUMsd0JBQ0xDLE1BQU0sQ0FBQztZQUNONUIsVUFBVWE7WUFDVnNHLGFBQWE7WUFDYjVILE1BQU0ySDtZQUNORSxXQUFXLElBQUlqRyxPQUFPaUMsV0FBVztRQUNuQztRQUVGLElBQUkxQixPQUFPO1lBQ1RMLFFBQVFpQixJQUFJLENBQUMsNENBQTRDWjtRQUMzRCxPQUFPO1lBQ0xMLFFBQVFDLEdBQUcsQ0FBQztRQUNkO0lBQ0YsRUFBRSxPQUFPSSxPQUFPO1FBQ2RMLFFBQVFpQixJQUFJLENBQUMsK0JBQStCWjtJQUM5QztBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLy4vbGliL2FjdGlvbnMvbXktcGxhY2VzLWFjdGlvbnMudHM/MjUzOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzZXJ2ZXJcIjtcblxuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQC9saWIvc3VwYWJhc2Uvc2VydmVyJztcbmltcG9ydCB7IGNvb2tpZXMgfSBmcm9tICduZXh0L2hlYWRlcnMnO1xuaW1wb3J0IHsgTXlQbGFjZURhdGEgfSBmcm9tICdAL2xpYi90eXBlcy9wbGFjZXMnO1xuaW1wb3J0IHsgb3B0aW1pemVUcmlwUm91dGUgfSBmcm9tICdAL2xpYi9hY3Rpb25zL29wdGltaXphdGlvbi1hY3Rpb25zJztcblxuLy8gRm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbmludGVyZmFjZSBBZGRQbGFjZVRvTXlQbGFjZXNQYXJhbXMge1xuICB1c2VySWQ6IHN0cmluZyB8IG51bGw7XG4gIHNlc3Npb25JZDogc3RyaW5nO1xuICBncm91cElkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgYWRkcmVzczogc3RyaW5nO1xuICBwbGFjZUlkOiBzdHJpbmc7XG4gIGxhdGl0dWRlOiBudW1iZXI7XG4gIGxvbmdpdHVkZTogbnVtYmVyO1xuICBwcmVmZXJlbmNlU2NvcmU6IG51bWJlcjtcbiAgcHJlZmVycmVkRHVyYXRpb246IG51bWJlcjtcbiAgcHJlZmVycmVkRGF0ZTogc3RyaW5nIHwgbnVsbDtcbiAgbm90ZXM6IHN0cmluZztcbiAgaXNQZXJzb25hbEZhdm9yaXRlOiBib29sZWFuO1xufVxuXG5pbnRlcmZhY2UgVXBkYXRlTXlQbGFjZVBhcmFtcyB7XG4gIGlkOiBzdHJpbmc7XG4gIHByZWZlcmVuY2VTY29yZT86IG51bWJlcjtcbiAgcHJlZmVycmVkRHVyYXRpb24/OiBudW1iZXI7XG4gIHByZWZlcnJlZERhdGU/OiBzdHJpbmcgfCBudWxsO1xuICBub3Rlcz86IHN0cmluZztcbiAgaXNQZXJzb25hbEZhdm9yaXRlPzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBBZGQgYSBwbGFjZSB0byB0aGUgdXNlcidzIHBlcnNvbmFsIHdpc2hsaXN0IChteV9wbGFjZXMgdGFibGUpXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZGRQbGFjZVRvTXlQbGFjZXMocGFyYW1zOiBQYXJ0aWFsPE15UGxhY2VEYXRhPiB8IEFkZFBsYWNlVG9NeVBsYWNlc1BhcmFtcykge1xuICBjb25zdCBjb29raWVTdG9yZSA9IGNvb2tpZXMoKTtcbiAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoY29va2llU3RvcmUpO1xuICBcbiAgdHJ5IHtcbiAgICAvLyBHZXQgdGhlIHVzZXIgSUQgZnJvbSB0aGUgc2Vzc2lvbiBpZiBhdXRoZW50aWNhdGVkXG4gICAgY29uc3QgeyBkYXRhOiB7IHVzZXIgfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG4gICAgY29uc3QgdXNlcklkID0gdXNlcj8uaWQgfHwgbnVsbDtcbiAgICBcbiAgICAvLyBDb252ZXJ0IGJldHdlZW4gZGlmZmVyZW50IHBhcmFtZXRlciBmb3JtYXRzIGlmIG5lZWRlZFxuICAgIGNvbnN0IGluc2VydERhdGE6IGFueSA9IHt9O1xuICAgIFxuICAgIC8vIE1hcCBmaWVsZHMgYmFzZWQgb24gd2hldGhlciB3ZSBoYXZlIGEgbmV3IG9yIG9sZCBmb3JtYXRcbiAgICBpZiAoJ3BsYWNlX2lkJyBpbiBwYXJhbXMpIHtcbiAgICAgIC8vIE5ldyBmb3JtYXQgKE15UGxhY2VEYXRhKVxuICAgICAgaW5zZXJ0RGF0YS51c2VyX2lkID0gdXNlcklkIHx8IHBhcmFtcy51c2VyX2lkO1xuICAgICAgaW5zZXJ0RGF0YS5zZXNzaW9uX2lkID0gcGFyYW1zLnNlc3Npb25faWQ7XG4gICAgICBpbnNlcnREYXRhLmdyb3VwX2lkID0gcGFyYW1zLmdyb3VwX2lkO1xuICAgICAgaW5zZXJ0RGF0YS5uYW1lID0gcGFyYW1zLm5hbWU7XG4gICAgICBpbnNlcnREYXRhLmFkZHJlc3MgPSBwYXJhbXMuYWRkcmVzcztcbiAgICAgIGluc2VydERhdGEucGxhY2VfaWQgPSBwYXJhbXMucGxhY2VfaWQ7XG4gICAgICBpbnNlcnREYXRhLmxhdGl0dWRlID0gcGFyYW1zLmxhdGl0dWRlO1xuICAgICAgaW5zZXJ0RGF0YS5sb25naXR1ZGUgPSBwYXJhbXMubG9uZ2l0dWRlO1xuICAgICAgaW5zZXJ0RGF0YS5wcmVmZXJlbmNlX3Njb3JlID0gcGFyYW1zLnByZWZlcmVuY2Vfc2NvcmU7XG4gICAgICBpbnNlcnREYXRhLnByZWZlcnJlZF9kdXJhdGlvbiA9IHBhcmFtcy5wcmVmZXJyZWRfZHVyYXRpb247XG4gICAgICBpbnNlcnREYXRhLnByZWZlcnJlZF9kYXRlID0gcGFyYW1zLnByZWZlcnJlZF9kYXRlO1xuICAgICAgaW5zZXJ0RGF0YS5ub3RlcyA9IHBhcmFtcy5ub3RlcztcbiAgICAgIGluc2VydERhdGEuaXNfcGVyc29uYWxfZmF2b3JpdGUgPSBwYXJhbXMuaXNfcGVyc29uYWxfZmF2b3JpdGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE9sZCBmb3JtYXQgKEFkZFBsYWNlVG9NeVBsYWNlc1BhcmFtcylcbiAgICAgIGNvbnN0IG9sZFBhcmFtcyA9IHBhcmFtcyBhcyBBZGRQbGFjZVRvTXlQbGFjZXNQYXJhbXM7XG4gICAgICBpbnNlcnREYXRhLnVzZXJfaWQgPSB1c2VySWQgfHwgb2xkUGFyYW1zLnVzZXJJZDtcbiAgICAgIGluc2VydERhdGEuc2Vzc2lvbl9pZCA9IG9sZFBhcmFtcy5zZXNzaW9uSWQ7XG4gICAgICBpbnNlcnREYXRhLmdyb3VwX2lkID0gb2xkUGFyYW1zLmdyb3VwSWQ7XG4gICAgICBpbnNlcnREYXRhLm5hbWUgPSBvbGRQYXJhbXMubmFtZTtcbiAgICAgIGluc2VydERhdGEuYWRkcmVzcyA9IG9sZFBhcmFtcy5hZGRyZXNzO1xuICAgICAgaW5zZXJ0RGF0YS5wbGFjZV9pZCA9IG9sZFBhcmFtcy5wbGFjZUlkO1xuICAgICAgaW5zZXJ0RGF0YS5sYXRpdHVkZSA9IG9sZFBhcmFtcy5sYXRpdHVkZTtcbiAgICAgIGluc2VydERhdGEubG9uZ2l0dWRlID0gb2xkUGFyYW1zLmxvbmdpdHVkZTtcbiAgICAgIGluc2VydERhdGEucHJlZmVyZW5jZV9zY29yZSA9IG9sZFBhcmFtcy5wcmVmZXJlbmNlU2NvcmU7XG4gICAgICBpbnNlcnREYXRhLnByZWZlcnJlZF9kdXJhdGlvbiA9IG9sZFBhcmFtcy5wcmVmZXJyZWREdXJhdGlvbjtcbiAgICAgIGluc2VydERhdGEucHJlZmVycmVkX2RhdGUgPSBvbGRQYXJhbXMucHJlZmVycmVkRGF0ZTtcbiAgICAgIGluc2VydERhdGEubm90ZXMgPSBvbGRQYXJhbXMubm90ZXM7XG4gICAgICBpbnNlcnREYXRhLmlzX3BlcnNvbmFsX2Zhdm9yaXRlID0gb2xkUGFyYW1zLmlzUGVyc29uYWxGYXZvcml0ZTtcbiAgICB9XG4gICAgXG4gICAgLy8gR2VuZXJhdGUgdW5pcXVlIHBsYWNlX2lkIGlmIGl0J3MgJ3RlbXAnIG9yIGVtcHR5XG4gICAgaWYgKCFpbnNlcnREYXRhLnBsYWNlX2lkIHx8IGluc2VydERhdGEucGxhY2VfaWQgPT09ICd0ZW1wJykge1xuICAgICAgaW5zZXJ0RGF0YS5wbGFjZV9pZCA9IGBwbGFjZV8ke2luc2VydERhdGEubGF0aXR1ZGV9XyR7aW5zZXJ0RGF0YS5sb25naXR1ZGV9XyR7RGF0ZS5ub3coKX1gO1xuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZygn8J+UjSBJbnNlcnRpbmcgaW50byBteV9wbGFjZXM6Jywge1xuICAgICAgLi4uaW5zZXJ0RGF0YSxcbiAgICAgIGFjdHVhbFVzZXJJZDogdXNlcklkLFxuICAgICAgc2Vzc2lvbklkRnJvbVBhcmFtczogJ3Nlc3Npb25faWQnIGluIHBhcmFtcyA/IHBhcmFtcy5zZXNzaW9uX2lkIDogKHBhcmFtcyBhcyBBZGRQbGFjZVRvTXlQbGFjZXNQYXJhbXMpLnNlc3Npb25JZFxuICAgIH0pO1xuICAgIFxuICAgIC8vIEluc2VydCBpbnRvIG15X3BsYWNlcyB0YWJsZSB3aXRoIGNvbmZsaWN0IGhhbmRsaW5nXG4gICAgY29uc3QgeyBkYXRhOiBteVBsYWNlRGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnbXlfcGxhY2VzJylcbiAgICAgIC5pbnNlcnQoaW5zZXJ0RGF0YSlcbiAgICAgIC5zZWxlY3QoKVxuICAgICAgLnNpbmdsZSgpO1xuICAgICAgXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhZGRpbmcgcGxhY2UgdG8gbXlfcGxhY2VzOicsIGVycm9yKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGFkZCBwbGFjZSB0byB3aXNobGlzdCcpO1xuICAgIH1cbiAgICBcbiAgICAvLyDwn46vIEFVVE9NQVRJQyBJTlRFR1JBVElPTjogQWRkIHRvIHRyaXAgZGVzdGluYXRpb25zIGFuZCB1c2VyIHByZWZlcmVuY2VzXG4gICAgdHJ5IHtcbiAgICAgIC8vIDEuIENoZWNrIGlmIGRlc3RpbmF0aW9uIGFscmVhZHkgZXhpc3RzIGluIHRyaXBcbiAgICAgIGNvbnN0IHsgZGF0YTogZXhpc3RpbmdEZXN0aW5hdGlvbiB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2Rlc3RpbmF0aW9ucycpXG4gICAgICAgIC5zZWxlY3QoJ2lkJylcbiAgICAgICAgLmVxKCdncm91cF9pZCcsIGluc2VydERhdGEuZ3JvdXBfaWQpXG4gICAgICAgIC5lcSgncGxhY2VfaWQnLCBpbnNlcnREYXRhLnBsYWNlX2lkKVxuICAgICAgICAuc2luZ2xlKCk7XG4gICAgICAgIFxuICAgICAgbGV0IGRlc3RpbmF0aW9uSWQ7XG4gICAgICBcbiAgICAgIGlmIChleGlzdGluZ0Rlc3RpbmF0aW9uKSB7XG4gICAgICAgIC8vIFVzZSBleGlzdGluZyBkZXN0aW5hdGlvblxuICAgICAgICBkZXN0aW5hdGlvbklkID0gZXhpc3RpbmdEZXN0aW5hdGlvbi5pZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIENyZWF0ZSBkZXN0aW5hdGlvbiBpbiBkZXN0aW5hdGlvbnMgdGFibGVcbiAgICAgICAgY29uc3QgeyBkYXRhOiBuZXdEZXN0aW5hdGlvbiwgZXJyb3I6IGRlc3RpbmF0aW9uRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oJ2Rlc3RpbmF0aW9ucycpXG4gICAgICAgICAgLmluc2VydCh7XG4gICAgICAgICAgICBncm91cF9pZDogaW5zZXJ0RGF0YS5ncm91cF9pZCxcbiAgICAgICAgICAgIG5hbWU6IGluc2VydERhdGEubmFtZSxcbiAgICAgICAgICAgIGFkZHJlc3M6IGluc2VydERhdGEuYWRkcmVzcyxcbiAgICAgICAgICAgIHBsYWNlX2lkOiBpbnNlcnREYXRhLnBsYWNlX2lkLFxuICAgICAgICAgICAgbGF0aXR1ZGU6IGluc2VydERhdGEubGF0aXR1ZGUsXG4gICAgICAgICAgICBsb25naXR1ZGU6IGluc2VydERhdGEubG9uZ2l0dWRlLFxuICAgICAgICAgICAgY3JlYXRlZF9ieTogdXNlcklkLFxuICAgICAgICAgIH0pXG4gICAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgICAgLnNpbmdsZSgpO1xuICAgICAgICAgIFxuICAgICAgICBpZiAoZGVzdGluYXRpb25FcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUud2FybignV2FybmluZzogQ291bGQgbm90IGNyZWF0ZSBkZXN0aW5hdGlvbiBhdXRvbWF0aWNhbGx5OicsIGRlc3RpbmF0aW9uRXJyb3IpO1xuICAgICAgICAgIC8vIERvbid0IGZhaWwgdGhlIG15X3BsYWNlcyBjcmVhdGlvbiwganVzdCB3YXJuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVzdGluYXRpb25JZCA9IG5ld0Rlc3RpbmF0aW9uLmlkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIDIuIENyZWF0ZSB1c2VyIHByZWZlcmVuY2UgaWYgZGVzdGluYXRpb24gd2FzIGNyZWF0ZWQvZm91bmRcbiAgICAgIGlmIChkZXN0aW5hdGlvbklkKSB7XG4gICAgICAgIC8vIENoZWNrIGlmIHVzZXIgcHJlZmVyZW5jZSBhbHJlYWR5IGV4aXN0c1xuICAgICAgICBsZXQgcXVlcnkgPSBzdXBhYmFzZVxuICAgICAgICAgIC5mcm9tKCd1c2VyX3ByZWZlcmVuY2VzJylcbiAgICAgICAgICAuc2VsZWN0KCdpZCcpXG4gICAgICAgICAgLmVxKCdncm91cF9pZCcsIGluc2VydERhdGEuZ3JvdXBfaWQpXG4gICAgICAgICAgLmVxKCdkZXN0aW5hdGlvbl9pZCcsIGRlc3RpbmF0aW9uSWQpO1xuICAgICAgICAgIFxuICAgICAgICBpZiAodXNlcklkKSB7XG4gICAgICAgICAgcXVlcnkgPSBxdWVyeS5lcSgndXNlcl9pZCcsIHVzZXJJZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcXVlcnkgPSBxdWVyeS5lcSgnc2Vzc2lvbl9pZCcsIGluc2VydERhdGEuc2Vzc2lvbl9pZCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHsgZGF0YTogZXhpc3RpbmdQcmVmZXJlbmNlIH0gPSBhd2FpdCBxdWVyeS5zaW5nbGUoKTtcbiAgICAgICAgXG4gICAgICAgIGlmICghZXhpc3RpbmdQcmVmZXJlbmNlKSB7XG4gICAgICAgICAgLy8gQ3JlYXRlIHVzZXIgcHJlZmVyZW5jZVxuICAgICAgICAgIGNvbnN0IHsgZXJyb3I6IHByZWZlcmVuY2VFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgIC5mcm9tKCd1c2VyX3ByZWZlcmVuY2VzJylcbiAgICAgICAgICAgIC5pbnNlcnQoe1xuICAgICAgICAgICAgICBncm91cF9pZDogaW5zZXJ0RGF0YS5ncm91cF9pZCxcbiAgICAgICAgICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgICAgICAgICBzZXNzaW9uX2lkOiBpbnNlcnREYXRhLnNlc3Npb25faWQsXG4gICAgICAgICAgICAgIGRlc3RpbmF0aW9uX2lkOiBkZXN0aW5hdGlvbklkLFxuICAgICAgICAgICAgICBwcmVmZXJlbmNlX3Njb3JlOiBpbnNlcnREYXRhLnByZWZlcmVuY2Vfc2NvcmUsXG4gICAgICAgICAgICAgIHByZWZlcnJlZF9kdXJhdGlvbjogaW5zZXJ0RGF0YS5wcmVmZXJyZWRfZHVyYXRpb24sXG4gICAgICAgICAgICAgIG5vdGVzOiBpbnNlcnREYXRhLm5vdGVzLFxuICAgICAgICAgICAgICBpc19wZXJzb25hbF9mYXZvcml0ZTogaW5zZXJ0RGF0YS5pc19wZXJzb25hbF9mYXZvcml0ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgaWYgKHByZWZlcmVuY2VFcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdXYXJuaW5nOiBDb3VsZCBub3QgY3JlYXRlIHVzZXIgcHJlZmVyZW5jZSBhdXRvbWF0aWNhbGx5OicsIHByZWZlcmVuY2VFcnJvcik7XG4gICAgICAgICAgICAvLyBEb24ndCBmYWlsIHRoZSBteV9wbGFjZXMgY3JlYXRpb24sIGp1c3Qgd2FyblxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIEF1dG9tYXRpY2FsbHkgYWRkZWQgdG8gdHJpcCBkZXN0aW5hdGlvbnMgYW5kIHByZWZlcmVuY2VzJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoYXV0b0ludGVncmF0aW9uRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUud2FybignV2FybmluZzogQXV0by1pbnRlZ3JhdGlvbiB0byB0cmlwIGZhaWxlZDonLCBhdXRvSW50ZWdyYXRpb25FcnJvcik7XG4gICAgICAvLyBEb24ndCBmYWlsIHRoZSBteV9wbGFjZXMgY3JlYXRpb24gLSB0aGUgdXNlciBjYW4gbWFudWFsbHkgYWRkIGxhdGVyXG4gICAgfVxuICAgIFxuICAgIC8vIPCfjq8gTkVXOiDoh6rli5XmnIDpganljJbjg4jjg6rjgqzjg7xcbiAgICB0cnkge1xuICAgICAgYXdhaXQgdHJpZ2dlckF1dG9tYXRpY09wdGltaXphdGlvbihpbnNlcnREYXRhLmdyb3VwX2lkLCBpbnNlcnREYXRhLnNlc3Npb25faWQpO1xuICAgIH0gY2F0Y2ggKG9wdGltaXphdGlvbkVycm9yKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBBdXRvLW9wdGltaXphdGlvbiBmYWlsZWQgYnV0IHBsYWNlIHdhcyBhZGRlZCBzdWNjZXNzZnVsbHk6Jywgb3B0aW1pemF0aW9uRXJyb3IpO1xuICAgICAgLy8g44Ko44Op44O844Gn44KCTXkgUGxhY2Vz6L+95Yqg44Gv5oiQ5Yqf44GV44Gb44KLXG4gICAgfVxuICAgIFxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGlkOiBteVBsYWNlRGF0YS5pZCwgYXV0b0FkZGVkVG9UcmlwOiB0cnVlIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gYWRkUGxhY2VUb015UGxhY2VzOicsIGVycm9yKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBhZGQgcGxhY2UgdG8gd2lzaGxpc3QnKTtcbiAgfVxufVxuXG4vKipcbiAqIFVwZGF0ZSBhIHBsYWNlIGluIHRoZSB1c2VyJ3MgcGVyc29uYWwgd2lzaGxpc3RcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZU15UGxhY2UocGFyYW1zOiBVcGRhdGVNeVBsYWNlUGFyYW1zKSB7XG4gIGNvbnN0IGNvb2tpZVN0b3JlID0gY29va2llcygpO1xuICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudChjb29raWVTdG9yZSk7XG4gIFxuICB0cnkge1xuICAgIC8vIFByZXBhcmUgdXBkYXRlIG9iamVjdCB3aXRoIG9ubHkgcHJvdmlkZWQgZmllbGRzXG4gICAgY29uc3QgdXBkYXRlRGF0YTogYW55ID0ge307XG4gICAgXG4gICAgaWYgKHBhcmFtcy5wcmVmZXJlbmNlU2NvcmUgIT09IHVuZGVmaW5lZCkgdXBkYXRlRGF0YS5wcmVmZXJlbmNlX3Njb3JlID0gcGFyYW1zLnByZWZlcmVuY2VTY29yZTtcbiAgICBpZiAocGFyYW1zLnByZWZlcnJlZER1cmF0aW9uICE9PSB1bmRlZmluZWQpIHVwZGF0ZURhdGEucHJlZmVycmVkX2R1cmF0aW9uID0gcGFyYW1zLnByZWZlcnJlZER1cmF0aW9uO1xuICAgIGlmIChwYXJhbXMucHJlZmVycmVkRGF0ZSAhPT0gdW5kZWZpbmVkKSB1cGRhdGVEYXRhLnByZWZlcnJlZF9kYXRlID0gcGFyYW1zLnByZWZlcnJlZERhdGU7XG4gICAgaWYgKHBhcmFtcy5ub3RlcyAhPT0gdW5kZWZpbmVkKSB1cGRhdGVEYXRhLm5vdGVzID0gcGFyYW1zLm5vdGVzO1xuICAgIGlmIChwYXJhbXMuaXNQZXJzb25hbEZhdm9yaXRlICE9PSB1bmRlZmluZWQpIHVwZGF0ZURhdGEuaXNfcGVyc29uYWxfZmF2b3JpdGUgPSBwYXJhbXMuaXNQZXJzb25hbEZhdm9yaXRlO1xuICAgIFxuICAgIC8vIFVwZGF0ZSB0aW1lc3RhbXBcbiAgICB1cGRhdGVEYXRhLnVwZGF0ZWRfYXQgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgXG4gICAgLy8gVXBkYXRlIGluIGRhdGFiYXNlXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdteV9wbGFjZXMnKVxuICAgICAgLnVwZGF0ZSh1cGRhdGVEYXRhKVxuICAgICAgLmVxKCdpZCcsIHBhcmFtcy5pZClcbiAgICAgIC5zZWxlY3QoKVxuICAgICAgLnNpbmdsZSgpO1xuICAgICAgXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBwbGFjZSBpbiBteV9wbGFjZXM6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gdXBkYXRlIHBsYWNlIGluIHdpc2hsaXN0Jyk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGlkOiBkYXRhLmlkIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gdXBkYXRlTXlQbGFjZTonLCBlcnJvcik7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gdXBkYXRlIHBsYWNlIGluIHdpc2hsaXN0Jyk7XG4gIH1cbn1cblxuLyoqXG4gKiBHZXQgYWxsIHBsYWNlcyBpbiB0aGUgdXNlcidzIHBlcnNvbmFsIHdpc2hsaXN0IGZvciBhIHNwZWNpZmljIHRyaXAgd2l0aCBhZG9wdGlvbiBzdGF0dXNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldE15UGxhY2VzRm9yVHJpcChncm91cElkOiBzdHJpbmcsIHNlc3Npb25JZDogc3RyaW5nKSB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coJ/CflI0gZ2V0TXlQbGFjZXNGb3JUcmlwIGNhbGxlZCB3aXRoOicsIHsgZ3JvdXBJZCwgc2Vzc2lvbklkIH0pO1xuICAgIFxuICAgIC8vIENyZWF0ZSBTdXBhYmFzZSBjbGllbnQgd2l0aCBjb29raWVzXG4gICAgY29uc3QgY29va2llU3RvcmUgPSBjb29raWVzKCk7XG4gICAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoY29va2llU3RvcmUpO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCfwn5SNIFN1cGFiYXNlIGNsaWVudCBjcmVhdGVkIHN1Y2Nlc3NmdWxseScpO1xuICAgIFxuICAgIC8vIEdldCB0aGUgdXNlciBJRCBmcm9tIHRoZSBzZXNzaW9uIGlmIGF1dGhlbnRpY2F0ZWRcbiAgICBjb25zdCB7IGRhdGE6IHsgdXNlciB9LCBlcnJvcjogYXV0aEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcbiAgICBjb25zdCB1c2VySWQgPSB1c2VyPy5pZCB8fCBudWxsO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCfwn5SNIEF1dGhlbnRpY2F0aW9uIHJlc3VsdDonLCB7IFxuICAgICAgdXNlcklkOiB1c2VySWQgPyAnYXV0aGVudGljYXRlZCcgOiAnZ3Vlc3QnLCBcbiAgICAgIGF1dGhFcnJvcjogYXV0aEVycm9yPy5tZXNzYWdlIFxuICAgIH0pO1xuICAgIFxuICAgIC8vIFZhbGlkYXRlIGlucHV0c1xuICAgIGlmICghZ3JvdXBJZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdHcm91cCBJRCBpcyByZXF1aXJlZCcpO1xuICAgIH1cbiAgICBpZiAoIXNlc3Npb25JZCAmJiAhdXNlcklkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VpdGhlciBzZXNzaW9uSWQgb3IgdXNlcklkIGlzIHJlcXVpcmVkJyk7XG4gICAgfVxuICAgIFxuICAgIC8vIEZpcnN0LCB0ZXN0IGlmIG15X3BsYWNlcyB0YWJsZSBpcyBhY2Nlc3NpYmxlIGF0IGFsbFxuICAgIGNvbnNvbGUubG9nKCfwn5SNIFRlc3RpbmcgbXlfcGxhY2VzIHRhYmxlIGFjY2Vzcy4uLicpO1xuICAgIGNvbnN0IHsgY291bnQsIGVycm9yOiB0ZXN0RXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnbXlfcGxhY2VzJylcbiAgICAgIC5zZWxlY3QoJyonLCB7IGNvdW50OiAnZXhhY3QnLCBoZWFkOiB0cnVlIH0pXG4gICAgICAuZXEoJ2dyb3VwX2lkJywgZ3JvdXBJZCk7XG4gICAgXG4gICAgY29uc29sZS5sb2coJ/CflI0gVGFibGUgYWNjZXNzIHRlc3Q6JywgeyBjb3VudCwgdGVzdEVycm9yOiB0ZXN0RXJyb3I/Lm1lc3NhZ2UgfSk7XG4gICAgXG4gICAgLy8gUXVlcnkgdG8gZ2V0IHBsYWNlc1xuICAgIGxldCBxdWVyeSA9IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnbXlfcGxhY2VzJylcbiAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgLmVxKCdncm91cF9pZCcsIGdyb3VwSWQpXG4gICAgICAub3JkZXIoJ2NyZWF0ZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSk7XG4gICAgXG4gICAgLy8gQWRkIHVzZXIvc2Vzc2lvbiBmaWx0ZXIgYmFzZWQgb24gYXV0aGVudGljYXRpb24gc3RhdHVzXG4gICAgaWYgKHVzZXJJZCkge1xuICAgICAgcXVlcnkgPSBxdWVyeS5lcSgndXNlcl9pZCcsIHVzZXJJZCk7XG4gICAgICBjb25zb2xlLmxvZygn8J+UjSBRdWVyeWluZyBieSB1c2VyX2lkOicsIHVzZXJJZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHF1ZXJ5ID0gcXVlcnkuZXEoJ3Nlc3Npb25faWQnLCBzZXNzaW9uSWQpO1xuICAgICAgY29uc29sZS5sb2coJ/CflI0gUXVlcnlpbmcgYnkgc2Vzc2lvbl9pZDonLCBzZXNzaW9uSWQpO1xuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZygn8J+UjSBFeGVjdXRpbmcgcXVlcnkuLi4nKTtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBxdWVyeTtcbiAgICBjb25zb2xlLmxvZygn8J+UjSBRdWVyeSByZXN1bHQ6JywgeyBcbiAgICAgIGRhdGFMZW5ndGg6IGRhdGE/Lmxlbmd0aCwgXG4gICAgICBlcnJvcjogZXJyb3I/Lm1lc3NhZ2UsXG4gICAgICBlcnJvckNvZGU6IGVycm9yPy5jb2RlLFxuICAgICAgZXJyb3JEZXRhaWxzOiBlcnJvcj8uZGV0YWlscyxcbiAgICAgIGVycm9ySGludDogZXJyb3I/LmhpbnRcbiAgICB9KTtcbiAgICAgIFxuICAgIGlmIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcGxhY2VzIGZyb20gbXlfcGxhY2VzOicsIGVycm9yKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIHBsYWNlcyBmcm9tIHdpc2hsaXN0OiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgfVxuICAgIFxuICAgIC8vIEdldCBvcHRpbWl6ZWQgcGxhY2VzIGZyb20gcGxhY2VzIHRhYmxlIHRvIGNoZWNrIGFkb3B0aW9uIHN0YXR1c1xuICAgIGNvbnN0IHsgZGF0YTogb3B0aW1pemVkUGxhY2VzIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3BsYWNlcycpXG4gICAgICAuc2VsZWN0KCduYW1lLCBsYXRpdHVkZSwgbG9uZ2l0dWRlLCB2aXNpdF9vcmRlciwgc2NoZWR1bGVkX2RhdGUsIHNjaGVkdWxlZF9kdXJhdGlvbicpXG4gICAgICAuZXEoJ2dyb3VwX2lkJywgZ3JvdXBJZCk7XG4gICAgXG4gICAgLy8gVHJhbnNmb3JtIGRhdGEgZm9yIGZyb250ZW5kIHdpdGggYWRvcHRpb24gc3RhdHVzXG4gICAgY29uc3QgcGxhY2VzID0gZGF0YS5tYXAocGxhY2UgPT4ge1xuICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBwbGFjZSBpcyBhZG9wdGVkIGluIHRoZSBvcHRpbWl6ZWQgcGxhblxuICAgICAgY29uc3QgYWRvcHRlZFBsYWNlID0gb3B0aW1pemVkUGxhY2VzPy5maW5kKG9wdCA9PiBcbiAgICAgICAgb3B0Lm5hbWUgPT09IHBsYWNlLm5hbWUgfHwgXG4gICAgICAgIChNYXRoLmFicyhvcHQubGF0aXR1ZGUgLSBwbGFjZS5sYXRpdHVkZSkgPCAwLjAwMSAmJiBcbiAgICAgICAgIE1hdGguYWJzKG9wdC5sb25naXR1ZGUgLSBwbGFjZS5sb25naXR1ZGUpIDwgMC4wMDEpXG4gICAgICApO1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogcGxhY2UuaWQsXG4gICAgICAgIG5hbWU6IHBsYWNlLm5hbWUsXG4gICAgICAgIGFkZHJlc3M6IHBsYWNlLmFkZHJlc3MsXG4gICAgICAgIHBsYWNlSWQ6IHBsYWNlLnBsYWNlX2lkLFxuICAgICAgICBsYXRpdHVkZTogcGxhY2UubGF0aXR1ZGUsXG4gICAgICAgIGxvbmdpdHVkZTogcGxhY2UubG9uZ2l0dWRlLFxuICAgICAgICBwcmVmZXJlbmNlU2NvcmU6IHBsYWNlLnByZWZlcmVuY2Vfc2NvcmUsXG4gICAgICAgIHByZWZlcnJlZER1cmF0aW9uOiBwbGFjZS5wcmVmZXJyZWRfZHVyYXRpb24sXG4gICAgICAgIHByZWZlcnJlZERhdGU6IHBsYWNlLnByZWZlcnJlZF9kYXRlLFxuICAgICAgICBub3RlczogcGxhY2Uubm90ZXMsXG4gICAgICAgIGlzUGVyc29uYWxGYXZvcml0ZTogcGxhY2UuaXNfcGVyc29uYWxfZmF2b3JpdGUsXG4gICAgICAgIGNyZWF0ZWRBdDogcGxhY2UuY3JlYXRlZF9hdCxcbiAgICAgICAgLy8g8J+OryBBZG9wdGlvbiBzdGF0dXNcbiAgICAgICAgaXNBZG9wdGVkOiAhIWFkb3B0ZWRQbGFjZSxcbiAgICAgICAgYWRvcHRlZERldGFpbHM6IGFkb3B0ZWRQbGFjZSA/IHtcbiAgICAgICAgICB2aXNpdE9yZGVyOiBhZG9wdGVkUGxhY2UudmlzaXRfb3JkZXIsXG4gICAgICAgICAgc2NoZWR1bGVkRGF0ZTogYWRvcHRlZFBsYWNlLnNjaGVkdWxlZF9kYXRlLFxuICAgICAgICAgIGFsbG9jYXRlZER1cmF0aW9uOiBhZG9wdGVkUGxhY2Uuc2NoZWR1bGVkX2R1cmF0aW9uXG4gICAgICAgIH0gOiBudWxsXG4gICAgICB9O1xuICAgIH0pO1xuICAgIFxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIHBsYWNlcyB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGdldE15UGxhY2VzRm9yVHJpcDonLCBlcnJvcik7XG4gICAgXG4gICAgLy8g44KI44KK6Kmz57Sw44Gq44Ko44Op44O85oOF5aCx44KS5o+Q5L6bXG4gICAgbGV0IGVycm9yTWVzc2FnZSA9ICdGYWlsZWQgdG8gZmV0Y2ggcGxhY2VzIGZyb20gd2lzaGxpc3QnO1xuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICBlcnJvck1lc3NhZ2UgKz0gYDogJHtlcnJvci5tZXNzYWdlfWA7XG4gICAgfVxuICAgIFxuICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpO1xuICB9XG59XG5cbi8qKlxuICogQWRkIGEgTXkgUGxhY2UgdG8gdGhlIGFjdHVhbCB0cmlwIChjb3B5IGZyb20gbXlfcGxhY2VzIHRvIGRlc3RpbmF0aW9ucyArIHVzZXJfcHJlZmVyZW5jZXMpXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZGRNeVBsYWNlVG9UcmlwKG15UGxhY2VJZDogc3RyaW5nKSB7XG4gIGNvbnN0IGNvb2tpZVN0b3JlID0gY29va2llcygpO1xuICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudChjb29raWVTdG9yZSk7XG4gIFxuICB0cnkge1xuICAgIC8vIEdldCB0aGUgdXNlciBJRCBmcm9tIHRoZSBzZXNzaW9uIGlmIGF1dGhlbnRpY2F0ZWRcbiAgICBjb25zdCB7IGRhdGE6IHsgdXNlciB9IH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcbiAgICBjb25zdCB1c2VySWQgPSB1c2VyPy5pZCB8fCBudWxsO1xuICAgIFxuICAgIC8vIDEuIEdldCB0aGUgTXkgUGxhY2UgZGF0YVxuICAgIGNvbnN0IHsgZGF0YTogbXlQbGFjZSwgZXJyb3I6IGZldGNoRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnbXlfcGxhY2VzJylcbiAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgLmVxKCdpZCcsIG15UGxhY2VJZClcbiAgICAgIC5zaW5nbGUoKTtcbiAgICAgIFxuICAgIGlmIChmZXRjaEVycm9yIHx8ICFteVBsYWNlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBteSBwbGFjZTonLCBmZXRjaEVycm9yKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTXkgUGxhY2Ugbm90IGZvdW5kJyk7XG4gICAgfVxuICAgIFxuICAgIC8vIDIuIENoZWNrIGlmIGRlc3RpbmF0aW9uIGFscmVhZHkgZXhpc3RzIGluIHRyaXBcbiAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nRGVzdGluYXRpb24gfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnZGVzdGluYXRpb25zJylcbiAgICAgIC5zZWxlY3QoJ2lkJylcbiAgICAgIC5lcSgnZ3JvdXBfaWQnLCBteVBsYWNlLmdyb3VwX2lkKVxuICAgICAgLmVxKCdwbGFjZV9pZCcsIG15UGxhY2UucGxhY2VfaWQpXG4gICAgICAuc2luZ2xlKCk7XG4gICAgICBcbiAgICBsZXQgZGVzdGluYXRpb25JZDtcbiAgICBcbiAgICBpZiAoZXhpc3RpbmdEZXN0aW5hdGlvbikge1xuICAgICAgLy8gVXNlIGV4aXN0aW5nIGRlc3RpbmF0aW9uXG4gICAgICBkZXN0aW5hdGlvbklkID0gZXhpc3RpbmdEZXN0aW5hdGlvbi5pZDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gMy4gQ3JlYXRlIGRlc3RpbmF0aW9uIGluIGRlc3RpbmF0aW9ucyB0YWJsZVxuICAgICAgY29uc3QgeyBkYXRhOiBuZXdEZXN0aW5hdGlvbiwgZXJyb3I6IGRlc3RpbmF0aW9uRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdkZXN0aW5hdGlvbnMnKVxuICAgICAgICAuaW5zZXJ0KHtcbiAgICAgICAgICBncm91cF9pZDogbXlQbGFjZS5ncm91cF9pZCxcbiAgICAgICAgICBuYW1lOiBteVBsYWNlLm5hbWUsXG4gICAgICAgICAgYWRkcmVzczogbXlQbGFjZS5hZGRyZXNzLFxuICAgICAgICAgIHBsYWNlX2lkOiBteVBsYWNlLnBsYWNlX2lkLFxuICAgICAgICAgIGxhdGl0dWRlOiBteVBsYWNlLmxhdGl0dWRlLFxuICAgICAgICAgIGxvbmdpdHVkZTogbXlQbGFjZS5sb25naXR1ZGUsXG4gICAgICAgICAgY3JlYXRlZF9ieTogdXNlcklkLFxuICAgICAgICB9KVxuICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgLnNpbmdsZSgpO1xuICAgICAgICBcbiAgICAgIGlmIChkZXN0aW5hdGlvbkVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIGRlc3RpbmF0aW9uOicsIGRlc3RpbmF0aW9uRXJyb3IpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUgZGVzdGluYXRpb24nKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgZGVzdGluYXRpb25JZCA9IG5ld0Rlc3RpbmF0aW9uLmlkO1xuICAgIH1cbiAgICBcbiAgICAvLyA0LiBDaGVjayBpZiB1c2VyIHByZWZlcmVuY2UgYWxyZWFkeSBleGlzdHNcbiAgICBsZXQgcXVlcnkgPSBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3VzZXJfcHJlZmVyZW5jZXMnKVxuICAgICAgLnNlbGVjdCgnaWQnKVxuICAgICAgLmVxKCdncm91cF9pZCcsIG15UGxhY2UuZ3JvdXBfaWQpXG4gICAgICAuZXEoJ2Rlc3RpbmF0aW9uX2lkJywgZGVzdGluYXRpb25JZCk7XG4gICAgICBcbiAgICBpZiAodXNlcklkKSB7XG4gICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCd1c2VyX2lkJywgdXNlcklkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcXVlcnkgPSBxdWVyeS5lcSgnc2Vzc2lvbl9pZCcsIG15UGxhY2Uuc2Vzc2lvbl9pZCk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHsgZGF0YTogZXhpc3RpbmdQcmVmZXJlbmNlIH0gPSBhd2FpdCBxdWVyeS5zaW5nbGUoKTtcbiAgICBcbiAgICBpZiAoZXhpc3RpbmdQcmVmZXJlbmNlKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiAnUGxhY2UgYWxyZWFkeSBpbiB0cmlwJyB9O1xuICAgIH1cbiAgICBcbiAgICAvLyA1LiBDcmVhdGUgdXNlciBwcmVmZXJlbmNlXG4gICAgY29uc3QgeyBlcnJvcjogcHJlZmVyZW5jZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3VzZXJfcHJlZmVyZW5jZXMnKVxuICAgICAgLmluc2VydCh7XG4gICAgICAgIGdyb3VwX2lkOiBteVBsYWNlLmdyb3VwX2lkLFxuICAgICAgICB1c2VyX2lkOiB1c2VySWQsXG4gICAgICAgIHNlc3Npb25faWQ6IG15UGxhY2Uuc2Vzc2lvbl9pZCxcbiAgICAgICAgZGVzdGluYXRpb25faWQ6IGRlc3RpbmF0aW9uSWQsXG4gICAgICAgIHByZWZlcmVuY2Vfc2NvcmU6IG15UGxhY2UucHJlZmVyZW5jZV9zY29yZSxcbiAgICAgICAgcHJlZmVycmVkX2R1cmF0aW9uOiBteVBsYWNlLnByZWZlcnJlZF9kdXJhdGlvbixcbiAgICAgICAgbm90ZXM6IG15UGxhY2Uubm90ZXMsXG4gICAgICAgIGlzX3BlcnNvbmFsX2Zhdm9yaXRlOiBteVBsYWNlLmlzX3BlcnNvbmFsX2Zhdm9yaXRlLFxuICAgICAgfSk7XG4gICAgICBcbiAgICBpZiAocHJlZmVyZW5jZUVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyB1c2VyIHByZWZlcmVuY2U6JywgcHJlZmVyZW5jZUVycm9yKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGNyZWF0ZSB1c2VyIHByZWZlcmVuY2UnKTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogJ1N1Y2Nlc3NmdWxseSBhZGRlZCB0byB0cmlwJyB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGFkZE15UGxhY2VUb1RyaXA6JywgZXJyb3IpO1xuICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGFkZCBwbGFjZSB0byB0cmlwJyk7XG4gIH1cbn1cblxuLyoqXG4gKiBDb3B5IGFsbCBNeSBQbGFjZXMgdG8gdGhlIGFjdHVhbCB0cmlwXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb3B5QWxsTXlQbGFjZXNUb1RyaXAoZ3JvdXBJZDogc3RyaW5nLCBzZXNzaW9uSWQ6IHN0cmluZykge1xuICBjb25zdCBjb29raWVTdG9yZSA9IGNvb2tpZXMoKTtcbiAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoY29va2llU3RvcmUpO1xuICBcbiAgdHJ5IHtcbiAgICAvLyBHZXQgYWxsIG15IHBsYWNlcyBmb3IgdGhpcyB0cmlwXG4gICAgY29uc3QgeyBwbGFjZXMgfSA9IGF3YWl0IGdldE15UGxhY2VzRm9yVHJpcChncm91cElkLCBzZXNzaW9uSWQpO1xuICAgIFxuICAgIGxldCBzdWNjZXNzQ291bnQgPSAwO1xuICAgIGxldCBlcnJvcnM6IHN0cmluZ1tdID0gW107XG4gICAgXG4gICAgLy8gQ29weSBlYWNoIHBsYWNlIHRvIHRyaXBcbiAgICBmb3IgKGNvbnN0IHBsYWNlIG9mIHBsYWNlcykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgYWRkTXlQbGFjZVRvVHJpcChwbGFjZS5pZCk7XG4gICAgICAgIHN1Y2Nlc3NDb3VudCsrO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgZXJyb3JzLnB1c2goYEZhaWxlZCB0byBhZGQgJHtwbGFjZS5uYW1lfTogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHsgXG4gICAgICBzdWNjZXNzOiB0cnVlLCBcbiAgICAgIG1lc3NhZ2U6IGBBZGRlZCAke3N1Y2Nlc3NDb3VudH0gcGxhY2VzIHRvIHRyaXAke2Vycm9ycy5sZW5ndGggPiAwID8gYCAoJHtlcnJvcnMubGVuZ3RofSBmYWlsZWQpYCA6ICcnfWAsXG4gICAgICBlcnJvcnMgXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBjb3B5QWxsTXlQbGFjZXNUb1RyaXA6JywgZXJyb3IpO1xuICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGNvcHkgcGxhY2VzIHRvIHRyaXAnKTtcbiAgfVxufVxuXG4vKipcbiAqIERlbGV0ZSBhIHBsYWNlIGZyb20gdGhlIHVzZXIncyBwZXJzb25hbCB3aXNobGlzdFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlTXlQbGFjZShpZDogc3RyaW5nKSB7XG4gIGNvbnN0IGNvb2tpZVN0b3JlID0gY29va2llcygpO1xuICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudChjb29raWVTdG9yZSk7XG4gIFxuICB0cnkge1xuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnbXlfcGxhY2VzJylcbiAgICAgIC5kZWxldGUoKVxuICAgICAgLmVxKCdpZCcsIGlkKTtcbiAgICAgIFxuICAgIGlmIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgcGxhY2UgZnJvbSBteV9wbGFjZXM6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZGVsZXRlIHBsYWNlIGZyb20gd2lzaGxpc3QnKTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGRlbGV0ZU15UGxhY2U6JywgZXJyb3IpO1xuICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGRlbGV0ZSBwbGFjZSBmcm9tIHdpc2hsaXN0Jyk7XG4gIH1cbn1cblxuLyoqXG4gKiDwn4aVIOiHquWLleacgOmBqeWMluODiOODquOCrOODvOmWouaVsFxuICogTXkgUGxhY2Vz6L+95Yqg5b6M44Gr6Ieq5YuV55qE44Gr5pyA6YGp5YyW44KS5a6f6KGMXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHRyaWdnZXJBdXRvbWF0aWNPcHRpbWl6YXRpb24oZ3JvdXBJZDogc3RyaW5nLCBzZXNzaW9uSWQ6IHN0cmluZykge1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKCfwn5qAIFN0YXJ0aW5nIGF1dG9tYXRpYyBvcHRpbWl6YXRpb24gZm9yIGdyb3VwOicsIGdyb3VwSWQpO1xuICAgIFxuICAgIGNvbnN0IGNvb2tpZVN0b3JlID0gY29va2llcygpO1xuICAgIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KGNvb2tpZVN0b3JlKTtcbiAgICBcbiAgICAvLyDjgrDjg6vjg7zjg5fjga7lhahkZXN0aW5hdGlvbnPmlbDjgpLjg4Hjgqfjg4Pjgq9cbiAgICBjb25zdCB7IGRhdGE6IGRlc3RpbmF0aW9ucywgZXJyb3I6IGRlc3RFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdkZXN0aW5hdGlvbnMnKVxuICAgICAgLnNlbGVjdCgnaWQnKVxuICAgICAgLmVxKCdncm91cF9pZCcsIGdyb3VwSWQpO1xuICAgIFxuICAgIGlmIChkZXN0RXJyb3IpIHtcbiAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGNoZWNrIGRlc3RpbmF0aW9uczonLCBkZXN0RXJyb3IpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyDjgrDjg6vjg7zjg5fjg6Hjg7Pjg5Djg7zjgYzlrZjlnKjjgZnjgovjgYvjg4Hjgqfjg4Pjgq/vvIjmnIDpganljJbjgavlv4XopoHvvIlcbiAgICBjb25zdCB7IGRhdGE6IG1lbWJlcnMsIGVycm9yOiBtZW1iZXJFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdncm91cF9tZW1iZXJzJylcbiAgICAgIC5zZWxlY3QoJ2lkLCB1c2VyX2lkLCBzZXNzaW9uX2lkJylcbiAgICAgIC5lcSgnZ3JvdXBfaWQnLCBncm91cElkKTtcbiAgICBcbiAgICBpZiAobWVtYmVyRXJyb3IgfHwgIW1lbWJlcnMgfHwgbWVtYmVycy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIEdyb3VwIG1lbWJlcnMgbm90IGZvdW5kLCBza2lwcGluZyBvcHRpbWl6YXRpb24gZm9yIG5vdzonLCBtZW1iZXJFcnJvcj8ubWVzc2FnZSk7XG4gICAgICAvLyBTa2lwIG9wdGltaXphdGlvbiBpZiBtZW1iZXJzIGFyZW4ndCBzZXQgdXAgeWV0XG4gICAgICAvLyBUaGUgdXNlciBjYW4gbWFudWFsbHkgdHJpZ2dlciBvcHRpbWl6YXRpb24gbGF0ZXJcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8g44OI44Oq44OD44OX5oOF5aCx44KC44OB44Kn44OD44Kv77yI5pyA6YGp5YyW44Gr5b+F6KaB77yJXG4gICAgY29uc3QgeyBkYXRhOiB0cmlwSW5mbywgZXJyb3I6IHRyaXBFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCd0cmlwX2dyb3VwcycpXG4gICAgICAuc2VsZWN0KCdkZXBhcnR1cmVfbG9jYXRpb24sIGRlcGFydHVyZV9sb2NhdGlvbl9sYXQsIGRlcGFydHVyZV9sb2NhdGlvbl9sbmcnKVxuICAgICAgLmVxKCdpZCcsIGdyb3VwSWQpXG4gICAgICAuc2luZ2xlKCk7XG4gICAgXG4gICAgY29uc29sZS5sb2coJ/CflI0gVHJpcCBpbmZvIGZvciBvcHRpbWl6YXRpb246Jywge1xuICAgICAgdHJpcEluZm8sXG4gICAgICB0cmlwRXJyb3I6IHRyaXBFcnJvcj8ubWVzc2FnZSxcbiAgICAgIGhhc0Nvb3JkaW5hdGVzOiAhISh0cmlwSW5mbz8uZGVwYXJ0dXJlX2xvY2F0aW9uX2xhdCAmJiB0cmlwSW5mbz8uZGVwYXJ0dXJlX2xvY2F0aW9uX2xuZylcbiAgICB9KTtcbiAgICBcbiAgICAvLyAx566H5omA5Lul5LiK44GC44KM44Gw5pyA6YGp5YyW5a6f6KGMXG4gICAgaWYgKGRlc3RpbmF0aW9ucyAmJiBkZXN0aW5hdGlvbnMubGVuZ3RoID49IDEpIHtcbiAgICAgIGNvbnNvbGUubG9nKGDwn5OKIEZvdW5kICR7ZGVzdGluYXRpb25zLmxlbmd0aH0gZGVzdGluYXRpb25zLCB0cmlnZ2VyaW5nIG9wdGltaXphdGlvbi4uLmApO1xuICAgICAgXG4gICAgICAvLyDlh7rnmbrlnLDluqfmqJnjgYzjgarjgYTloLTlkIjjga/mnIDpganljJbjgpLjgrnjgq3jg4Pjg5dcbiAgICAgIGlmICghdHJpcEluZm8/LmRlcGFydHVyZV9sb2NhdGlvbl9sYXQgfHwgIXRyaXBJbmZvPy5kZXBhcnR1cmVfbG9jYXRpb25fbG5nKSB7XG4gICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIFNraXBwaW5nIG9wdGltaXphdGlvbjogZGVwYXJ0dXJlIGNvb3JkaW5hdGVzIG1pc3NpbmcnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCB1c2VyQ29udGV4dCA9IHtcbiAgICAgICAgaWQ6IG51bGwsXG4gICAgICAgIHNlc3Npb25JZDogc2Vzc2lvbklkLFxuICAgICAgICBpc0d1ZXN0OiB0cnVlXG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyDmnIDpganljJblrp/ooYxcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG9wdGltaXplVHJpcFJvdXRlKGdyb3VwSWQsIHVzZXJDb250ZXh0KTtcbiAgICAgIFxuICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09ICdzdWNjZXNzJykge1xuICAgICAgICBjb25zb2xlLmxvZygn4pyFIEF1dG8tb3B0aW1pemF0aW9uIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHknKTtcbiAgICAgICAgXG4gICAgICAgIC8vIPCfjq8g44Oq44Ki44Or44K/44Kk44Og5pu05paw6YCa55+lXG4gICAgICAgIGF3YWl0IGJyb2FkY2FzdE9wdGltaXphdGlvblVwZGF0ZShncm91cElkLCByZXN1bHQuZGF0YSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBBdXRvLW9wdGltaXphdGlvbiBmYWlsZWQ6JywgcmVzdWx0LmVycm9yKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coJ/Cfk40gTm8gZGVzdGluYXRpb25zIGZvdW5kLCBza2lwcGluZyBvcHRpbWl6YXRpb24nKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS53YXJuKCfimqDvuI8gQXV0by1vcHRpbWl6YXRpb24gZmFpbGVkOicsIGVycm9yKTtcbiAgICAvLyDjgqjjg6njg7zjgafjgoJNeSBQbGFjZXPov73liqDjga/miJDlip/jgZXjgZvjgotcbiAgfVxufVxuXG4vKipcbiAqIPCfhpUg44Oq44Ki44Or44K/44Kk44Og5pu05paw44OW44Ot44O844OJ44Kt44Oj44K544OI6Zai5pWwXG4gKiDmnIDpganljJblrozkuobjgpLjgrDjg6vjg7zjg5fjg6Hjg7Pjg5Djg7zjgavpgJrnn6VcbiAqL1xuYXN5bmMgZnVuY3Rpb24gYnJvYWRjYXN0T3B0aW1pemF0aW9uVXBkYXRlKGdyb3VwSWQ6IHN0cmluZywgb3B0aW1pemF0aW9uRGF0YTogYW55KSB7XG4gIGNvbnN0IGNvb2tpZVN0b3JlID0gY29va2llcygpO1xuICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudChjb29raWVTdG9yZSk7XG4gIFxuICB0cnkge1xuICAgIC8vIFN1cGFiYXNlIFJlYWx0aW1l44Gn44Kw44Or44O844OX44Oh44Oz44OQ44O844Gr6YCa55+lXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdvcHRpbWl6YXRpb25fdXBkYXRlcycpXG4gICAgICAuaW5zZXJ0KHtcbiAgICAgICAgZ3JvdXBfaWQ6IGdyb3VwSWQsXG4gICAgICAgIHVwZGF0ZV90eXBlOiAncm91dGVfb3B0aW1pemVkJyxcbiAgICAgICAgZGF0YTogb3B0aW1pemF0aW9uRGF0YSxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH0pO1xuICAgIFxuICAgIGlmIChlcnJvcikge1xuICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gYnJvYWRjYXN0IG9wdGltaXphdGlvbiB1cGRhdGU6JywgZXJyb3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+ToSBPcHRpbWl6YXRpb24gdXBkYXRlIGJyb2FkY2FzdGVkIHN1Y2Nlc3NmdWxseScpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBicm9hZGNhc3QgdXBkYXRlOicsIGVycm9yKTtcbiAgfVxufSAiXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50IiwiY29va2llcyIsIm9wdGltaXplVHJpcFJvdXRlIiwiYWRkUGxhY2VUb015UGxhY2VzIiwicGFyYW1zIiwiY29va2llU3RvcmUiLCJzdXBhYmFzZSIsImRhdGEiLCJ1c2VyIiwiYXV0aCIsImdldFVzZXIiLCJ1c2VySWQiLCJpZCIsImluc2VydERhdGEiLCJ1c2VyX2lkIiwic2Vzc2lvbl9pZCIsImdyb3VwX2lkIiwibmFtZSIsImFkZHJlc3MiLCJwbGFjZV9pZCIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwicHJlZmVyZW5jZV9zY29yZSIsInByZWZlcnJlZF9kdXJhdGlvbiIsInByZWZlcnJlZF9kYXRlIiwibm90ZXMiLCJpc19wZXJzb25hbF9mYXZvcml0ZSIsIm9sZFBhcmFtcyIsInNlc3Npb25JZCIsImdyb3VwSWQiLCJwbGFjZUlkIiwicHJlZmVyZW5jZVNjb3JlIiwicHJlZmVycmVkRHVyYXRpb24iLCJwcmVmZXJyZWREYXRlIiwiaXNQZXJzb25hbEZhdm9yaXRlIiwiRGF0ZSIsIm5vdyIsImNvbnNvbGUiLCJsb2ciLCJhY3R1YWxVc2VySWQiLCJzZXNzaW9uSWRGcm9tUGFyYW1zIiwibXlQbGFjZURhdGEiLCJlcnJvciIsImZyb20iLCJpbnNlcnQiLCJzZWxlY3QiLCJzaW5nbGUiLCJFcnJvciIsImV4aXN0aW5nRGVzdGluYXRpb24iLCJlcSIsImRlc3RpbmF0aW9uSWQiLCJuZXdEZXN0aW5hdGlvbiIsImRlc3RpbmF0aW9uRXJyb3IiLCJjcmVhdGVkX2J5Iiwid2FybiIsInF1ZXJ5IiwiZXhpc3RpbmdQcmVmZXJlbmNlIiwicHJlZmVyZW5jZUVycm9yIiwiZGVzdGluYXRpb25faWQiLCJhdXRvSW50ZWdyYXRpb25FcnJvciIsInRyaWdnZXJBdXRvbWF0aWNPcHRpbWl6YXRpb24iLCJvcHRpbWl6YXRpb25FcnJvciIsInN1Y2Nlc3MiLCJhdXRvQWRkZWRUb1RyaXAiLCJ1cGRhdGVNeVBsYWNlIiwidXBkYXRlRGF0YSIsInVuZGVmaW5lZCIsInVwZGF0ZWRfYXQiLCJ0b0lTT1N0cmluZyIsInVwZGF0ZSIsImdldE15UGxhY2VzRm9yVHJpcCIsImF1dGhFcnJvciIsIm1lc3NhZ2UiLCJjb3VudCIsInRlc3RFcnJvciIsImhlYWQiLCJvcmRlciIsImFzY2VuZGluZyIsImRhdGFMZW5ndGgiLCJsZW5ndGgiLCJlcnJvckNvZGUiLCJjb2RlIiwiZXJyb3JEZXRhaWxzIiwiZGV0YWlscyIsImVycm9ySGludCIsImhpbnQiLCJvcHRpbWl6ZWRQbGFjZXMiLCJwbGFjZXMiLCJtYXAiLCJwbGFjZSIsImFkb3B0ZWRQbGFjZSIsImZpbmQiLCJvcHQiLCJNYXRoIiwiYWJzIiwiY3JlYXRlZEF0IiwiY3JlYXRlZF9hdCIsImlzQWRvcHRlZCIsImFkb3B0ZWREZXRhaWxzIiwidmlzaXRPcmRlciIsInZpc2l0X29yZGVyIiwic2NoZWR1bGVkRGF0ZSIsInNjaGVkdWxlZF9kYXRlIiwiYWxsb2NhdGVkRHVyYXRpb24iLCJzY2hlZHVsZWRfZHVyYXRpb24iLCJlcnJvck1lc3NhZ2UiLCJhZGRNeVBsYWNlVG9UcmlwIiwibXlQbGFjZUlkIiwibXlQbGFjZSIsImZldGNoRXJyb3IiLCJjb3B5QWxsTXlQbGFjZXNUb1RyaXAiLCJzdWNjZXNzQ291bnQiLCJlcnJvcnMiLCJwdXNoIiwiZGVsZXRlTXlQbGFjZSIsImRlbGV0ZSIsImRlc3RpbmF0aW9ucyIsImRlc3RFcnJvciIsIm1lbWJlcnMiLCJtZW1iZXJFcnJvciIsInRyaXBJbmZvIiwidHJpcEVycm9yIiwiaGFzQ29vcmRpbmF0ZXMiLCJkZXBhcnR1cmVfbG9jYXRpb25fbGF0IiwiZGVwYXJ0dXJlX2xvY2F0aW9uX2xuZyIsInVzZXJDb250ZXh0IiwiaXNHdWVzdCIsInJlc3VsdCIsInN0YXR1cyIsImJyb2FkY2FzdE9wdGltaXphdGlvblVwZGF0ZSIsIm9wdGltaXphdGlvbkRhdGEiLCJ1cGRhdGVfdHlwZSIsInRpbWVzdGFtcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./lib/actions/my-places-actions.ts\n");

/***/ }),

/***/ "(action-browser)/./lib/actions/optimization-actions.ts":
/*!*********************************************!*\
  !*** ./lib/actions/optimization-actions.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   optimizeTripRoute: () => (/* binding */ optimizeTripRoute)\n/* harmony export */ });\n/* harmony import */ var private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! private-next-rsc-action-proxy */ \"(action-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-proxy.js\");\n/* harmony import */ var next_cache__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/cache */ \"(action-browser)/./node_modules/next/cache.js\");\n/* harmony import */ var next_cache__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_cache__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_optimization_data_fetcher__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/optimization/data-fetcher */ \"(action-browser)/./lib/optimization/data-fetcher.ts\");\n/* harmony import */ var _lib_optimization_data_preprocessor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/optimization/data-preprocessor */ \"(action-browser)/./lib/optimization/data-preprocessor.ts\");\n/* harmony import */ var _lib_optimization_complete_optimizer_v2__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/optimization/complete-optimizer-v2 */ \"(action-browser)/./lib/optimization/complete-optimizer-v2.ts\");\n/* harmony import */ var _lib_services_integrated_route_manager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/services/integrated-route-manager */ \"(action-browser)/./lib/services/integrated-route-manager.ts\");\n/* harmony import */ var _lib_supabase_server__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/lib/supabase/server */ \"(action-browser)/./lib/supabase/server.ts\");\n/* harmony import */ var private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! private-next-rsc-action-validate */ \"(action-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-validate.js\");\n/* __next_internal_action_entry_do_not_use__ optimizeTripRoute */ \n\n\n\n\n\n\nvar // Internal types for server actions (not exported)\nOptimizationErrorType;\n(function(OptimizationErrorType) {\n    OptimizationErrorType[\"INSUFFICIENT_DATA\"] = \"insufficient_data\";\n    OptimizationErrorType[\"INVALID_COORDINATES\"] = \"invalid_coordinates\";\n    OptimizationErrorType[\"MISSING_PREFERENCES\"] = \"missing_preferences\";\n    OptimizationErrorType[\"NO_FEASIBLE_SOLUTION\"] = \"no_feasible_solution\";\n    OptimizationErrorType[\"OPTIMIZATION_TIMEOUT\"] = \"optimization_timeout\";\n    OptimizationErrorType[\"CLUSTERING_FAILED\"] = \"clustering_failed\";\n    OptimizationErrorType[\"DATABASE_ERROR\"] = \"database_error\";\n    OptimizationErrorType[\"AUTHENTICATION_ERROR\"] = \"authentication_error\";\n    OptimizationErrorType[\"PERMISSION_DENIED\"] = \"permission_denied\";\n    OptimizationErrorType[\"GEOCODING_FAILED\"] = \"geocoding_failed\";\n    OptimizationErrorType[\"MAPS_API_ERROR\"] = \"maps_api_error\";\n    OptimizationErrorType[\"RATE_LIMIT_EXCEEDED\"] = \"rate_limit_exceeded\";\n})(OptimizationErrorType || (OptimizationErrorType = {}));\nclass PerformanceTracker {\n    constructor(){\n        this.stageStartTime = 0;\n        this.metrics = {\n            stageTimings: {},\n            resourceUsage: {},\n            qualityMetrics: {}\n        };\n        this.startTime = performance.now();\n    }\n    startStage(stageName) {\n        this.stageStartTime = performance.now();\n    }\n    endStage(stageName) {\n        if (!this.metrics.stageTimings) this.metrics.stageTimings = {};\n        this.metrics.stageTimings[stageName] = performance.now() - this.stageStartTime;\n    }\n    recordQualityMetrics(optimizationResult) {\n        this.metrics.qualityMetrics = {\n            fairnessScore: optimizationResult.fairnessScore || 0,\n            routeEfficiency: this.calculateRouteEfficiency(optimizationResult),\n            userSatisfactionEstimate: this.estimateUserSatisfaction(optimizationResult)\n        };\n    }\n    calculateRouteEfficiency(result) {\n        if (!result.totalDistance || !result.totalDuration) return 0;\n        return Math.min(1, 1000 / (result.totalDistance / result.totalDuration));\n    }\n    estimateUserSatisfaction(result) {\n        return result.fairnessScore || 0.5;\n    }\n    getMetrics() {\n        this.metrics.totalProcessingTime = performance.now() - this.startTime;\n        return this.metrics;\n    }\n}\nclass ProgressReporter {\n    constructor(groupId){\n        this.groupId = groupId;\n        this.supabase = (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_6__.createClient)(\"\");\n    }\n    async updateProgress(progress) {\n        try {\n            await this.supabase.channel(\"optimization-progress\").send({\n                type: \"broadcast\",\n                event: \"progress-update\",\n                payload: {\n                    groupId: this.groupId,\n                    progress\n                }\n            });\n        } catch (error) {\n            console.warn(\"Failed to broadcast progress:\", error);\n        }\n    }\n    async reportStageCompletion(stage, timeTaken) {\n        await this.updateProgress({\n            stage: stage,\n            progress: this.calculateOverallProgress(stage),\n            message: `Completed ${stage} in ${timeTaken.toFixed(1)}s`,\n            estimatedTimeRemaining: this.estimateRemainingTime(stage)\n        });\n    }\n    calculateOverallProgress(stage) {\n        const stageProgress = {\n            \"preprocessing\": 20,\n            \"clustering\": 40,\n            \"optimizing\": 70,\n            \"generating\": 85,\n            \"scheduling\": 95,\n            \"saving\": 100\n        };\n        return stageProgress[stage] || 0;\n    }\n    estimateRemainingTime(stage) {\n        const timeEstimates = {\n            \"preprocessing\": 4000,\n            \"clustering\": 3000,\n            \"optimizing\": 2000,\n            \"generating\": 1000,\n            \"scheduling\": 500,\n            \"saving\": 200\n        };\n        return timeEstimates[stage] || 1000;\n    }\n}\nconst optimizationValidationRules = [\n    {\n        field: \"groupId\",\n        validator: (id)=>typeof id === \"string\" && id.length > 0,\n        errorMessage: \"Valid group ID is required\",\n        required: true\n    }\n];\nfunction validateOptimizationInput(input) {\n    const errors = [];\n    const warnings = [];\n    optimizationValidationRules.forEach((rule)=>{\n        const value = input[rule.field];\n        if (rule.required && !value) {\n            errors.push(`${rule.field} is required`);\n        } else if (value && !rule.validator(value)) {\n            errors.push(rule.errorMessage);\n        }\n    });\n    return {\n        isValid: errors.length === 0,\n        errors,\n        warnings\n    };\n}\nasync function validateOptimizationData(preprocessedData) {\n    const errors = [];\n    const warnings = [];\n    // Validate coordinates are realistic\n    if (preprocessedData.destinationLocations) {\n        preprocessedData.destinationLocations.forEach((location, index)=>{\n            if (Math.abs(location.latitude) > 90) {\n                errors.push(`Destination ${index + 1}: Invalid latitude ${location.latitude}`);\n            }\n            if (Math.abs(location.longitude) > 180) {\n                errors.push(`Destination ${index + 1}: Invalid longitude ${location.longitude}`);\n            }\n        });\n    }\n    // Validate preference data completeness\n    if (preprocessedData.input?.userPreferences) {\n        const preferenceCoverage = calculatePreferenceCoverage(preprocessedData.input);\n        if (preferenceCoverage < 0.5) {\n            warnings.push(\"Less than 50% of destinations have user preferences. This may affect optimization quality.\");\n        }\n    }\n    // Validate time constraints are reasonable\n    if (preprocessedData.input?.tripGroup?.start_date) {\n        const startDate = new Date(preprocessedData.input.tripGroup.start_date);\n        if (startDate < new Date()) {\n            errors.push(\"Trip start date cannot be in the past\");\n        }\n    }\n    // Validate group size limitations\n    if (preprocessedData.input?.groupMembers?.length > 20) {\n        warnings.push(\"Large groups (20+ members) may experience longer optimization times\");\n    }\n    return {\n        isValid: errors.length === 0,\n        errors,\n        warnings\n    };\n}\nfunction calculatePreferenceCoverage(input) {\n    if (!input.userPreferences || !input.destinations) return 0;\n    const destinationsWithPreferences = new Set(input.userPreferences.map((pref)=>pref.destination_id));\n    return destinationsWithPreferences.size / input.destinations.length;\n}\n// Error handling and classification\nfunction classifyError(error) {\n    if (error instanceof Error) {\n        // Check for specific error types\n        if (error.message.includes(\"insufficient data\")) {\n            return {\n                type: OptimizationErrorType.INSUFFICIENT_DATA,\n                message: error.message,\n                userMessage: \"Not enough destination preferences to create an optimal route\",\n                suggestedActions: [\n                    \"Ask group members to rate more destinations\",\n                    \"Add more destinations to choose from\",\n                    \"Provide time preferences for existing destinations\"\n                ],\n                retryable: true\n            };\n        }\n        if (error.message.includes(\"timeout\") || error.message.includes(\"exceeded\")) {\n            return {\n                type: OptimizationErrorType.OPTIMIZATION_TIMEOUT,\n                message: error.message,\n                userMessage: \"Optimization is taking longer than expected\",\n                suggestedActions: [\n                    \"Use the current result and refine manually\",\n                    \"Try again with fewer destinations\",\n                    \"Simplify your preferences\"\n                ],\n                retryable: true\n            };\n        }\n        if (error.message.includes(\"no feasible solution\")) {\n            return {\n                type: OptimizationErrorType.NO_FEASIBLE_SOLUTION,\n                message: error.message,\n                userMessage: \"Could not fit all desired destinations in the available time\",\n                suggestedActions: [\n                    \"Extend your trip duration\",\n                    \"Reduce time spent at some destinations\",\n                    \"Remove some lower-priority destinations\",\n                    \"Consider splitting into multiple trips\"\n                ],\n                retryable: false\n            };\n        }\n        if (error.message.includes(\"database\") || error.message.includes(\"connection\")) {\n            return {\n                type: OptimizationErrorType.DATABASE_ERROR,\n                message: error.message,\n                userMessage: \"Database connection issue\",\n                suggestedActions: [\n                    \"Please try again in a moment\",\n                    \"Check your internet connection\"\n                ],\n                retryable: true\n            };\n        }\n    }\n    // Default error\n    return {\n        type: OptimizationErrorType.OPTIMIZATION_TIMEOUT,\n        message: error?.toString() || \"Unknown error\",\n        userMessage: \"An unexpected error occurred during optimization\",\n        suggestedActions: [\n            \"Please try again\",\n            \"Contact support if the problem persists\"\n        ],\n        retryable: true\n    };\n}\n// Timeout wrapper\nasync function optimizeWithTimeout(optimizationFunction, timeoutMs = 5000) {\n    return new Promise((resolve, reject)=>{\n        const timeoutId = setTimeout(()=>{\n            reject(new Error(`Optimization exceeded ${timeoutMs}ms timeout`));\n        }, timeoutMs);\n        optimizationFunction().then((result)=>{\n            clearTimeout(timeoutId);\n            resolve(result);\n        }).catch((error)=>{\n            clearTimeout(timeoutId);\n            reject(error);\n        });\n    });\n}\n// Edge case handlers\nfunction handleDataEdgeCases(preprocessedData) {\n    // Handle single destination\n    if (preprocessedData.destinationLocations?.length === 1) {\n        console.log(\"Handling single destination case\");\n        return preprocessedData;\n    }\n    // Handle single user\n    if (preprocessedData.input?.groupMembers?.length === 1) {\n        console.log(\"Handling single user case\");\n        return preprocessedData;\n    }\n    // Handle missing preferences\n    if (preprocessedData.input?.userPreferences?.length === 0) {\n        console.log(\"Handling missing preferences case\");\n        // Add default preferences\n        if (preprocessedData.input.destinations) {\n            preprocessedData.input.userPreferences = preprocessedData.input.destinations.map((dest)=>({\n                    destination_id: dest.id,\n                    preference_score: 3,\n                    preferred_duration: 60\n                }));\n        }\n    }\n    return preprocessedData;\n}\n// Main optimization server action\nasync function optimizeTripRoute(groupId, currentUser, options) {\n    const tracker = new PerformanceTracker();\n    const progressReporter = new ProgressReporter(groupId);\n    try {\n        // Step 1: Input validation\n        const inputValidation = validateOptimizationInput({\n            groupId,\n            currentUser\n        });\n        if (!inputValidation.isValid) {\n            return {\n                status: \"error\",\n                error: {\n                    type: OptimizationErrorType.INVALID_COORDINATES,\n                    message: inputValidation.errors.join(\", \"),\n                    userMessage: \"Invalid input data\",\n                    suggestedActions: [\n                        \"Please check your input and try again\"\n                    ],\n                    retryable: true\n                }\n            };\n        }\n        // Step 2: Data preprocessing and validation\n        tracker.startStage(\"dataPreprocessing\");\n        await progressReporter.updateProgress({\n            stage: \"preprocessing\",\n            progress: 10,\n            message: \"Loading trip data and user preferences...\"\n        });\n        // Fetch raw optimization data first\n        const { data: rawOptimizationData, error: fetchError } = await (0,_lib_optimization_data_fetcher__WEBPACK_IMPORTED_MODULE_2__.fetchOptimizationData)(groupId, currentUser);\n        if (fetchError || !rawOptimizationData) {\n            console.error(\"\\uD83D\\uDD0D Failed to fetch optimization data:\", fetchError?.message);\n            return {\n                status: \"error\",\n                error: {\n                    type: OptimizationErrorType.DATABASE_ERROR,\n                    message: fetchError?.message || \"Failed to fetch optimization data\",\n                    userMessage: \"Could not load trip data for optimization\",\n                    suggestedActions: [\n                        \"Check your trip data and try again\"\n                    ],\n                    retryable: true\n                }\n            };\n        }\n        // Now preprocess the raw data\n        const { data: preprocessedData, validation } = await (0,_lib_optimization_data_preprocessor__WEBPACK_IMPORTED_MODULE_3__.preprocessOptimizationData)(rawOptimizationData);\n        if (!validation.isValid) {\n            console.error(\"\\uD83D\\uDD0D Preprocessing validation failed:\", validation.errors);\n            return {\n                status: \"error\",\n                error: {\n                    type: OptimizationErrorType.INVALID_COORDINATES,\n                    message: validation.errors.map((e)=>e.message).join(\", \"),\n                    userMessage: \"Trip data validation failed\",\n                    suggestedActions: validation.errors.map((e)=>e.message),\n                    retryable: true\n                }\n            };\n        }\n        const validationResult = await validateOptimizationData(preprocessedData);\n        if (!validationResult.isValid) {\n            return {\n                status: \"error\",\n                error: {\n                    type: OptimizationErrorType.INSUFFICIENT_DATA,\n                    message: validationResult.errors.join(\", \"),\n                    userMessage: \"Data validation failed\",\n                    suggestedActions: validationResult.errors,\n                    retryable: true\n                }\n            };\n        }\n        // Handle edge cases\n        const processedData = handleDataEdgeCases(preprocessedData);\n        // 🎯 NEW: 単一場所のエッジケース処理\n        if (preprocessedData.destinations?.size === 1) {\n            return await handleSingleDestinationCase(groupId, preprocessedData, tracker);\n        }\n        tracker.endStage(\"dataPreprocessing\");\n        // Step 3: Run optimization with timeout\n        tracker.startStage(\"optimization\");\n        await progressReporter.updateProgress({\n            stage: \"optimizing\",\n            progress: 50,\n            message: \"Finding optimal route...\"\n        });\n        const optimizationResult = await optimizeWithTimeout(()=>(0,_lib_optimization_complete_optimizer_v2__WEBPACK_IMPORTED_MODULE_4__.performCompleteOptimizationV2)(preprocessedData, {\n                enableMultiDayScheduling: true\n            }), 10000 // 10 second timeout\n        );\n        tracker.endStage(\"optimization\");\n        tracker.recordQualityMetrics(optimizationResult);\n        // Step 4: Database storage\n        tracker.startStage(\"databaseStorage\");\n        await progressReporter.updateProgress({\n            stage: \"saving\",\n            progress: 90,\n            message: \"Saving optimization results...\"\n        });\n        const routeManager = _lib_services_integrated_route_manager__WEBPACK_IMPORTED_MODULE_5__.IntegratedRouteManager.create(groupId, currentUser.id, currentUser.sessionId);\n        const storageResult = await routeManager.saveOptimizationResult(optimizationResult, {\n            fairnessScore: optimizationResult.summary?.fairnessScore || 0,\n            totalDistance: optimizationResult.summary?.totalDistanceKm || 0,\n            totalDuration: optimizationResult.summary?.totalActiveHours || 0,\n            processingTime: tracker.getMetrics().totalProcessingTime\n        });\n        if (!storageResult.success) {\n            throw new Error(`Storage failed: ${storageResult.error?.message}`);\n        }\n        // 🎯 NEW: Save individual records to places table for easy access\n        await saveOptimizationToPlacesTable(groupId, optimizationResult);\n        tracker.endStage(\"databaseStorage\");\n        // Step 5: Cache invalidation and revalidation\n        (0,next_cache__WEBPACK_IMPORTED_MODULE_1__.revalidatePath)(`/my-trip`);\n        (0,next_cache__WEBPACK_IMPORTED_MODULE_1__.revalidatePath)(`/trips/${groupId}`);\n        await progressReporter.updateProgress({\n            stage: \"saving\",\n            progress: 100,\n            message: \"Optimization complete!\"\n        });\n        return {\n            status: \"success\",\n            data: storageResult.route?.route_data,\n            processingTime: tracker.getMetrics().totalProcessingTime,\n            performanceMetrics: tracker.getMetrics(),\n            warnings: validationResult.warnings\n        };\n    } catch (error) {\n        return handleOptimizationError(error, groupId, currentUser, tracker.getMetrics());\n    }\n}\n// Error handler with fallback strategies\nasync function handleOptimizationError(error, groupId, currentUser, metrics) {\n    const optimizationError = classifyError(error);\n    console.error(\"Optimization error:\", optimizationError);\n    // Try fallback strategies for recoverable errors\n    if (optimizationError.retryable) {\n        try {\n            const fallbackResult = await attemptFallbackOptimization(groupId, currentUser);\n            if (fallbackResult) {\n                return {\n                    status: \"partial\",\n                    data: fallbackResult,\n                    error: optimizationError,\n                    performanceMetrics: metrics,\n                    warnings: [\n                        \"Used simplified optimization due to error\"\n                    ]\n                };\n            }\n        } catch (fallbackError) {\n            console.error(\"Fallback optimization also failed:\", fallbackError);\n        }\n    }\n    return {\n        status: \"error\",\n        error: optimizationError,\n        performanceMetrics: metrics\n    };\n}\n// Simplified fallback optimization\nasync function attemptFallbackOptimization(groupId, currentUser) {\n    try {\n        // Simple fallback: just order destinations by average preference score\n        const { data: rawOptimizationData, error: fetchError } = await (0,_lib_optimization_data_fetcher__WEBPACK_IMPORTED_MODULE_2__.fetchOptimizationData)(groupId, currentUser);\n        if (fetchError || !rawOptimizationData?.destinations || !rawOptimizationData?.userPreferences) {\n            return null;\n        }\n        // Calculate average scores and sort\n        const destinationScores = new Map();\n        rawOptimizationData.destinations.forEach((dest)=>{\n            const preferences = rawOptimizationData.userPreferences.filter((pref)=>pref.destination_id === dest.id);\n            const avgScore = preferences.length > 0 ? preferences.reduce((sum, pref)=>sum + pref.preference_score, 0) / preferences.length : 3 // Default score\n            ;\n            destinationScores.set(dest.id, avgScore);\n        });\n        // Sort destinations by score\n        const sortedDestinations = rawOptimizationData.destinations.sort((a, b)=>destinationScores.get(b.id) - destinationScores.get(a.id));\n        // Create simple route data\n        const fallbackRouteData = {\n            status: \"success\",\n            optimizationMetrics: {\n                fairnessScore: 0.7,\n                totalDistance: 0,\n                totalDuration: sortedDestinations.length * 120,\n                clusterCount: 1,\n                destinationCount: sortedDestinations.length,\n                averageSatisfaction: 0.7,\n                efficiencyScore: 0.7\n            },\n            multiDaySchedule: {\n                days: [\n                    {\n                        date: new Date().toISOString().split(\"T\")[0],\n                        dayIndex: 0,\n                        destinations: sortedDestinations.map((dest, index)=>({\n                                destinationId: dest.id,\n                                name: dest.name,\n                                address: dest.address || \"\",\n                                coordinates: {\n                                    lat: dest.latitude,\n                                    lng: dest.longitude\n                                },\n                                startTime: `${9 + index * 2}:00`,\n                                endTime: `${11 + index * 2}:00`,\n                                allocatedDuration: 120,\n                                visitOrder: index + 1,\n                                dayVisitOrder: index + 1,\n                                wishfulUsers: []\n                            })),\n                        dailyStats: {\n                            totalDistance: 0,\n                            totalTime: sortedDestinations.length * 120,\n                            destinationCount: sortedDestinations.length,\n                            averageSatisfaction: 0.7,\n                            intensity: \"moderate\"\n                        }\n                    }\n                ],\n                totalStats: {\n                    tripDurationDays: 1,\n                    totalDestinations: sortedDestinations.length,\n                    totalDistance: 0,\n                    totalTime: sortedDestinations.length * 120,\n                    averageDailyDistance: 0,\n                    averageDailyTime: sortedDestinations.length * 120,\n                    restDayRecommendations: []\n                }\n            },\n            visualizationData: {\n                mapBounds: {\n                    north: 0,\n                    south: 0,\n                    east: 0,\n                    west: 0,\n                    center: {\n                        lat: 0,\n                        lng: 0\n                    },\n                    zoom: 10\n                },\n                colorMappings: {},\n                routeLines: [],\n                statisticalSummary: {\n                    walkingDistance: 0,\n                    drivingDistance: 0,\n                    flyingDistance: 0,\n                    walkingTime: 0,\n                    drivingTime: 0,\n                    flyingTime: 0,\n                    accommodationPoints: 1,\n                    averageDistanceBetweenDestinations: 0,\n                    routeEfficiency: 0.7\n                }\n            },\n            generationInfo: {\n                algorithmVersion: \"fallback-v1.0\",\n                generatedAt: new Date().toISOString(),\n                processingTime: 0.1,\n                inputParameters: {\n                    startDate: new Date().toISOString().split(\"T\")[0],\n                    departureLocation: \"Unknown\",\n                    maxDailyDistance: 300,\n                    maxDailyTime: 600,\n                    transportPreferences: [\n                        \"drive\"\n                    ]\n                },\n                userPreferencesSnapshot: [],\n                optimizationConstraints: {\n                    timeConstraints: [],\n                    geographicalConstraints: [],\n                    userRequirements: []\n                }\n            }\n        };\n        return fallbackRouteData;\n    } catch (error) {\n        console.error(\"Fallback optimization failed:\", error);\n        return null;\n    }\n}\n/**\n * 🆕 単一場所専用の最適化処理\n * 1つの場所しかない場合は100%採用として即座に処理\n */ async function handleSingleDestinationCase(groupId, preprocessedData, tracker) {\n    console.log(\"\\uD83C\\uDFAF Handling single destination case - 100% adoption\");\n    try {\n        const { createClient } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/lib/supabase/server */ \"(action-browser)/./lib/supabase/server.ts\"));\n        const { cookies } = await Promise.resolve(/*! import() */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/headers */ \"(action-browser)/./node_modules/next/headers.js\", 23));\n        // Handle the case where cookies() might not be available in some contexts\n        let supabase;\n        try {\n            const cookieStore = cookies();\n            supabase = createClient(cookieStore);\n        } catch (cookieError) {\n            console.warn(\"Cookie context not available, falling back to direct client\");\n            // Create a basic client without cookies for optimization context\n            const { createClient: createDirectClient } = await Promise.resolve(/*! import() */).then(__webpack_require__.t.bind(__webpack_require__, /*! @supabase/supabase-js */ \"(action-browser)/./node_modules/@supabase/supabase-js/dist/main/index.js\", 23));\n            supabase = createDirectClient(\"https://zceqyydzdrbvtsxnqeqx.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpjZXF5eWR6ZHJidnRzeG5xZXF4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg4ODkwMDcsImV4cCI6MjA2NDQ2NTAwN30.Jw7nnt6rvcoYxkYutW2baZ9BU0FrAxvtL3DZ3DoT5_0\");\n        }\n        // 単一destination情報を取得\n        const { data: destinations, error: destError } = await supabase.from(\"destinations\").select(\"*\").eq(\"group_id\", groupId).limit(1);\n        if (destError || !destinations || destinations.length === 0) {\n            return {\n                status: \"error\",\n                error: {\n                    type: OptimizationErrorType.INSUFFICIENT_DATA,\n                    message: \"No destination found\",\n                    userMessage: \"No destination to optimize\",\n                    suggestedActions: [\n                        \"Add places to your wishlist\"\n                    ],\n                    retryable: true\n                }\n            };\n        }\n        const destination = destinations[0];\n        // user_preferencesからのデータ取得\n        const { data: preferences } = await supabase.from(\"user_preferences\").select(\"*\").eq(\"group_id\", groupId).eq(\"destination_id\", destination.id);\n        const preferredDuration = preferences && preferences.length > 0 ? preferences[0].preferred_duration : 60; // デフォルト1時間\n        // placesテーブルに既存レコードがあるかチェック\n        const { data: existingPlaces } = await supabase.from(\"places\").select(\"id\").eq(\"group_id\", groupId);\n        // 既存レコードがあれば削除（新しい最適化で置き換え）\n        if (existingPlaces && existingPlaces.length > 0) {\n            await supabase.from(\"places\").delete().eq(\"group_id\", groupId);\n        }\n        // 単一場所を100%採用としてplacesテーブルに保存\n        const optimizedPlace = {\n            group_id: groupId,\n            name: destination.name,\n            address: destination.address,\n            latitude: destination.latitude,\n            longitude: destination.longitude,\n            place_id: destination.place_id,\n            visit_order: 1,\n            scheduled_date: null,\n            scheduled_duration: preferredDuration,\n            fairness_score: 1.0,\n            created_at: new Date().toISOString()\n        };\n        const { error: placesError } = await supabase.from(\"places\").insert(optimizedPlace);\n        if (placesError) {\n            console.error(\"Failed to save single destination:\", placesError);\n            return {\n                status: \"error\",\n                error: {\n                    type: OptimizationErrorType.DATABASE_ERROR,\n                    message: placesError.message,\n                    userMessage: \"Failed to save optimization result\",\n                    suggestedActions: [\n                        \"Try again\"\n                    ],\n                    retryable: true\n                }\n            };\n        }\n        console.log(\"✅ Single destination saved successfully\");\n        // Create simplified route data for single destination\n        const singleDestinationRouteData = {\n            status: \"success\",\n            optimizationMetrics: {\n                fairnessScore: 1.0,\n                totalDistance: 0,\n                totalDuration: preferredDuration,\n                clusterCount: 1,\n                destinationCount: 1,\n                averageSatisfaction: 1.0,\n                efficiencyScore: 1.0\n            },\n            multiDaySchedule: {\n                days: [\n                    {\n                        date: new Date().toISOString().split(\"T\")[0],\n                        dayIndex: 0,\n                        destinations: [\n                            {\n                                destinationId: destination.id,\n                                name: destination.name,\n                                address: destination.address || \"\",\n                                coordinates: {\n                                    lat: destination.latitude,\n                                    lng: destination.longitude\n                                },\n                                startTime: \"10:00\",\n                                endTime: `${10 + Math.floor(preferredDuration / 60)}:${(preferredDuration % 60).toString().padStart(2, \"0\")}`,\n                                allocatedDuration: preferredDuration,\n                                visitOrder: 1,\n                                dayVisitOrder: 1,\n                                wishfulUsers: []\n                            }\n                        ],\n                        dailyStats: {\n                            totalDistance: 0,\n                            totalTime: preferredDuration,\n                            destinationCount: 1,\n                            averageSatisfaction: 1.0,\n                            intensity: \"light\"\n                        }\n                    }\n                ],\n                totalStats: {\n                    tripDurationDays: 1,\n                    totalDestinations: 1,\n                    totalDistance: 0,\n                    totalTime: preferredDuration,\n                    averageDailyDistance: 0,\n                    averageDailyTime: preferredDuration,\n                    restDayRecommendations: []\n                }\n            },\n            visualizationData: {\n                mapBounds: {\n                    north: destination.latitude + 0.01,\n                    south: destination.latitude - 0.01,\n                    east: destination.longitude + 0.01,\n                    west: destination.longitude - 0.01,\n                    center: {\n                        lat: destination.latitude,\n                        lng: destination.longitude\n                    },\n                    zoom: 15\n                },\n                colorMappings: {},\n                routeLines: [],\n                statisticalSummary: {\n                    walkingDistance: 0,\n                    drivingDistance: 0,\n                    flyingDistance: 0,\n                    walkingTime: 0,\n                    drivingTime: 0,\n                    flyingTime: 0,\n                    accommodationPoints: 1,\n                    averageDistanceBetweenDestinations: 0,\n                    routeEfficiency: 1.0\n                }\n            },\n            generationInfo: {\n                algorithmVersion: \"single-destination-v1.0\",\n                generatedAt: new Date().toISOString(),\n                processingTime: tracker.getMetrics().totalProcessingTime,\n                inputParameters: {\n                    startDate: new Date().toISOString().split(\"T\")[0],\n                    departureLocation: \"Single destination selected\",\n                    transportPreferences: [\n                        \"walking\"\n                    ]\n                },\n                userPreferencesSnapshot: [],\n                optimizationConstraints: {\n                    timeConstraints: [],\n                    geographicalConstraints: [],\n                    userRequirements: []\n                }\n            }\n        };\n        // 成功レスポンス\n        return {\n            status: \"success\",\n            data: singleDestinationRouteData\n        };\n    } catch (error) {\n        console.error(\"Single destination case failed:\", error);\n        return {\n            status: \"error\",\n            error: {\n                type: OptimizationErrorType.DATABASE_ERROR,\n                message: error.message,\n                userMessage: \"Failed to process single destination\",\n                suggestedActions: [\n                    \"Try again\"\n                ],\n                retryable: true\n            }\n        };\n    }\n}\n/**\n * 🆕 最適化結果をplacesテーブルに個別レコードとして保存\n * JSONB形式の`optimized_routes`と併用して、クエリ性能を向上\n */ async function saveOptimizationToPlacesTable(groupId, optimizationResult) {\n    try {\n        const { createClient } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/lib/supabase/server */ \"(action-browser)/./lib/supabase/server.ts\"));\n        const { cookies } = await Promise.resolve(/*! import() */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/headers */ \"(action-browser)/./node_modules/next/headers.js\", 23));\n        // Handle the case where cookies() might not be available in some contexts\n        let supabase;\n        try {\n            const cookieStore = cookies();\n            supabase = createClient(cookieStore);\n        } catch (cookieError) {\n            console.warn(\"Cookie context not available, falling back to direct client\");\n            // Create a basic client without cookies for optimization context\n            const { createClient: createDirectClient } = await Promise.resolve(/*! import() */).then(__webpack_require__.t.bind(__webpack_require__, /*! @supabase/supabase-js */ \"(action-browser)/./node_modules/@supabase/supabase-js/dist/main/index.js\", 23));\n            supabase = createDirectClient(\"https://zceqyydzdrbvtsxnqeqx.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpjZXF5eWR6ZHJidnRzeG5xZXF4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg4ODkwMDcsImV4cCI6MjA2NDQ2NTAwN30.Jw7nnt6rvcoYxkYutW2baZ9BU0FrAxvtL3DZ3DoT5_0\");\n        }\n        console.log(\"\\uD83C\\uDFAF Saving optimization results to places table...\");\n        // 既存の最適化結果をクリア\n        const { error: deleteError } = await supabase.from(\"places\").delete().eq(\"group_id\", groupId);\n        if (deleteError) {\n            console.warn(\"Warning: Could not clear existing places:\", deleteError);\n        }\n        // 最適化結果から個別のplaceレコードを作成\n        const placesToInsert = [];\n        let globalVisitOrder = 1;\n        if (optimizationResult.multiDaySchedule?.days) {\n            for (const day of optimizationResult.multiDaySchedule.days){\n                if (day.destinations) {\n                    for (const dest of day.destinations){\n                        placesToInsert.push({\n                            group_id: groupId,\n                            name: dest.name,\n                            address: dest.address || null,\n                            latitude: dest.coordinates?.lat || null,\n                            longitude: dest.coordinates?.lng || null,\n                            place_id: dest.destinationId || null,\n                            visit_order: globalVisitOrder,\n                            scheduled_date: day.date || null,\n                            scheduled_duration: dest.allocatedDuration || 60,\n                            source_places: [],\n                            fairness_score: optimizationResult.optimizationMetrics?.fairnessScore || 0.5,\n                            transport_mode: \"drive\",\n                            created_at: new Date().toISOString()\n                        });\n                        globalVisitOrder++;\n                    }\n                }\n            }\n        }\n        if (placesToInsert.length > 0) {\n            const { error: insertError } = await supabase.from(\"places\").insert(placesToInsert);\n            if (insertError) {\n                console.error(\"Failed to save places to database:\", insertError);\n                throw new Error(`Failed to save optimization results to places table: ${insertError.message}`);\n            }\n            console.log(`✅ Successfully saved ${placesToInsert.length} places to places table`);\n        } else {\n            console.log(\"⚠️ No places to save to places table\");\n        }\n    } catch (error) {\n        console.error(\"Error saving optimization to places table:\", error);\n        // エラーでも本体の最適化は成功させる（JSONBには保存済み）\n        console.warn(\"⚠️ Places table storage failed, but JSONB storage succeeded\");\n    }\n} // Additional utilities are available as internal classes but not exported from server actions\n\n(0,private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_7__.ensureServerEntryExports)([\n    optimizeTripRoute\n]);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"a6039e37dbc0dff9405060e9f7f22a6b83359e9e\", null, optimizeTripRoute);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL2xpYi9hY3Rpb25zL29wdGltaXphdGlvbi1hY3Rpb25zLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBRTJDO0FBRTRCO0FBQ1U7QUFDTztBQUNSO0FBQzVCO0lBSXBELG1EQUFtRDtBQUNuRDtVQUFLTSxxQkFBcUI7SUFBckJBLHNCQUNIQyx1QkFBb0I7SUFEakJELHNCQUVIRSx5QkFBc0I7SUFGbkJGLHNCQUdIRyx5QkFBc0I7SUFIbkJILHNCQUlISSwwQkFBdUI7SUFKcEJKLHNCQUtISywwQkFBdUI7SUFMcEJMLHNCQU1ITSx1QkFBb0I7SUFOakJOLHNCQU9ITyxvQkFBaUI7SUFQZFAsc0JBUUhRLDBCQUF1QjtJQVJwQlIsc0JBU0hTLHVCQUFvQjtJQVRqQlQsc0JBVUhVLHNCQUFtQjtJQVZoQlYsc0JBV0hXLG9CQUFpQjtJQVhkWCxzQkFZSFkseUJBQXNCO0dBWm5CWiwwQkFBQUE7QUFxRUwsTUFBTWE7SUFLSkMsYUFBYzthQUhOQyxpQkFBeUI7YUFDekJDLFVBQXVDO1lBQUVDLGNBQWMsQ0FBQztZQUFVQyxlQUFlLENBQUM7WUFBVUMsZ0JBQWdCLENBQUM7UUFBUztRQUc1SCxJQUFJLENBQUNDLFNBQVMsR0FBR0MsWUFBWUMsR0FBRztJQUNsQztJQUVBQyxXQUFXQyxTQUFtRCxFQUFFO1FBQzlELElBQUksQ0FBQ1QsY0FBYyxHQUFHTSxZQUFZQyxHQUFHO0lBQ3ZDO0lBRUFHLFNBQVNELFNBQW1ELEVBQUU7UUFDNUQsSUFBSSxDQUFDLElBQUksQ0FBQ1IsT0FBTyxDQUFDQyxZQUFZLEVBQUUsSUFBSSxDQUFDRCxPQUFPLENBQUNDLFlBQVksR0FBRyxDQUFDO1FBQzdELElBQUksQ0FBQ0QsT0FBTyxDQUFDQyxZQUFZLENBQUVPLFVBQVUsR0FBR0gsWUFBWUMsR0FBRyxLQUFLLElBQUksQ0FBQ1AsY0FBYztJQUNqRjtJQUVBVyxxQkFBcUJDLGtCQUF1QixFQUFFO1FBQzVDLElBQUksQ0FBQ1gsT0FBTyxDQUFDRyxj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QU0sQ0FBQ0s7WUFFVixJQUFJSyxhQUFhO2dCQUNmL04sUUFBUUQsS0FBSyxDQUFDLHNDQUFzQ2dPO2dCQUNwRCxNQUFNLElBQUkzSyxNQUFNLENBQUMscURBQXFELEVBQUUySyxZQUFZek4sT0FBTyxDQUFDLENBQUM7WUFDL0Y7WUFFQU4sUUFBUXNFLEdBQUcsQ0FBQyxDQUFDLHFCQUFxQixFQUFFb0osZUFBZTFNLE1BQU0sQ0FBQyx1QkFBdUIsQ0FBQztRQUNwRixPQUFPO1lBQ0xoQixRQUFRc0UsR0FBRyxDQUFDO1FBQ2Q7SUFFRixFQUFFLE9BQU92RSxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyw4Q0FBOENBO1FBQzVELGlDQUFpQztRQUNqQ0MsUUFBUUMsSUFBSSxDQUFDO0lBQ2Y7QUFDRixFQUVBLDhGQUE4RiIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy8uL2xpYi9hY3Rpb25zL29wdGltaXphdGlvbi1hY3Rpb25zLnRzP2FhNWYiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzZXJ2ZXInXG5cbmltcG9ydCB7IHJldmFsaWRhdGVQYXRoIH0gZnJvbSAnbmV4dC9jYWNoZSdcbmltcG9ydCB7IHJlZGlyZWN0IH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJ1xuaW1wb3J0IHsgZmV0Y2hPcHRpbWl6YXRpb25EYXRhIH0gZnJvbSAnQC9saWIvb3B0aW1pemF0aW9uL2RhdGEtZmV0Y2hlcidcbmltcG9ydCB7IHByZXByb2Nlc3NPcHRpbWl6YXRpb25EYXRhIH0gZnJvbSAnQC9saWIvb3B0aW1pemF0aW9uL2RhdGEtcHJlcHJvY2Vzc29yJ1xuaW1wb3J0IHsgcGVyZm9ybUNvbXBsZXRlT3B0aW1pemF0aW9uVjIgfSBmcm9tICdAL2xpYi9vcHRpbWl6YXRpb24vY29tcGxldGUtb3B0aW1pemVyLXYyJ1xuaW1wb3J0IHsgSW50ZWdyYXRlZFJvdXRlTWFuYWdlciB9IGZyb20gJ0AvbGliL3NlcnZpY2VzL2ludGVncmF0ZWQtcm91dGUtbWFuYWdlcidcbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0AvbGliL3N1cGFiYXNlL3NlcnZlcidcbmltcG9ydCB0eXBlIHsgUHJlcHJvY2Vzc2VkRGF0YSB9IGZyb20gJ0AvbGliL29wdGltaXphdGlvbi90eXBlcydcbmltcG9ydCB0eXBlIHsgU3RvcmVkUm91dGVEYXRhLCBPcHRpbWl6YXRpb25NZXRyaWNzIH0gZnJvbSAnQC9saWIvdHlwZXMvcm91dGUtc3RvcmFnZSdcblxuLy8gSW50ZXJuYWwgdHlwZXMgZm9yIHNlcnZlciBhY3Rpb25zIChub3QgZXhwb3J0ZWQpXG5lbnVtIE9wdGltaXphdGlvbkVycm9yVHlwZSB7XG4gIElOU1VGRklDSUVOVF9EQVRBID0gJ2luc3VmZmljaWVudF9kYXRhJyxcbiAgSU5WQUxJRF9DT09SRElOQVRFUyA9ICdpbnZhbGlkX2Nvb3JkaW5hdGVzJyxcbiAgTUlTU0lOR19QUkVGRVJFTkNFUyA9ICdtaXNzaW5nX3ByZWZlcmVuY2VzJyxcbiAgTk9fRkVBU0lCTEVfU09MVVRJT04gPSAnbm9fZmVhc2libGVfc29sdXRpb24nLFxuICBPUFRJTUlaQVRJT05fVElNRU9VVCA9ICdvcHRpbWl6YXRpb25fdGltZW91dCcsXG4gIENMVVNURVJJTkdfRkFJTEVEID0gJ2NsdXN0ZXJpbmdfZmFpbGVkJyxcbiAgREFUQUJBU0VfRVJST1IgPSAnZGF0YWJhc2VfZXJyb3InLFxuICBBVVRIRU5USUNBVElPTl9FUlJPUiA9ICdhdXRoZW50aWNhdGlvbl9lcnJvcicsXG4gIFBFUk1JU1NJT05fREVOSUVEID0gJ3Blcm1pc3Npb25fZGVuaWVkJyxcbiAgR0VPQ09ESU5HX0ZBSUxFRCA9ICdnZW9jb2RpbmdfZmFpbGVkJyxcbiAgTUFQU19BUElfRVJST1IgPSAnbWFwc19hcGlfZXJyb3InLFxuICBSQVRFX0xJTUlUX0VYQ0VFREVEID0gJ3JhdGVfbGltaXRfZXhjZWVkZWQnXG59XG5cbmludGVyZmFjZSBPcHRpbWl6YXRpb25FcnJvciB7XG4gIHR5cGU6IE9wdGltaXphdGlvbkVycm9yVHlwZVxuICBtZXNzYWdlOiBzdHJpbmdcbiAgZGV0YWlscz86IGFueVxuICB1c2VyTWVzc2FnZTogc3RyaW5nXG4gIHN1Z2dlc3RlZEFjdGlvbnM6IHN0cmluZ1tdXG4gIHJldHJ5YWJsZTogYm9vbGVhblxufVxuXG5pbnRlcmZhY2UgT3B0aW1pemF0aW9uUHJvZ3Jlc3Mge1xuICBzdGFnZTogJ3ByZXByb2Nlc3NpbmcnIHwgJ2NsdXN0ZXJpbmcnIHwgJ29wdGltaXppbmcnIHwgJ2dlbmVyYXRpbmcnIHwgJ3NjaGVkdWxpbmcnIHwgJ3NhdmluZydcbiAgcHJvZ3Jlc3M6IG51bWJlciAvLyAwLTEwMFxuICBtZXNzYWdlOiBzdHJpbmdcbiAgZXN0aW1hdGVkVGltZVJlbWFpbmluZz86IG51bWJlclxufVxuXG5pbnRlcmZhY2UgVmFsaWRhdGlvblJlc3VsdCB7XG4gIGlzVmFsaWQ6IGJvb2xlYW5cbiAgZXJyb3JzOiBzdHJpbmdbXVxuICB3YXJuaW5nczogc3RyaW5nW11cbn1cblxuaW50ZXJmYWNlIE9wdGltaXphdGlvblJlc3BvbnNlIHtcbiAgc3RhdHVzOiAnc3VjY2VzcycgfCAnZXJyb3InIHwgJ3BhcnRpYWwnXG4gIGRhdGE/OiBTdG9yZWRSb3V0ZURhdGFcbiAgZXJyb3I/OiBPcHRpbWl6YXRpb25FcnJvclxuICBmYWxsYmFja0RhdGE/OiBTdG9yZWRSb3V0ZURhdGFcbiAgcHJvY2Vzc2luZ1RpbWU/OiBudW1iZXJcbiAgcGVyZm9ybWFuY2VNZXRyaWNzPzogUGVyZm9ybWFuY2VNZXRyaWNzXG4gIHdhcm5pbmdzPzogc3RyaW5nW11cbn1cblxuaW50ZXJmYWNlIFBlcmZvcm1hbmNlTWV0cmljcyB7XG4gIHRvdGFsUHJvY2Vzc2luZ1RpbWU6IG51bWJlclxuICBzdGFnZVRpbWluZ3M6IHtcbiAgICBkYXRhUHJlcHJvY2Vzc2luZzogbnVtYmVyXG4gICAgY2x1c3RlcmluZzogbnVtYmVyXG4gICAgb3B0aW1pemF0aW9uOiBudW1iZXJcbiAgICByb3V0ZUdlbmVyYXRpb246IG51bWJlclxuICAgIHNjaGVkdWxpbmc6IG51bWJlclxuICAgIGRhdGFiYXNlU3RvcmFnZTogbnVtYmVyXG4gIH1cbiAgcmVzb3VyY2VVc2FnZToge1xuICAgIG1lbW9yeVBlYWs6IG51bWJlclxuICAgIGNwdVRpbWU6IG51bWJlclxuICAgIGRhdGFiYXNlUXVlcmllczogbnVtYmVyXG4gIH1cbiAgcXVhbGl0eU1ldHJpY3M6IHtcbiAgICBmYWlybmVzc1Njb3JlOiBudW1iZXJcbiAgICByb3V0ZUVmZmljaWVuY3k6IG51bWJlclxuICAgIHVzZXJTYXRpc2ZhY3Rpb25Fc3RpbWF0ZTogbnVtYmVyXG4gIH1cbn1cblxuY2xhc3MgUGVyZm9ybWFuY2VUcmFja2VyIHtcbiAgcHJpdmF0ZSBzdGFydFRpbWU6IG51bWJlclxuICBwcml2YXRlIHN0YWdlU3RhcnRUaW1lOiBudW1iZXIgPSAwXG4gIHByaXZhdGUgbWV0cmljczogUGFydGlhbDxQZXJmb3JtYW5jZU1ldHJpY3M+ID0geyBzdGFnZVRpbWluZ3M6IHt9IGFzIGFueSwgcmVzb3VyY2VVc2FnZToge30gYXMgYW55LCBxdWFsaXR5TWV0cmljczoge30gYXMgYW55IH1cbiAgXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KClcbiAgfVxuICBcbiAgc3RhcnRTdGFnZShzdGFnZU5hbWU6IGtleW9mIFBlcmZvcm1hbmNlTWV0cmljc1snc3RhZ2VUaW1pbmdzJ10pIHtcbiAgICB0aGlzLnN0YWdlU3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KClcbiAgfVxuICBcbiAgZW5kU3RhZ2Uoc3RhZ2VOYW1lOiBrZXlvZiBQZXJmb3JtYW5jZU1ldHJpY3NbJ3N0YWdlVGltaW5ncyddKSB7XG4gICAgaWYgKCF0aGlzLm1ldHJpY3Muc3RhZ2VUaW1pbmdzKSB0aGlzLm1ldHJpY3Muc3RhZ2VUaW1pbmdzID0ge30gYXMgYW55XG4gICAgdGhpcy5tZXRyaWNzLnN0YWdlVGltaW5ncyFbc3RhZ2VOYW1lXSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gdGhpcy5zdGFnZVN0YXJ0VGltZVxuICB9XG4gIFxuICByZWNvcmRRdWFsaXR5TWV0cmljcyhvcHRpbWl6YXRpb25SZXN1bHQ6IGFueSkge1xuICAgIHRoaXMubWV0cmljcy5xdWFsaXR5TWV0cmljcyA9IHtcbiAgICAgIGZhaXJuZXNzU2NvcmU6IG9wdGltaXphdGlvblJlc3VsdC5mYWlybmVzc1Njb3JlIHx8IDAsXG4gICAgICByb3V0ZUVmZmljaWVuY3k6IHRoaXMuY2FsY3VsYXRlUm91dGVFZmZpY2llbmN5KG9wdGltaXphdGlvblJlc3VsdCksXG4gICAgICB1c2VyU2F0aXNmYWN0aW9uRXN0aW1hdGU6IHRoaXMuZXN0aW1hdGVVc2VyU2F0aXNmYWN0aW9uKG9wdGltaXphdGlvblJlc3VsdClcbiAgICB9XG4gIH1cbiAgXG4gIHByaXZhdGUgY2FsY3VsYXRlUm91dGVFZmZpY2llbmN5KHJlc3VsdDogYW55KTogbnVtYmVyIHtcbiAgICBpZiAoIXJlc3VsdC50b3RhbERpc3RhbmNlIHx8ICFyZXN1bHQudG90YWxEdXJhdGlvbikgcmV0dXJuIDBcbiAgICByZXR1cm4gTWF0aC5taW4oMSwgMTAwMCAvIChyZXN1bHQudG90YWxEaXN0YW5jZSAvIHJlc3VsdC50b3RhbER1cmF0aW9uKSlcbiAgfVxuICBcbiAgcHJpdmF0ZSBlc3RpbWF0ZVVzZXJTYXRpc2ZhY3Rpb24ocmVzdWx0OiBhbnkpOiBudW1iZXIge1xuICAgIHJldHVybiByZXN1bHQuZmFpcm5lc3NTY29yZSB8fCAwLjVcbiAgfVxuICBcbiAgZ2V0TWV0cmljcygpOiBQZXJmb3JtYW5jZU1ldHJpY3Mge1xuICAgIHRoaXMubWV0cmljcy50b3RhbFByb2Nlc3NpbmdUaW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLSB0aGlzLnN0YXJ0VGltZVxuICAgIHJldHVybiB0aGlzLm1ldHJpY3MgYXMgUGVyZm9ybWFuY2VNZXRyaWNzXG4gIH1cbn1cblxuY2xhc3MgUHJvZ3Jlc3NSZXBvcnRlciB7XG4gIHByaXZhdGUgZ3JvdXBJZDogc3RyaW5nXG4gIHByaXZhdGUgc3VwYWJhc2U6IGFueVxuICBcbiAgY29uc3RydWN0b3IoZ3JvdXBJZDogc3RyaW5nKSB7XG4gICAgdGhpcy5ncm91cElkID0gZ3JvdXBJZFxuICAgIHRoaXMuc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoJycgYXMgYW55KVxuICB9XG4gIFxuICBhc3luYyB1cGRhdGVQcm9ncmVzcyhwcm9ncmVzczogT3B0aW1pemF0aW9uUHJvZ3Jlc3MpIHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGhpcy5zdXBhYmFzZVxuICAgICAgICAuY2hhbm5lbCgnb3B0aW1pemF0aW9uLXByb2dyZXNzJylcbiAgICAgICAgLnNlbmQoe1xuICAgICAgICAgIHR5cGU6ICdicm9hZGNhc3QnLFxuICAgICAgICAgIGV2ZW50OiAncHJvZ3Jlc3MtdXBkYXRlJyxcbiAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICBncm91cElkOiB0aGlzLmdyb3VwSWQsXG4gICAgICAgICAgICBwcm9ncmVzc1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gYnJvYWRjYXN0IHByb2dyZXNzOicsIGVycm9yKVxuICAgIH1cbiAgfVxuICBcbiAgYXN5bmMgcmVwb3J0U3RhZ2VDb21wbGV0aW9uKHN0YWdlOiBzdHJpbmcsIHRpbWVUYWtlbjogbnVtYmVyKSB7XG4gICAgYXdhaXQgdGhpcy51cGRhdGVQcm9ncmVzcyh7XG4gICAgICBzdGFnZTogc3RhZ2UgYXMgYW55LFxuICAgICAgcHJvZ3Jlc3M6IHRoaXMuY2FsY3VsYXRlT3ZlcmFsbFByb2dyZXNzKHN0YWdlKSxcbiAgICAgIG1lc3NhZ2U6IGBDb21wbGV0ZWQgJHtzdGFnZX0gaW4gJHt0aW1lVGFrZW4udG9GaXhlZCgxKX1zYCxcbiAgICAgIGVzdGltYXRlZFRpbWVSZW1haW5pbmc6IHRoaXMuZXN0aW1hdGVSZW1haW5pbmdUaW1lKHN0YWdlKVxuICAgIH0pXG4gIH1cbiAgXG4gIHByaXZhdGUgY2FsY3VsYXRlT3ZlcmFsbFByb2dyZXNzKHN0YWdlOiBzdHJpbmcpOiBudW1iZXIge1xuICAgIGNvbnN0IHN0YWdlUHJvZ3Jlc3MgPSB7XG4gICAgICAncHJlcHJvY2Vzc2luZyc6IDIwLFxuICAgICAgJ2NsdXN0ZXJpbmcnOiA0MCxcbiAgICAgICdvcHRpbWl6aW5nJzogNzAsXG4gICAgICAnZ2VuZXJhdGluZyc6IDg1LFxuICAgICAgJ3NjaGVkdWxpbmcnOiA5NSxcbiAgICAgICdzYXZpbmcnOiAxMDBcbiAgICB9XG4gICAgcmV0dXJuIChzdGFnZVByb2dyZXNzIGFzIGFueSlbc3RhZ2VdIHx8IDBcbiAgfVxuICBcbiAgcHJpdmF0ZSBlc3RpbWF0ZVJlbWFpbmluZ1RpbWUoc3RhZ2U6IHN0cmluZyk6IG51bWJlciB7XG4gICAgY29uc3QgdGltZUVzdGltYXRlcyA9IHtcbiAgICAgICdwcmVwcm9jZXNzaW5nJzogNDAwMCxcbiAgICAgICdjbHVzdGVyaW5nJzogMzAwMCxcbiAgICAgICdvcHRpbWl6aW5nJzogMjAwMCxcbiAgICAgICdnZW5lcmF0aW5nJzogMTAwMCxcbiAgICAgICdzY2hlZHVsaW5nJzogNTAwLFxuICAgICAgJ3NhdmluZyc6IDIwMFxuICAgIH1cbiAgICByZXR1cm4gKHRpbWVFc3RpbWF0ZXMgYXMgYW55KVtzdGFnZV0gfHwgMTAwMFxuICB9XG59XG5cbi8vIFZhbGlkYXRpb24gcnVsZXNcbmludGVyZmFjZSBWYWxpZGF0aW9uUnVsZSB7XG4gIGZpZWxkOiBzdHJpbmdcbiAgdmFsaWRhdG9yOiAodmFsdWU6IGFueSkgPT4gYm9vbGVhblxuICBlcnJvck1lc3NhZ2U6IHN0cmluZ1xuICByZXF1aXJlZDogYm9vbGVhblxufVxuXG5jb25zdCBvcHRpbWl6YXRpb25WYWxpZGF0aW9uUnVsZXM6IFZhbGlkYXRpb25SdWxlW10gPSBbXG4gIHtcbiAgICBmaWVsZDogJ2dyb3VwSWQnLFxuICAgIHZhbGlkYXRvcjogKGlkKSA9PiB0eXBlb2YgaWQgPT09ICdzdHJpbmcnICYmIGlkLmxlbmd0aCA+IDAsXG4gICAgZXJyb3JNZXNzYWdlOiAnVmFsaWQgZ3JvdXAgSUQgaXMgcmVxdWlyZWQnLFxuICAgIHJlcXVpcmVkOiB0cnVlXG4gIH1cbiAgLy8gTm90ZTogZGVwYXJ0dXJlTG9jYXRpb24gdmFsaWRhdGlvbiBtb3ZlZCB0byBkYXRhIHByZXByb2Nlc3Npbmcgc3RhZ2VcbiAgLy8gd2hlcmUgdGhlIGFjdHVhbCB0cmlwIGdyb3VwIGRhdGEgaXMgYXZhaWxhYmxlXG5dXG5cbmZ1bmN0aW9uIHZhbGlkYXRlT3B0aW1pemF0aW9uSW5wdXQoaW5wdXQ6IGFueSk6IFZhbGlkYXRpb25SZXN1bHQge1xuICBjb25zdCBlcnJvcnM6IHN0cmluZ1tdID0gW11cbiAgY29uc3Qgd2FybmluZ3M6IHN0cmluZ1tdID0gW11cbiAgXG4gIG9wdGltaXphdGlvblZhbGlkYXRpb25SdWxlcy5mb3JFYWNoKHJ1bGUgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gaW5wdXRbcnVsZS5maWVsZF1cbiAgICBcbiAgICBpZiAocnVsZS5yZXF1aXJlZCAmJiAhdmFsdWUpIHtcbiAgICAgIGVycm9ycy5wdXNoKGAke3J1bGUuZmllbGR9IGlzIHJlcXVpcmVkYClcbiAgICB9IGVsc2UgaWYgKHZhbHVlICYmICFydWxlLnZhbGlkYXRvcih2YWx1ZSkpIHtcbiAgICAgIGVycm9ycy5wdXNoKHJ1bGUuZXJyb3JNZXNzYWdlKVxuICAgIH1cbiAgfSlcbiAgXG4gIHJldHVybiB7IGlzVmFsaWQ6IGVycm9ycy5sZW5ndGggPT09IDAsIGVycm9ycywgd2FybmluZ3MgfVxufVxuXG5hc3luYyBmdW5jdGlvbiB2YWxpZGF0ZU9wdGltaXphdGlvbkRhdGEoXG4gIHByZXByb2Nlc3NlZERhdGE6IFByZXByb2Nlc3NlZERhdGFcbik6IFByb21pc2U8VmFsaWRhdGlvblJlc3VsdD4ge1xuICBjb25zdCBlcnJvcnM6IHN0cmluZ1tdID0gW11cbiAgY29uc3Qgd2FybmluZ3M6IHN0cmluZ1tdID0gW11cbiAgXG4gIC8vIFZhbGlkYXRlIGNvb3JkaW5hdGVzIGFyZSByZWFsaXN0aWNcbiAgaWYgKChwcmVwcm9jZXNzZWREYXRhIGFzIGFueSkuZGVzdGluYXRpb25Mb2NhdGlvbnMpIHtcbiAgICAocHJlcHJvY2Vzc2VkRGF0YSBhcyBhbnkpLmRlc3RpbmF0aW9uTG9jYXRpb25zLmZvckVhY2goKGxvY2F0aW9uOiBhbnksIGluZGV4OiBudW1iZXIpID0+IHtcbiAgICAgIGlmIChNYXRoLmFicyhsb2NhdGlvbi5sYXRpdHVkZSkgPiA5MCkge1xuICAgICAgICBlcnJvcnMucHVzaChgRGVzdGluYXRpb24gJHtpbmRleCArIDF9OiBJbnZhbGlkIGxhdGl0dWRlICR7bG9jYXRpb24ubGF0aXR1ZGV9YClcbiAgICAgIH1cbiAgICAgIGlmIChNYXRoLmFicyhsb2NhdGlvbi5sb25naXR1ZGUpID4gMTgwKSB7XG4gICAgICAgIGVycm9ycy5wdXNoKGBEZXN0aW5hdGlvbiAke2luZGV4ICsgMX06IEludmFsaWQgbG9uZ2l0dWRlICR7bG9jYXRpb24ubG9uZ2l0dWRlfWApXG4gICAgICB9XG4gICAgfSlcbiAgfVxuICBcbiAgLy8gVmFsaWRhdGUgcHJlZmVyZW5jZSBkYXRhIGNvbXBsZXRlbmVzc1xuICBpZiAoKHByZXByb2Nlc3NlZERhdGEgYXMgYW55KS5pbnB1dD8udXNlclByZWZlcmVuY2VzKSB7XG4gICAgY29uc3QgcHJlZmVyZW5jZUNvdmVyYWdlID0gY2FsY3VsYXRlUHJlZmVyZW5jZUNvdmVyYWdlKChwcmVwcm9jZXNzZWREYXRhIGFzIGFueSkuaW5wdXQpXG4gICAgaWYgKHByZWZlcmVuY2VDb3ZlcmFnZSA8IDAuNSkge1xuICAgICAgd2FybmluZ3MucHVzaCgnTGVzcyB0aGFuIDUwJSBvZiBkZXN0aW5hdGlvbnMgaGF2ZSB1c2VyIHByZWZlcmVuY2VzLiBUaGlzIG1heSBhZmZlY3Qgb3B0aW1pemF0aW9uIHF1YWxpdHkuJylcbiAgICB9XG4gIH1cbiAgXG4gIC8vIFZhbGlkYXRlIHRpbWUgY29uc3RyYWludHMgYXJlIHJlYXNvbmFibGVcbiAgaWYgKChwcmVwcm9jZXNzZWREYXRhIGFzIGFueSkuaW5wdXQ/LnRyaXBHcm91cD8uc3RhcnRfZGF0ZSkge1xuICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IG5ldyBEYXRlKChwcmVwcm9jZXNzZWREYXRhIGFzIGFueSkuaW5wdXQudHJpcEdyb3VwLnN0YXJ0X2RhdGUpXG4gICAgaWYgKHN0YXJ0RGF0ZSA8IG5ldyBEYXRlKCkpIHtcbiAgICAgIGVycm9ycy5wdXNoKCdUcmlwIHN0YXJ0IGRhdGUgY2Fubm90IGJlIGluIHRoZSBwYXN0JylcbiAgICB9XG4gIH1cbiAgXG4gIC8vIFZhbGlkYXRlIGdyb3VwIHNpemUgbGltaXRhdGlvbnNcbiAgaWYgKChwcmVwcm9jZXNzZWREYXRhIGFzIGFueSkuaW5wdXQ/Lmdyb3VwTWVtYmVycz8ubGVuZ3RoID4gMjApIHtcbiAgICB3YXJuaW5ncy5wdXNoKCdMYXJnZSBncm91cHMgKDIwKyBtZW1iZXJzKSBtYXkgZXhwZXJpZW5jZSBsb25nZXIgb3B0aW1pemF0aW9uIHRpbWVzJylcbiAgfVxuICBcbiAgcmV0dXJuIHsgaXNWYWxpZDogZXJyb3JzLmxlbmd0aCA9PT0gMCwgZXJyb3JzLCB3YXJuaW5ncyB9XG59XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZVByZWZlcmVuY2VDb3ZlcmFnZShpbnB1dDogYW55KTogbnVtYmVyIHtcbiAgaWYgKCFpbnB1dC51c2VyUHJlZmVyZW5jZXMgfHwgIWlucHV0LmRlc3RpbmF0aW9ucykgcmV0dXJuIDBcbiAgXG4gIGNvbnN0IGRlc3RpbmF0aW9uc1dpdGhQcmVmZXJlbmNlcyA9IG5ldyBTZXQoXG4gICAgaW5wdXQudXNlclByZWZlcmVuY2VzLm1hcCgocHJlZjogYW55KSA9PiBwcmVmLmRlc3RpbmF0aW9uX2lkKVxuICApXG4gIFxuICByZXR1cm4gZGVzdGluYXRpb25zV2l0aFByZWZlcmVuY2VzLnNpemUgLyBpbnB1dC5kZXN0aW5hdGlvbnMubGVuZ3RoXG59XG5cbi8vIEVycm9yIGhhbmRsaW5nIGFuZCBjbGFzc2lmaWNhdGlvblxuZnVuY3Rpb24gY2xhc3NpZnlFcnJvcihlcnJvcjogdW5rbm93bik6IE9wdGltaXphdGlvbkVycm9yIHtcbiAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAvLyBDaGVjayBmb3Igc3BlY2lmaWMgZXJyb3IgdHlwZXNcbiAgICBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnaW5zdWZmaWNpZW50IGRhdGEnKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogT3B0aW1pemF0aW9uRXJyb3JUeXBlLklOU1VGRklDSUVOVF9EQVRBLFxuICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICB1c2VyTWVzc2FnZTogJ05vdCBlbm91Z2ggZGVzdGluYXRpb24gcHJlZmVyZW5jZXMgdG8gY3JlYXRlIGFuIG9wdGltYWwgcm91dGUnLFxuICAgICAgICBzdWdnZXN0ZWRBY3Rpb25zOiBbXG4gICAgICAgICAgJ0FzayBncm91cCBtZW1iZXJzIHRvIHJhdGUgbW9yZSBkZXN0aW5hdGlvbnMnLFxuICAgICAgICAgICdBZGQgbW9yZSBkZXN0aW5hdGlvbnMgdG8gY2hvb3NlIGZyb20nLFxuICAgICAgICAgICdQcm92aWRlIHRpbWUgcHJlZmVyZW5jZXMgZm9yIGV4aXN0aW5nIGRlc3RpbmF0aW9ucydcbiAgICAgICAgXSxcbiAgICAgICAgcmV0cnlhYmxlOiB0cnVlXG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGlmIChlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCd0aW1lb3V0JykgfHwgZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnZXhjZWVkZWQnKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogT3B0aW1pemF0aW9uRXJyb3JUeXBlLk9QVElNSVpBVElPTl9USU1FT1VULFxuICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICB1c2VyTWVzc2FnZTogJ09wdGltaXphdGlvbiBpcyB0YWtpbmcgbG9uZ2VyIHRoYW4gZXhwZWN0ZWQnLFxuICAgICAgICBzdWdnZXN0ZWRBY3Rpb25zOiBbXG4gICAgICAgICAgJ1VzZSB0aGUgY3VycmVudCByZXN1bHQgYW5kIHJlZmluZSBtYW51YWxseScsXG4gICAgICAgICAgJ1RyeSBhZ2FpbiB3aXRoIGZld2VyIGRlc3RpbmF0aW9ucycsXG4gICAgICAgICAgJ1NpbXBsaWZ5IHlvdXIgcHJlZmVyZW5jZXMnXG4gICAgICAgIF0sXG4gICAgICAgIHJldHJ5YWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnbm8gZmVhc2libGUgc29sdXRpb24nKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogT3B0aW1pemF0aW9uRXJyb3JUeXBlLk5PX0ZFQVNJQkxFX1NPTFVUSU9OLFxuICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICB1c2VyTWVzc2FnZTogJ0NvdWxkIG5vdCBmaXQgYWxsIGRlc2lyZWQgZGVzdGluYXRpb25zIGluIHRoZSBhdmFpbGFibGUgdGltZScsXG4gICAgICAgIHN1Z2dlc3RlZEFjdGlvbnM6IFtcbiAgICAgICAgICAnRXh0ZW5kIHlvdXIgdHJpcCBkdXJhdGlvbicsXG4gICAgICAgICAgJ1JlZHVjZSB0aW1lIHNwZW50IGF0IHNvbWUgZGVzdGluYXRpb25zJyxcbiAgICAgICAgICAnUmVtb3ZlIHNvbWUgbG93ZXItcHJpb3JpdHkgZGVzdGluYXRpb25zJyxcbiAgICAgICAgICAnQ29uc2lkZXIgc3BsaXR0aW5nIGludG8gbXVsdGlwbGUgdHJpcHMnXG4gICAgICAgIF0sXG4gICAgICAgIHJldHJ5YWJsZTogZmFsc2VcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgaWYgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ2RhdGFiYXNlJykgfHwgZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnY29ubmVjdGlvbicpKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBPcHRpbWl6YXRpb25FcnJvclR5cGUuREFUQUJBU0VfRVJST1IsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgIHVzZXJNZXNzYWdlOiAnRGF0YWJhc2UgY29ubmVjdGlvbiBpc3N1ZScsXG4gICAgICAgIHN1Z2dlc3RlZEFjdGlvbnM6IFtcbiAgICAgICAgICAnUGxlYXNlIHRyeSBhZ2FpbiBpbiBhIG1vbWVudCcsXG4gICAgICAgICAgJ0NoZWNrIHlvdXIgaW50ZXJuZXQgY29ubmVjdGlvbidcbiAgICAgICAgXSxcbiAgICAgICAgcmV0cnlhYmxlOiB0cnVlXG4gICAgICB9XG4gICAgfVxuICB9XG4gIFxuICAvLyBEZWZhdWx0IGVycm9yXG4gIHJldHVybiB7XG4gICAgdHlwZTogT3B0aW1pemF0aW9uRXJyb3JUeXBlLk9QVElNSVpBVElPTl9USU1FT1VULFxuICAgIG1lc3NhZ2U6IGVycm9yPy50b1N0cmluZygpIHx8ICdVbmtub3duIGVycm9yJyxcbiAgICB1c2VyTWVzc2FnZTogJ0FuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgZHVyaW5nIG9wdGltaXphdGlvbicsXG4gICAgc3VnZ2VzdGVkQWN0aW9uczogWydQbGVhc2UgdHJ5IGFnYWluJywgJ0NvbnRhY3Qgc3VwcG9ydCBpZiB0aGUgcHJvYmxlbSBwZXJzaXN0cyddLFxuICAgIHJldHJ5YWJsZTogdHJ1ZVxuICB9XG59XG5cbi8vIFRpbWVvdXQgd3JhcHBlclxuYXN5bmMgZnVuY3Rpb24gb3B0aW1pemVXaXRoVGltZW91dDxUPihcbiAgb3B0aW1pemF0aW9uRnVuY3Rpb246ICgpID0+IFByb21pc2U8VD4sXG4gIHRpbWVvdXRNczogbnVtYmVyID0gNTAwMFxuKTogUHJvbWlzZTxUPiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICByZWplY3QobmV3IEVycm9yKGBPcHRpbWl6YXRpb24gZXhjZWVkZWQgJHt0aW1lb3V0TXN9bXMgdGltZW91dGApKVxuICAgIH0sIHRpbWVvdXRNcylcbiAgICBcbiAgICBvcHRpbWl6YXRpb25GdW5jdGlvbigpXG4gICAgICAudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKVxuICAgICAgICByZXNvbHZlKHJlc3VsdClcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKVxuICAgICAgICByZWplY3QoZXJyb3IpXG4gICAgICB9KVxuICB9KVxufVxuXG4vLyBFZGdlIGNhc2UgaGFuZGxlcnNcbmZ1bmN0aW9uIGhhbmRsZURhdGFFZGdlQ2FzZXMocHJlcHJvY2Vzc2VkRGF0YTogUHJlcHJvY2Vzc2VkRGF0YSk6IFByZXByb2Nlc3NlZERhdGEge1xuICAvLyBIYW5kbGUgc2luZ2xlIGRlc3RpbmF0aW9uXG4gIGlmICgocHJlcHJvY2Vzc2VkRGF0YSBhcyBhbnkpLmRlc3RpbmF0aW9uTG9jYXRpb25zPy5sZW5ndGggPT09IDEpIHtcbiAgICBjb25zb2xlLmxvZygnSGFuZGxpbmcgc2luZ2xlIGRlc3RpbmF0aW9uIGNhc2UnKVxuICAgIHJldHVybiBwcmVwcm9jZXNzZWREYXRhXG4gIH1cbiAgXG4gIC8vIEhhbmRsZSBzaW5nbGUgdXNlclxuICBpZiAoKHByZXByb2Nlc3NlZERhdGEgYXMgYW55KS5pbnB1dD8uZ3JvdXBNZW1iZXJzPy5sZW5ndGggPT09IDEpIHtcbiAgICBjb25zb2xlLmxvZygnSGFuZGxpbmcgc2luZ2xlIHVzZXIgY2FzZScpXG4gICAgcmV0dXJuIHByZXByb2Nlc3NlZERhdGFcbiAgfVxuICBcbiAgLy8gSGFuZGxlIG1pc3NpbmcgcHJlZmVyZW5jZXNcbiAgaWYgKChwcmVwcm9jZXNzZWREYXRhIGFzIGFueSkuaW5wdXQ/LnVzZXJQcmVmZXJlbmNlcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgY29uc29sZS5sb2coJ0hhbmRsaW5nIG1pc3NpbmcgcHJlZmVyZW5jZXMgY2FzZScpXG4gICAgLy8gQWRkIGRlZmF1bHQgcHJlZmVyZW5jZXNcbiAgICBpZiAoKHByZXByb2Nlc3NlZERhdGEgYXMgYW55KS5pbnB1dC5kZXN0aW5hdGlvbnMpIHtcbiAgICAgIChwcmVwcm9jZXNzZWREYXRhIGFzIGFueSkuaW5wdXQudXNlclByZWZlcmVuY2VzID0gKHByZXByb2Nlc3NlZERhdGEgYXMgYW55KS5pbnB1dC5kZXN0aW5hdGlvbnMubWFwKChkZXN0OiBhbnkpID0+ICh7XG4gICAgICAgIGRlc3RpbmF0aW9uX2lkOiBkZXN0LmlkLFxuICAgICAgICBwcmVmZXJlbmNlX3Njb3JlOiAzLFxuICAgICAgICBwcmVmZXJyZWRfZHVyYXRpb246IDYwXG4gICAgICB9KSlcbiAgICB9XG4gIH1cbiAgXG4gIHJldHVybiBwcmVwcm9jZXNzZWREYXRhXG59XG5cbi8vIE1haW4gb3B0aW1pemF0aW9uIHNlcnZlciBhY3Rpb25cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBvcHRpbWl6ZVRyaXBSb3V0ZShcbiAgZ3JvdXBJZDogc3RyaW5nLFxuICBjdXJyZW50VXNlcjogeyBpZDogc3RyaW5nIHwgbnVsbCwgc2Vzc2lvbklkOiBzdHJpbmcgfCBudWxsLCBpc0d1ZXN0OiBib29sZWFuIH0sXG4gIG9wdGlvbnM/OiBhbnlcbik6IFByb21pc2U8T3B0aW1pemF0aW9uUmVzcG9uc2U+IHtcbiAgY29uc3QgdHJhY2tlciA9IG5ldyBQZXJmb3JtYW5jZVRyYWNrZXIoKVxuICBjb25zdCBwcm9ncmVzc1JlcG9ydGVyID0gbmV3IFByb2dyZXNzUmVwb3J0ZXIoZ3JvdXBJZClcbiAgXG4gIHRyeSB7XG4gICAgLy8gU3RlcCAxOiBJbnB1dCB2YWxpZGF0aW9uXG4gICAgY29uc3QgaW5wdXRWYWxpZGF0aW9uID0gdmFsaWRhdGVPcHRpbWl6YXRpb25JbnB1dCh7IGdyb3VwSWQsIGN1cnJlbnRVc2VyIH0pXG4gICAgaWYgKCFpbnB1dFZhbGlkYXRpb24uaXNWYWxpZCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIHR5cGU6IE9wdGltaXphdGlvbkVycm9yVHlwZS5JTlZBTElEX0NPT1JESU5BVEVTLFxuICAgICAgICAgIG1lc3NhZ2U6IGlucHV0VmFsaWRhdGlvbi5lcnJvcnMuam9pbignLCAnKSxcbiAgICAgICAgICB1c2VyTWVzc2FnZTogJ0ludmFsaWQgaW5wdXQgZGF0YScsXG4gICAgICAgICAgc3VnZ2VzdGVkQWN0aW9uczogWydQbGVhc2UgY2hlY2sgeW91ciBpbnB1dCBhbmQgdHJ5IGFnYWluJ10sXG4gICAgICAgICAgcmV0cnlhYmxlOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gU3RlcCAyOiBEYXRhIHByZXByb2Nlc3NpbmcgYW5kIHZhbGlkYXRpb25cbiAgICB0cmFja2VyLnN0YXJ0U3RhZ2UoJ2RhdGFQcmVwcm9jZXNzaW5nJylcbiAgICBhd2FpdCBwcm9ncmVzc1JlcG9ydGVyLnVwZGF0ZVByb2dyZXNzKHtcbiAgICAgIHN0YWdlOiAncHJlcHJvY2Vzc2luZycsXG4gICAgICBwcm9ncmVzczogMTAsXG4gICAgICBtZXNzYWdlOiAnTG9hZGluZyB0cmlwIGRhdGEgYW5kIHVzZXIgcHJlZmVyZW5jZXMuLi4nXG4gICAgfSlcbiAgICBcbiAgICAvLyBGZXRjaCByYXcgb3B0aW1pemF0aW9uIGRhdGEgZmlyc3RcbiAgICBjb25zdCB7IGRhdGE6IHJhd09wdGltaXphdGlvbkRhdGEsIGVycm9yOiBmZXRjaEVycm9yIH0gPSBhd2FpdCBmZXRjaE9wdGltaXphdGlvbkRhdGEoXG4gICAgICBncm91cElkLCBcbiAgICAgIGN1cnJlbnRVc2VyXG4gICAgKVxuICAgIFxuICAgIGlmIChmZXRjaEVycm9yIHx8ICFyYXdPcHRpbWl6YXRpb25EYXRhKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfwn5SNIEZhaWxlZCB0byBmZXRjaCBvcHRpbWl6YXRpb24gZGF0YTonLCBmZXRjaEVycm9yPy5tZXNzYWdlKVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIHR5cGU6IE9wdGltaXphdGlvbkVycm9yVHlwZS5EQVRBQkFTRV9FUlJPUixcbiAgICAgICAgICBtZXNzYWdlOiBmZXRjaEVycm9yPy5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gZmV0Y2ggb3B0aW1pemF0aW9uIGRhdGEnLFxuICAgICAgICAgIHVzZXJNZXNzYWdlOiAnQ291bGQgbm90IGxvYWQgdHJpcCBkYXRhIGZvciBvcHRpbWl6YXRpb24nLFxuICAgICAgICAgIHN1Z2dlc3RlZEFjdGlvbnM6IFsnQ2hlY2sgeW91ciB0cmlwIGRhdGEgYW5kIHRyeSBhZ2FpbiddLFxuICAgICAgICAgIHJldHJ5YWJsZTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIE5vdyBwcmVwcm9jZXNzIHRoZSByYXcgZGF0YVxuICAgIGNvbnN0IHsgZGF0YTogcHJlcHJvY2Vzc2VkRGF0YSwgdmFsaWRhdGlvbiB9ID0gYXdhaXQgcHJlcHJvY2Vzc09wdGltaXphdGlvbkRhdGEocmF3T3B0aW1pemF0aW9uRGF0YSlcbiAgICBcbiAgICBpZiAoIXZhbGlkYXRpb24uaXNWYWxpZCkge1xuICAgICAgY29uc29sZS5lcnJvcign8J+UjSBQcmVwcm9jZXNzaW5nIHZhbGlkYXRpb24gZmFpbGVkOicsIHZhbGlkYXRpb24uZXJyb3JzKVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIHR5cGU6IE9wdGltaXphdGlvbkVycm9yVHlwZS5JTlZBTElEX0NPT1JESU5BVEVTLFxuICAgICAgICAgIG1lc3NhZ2U6IHZhbGlkYXRpb24uZXJyb3JzLm1hcChlID0+IGUubWVzc2FnZSkuam9pbignLCAnKSxcbiAgICAgICAgICB1c2VyTWVzc2FnZTogJ1RyaXAgZGF0YSB2YWxpZGF0aW9uIGZhaWxlZCcsXG4gICAgICAgICAgc3VnZ2VzdGVkQWN0aW9uczogdmFsaWRhdGlvbi5lcnJvcnMubWFwKGUgPT4gZS5tZXNzYWdlKSxcbiAgICAgICAgICByZXRyeWFibGU6IHRydWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBjb25zdCB2YWxpZGF0aW9uUmVzdWx0ID0gYXdhaXQgdmFsaWRhdGVPcHRpbWl6YXRpb25EYXRhKHByZXByb2Nlc3NlZERhdGEhKVxuICAgIFxuICAgIGlmICghdmFsaWRhdGlvblJlc3VsdC5pc1ZhbGlkKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgdHlwZTogT3B0aW1pemF0aW9uRXJyb3JUeXBlLklOU1VGRklDSUVOVF9EQVRBLFxuICAgICAgICAgIG1lc3NhZ2U6IHZhbGlkYXRpb25SZXN1bHQuZXJyb3JzLmpvaW4oJywgJyksXG4gICAgICAgICAgdXNlck1lc3NhZ2U6ICdEYXRhIHZhbGlkYXRpb24gZmFpbGVkJyxcbiAgICAgICAgICBzdWdnZXN0ZWRBY3Rpb25zOiB2YWxpZGF0aW9uUmVzdWx0LmVycm9ycyxcbiAgICAgICAgICByZXRyeWFibGU6IHRydWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBIYW5kbGUgZWRnZSBjYXNlc1xuICAgIGNvbnN0IHByb2Nlc3NlZERhdGEgPSBoYW5kbGVEYXRhRWRnZUNhc2VzKHByZXByb2Nlc3NlZERhdGEhKVxuICAgIFxuICAgIC8vIPCfjq8gTkVXOiDljZjkuIDloLTmiYDjga7jgqjjg4PjgrjjgrHjg7zjgrnlh6bnkIZcbiAgICBpZiAocHJlcHJvY2Vzc2VkRGF0YSEuZGVzdGluYXRpb25zPy5zaXplID09PSAxKSB7XG4gICAgICByZXR1cm4gYXdhaXQgaGFuZGxlU2luZ2xlRGVzdGluYXRpb25DYXNlKGdyb3VwSWQsIHByZXByb2Nlc3NlZERhdGEhLCB0cmFja2VyKTtcbiAgICB9XG4gICAgXG4gICAgdHJhY2tlci5lbmRTdGFnZSgnZGF0YVByZXByb2Nlc3NpbmcnKVxuICAgIFxuICAgIC8vIFN0ZXAgMzogUnVuIG9wdGltaXphdGlvbiB3aXRoIHRpbWVvdXRcbiAgICB0cmFja2VyLnN0YXJ0U3RhZ2UoJ29wdGltaXphdGlvbicpXG4gICAgYXdhaXQgcHJvZ3Jlc3NSZXBvcnRlci51cGRhdGVQcm9ncmVzcyh7XG4gICAgICBzdGFnZTogJ29wdGltaXppbmcnLFxuICAgICAgcHJvZ3Jlc3M6IDUwLFxuICAgICAgbWVzc2FnZTogJ0ZpbmRpbmcgb3B0aW1hbCByb3V0ZS4uLidcbiAgICB9KVxuICAgIFxuICAgIGNvbnN0IG9wdGltaXphdGlvblJlc3VsdCA9IGF3YWl0IG9wdGltaXplV2l0aFRpbWVvdXQoXG4gICAgICAoKSA9PiBwZXJmb3JtQ29tcGxldGVPcHRpbWl6YXRpb25WMihwcmVwcm9jZXNzZWREYXRhISwgeyBlbmFibGVNdWx0aURheVNjaGVkdWxpbmc6IHRydWUgfSksXG4gICAgICAxMDAwMCAvLyAxMCBzZWNvbmQgdGltZW91dFxuICAgIClcbiAgICBcbiAgICB0cmFja2VyLmVuZFN0YWdlKCdvcHRpbWl6YXRpb24nKVxuICAgIHRyYWNrZXIucmVjb3JkUXVhbGl0eU1ldHJpY3Mob3B0aW1pemF0aW9uUmVzdWx0KVxuICAgIFxuICAgIC8vIFN0ZXAgNDogRGF0YWJhc2Ugc3RvcmFnZVxuICAgIHRyYWNrZXIuc3RhcnRTdGFnZSgnZGF0YWJhc2VTdG9yYWdlJylcbiAgICBhd2FpdCBwcm9ncmVzc1JlcG9ydGVyLnVwZGF0ZVByb2dyZXNzKHtcbiAgICAgIHN0YWdlOiAnc2F2aW5nJyxcbiAgICAgIHByb2dyZXNzOiA5MCxcbiAgICAgIG1lc3NhZ2U6ICdTYXZpbmcgb3B0aW1pemF0aW9uIHJlc3VsdHMuLi4nXG4gICAgfSlcbiAgICBcbiAgICBjb25zdCByb3V0ZU1hbmFnZXIgPSBJbnRlZ3JhdGVkUm91dGVNYW5hZ2VyLmNyZWF0ZShcbiAgICAgIGdyb3VwSWQsXG4gICAgICBjdXJyZW50VXNlci5pZCxcbiAgICAgIGN1cnJlbnRVc2VyLnNlc3Npb25JZFxuICAgIClcbiAgICBcbiAgICBjb25zdCBzdG9yYWdlUmVzdWx0ID0gYXdhaXQgcm91dGVNYW5hZ2VyLnNhdmVPcHRpbWl6YXRpb25SZXN1bHQoXG4gICAgICBvcHRpbWl6YXRpb25SZXN1bHQgYXMgdW5rbm93biBhcyBTdG9yZWRSb3V0ZURhdGEsXG4gICAgICB7XG4gICAgICAgIGZhaXJuZXNzU2NvcmU6IG9wdGltaXphdGlvblJlc3VsdC5zdW1tYXJ5Py5mYWlybmVzc1Njb3JlIHx8IDAsXG4gICAgICAgIHRvdGFsRGlzdGFuY2U6IG9wdGltaXphdGlvblJlc3VsdC5zdW1tYXJ5Py50b3RhbERpc3RhbmNlS20gfHwgMCxcbiAgICAgICAgdG90YWxEdXJhdGlvbjogb3B0aW1pemF0aW9uUmVzdWx0LnN1bW1hcnk/LnRvdGFsQWN0aXZlSG91cnMgfHwgMCxcbiAgICAgICAgcHJvY2Vzc2luZ1RpbWU6IHRyYWNrZXIuZ2V0TWV0cmljcygpLnRvdGFsUHJvY2Vzc2luZ1RpbWVcbiAgICAgIH0gYXMgT3B0aW1pemF0aW9uTWV0cmljc1xuICAgIClcbiAgICBcbiAgICBpZiAoIXN0b3JhZ2VSZXN1bHQuc3VjY2Vzcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBTdG9yYWdlIGZhaWxlZDogJHtzdG9yYWdlUmVzdWx0LmVycm9yPy5tZXNzYWdlfWApXG4gICAgfVxuXG4gICAgLy8g8J+OryBORVc6IFNhdmUgaW5kaXZpZHVhbCByZWNvcmRzIHRvIHBsYWNlcyB0YWJsZSBmb3IgZWFzeSBhY2Nlc3NcbiAgICBhd2FpdCBzYXZlT3B0aW1pemF0aW9uVG9QbGFjZXNUYWJsZShncm91cElkLCBvcHRpbWl6YXRpb25SZXN1bHQgYXMgdW5rbm93biBhcyBTdG9yZWRSb3V0ZURhdGEpO1xuICAgIFxuICAgIHRyYWNrZXIuZW5kU3RhZ2UoJ2RhdGFiYXNlU3RvcmFnZScpXG4gICAgXG4gICAgLy8gU3RlcCA1OiBDYWNoZSBpbnZhbGlkYXRpb24gYW5kIHJldmFsaWRhdGlvblxuICAgIHJldmFsaWRhdGVQYXRoKGAvbXktdHJpcGApXG4gICAgcmV2YWxpZGF0ZVBhdGgoYC90cmlwcy8ke2dyb3VwSWR9YClcbiAgICBcbiAgICBhd2FpdCBwcm9ncmVzc1JlcG9ydGVyLnVwZGF0ZVByb2dyZXNzKHtcbiAgICAgIHN0YWdlOiAnc2F2aW5nJyxcbiAgICAgIHByb2dyZXNzOiAxMDAsXG4gICAgICBtZXNzYWdlOiAnT3B0aW1pemF0aW9uIGNvbXBsZXRlISdcbiAgICB9KVxuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBzdGF0dXM6ICdzdWNjZXNzJyxcbiAgICAgIGRhdGE6IHN0b3JhZ2VSZXN1bHQucm91dGU/LnJvdXRlX2RhdGEsXG4gICAgICBwcm9jZXNzaW5nVGltZTogdHJhY2tlci5nZXRNZXRyaWNzKCkudG90YWxQcm9jZXNzaW5nVGltZSxcbiAgICAgIHBlcmZvcm1hbmNlTWV0cmljczogdHJhY2tlci5nZXRNZXRyaWNzKCksXG4gICAgICB3YXJuaW5nczogdmFsaWRhdGlvblJlc3VsdC53YXJuaW5nc1xuICAgIH1cbiAgICBcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gaGFuZGxlT3B0aW1pemF0aW9uRXJyb3IoZXJyb3IsIGdyb3VwSWQsIGN1cnJlbnRVc2VyLCB0cmFja2VyLmdldE1ldHJpY3MoKSlcbiAgfVxufVxuXG4vLyBFcnJvciBoYW5kbGVyIHdpdGggZmFsbGJhY2sgc3RyYXRlZ2llc1xuYXN5bmMgZnVuY3Rpb24gaGFuZGxlT3B0aW1pemF0aW9uRXJyb3IoXG4gIGVycm9yOiB1bmtub3duLFxuICBncm91cElkOiBzdHJpbmcsXG4gIGN1cnJlbnRVc2VyOiBhbnksXG4gIG1ldHJpY3M6IFBlcmZvcm1hbmNlTWV0cmljc1xuKTogUHJvbWlzZTxPcHRpbWl6YXRpb25SZXNwb25zZT4ge1xuICBjb25zdCBvcHRpbWl6YXRpb25FcnJvciA9IGNsYXNzaWZ5RXJyb3IoZXJyb3IpXG4gIFxuICBjb25zb2xlLmVycm9yKCdPcHRpbWl6YXRpb24gZXJyb3I6Jywgb3B0aW1pemF0aW9uRXJyb3IpXG4gIFxuICAvLyBUcnkgZmFsbGJhY2sgc3RyYXRlZ2llcyBmb3IgcmVjb3ZlcmFibGUgZXJyb3JzXG4gIGlmIChvcHRpbWl6YXRpb25FcnJvci5yZXRyeWFibGUpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZmFsbGJhY2tSZXN1bHQgPSBhd2FpdCBhdHRlbXB0RmFsbGJhY2tPcHRpbWl6YXRpb24oZ3JvdXBJZCwgY3VycmVudFVzZXIpXG4gICAgICBpZiAoZmFsbGJhY2tSZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdGF0dXM6ICdwYXJ0aWFsJyxcbiAgICAgICAgICBkYXRhOiBmYWxsYmFja1Jlc3VsdCxcbiAgICAgICAgICBlcnJvcjogb3B0aW1pemF0aW9uRXJyb3IsXG4gICAgICAgICAgcGVyZm9ybWFuY2VNZXRyaWNzOiBtZXRyaWNzLFxuICAgICAgICAgIHdhcm5pbmdzOiBbJ1VzZWQgc2ltcGxpZmllZCBvcHRpbWl6YXRpb24gZHVlIHRvIGVycm9yJ11cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGZhbGxiYWNrRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhbGxiYWNrIG9wdGltaXphdGlvbiBhbHNvIGZhaWxlZDonLCBmYWxsYmFja0Vycm9yKVxuICAgIH1cbiAgfVxuICBcbiAgcmV0dXJuIHtcbiAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgZXJyb3I6IG9wdGltaXphdGlvbkVycm9yLFxuICAgIHBlcmZvcm1hbmNlTWV0cmljczogbWV0cmljc1xuICB9XG59XG5cbi8vIFNpbXBsaWZpZWQgZmFsbGJhY2sgb3B0aW1pemF0aW9uXG5hc3luYyBmdW5jdGlvbiBhdHRlbXB0RmFsbGJhY2tPcHRpbWl6YXRpb24oXG4gIGdyb3VwSWQ6IHN0cmluZyxcbiAgY3VycmVudFVzZXI6IGFueVxuKTogUHJvbWlzZTxTdG9yZWRSb3V0ZURhdGEgfCBudWxsPiB7XG4gIHRyeSB7XG4gICAgLy8gU2ltcGxlIGZhbGxiYWNrOiBqdXN0IG9yZGVyIGRlc3RpbmF0aW9ucyBieSBhdmVyYWdlIHByZWZlcmVuY2Ugc2NvcmVcbiAgICBjb25zdCB7IGRhdGE6IHJhd09wdGltaXphdGlvbkRhdGEsIGVycm9yOiBmZXRjaEVycm9yIH0gPSBhd2FpdCBmZXRjaE9wdGltaXphdGlvbkRhdGEoXG4gICAgICBncm91cElkLCBcbiAgICAgIGN1cnJlbnRVc2VyXG4gICAgKVxuICAgIFxuICAgIGlmIChmZXRjaEVycm9yIHx8ICFyYXdPcHRpbWl6YXRpb25EYXRhPy5kZXN0aW5hdGlvbnMgfHwgIXJhd09wdGltaXphdGlvbkRhdGE/LnVzZXJQcmVmZXJlbmNlcykge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gICAgXG4gICAgLy8gQ2FsY3VsYXRlIGF2ZXJhZ2Ugc2NvcmVzIGFuZCBzb3J0XG4gICAgY29uc3QgZGVzdGluYXRpb25TY29yZXMgPSBuZXcgTWFwKClcbiAgICBcbiAgICByYXdPcHRpbWl6YXRpb25EYXRhLmRlc3RpbmF0aW9ucy5mb3JFYWNoKChkZXN0OiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IHByZWZlcmVuY2VzID0gcmF3T3B0aW1pemF0aW9uRGF0YS51c2VyUHJlZmVyZW5jZXMuZmlsdGVyKFxuICAgICAgICAocHJlZjogYW55KSA9PiBwcmVmLmRlc3RpbmF0aW9uX2lkID09PSBkZXN0LmlkXG4gICAgICApXG4gICAgICBcbiAgICAgIGNvbnN0IGF2Z1Njb3JlID0gcHJlZmVyZW5jZXMubGVuZ3RoID4gMFxuICAgICAgICA/IHByZWZlcmVuY2VzLnJlZHVjZSgoc3VtOiBudW1iZXIsIHByZWY6IGFueSkgPT4gc3VtICsgcHJlZi5wcmVmZXJlbmNlX3Njb3JlLCAwKSAvIHByZWZlcmVuY2VzLmxlbmd0aFxuICAgICAgICA6IDMgLy8gRGVmYXVsdCBzY29yZVxuICAgICAgXG4gICAgICBkZXN0aW5hdGlvblNjb3Jlcy5zZXQoZGVzdC5pZCwgYXZnU2NvcmUpXG4gICAgfSlcbiAgICBcbiAgICAvLyBTb3J0IGRlc3RpbmF0aW9ucyBieSBzY29yZVxuICAgIGNvbnN0IHNvcnRlZERlc3RpbmF0aW9ucyA9IHJhd09wdGltaXphdGlvbkRhdGEuZGVzdGluYXRpb25zLnNvcnQoXG4gICAgICAoYTogYW55LCBiOiBhbnkpID0+IGRlc3RpbmF0aW9uU2NvcmVzLmdldChiLmlkKSAtIGRlc3RpbmF0aW9uU2NvcmVzLmdldChhLmlkKVxuICAgIClcbiAgICBcbiAgICAvLyBDcmVhdGUgc2ltcGxlIHJvdXRlIGRhdGFcbiAgICBjb25zdCBmYWxsYmFja1JvdXRlRGF0YTogU3RvcmVkUm91dGVEYXRhID0ge1xuICAgICAgc3RhdHVzOiAnc3VjY2VzcycsXG4gICAgICBvcHRpbWl6YXRpb25NZXRyaWNzOiB7XG4gICAgICAgIGZhaXJuZXNzU2NvcmU6IDAuNyxcbiAgICAgICAgdG90YWxEaXN0YW5jZTogMCxcbiAgICAgICAgdG90YWxEdXJhdGlvbjogc29ydGVkRGVzdGluYXRpb25zLmxlbmd0aCAqIDEyMCwgLy8gMiBob3VycyBwZXIgZGVzdGluYXRpb25cbiAgICAgICAgY2x1c3RlckNvdW50OiAxLFxuICAgICAgICBkZXN0aW5hdGlvbkNvdW50OiBzb3J0ZWREZXN0aW5hdGlvbnMubGVuZ3RoLFxuICAgICAgICBhdmVyYWdlU2F0aXNmYWN0aW9uOiAwLjcsXG4gICAgICAgIGVmZmljaWVuY3lTY29yZTogMC43XG4gICAgICB9LFxuICAgICAgbXVsdGlEYXlTY2hlZHVsZToge1xuICAgICAgICBkYXlzOiBbe1xuICAgICAgICAgIGRhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdLFxuICAgICAgICAgIGRheUluZGV4OiAwLFxuICAgICAgICAgIGRlc3RpbmF0aW9uczogc29ydGVkRGVzdGluYXRpb25zLm1hcCgoZGVzdDogYW55LCBpbmRleDogbnVtYmVyKSA9PiAoe1xuICAgICAgICAgICAgZGVzdGluYXRpb25JZDogZGVzdC5pZCxcbiAgICAgICAgICAgIG5hbWU6IGRlc3QubmFtZSxcbiAgICAgICAgICAgIGFkZHJlc3M6IGRlc3QuYWRkcmVzcyB8fCAnJyxcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzOiB7IGxhdDogZGVzdC5sYXRpdHVkZSwgbG5nOiBkZXN0LmxvbmdpdHVkZSB9LFxuICAgICAgICAgICAgc3RhcnRUaW1lOiBgJHs5ICsgaW5kZXggKiAyfTowMGAsXG4gICAgICAgICAgICBlbmRUaW1lOiBgJHsxMSArIGluZGV4ICogMn06MDBgLFxuICAgICAgICAgICAgYWxsb2NhdGVkRHVyYXRpb246IDEyMCxcbiAgICAgICAgICAgIHZpc2l0T3JkZXI6IGluZGV4ICsgMSxcbiAgICAgICAgICAgIGRheVZpc2l0T3JkZXI6IGluZGV4ICsgMSxcbiAgICAgICAgICAgIHdpc2hmdWxVc2VyczogW11cbiAgICAgICAgICB9KSksXG4gICAgICAgICAgZGFpbHlTdGF0czoge1xuICAgICAgICAgICAgdG90YWxEaXN0YW5jZTogMCxcbiAgICAgICAgICAgIHRvdGFsVGltZTogc29ydGVkRGVzdGluYXRpb25zLmxlbmd0aCAqIDEyMCxcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uQ291bnQ6IHNvcnRlZERlc3RpbmF0aW9ucy5sZW5ndGgsXG4gICAgICAgICAgICBhdmVyYWdlU2F0aXNmYWN0aW9uOiAwLjcsXG4gICAgICAgICAgICBpbnRlbnNpdHk6ICdtb2RlcmF0ZSdcbiAgICAgICAgICB9XG4gICAgICAgIH1dLFxuICAgICAgICB0b3RhbFN0YXRzOiB7XG4gICAgICAgICAgdHJpcER1cmF0aW9uRGF5czogMSxcbiAgICAgICAgICB0b3RhbERlc3RpbmF0aW9uczogc29ydGVkRGVzdGluYXRpb25zLmxlbmd0aCxcbiAgICAgICAgICB0b3RhbERpc3RhbmNlOiAwLFxuICAgICAgICAgIHRvdGFsVGltZTogc29ydGVkRGVzdGluYXRpb25zLmxlbmd0aCAqIDEyMCxcbiAgICAgICAgICBhdmVyYWdlRGFpbHlEaXN0YW5jZTogMCxcbiAgICAgICAgICBhdmVyYWdlRGFpbHlUaW1lOiBzb3J0ZWREZXN0aW5hdGlvbnMubGVuZ3RoICogMTIwLFxuICAgICAgICAgIHJlc3REYXlSZWNvbW1lbmRhdGlvbnM6IFtdXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB2aXN1YWxpemF0aW9uRGF0YToge1xuICAgICAgICBtYXBCb3VuZHM6IHtcbiAgICAgICAgICBub3J0aDogMCxcbiAgICAgICAgICBzb3V0aDogMCxcbiAgICAgICAgICBlYXN0OiAwLFxuICAgICAgICAgIHdlc3Q6IDAsXG4gICAgICAgICAgY2VudGVyOiB7IGxhdDogMCwgbG5nOiAwIH0sXG4gICAgICAgICAgem9vbTogMTBcbiAgICAgICAgfSxcbiAgICAgICAgY29sb3JNYXBwaW5nczoge30sXG4gICAgICAgIHJvdXRlTGluZXM6IFtdLFxuICAgICAgICBzdGF0aXN0aWNhbFN1bW1hcnk6IHtcbiAgICAgICAgICB3YWxraW5nRGlzdGFuY2U6IDAsXG4gICAgICAgICAgZHJpdmluZ0Rpc3RhbmNlOiAwLFxuICAgICAgICAgIGZseWluZ0Rpc3RhbmNlOiAwLFxuICAgICAgICAgIHdhbGtpbmdUaW1lOiAwLFxuICAgICAgICAgIGRyaXZpbmdUaW1lOiAwLFxuICAgICAgICAgIGZseWluZ1RpbWU6IDAsXG4gICAgICAgICAgYWNjb21tb2RhdGlvblBvaW50czogMSxcbiAgICAgICAgICBhdmVyYWdlRGlzdGFuY2VCZXR3ZWVuRGVzdGluYXRpb25zOiAwLFxuICAgICAgICAgIHJvdXRlRWZmaWNpZW5jeTogMC43XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBnZW5lcmF0aW9uSW5mbzoge1xuICAgICAgICBhbGdvcml0aG1WZXJzaW9uOiAnZmFsbGJhY2stdjEuMCcsXG4gICAgICAgIGdlbmVyYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHByb2Nlc3NpbmdUaW1lOiAwLjEsXG4gICAgICAgIGlucHV0UGFyYW1ldGVyczoge1xuICAgICAgICAgIHN0YXJ0RGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0sXG4gICAgICAgICAgZGVwYXJ0dXJlTG9jYXRpb246ICdVbmtub3duJyxcbiAgICAgICAgICBtYXhEYWlseURpc3RhbmNlOiAzMDAsXG4gICAgICAgICAgbWF4RGFpbHlUaW1lOiA2MDAsXG4gICAgICAgICAgdHJhbnNwb3J0UHJlZmVyZW5jZXM6IFsnZHJpdmUnXVxuICAgICAgICB9LFxuICAgICAgICB1c2VyUHJlZmVyZW5jZXNTbmFwc2hvdDogW10sXG4gICAgICAgIG9wdGltaXphdGlvbkNvbnN0cmFpbnRzOiB7XG4gICAgICAgICAgdGltZUNvbnN0cmFpbnRzOiBbXSxcbiAgICAgICAgICBnZW9ncmFwaGljYWxDb25zdHJhaW50czogW10sXG4gICAgICAgICAgdXNlclJlcXVpcmVtZW50czogW11cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4gZmFsbGJhY2tSb3V0ZURhdGFcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdGYWxsYmFjayBvcHRpbWl6YXRpb24gZmFpbGVkOicsIGVycm9yKVxuICAgIHJldHVybiBudWxsXG4gIH1cbn1cblxuLyoqXG4gKiDwn4aVIOWNmOS4gOWgtOaJgOWwgueUqOOBruacgOmBqeWMluWHpueQhlxuICogMeOBpOOBruWgtOaJgOOBl+OBi+OBquOBhOWgtOWQiOOBrzEwMCXmjqHnlKjjgajjgZfjgabljbPluqfjgavlh6bnkIZcbiAqL1xuYXN5bmMgZnVuY3Rpb24gaGFuZGxlU2luZ2xlRGVzdGluYXRpb25DYXNlKFxuICBncm91cElkOiBzdHJpbmcsIFxuICBwcmVwcm9jZXNzZWREYXRhOiBQcmVwcm9jZXNzZWREYXRhLCBcbiAgdHJhY2tlcjogUGVyZm9ybWFuY2VUcmFja2VyXG4pOiBQcm9taXNlPE9wdGltaXphdGlvblJlc3BvbnNlPiB7XG4gIGNvbnNvbGUubG9nKCfwn46vIEhhbmRsaW5nIHNpbmdsZSBkZXN0aW5hdGlvbiBjYXNlIC0gMTAwJSBhZG9wdGlvbicpO1xuICBcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGNyZWF0ZUNsaWVudCB9ID0gYXdhaXQgaW1wb3J0KCdAL2xpYi9zdXBhYmFzZS9zZXJ2ZXInKTtcbiAgICBjb25zdCB7IGNvb2tpZXMgfSA9IGF3YWl0IGltcG9ydCgnbmV4dC9oZWFkZXJzJyk7XG4gICAgXG4gICAgLy8gSGFuZGxlIHRoZSBjYXNlIHdoZXJlIGNvb2tpZXMoKSBtaWdodCBub3QgYmUgYXZhaWxhYmxlIGluIHNvbWUgY29udGV4dHNcbiAgICBsZXQgc3VwYWJhc2U7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvb2tpZVN0b3JlID0gY29va2llcygpO1xuICAgICAgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoY29va2llU3RvcmUpO1xuICAgIH0gY2F0Y2ggKGNvb2tpZUVycm9yKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0Nvb2tpZSBjb250ZXh0IG5vdCBhdmFpbGFibGUsIGZhbGxpbmcgYmFjayB0byBkaXJlY3QgY2xpZW50Jyk7XG4gICAgICAvLyBDcmVhdGUgYSBiYXNpYyBjbGllbnQgd2l0aG91dCBjb29raWVzIGZvciBvcHRpbWl6YXRpb24gY29udGV4dFxuICAgICAgY29uc3QgeyBjcmVhdGVDbGllbnQ6IGNyZWF0ZURpcmVjdENsaWVudCB9ID0gYXdhaXQgaW1wb3J0KCdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnKTtcbiAgICAgIHN1cGFiYXNlID0gY3JlYXRlRGlyZWN0Q2xpZW50KFxuICAgICAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwhLFxuICAgICAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSFcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8g5Y2Y5LiAZGVzdGluYXRpb27mg4XloLHjgpLlj5blvpdcbiAgICBjb25zdCB7IGRhdGE6IGRlc3RpbmF0aW9ucywgZXJyb3I6IGRlc3RFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdkZXN0aW5hdGlvbnMnKVxuICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAuZXEoJ2dyb3VwX2lkJywgZ3JvdXBJZClcbiAgICAgIC5saW1pdCgxKTtcblxuICAgIGlmIChkZXN0RXJyb3IgfHwgIWRlc3RpbmF0aW9ucyB8fCBkZXN0aW5hdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgdHlwZTogT3B0aW1pemF0aW9uRXJyb3JUeXBlLklOU1VGRklDSUVOVF9EQVRBLFxuICAgICAgICAgIG1lc3NhZ2U6ICdObyBkZXN0aW5hdGlvbiBmb3VuZCcsXG4gICAgICAgICAgdXNlck1lc3NhZ2U6ICdObyBkZXN0aW5hdGlvbiB0byBvcHRpbWl6ZScsXG4gICAgICAgICAgc3VnZ2VzdGVkQWN0aW9uczogWydBZGQgcGxhY2VzIHRvIHlvdXIgd2lzaGxpc3QnXSxcbiAgICAgICAgICByZXRyeWFibGU6IHRydWVcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBjb25zdCBkZXN0aW5hdGlvbiA9IGRlc3RpbmF0aW9uc1swXTtcblxuICAgIC8vIHVzZXJfcHJlZmVyZW5jZXPjgYvjgonjga7jg4fjg7zjgr/lj5blvpdcbiAgICBjb25zdCB7IGRhdGE6IHByZWZlcmVuY2VzIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3VzZXJfcHJlZmVyZW5jZXMnKVxuICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAuZXEoJ2dyb3VwX2lkJywgZ3JvdXBJZClcbiAgICAgIC5lcSgnZGVzdGluYXRpb25faWQnLCBkZXN0aW5hdGlvbi5pZCk7XG5cbiAgICBjb25zdCBwcmVmZXJyZWREdXJhdGlvbiA9IHByZWZlcmVuY2VzICYmIHByZWZlcmVuY2VzLmxlbmd0aCA+IDAgXG4gICAgICA/IHByZWZlcmVuY2VzWzBdLnByZWZlcnJlZF9kdXJhdGlvbiBcbiAgICAgIDogNjA7IC8vIOODh+ODleOCqeODq+ODiDHmmYLplpNcblxuICAgIC8vIHBsYWNlc+ODhuODvOODluODq+OBq+aXouWtmOODrOOCs+ODvOODieOBjOOBguOCi+OBi+ODgeOCp+ODg+OCr1xuICAgIGNvbnN0IHsgZGF0YTogZXhpc3RpbmdQbGFjZXMgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgncGxhY2VzJylcbiAgICAgIC5zZWxlY3QoJ2lkJylcbiAgICAgIC5lcSgnZ3JvdXBfaWQnLCBncm91cElkKTtcblxuICAgIC8vIOaXouWtmOODrOOCs+ODvOODieOBjOOBguOCjOOBsOWJiumZpO+8iOaWsOOBl+OBhOacgOmBqeWMluOBp+e9ruOBjeaPm+OBiO+8iVxuICAgIGlmIChleGlzdGluZ1BsYWNlcyAmJiBleGlzdGluZ1BsYWNlcy5sZW5ndGggPiAwKSB7XG4gICAgICBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgncGxhY2VzJylcbiAgICAgICAgLmRlbGV0ZSgpXG4gICAgICAgIC5lcSgnZ3JvdXBfaWQnLCBncm91cElkKTtcbiAgICB9XG5cbiAgICAvLyDljZjkuIDloLTmiYDjgpIxMDAl5o6h55So44Go44GX44GmcGxhY2Vz44OG44O844OW44Or44Gr5L+d5a2YXG4gICAgY29uc3Qgb3B0aW1pemVkUGxhY2UgPSB7XG4gICAgICBncm91cF9pZDogZ3JvdXBJZCxcbiAgICAgIG5hbWU6IGRlc3RpbmF0aW9uLm5hbWUsXG4gICAgICBhZGRyZXNzOiBkZXN0aW5hdGlvbi5hZGRyZXNzLFxuICAgICAgbGF0aXR1ZGU6IGRlc3RpbmF0aW9uLmxhdGl0dWRlLFxuICAgICAgbG9uZ2l0dWRlOiBkZXN0aW5hdGlvbi5sb25naXR1ZGUsXG4gICAgICBwbGFjZV9pZDogZGVzdGluYXRpb24ucGxhY2VfaWQsXG4gICAgICB2aXNpdF9vcmRlcjogMSxcbiAgICAgIHNjaGVkdWxlZF9kYXRlOiBudWxsLFxuICAgICAgc2NoZWR1bGVkX2R1cmF0aW9uOiBwcmVmZXJyZWREdXJhdGlvbixcbiAgICAgIGZhaXJuZXNzX3Njb3JlOiAxLjAsXG4gICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICB9O1xuXG4gICAgY29uc3QgeyBlcnJvcjogcGxhY2VzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgncGxhY2VzJylcbiAgICAgIC5pbnNlcnQob3B0aW1pemVkUGxhY2UpO1xuXG4gICAgaWYgKHBsYWNlc0Vycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc2F2ZSBzaW5nbGUgZGVzdGluYXRpb246JywgcGxhY2VzRXJyb3IpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIHR5cGU6IE9wdGltaXphdGlvbkVycm9yVHlwZS5EQVRBQkFTRV9FUlJPUixcbiAgICAgICAgICBtZXNzYWdlOiBwbGFjZXNFcnJvci5tZXNzYWdlLFxuICAgICAgICAgIHVzZXJNZXNzYWdlOiAnRmFpbGVkIHRvIHNhdmUgb3B0aW1pemF0aW9uIHJlc3VsdCcsXG4gICAgICAgICAgc3VnZ2VzdGVkQWN0aW9uczogWydUcnkgYWdhaW4nXSxcbiAgICAgICAgICByZXRyeWFibGU6IHRydWVcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZygn4pyFIFNpbmdsZSBkZXN0aW5hdGlvbiBzYXZlZCBzdWNjZXNzZnVsbHknKTtcblxuICAgIC8vIENyZWF0ZSBzaW1wbGlmaWVkIHJvdXRlIGRhdGEgZm9yIHNpbmdsZSBkZXN0aW5hdGlvblxuICAgIGNvbnN0IHNpbmdsZURlc3RpbmF0aW9uUm91dGVEYXRhOiBTdG9yZWRSb3V0ZURhdGEgPSB7XG4gICAgICBzdGF0dXM6ICdzdWNjZXNzJyxcbiAgICAgIG9wdGltaXphdGlvbk1ldHJpY3M6IHtcbiAgICAgICAgZmFpcm5lc3NTY29yZTogMS4wLFxuICAgICAgICB0b3RhbERpc3RhbmNlOiAwLFxuICAgICAgICB0b3RhbER1cmF0aW9uOiBwcmVmZXJyZWREdXJhdGlvbixcbiAgICAgICAgY2x1c3RlckNvdW50OiAxLFxuICAgICAgICBkZXN0aW5hdGlvbkNvdW50OiAxLFxuICAgICAgICBhdmVyYWdlU2F0aXNmYWN0aW9uOiAxLjAsXG4gICAgICAgIGVmZmljaWVuY3lTY29yZTogMS4wXG4gICAgICB9LFxuICAgICAgbXVsdGlEYXlTY2hlZHVsZToge1xuICAgICAgICBkYXlzOiBbe1xuICAgICAgICAgIGRhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdLFxuICAgICAgICAgIGRheUluZGV4OiAwLFxuICAgICAgICAgIGRlc3RpbmF0aW9uczogW3tcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uSWQ6IGRlc3RpbmF0aW9uLmlkLFxuICAgICAgICAgICAgbmFtZTogZGVzdGluYXRpb24ubmFtZSxcbiAgICAgICAgICAgIGFkZHJlc3M6IGRlc3RpbmF0aW9uLmFkZHJlc3MgfHwgJycsXG4gICAgICAgICAgICBjb29yZGluYXRlczogeyBsYXQ6IGRlc3RpbmF0aW9uLmxhdGl0dWRlLCBsbmc6IGRlc3RpbmF0aW9uLmxvbmdpdHVkZSB9LFxuICAgICAgICAgICAgc3RhcnRUaW1lOiAnMTA6MDAnLFxuICAgICAgICAgICAgZW5kVGltZTogYCR7MTAgKyBNYXRoLmZsb29yKHByZWZlcnJlZER1cmF0aW9uIC8gNjApfTokeyhwcmVmZXJyZWREdXJhdGlvbiAlIDYwKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9YCxcbiAgICAgICAgICAgIGFsbG9jYXRlZER1cmF0aW9uOiBwcmVmZXJyZWREdXJhdGlvbixcbiAgICAgICAgICAgIHZpc2l0T3JkZXI6IDEsXG4gICAgICAgICAgICBkYXlWaXNpdE9yZGVyOiAxLFxuICAgICAgICAgICAgd2lzaGZ1bFVzZXJzOiBbXVxuICAgICAgICAgIH1dLFxuICAgICAgICAgIGRhaWx5U3RhdHM6IHtcbiAgICAgICAgICAgIHRvdGFsRGlzdGFuY2U6IDAsXG4gICAgICAgICAgICB0b3RhbFRpbWU6IHByZWZlcnJlZER1cmF0aW9uLFxuICAgICAgICAgICAgZGVzdGluYXRpb25Db3VudDogMSxcbiAgICAgICAgICAgIGF2ZXJhZ2VTYXRpc2ZhY3Rpb246IDEuMCxcbiAgICAgICAgICAgIGludGVuc2l0eTogJ2xpZ2h0J1xuICAgICAgICAgIH1cbiAgICAgICAgfV0sXG4gICAgICAgIHRvdGFsU3RhdHM6IHtcbiAgICAgICAgICB0cmlwRHVyYXRpb25EYXlzOiAxLFxuICAgICAgICAgIHRvdGFsRGVzdGluYXRpb25zOiAxLFxuICAgICAgICAgIHRvdGFsRGlzdGFuY2U6IDAsXG4gICAgICAgICAgdG90YWxUaW1lOiBwcmVmZXJyZWREdXJhdGlvbixcbiAgICAgICAgICBhdmVyYWdlRGFpbHlEaXN0YW5jZTogMCxcbiAgICAgICAgICBhdmVyYWdlRGFpbHlUaW1lOiBwcmVmZXJyZWREdXJhdGlvbixcbiAgICAgICAgICByZXN0RGF5UmVjb21tZW5kYXRpb25zOiBbXVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdmlzdWFsaXphdGlvbkRhdGE6IHtcbiAgICAgICAgbWFwQm91bmRzOiB7XG4gICAgICAgICAgbm9ydGg6IGRlc3RpbmF0aW9uLmxhdGl0dWRlICsgMC4wMSxcbiAgICAgICAgICBzb3V0aDogZGVzdGluYXRpb24ubGF0aXR1ZGUgLSAwLjAxLFxuICAgICAgICAgIGVhc3Q6IGRlc3RpbmF0aW9uLmxvbmdpdHVkZSArIDAuMDEsXG4gICAgICAgICAgd2VzdDogZGVzdGluYXRpb24ubG9uZ2l0dWRlIC0gMC4wMSxcbiAgICAgICAgICBjZW50ZXI6IHsgbGF0OiBkZXN0aW5hdGlvbi5sYXRpdHVkZSwgbG5nOiBkZXN0aW5hdGlvbi5sb25naXR1ZGUgfSxcbiAgICAgICAgICB6b29tOiAxNVxuICAgICAgICB9LFxuICAgICAgICBjb2xvck1hcHBpbmdzOiB7fSxcbiAgICAgICAgcm91dGVMaW5lczogW10sXG4gICAgICAgIHN0YXRpc3RpY2FsU3VtbWFyeToge1xuICAgICAgICAgIHdhbGtpbmdEaXN0YW5jZTogMCxcbiAgICAgICAgICBkcml2aW5nRGlzdGFuY2U6IDAsXG4gICAgICAgICAgZmx5aW5nRGlzdGFuY2U6IDAsXG4gICAgICAgICAgd2Fsa2luZ1RpbWU6IDAsXG4gICAgICAgICAgZHJpdmluZ1RpbWU6IDAsXG4gICAgICAgICAgZmx5aW5nVGltZTogMCxcbiAgICAgICAgICBhY2NvbW1vZGF0aW9uUG9pbnRzOiAxLFxuICAgICAgICAgIGF2ZXJhZ2VEaXN0YW5jZUJldHdlZW5EZXN0aW5hdGlvbnM6IDAsXG4gICAgICAgICAgcm91dGVFZmZpY2llbmN5OiAxLjBcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGdlbmVyYXRpb25JbmZvOiB7XG4gICAgICAgIGFsZ29yaXRobVZlcnNpb246ICdzaW5nbGUtZGVzdGluYXRpb24tdjEuMCcsXG4gICAgICAgIGdlbmVyYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHByb2Nlc3NpbmdUaW1lOiB0cmFja2VyLmdldE1ldHJpY3MoKS50b3RhbFByb2Nlc3NpbmdUaW1lLFxuICAgICAgICBpbnB1dFBhcmFtZXRlcnM6IHtcbiAgICAgICAgICBzdGFydERhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdLFxuICAgICAgICAgIGRlcGFydHVyZUxvY2F0aW9uOiAnU2luZ2xlIGRlc3RpbmF0aW9uIHNlbGVjdGVkJyxcbiAgICAgICAgICB0cmFuc3BvcnRQcmVmZXJlbmNlczogWyd3YWxraW5nJ11cbiAgICAgICAgfSxcbiAgICAgICAgdXNlclByZWZlcmVuY2VzU25hcHNob3Q6IFtdLFxuICAgICAgICBvcHRpbWl6YXRpb25Db25zdHJhaW50czoge1xuICAgICAgICAgIHRpbWVDb25zdHJhaW50czogW10sXG4gICAgICAgICAgZ2VvZ3JhcGhpY2FsQ29uc3RyYWludHM6IFtdLFxuICAgICAgICAgIHVzZXJSZXF1aXJlbWVudHM6IFtdXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8g5oiQ5Yqf44Os44K544Od44Oz44K5XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxuICAgICAgZGF0YTogc2luZ2xlRGVzdGluYXRpb25Sb3V0ZURhdGFcbiAgICB9O1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignU2luZ2xlIGRlc3RpbmF0aW9uIGNhc2UgZmFpbGVkOicsIGVycm9yKTtcbiAgICByZXR1cm4ge1xuICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgZXJyb3I6IHtcbiAgICAgICAgdHlwZTogT3B0aW1pemF0aW9uRXJyb3JUeXBlLkRBVEFCQVNFX0VSUk9SLFxuICAgICAgICBtZXNzYWdlOiAoZXJyb3IgYXMgRXJyb3IpLm1lc3NhZ2UsXG4gICAgICAgIHVzZXJNZXNzYWdlOiAnRmFpbGVkIHRvIHByb2Nlc3Mgc2luZ2xlIGRlc3RpbmF0aW9uJyxcbiAgICAgICAgc3VnZ2VzdGVkQWN0aW9uczogWydUcnkgYWdhaW4nXSxcbiAgICAgICAgcmV0cnlhYmxlOiB0cnVlXG4gICAgICB9XG4gICAgfTtcbiAgfVxufVxuXG4vKipcbiAqIPCfhpUg5pyA6YGp5YyW57WQ5p6c44KScGxhY2Vz44OG44O844OW44Or44Gr5YCL5Yil44Os44Kz44O844OJ44Go44GX44Gm5L+d5a2YXG4gKiBKU09OQuW9ouW8j+OBrmBvcHRpbWl6ZWRfcm91dGVzYOOBqOS9teeUqOOBl+OBpuOAgeOCr+OCqOODquaAp+iDveOCkuWQkeS4ilxuICovXG5hc3luYyBmdW5jdGlvbiBzYXZlT3B0aW1pemF0aW9uVG9QbGFjZXNUYWJsZShcbiAgZ3JvdXBJZDogc3RyaW5nLCBcbiAgb3B0aW1pemF0aW9uUmVzdWx0OiBTdG9yZWRSb3V0ZURhdGFcbik6IFByb21pc2U8dm9pZD4ge1xuICB0cnkge1xuICAgIGNvbnN0IHsgY3JlYXRlQ2xpZW50IH0gPSBhd2FpdCBpbXBvcnQoJ0AvbGliL3N1cGFiYXNlL3NlcnZlcicpO1xuICAgIGNvbnN0IHsgY29va2llcyB9ID0gYXdhaXQgaW1wb3J0KCduZXh0L2hlYWRlcnMnKTtcbiAgICBcbiAgICAvLyBIYW5kbGUgdGhlIGNhc2Ugd2hlcmUgY29va2llcygpIG1pZ2h0IG5vdCBiZSBhdmFpbGFibGUgaW4gc29tZSBjb250ZXh0c1xuICAgIGxldCBzdXBhYmFzZTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29va2llU3RvcmUgPSBjb29raWVzKCk7XG4gICAgICBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudChjb29raWVTdG9yZSk7XG4gICAgfSBjYXRjaCAoY29va2llRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUud2FybignQ29va2llIGNvbnRleHQgbm90IGF2YWlsYWJsZSwgZmFsbGluZyBiYWNrIHRvIGRpcmVjdCBjbGllbnQnKTtcbiAgICAgIC8vIENyZWF0ZSBhIGJhc2ljIGNsaWVudCB3aXRob3V0IGNvb2tpZXMgZm9yIG9wdGltaXphdGlvbiBjb250ZXh0XG4gICAgICBjb25zdCB7IGNyZWF0ZUNsaWVudDogY3JlYXRlRGlyZWN0Q2xpZW50IH0gPSBhd2FpdCBpbXBvcnQoJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcycpO1xuICAgICAgc3VwYWJhc2UgPSBjcmVhdGVEaXJlY3RDbGllbnQoXG4gICAgICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCEsXG4gICAgICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZygn8J+OryBTYXZpbmcgb3B0aW1pemF0aW9uIHJlc3VsdHMgdG8gcGxhY2VzIHRhYmxlLi4uJyk7XG5cbiAgICAvLyDml6LlrZjjga7mnIDpganljJbntZDmnpzjgpLjgq/jg6rjgqJcbiAgICBjb25zdCB7IGVycm9yOiBkZWxldGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdwbGFjZXMnKVxuICAgICAgLmRlbGV0ZSgpXG4gICAgICAuZXEoJ2dyb3VwX2lkJywgZ3JvdXBJZCk7XG5cbiAgICBpZiAoZGVsZXRlRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUud2FybignV2FybmluZzogQ291bGQgbm90IGNsZWFyIGV4aXN0aW5nIHBsYWNlczonLCBkZWxldGVFcnJvcik7XG4gICAgfVxuXG4gICAgLy8g5pyA6YGp5YyW57WQ5p6c44GL44KJ5YCL5Yil44GucGxhY2Xjg6zjgrPjg7zjg4njgpLkvZzmiJBcbiAgICBjb25zdCBwbGFjZXNUb0luc2VydDogYW55W10gPSBbXTtcbiAgICBsZXQgZ2xvYmFsVmlzaXRPcmRlciA9IDE7XG5cbiAgICBpZiAob3B0aW1pemF0aW9uUmVzdWx0Lm11bHRpRGF5U2NoZWR1bGU/LmRheXMpIHtcbiAgICAgIGZvciAoY29uc3QgZGF5IG9mIG9wdGltaXphdGlvblJlc3VsdC5tdWx0aURheVNjaGVkdWxlLmRheXMpIHtcbiAgICAgICAgaWYgKGRheS5kZXN0aW5hdGlvbnMpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGRlc3Qgb2YgZGF5LmRlc3RpbmF0aW9ucykge1xuICAgICAgICAgICAgcGxhY2VzVG9JbnNlcnQucHVzaCh7XG4gICAgICAgICAgICAgIGdyb3VwX2lkOiBncm91cElkLFxuICAgICAgICAgICAgICBuYW1lOiBkZXN0Lm5hbWUsXG4gICAgICAgICAgICAgIGFkZHJlc3M6IGRlc3QuYWRkcmVzcyB8fCBudWxsLFxuICAgICAgICAgICAgICBsYXRpdHVkZTogZGVzdC5jb29yZGluYXRlcz8ubGF0IHx8IG51bGwsXG4gICAgICAgICAgICAgIGxvbmdpdHVkZTogZGVzdC5jb29yZGluYXRlcz8ubG5nIHx8IG51bGwsXG4gICAgICAgICAgICAgIHBsYWNlX2lkOiBkZXN0LmRlc3RpbmF0aW9uSWQgfHwgbnVsbCxcbiAgICAgICAgICAgICAgdmlzaXRfb3JkZXI6IGdsb2JhbFZpc2l0T3JkZXIsXG4gICAgICAgICAgICAgIHNjaGVkdWxlZF9kYXRlOiBkYXkuZGF0ZSB8fCBudWxsLFxuICAgICAgICAgICAgICBzY2hlZHVsZWRfZHVyYXRpb246IGRlc3QuYWxsb2NhdGVkRHVyYXRpb24gfHwgNjAsXG4gICAgICAgICAgICAgIHNvdXJjZV9wbGFjZXM6IFtdLCAvLyBDb3VsZCBiZSBlbmhhbmNlZCB0byB0cmFjayB3aGljaCBteV9wbGFjZXMgY29udHJpYnV0ZWRcbiAgICAgICAgICAgICAgZmFpcm5lc3Nfc2NvcmU6IG9wdGltaXphdGlvblJlc3VsdC5vcHRpbWl6YXRpb25NZXRyaWNzPy5mYWlybmVzc1Njb3JlIHx8IDAuNSxcbiAgICAgICAgICAgICAgdHJhbnNwb3J0X21vZGU6ICdkcml2ZScsIC8vIERlZmF1bHQsIGNvdWxkIGJlIGVuaGFuY2VkIGZyb20gcm91dGUgZGF0YVxuICAgICAgICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZ2xvYmFsVmlzaXRPcmRlcisrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwbGFjZXNUb0luc2VydC5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCB7IGVycm9yOiBpbnNlcnRFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3BsYWNlcycpXG4gICAgICAgIC5pbnNlcnQocGxhY2VzVG9JbnNlcnQpO1xuXG4gICAgICBpZiAoaW5zZXJ0RXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHNhdmUgcGxhY2VzIHRvIGRhdGFiYXNlOicsIGluc2VydEVycm9yKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gc2F2ZSBvcHRpbWl6YXRpb24gcmVzdWx0cyB0byBwbGFjZXMgdGFibGU6ICR7aW5zZXJ0RXJyb3IubWVzc2FnZX1gKTtcbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coYOKchSBTdWNjZXNzZnVsbHkgc2F2ZWQgJHtwbGFjZXNUb0luc2VydC5sZW5ndGh9IHBsYWNlcyB0byBwbGFjZXMgdGFibGVgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coJ+KaoO+4jyBObyBwbGFjZXMgdG8gc2F2ZSB0byBwbGFjZXMgdGFibGUnKTtcbiAgICB9XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgb3B0aW1pemF0aW9uIHRvIHBsYWNlcyB0YWJsZTonLCBlcnJvcik7XG4gICAgLy8g44Ko44Op44O844Gn44KC5pys5L2T44Gu5pyA6YGp5YyW44Gv5oiQ5Yqf44GV44Gb44KL77yISlNPTkLjgavjga/kv53lrZjmuIjjgb/vvIlcbiAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBQbGFjZXMgdGFibGUgc3RvcmFnZSBmYWlsZWQsIGJ1dCBKU09OQiBzdG9yYWdlIHN1Y2NlZWRlZCcpO1xuICB9XG59XG5cbi8vIEFkZGl0aW9uYWwgdXRpbGl0aWVzIGFyZSBhdmFpbGFibGUgYXMgaW50ZXJuYWwgY2xhc3NlcyBidXQgbm90IGV4cG9ydGVkIGZyb20gc2VydmVyIGFjdGlvbnNcbiJdLCJuYW1lcyI6WyJyZXZhbGlkYXRlUGF0aCIsImZldGNoT3B0aW1pemF0aW9uRGF0YSIsInByZXByb2Nlc3NPcHRpbWl6YXRpb25EYXRhIiwicGVyZm9ybUNvbXBsZXRlT3B0aW1pemF0aW9uVjIiLCJJbnRlZ3JhdGVkUm91dGVNYW5hZ2VyIiwiY3JlYXRlQ2xpZW50IiwiT3B0aW1pemF0aW9uRXJyb3JUeXBlIiwiSU5TVUZGSUNJRU5UX0RBVEEiLCJJTlZBTElEX0NPT1JESU5BVEVTIiwiTUlTU0lOR19QUkVGRVJFTkNFUyIsIk5PX0ZFQVNJQkxFX1NPTFVUSU9OIiwiT1BUSU1JWkFUSU9OX1RJTUVPVVQiLCJDTFVTVEVSSU5HX0ZBSUxFRCIsIkRBVEFCQVNFX0VSUk9SIiwiQVVUSEVOVElDQVRJT05fRVJST1IiLCJQRVJNSVNTSU9OX0RFTklFRCIsIkdFT0NPRElOR19GQUlMRUQiLCJNQVBTX0FQSV9FUlJPUiIsIlJBVEVfTElNSVRfRVhDRUVERUQiLCJQZXJmb3JtYW5jZVRyYWNrZXIiLCJjb25zdHJ1Y3RvciIsInN0YWdlU3RhcnRUaW1lIiwibWV0cmljcyIsInN0YWdlVGltaW5ncyIsInJlc291cmNlVXNhZ2UiLCJxdWFsaXR5TWV0cmljcyIsInN0YXJ0VGltZSIsInBlcmZvcm1hbmNlIiwibm93Iiwic3RhcnRTdGFnZSIsInN0YWdlTmFtZSIsImVuZFN0YWdlIiwicmVjb3JkUXVhbGl0eU1ldHJpY3MiLCJvcHRpbWl6YXRpb25SZXN1bHQiLCJmYWlybmVzc1Njb3JlIiwicm91dGVFZmZpY2llbmN5IiwiY2FsY3VsYXRlUm91dGVFZmZpY2llbmN5IiwidXNlclNhdGlzZmFjdGlvbkVzdGltYXRlIiwiZXN0aW1hdGVVc2VyU2F0aXNmYWN0aW9uIiwicmVzdWx0IiwidG90YWxEaXN0YW5jZSIsInRvdGFsRHVyYXRpb24iLCJNYXRoIiwibWluIiwiZ2V0TWV0cmljcyIsInRvdGFsUHJvY2Vzc2luZ1RpbWUiLCJQcm9ncmVzc1JlcG9ydGVyIiwiZ3JvdXBJZCIsInN1cGFiYXNlIiwidXBkYXRlUHJvZ3Jlc3MiLCJwcm9ncmVzcyIsImNoYW5uZWwiLCJzZW5kIiwidHlwZSIsImV2ZW50IiwicGF5bG9hZCIsImVycm9yIiwiY29uc29sZSIsIndhcm4iLCJyZXBvcnRTdGFnZUNvbXBsZXRpb24iLCJzdGFnZSIsInRpbWVUYWtlbiIsImNhbGN1bGF0ZU92ZXJhbGxQcm9ncmVzcyIsIm1lc3NhZ2UiLCJ0b0ZpeGVkIiwiZXN0aW1hdGVkVGltZVJlbWFpbmluZyIsImVzdGltYXRlUmVtYWluaW5nVGltZSIsInN0YWdlUHJvZ3Jlc3MiLCJ0aW1lRXN0aW1hdGVzIiwib3B0aW1pemF0aW9uVmFsaWRhdGlvblJ1bGVzIiwiZmllbGQiLCJ2YWxpZGF0b3IiLCJpZCIsImxlbmd0aCIsImVycm9yTWVzc2FnZSIsInJlcXVpcmVkIiwidmFsaWRhdGVPcHRpbWl6YXRpb25JbnB1dCIsImlucHV0IiwiZXJyb3JzIiwid2FybmluZ3MiLCJmb3JFYWNoIiwicnVsZSIsInZhbHVlIiwicHVzaCIsImlzVmFsaWQiLCJ2YWxpZGF0ZU9wdGltaXphdGlvbkRhdGEiLCJwcmVwcm9jZXNzZWREYXRhIiwiZGVzdGluYXRpb25Mb2NhdGlvbnMiLCJsb2NhdGlvbiIsImluZGV4IiwiYWJzIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJ1c2VyUHJlZmVyZW5jZXMiLCJwcmVmZXJlbmNlQ292ZXJhZ2UiLCJjYWxjdWxhdGVQcmVmZXJlbmNlQ292ZXJhZ2UiLCJ0cmlwR3JvdXAiLCJzdGFydF9kYXRlIiwic3RhcnREYXRlIiwiRGF0ZSIsImdyb3VwTWVtYmVycyIsImRlc3RpbmF0aW9ucyIsImRlc3RpbmF0aW9uc1dpdGhQcmVmZXJlbmNlcyIsIlNldCIsIm1hcCIsInByZWYiLCJkZXN0aW5hdGlvbl9pZCIsInNpemUiLCJjbGFzc2lmeUVycm9yIiwiRXJyb3IiLCJpbmNsdWRlcyIsInVzZXJNZXNzYWdlIiwic3VnZ2VzdGVkQWN0aW9ucyIsInJldHJ5YWJsZSIsInRvU3RyaW5nIiwib3B0aW1pemVXaXRoVGltZW91dCIsIm9wdGltaXphdGlvbkZ1bmN0aW9uIiwidGltZW91dE1zIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJ0aW1lb3V0SWQiLCJzZXRUaW1lb3V0IiwidGhlbiIsImNsZWFyVGltZW91dCIsImNhdGNoIiwiaGFuZGxlRGF0YUVkZ2VDYXNlcyIsImxvZyIsImRlc3QiLCJwcmVmZXJlbmNlX3Njb3JlIiwicHJlZmVycmVkX2R1cmF0aW9uIiwib3B0aW1pemVUcmlwUm91dGUiLCJjdXJyZW50VXNlciIsIm9wdGlvbnMiLCJ0cmFja2VyIiwicHJvZ3Jlc3NSZXBvcnRlciIsImlucHV0VmFsaWRhdGlvbiIsInN0YXR1cyIsImpvaW4iLCJkYXRhIiwicmF3T3B0aW1pemF0aW9uRGF0YSIsImZldGNoRXJyb3IiLCJ2YWxpZGF0aW9uIiwiZSIsInZhbGlkYXRpb25SZXN1bHQiLCJwcm9jZXNzZWREYXRhIiwiaGFuZGxlU2luZ2xlRGVzdGluYXRpb25DYXNlIiwiZW5hYmxlTXVsdGlEYXlTY2hlZHVsaW5nIiwicm91dGVNYW5hZ2VyIiwiY3JlYXRlIiwic2Vzc2lvbklkIiwic3RvcmFnZVJlc3VsdCIsInNhdmVPcHRpbWl6YXRpb25SZXN1bHQiLCJzdW1tYXJ5IiwidG90YWxEaXN0YW5jZUttIiwidG90YWxBY3RpdmVIb3VycyIsInByb2Nlc3NpbmdUaW1lIiwic3VjY2VzcyIsInNhdmVPcHRpbWl6YXRpb25Ub1BsYWNlc1RhYmxlIiwicm91dGUiLCJyb3V0ZV9kYXRhIiwicGVyZm9ybWFuY2VNZXRyaWNzIiwiaGFuZGxlT3B0aW1pemF0aW9uRXJyb3IiLCJvcHRpbWl6YXRpb25FcnJvciIsImZhbGxiYWNrUmVzdWx0IiwiYXR0ZW1wdEZhbGxiYWNrT3B0aW1pemF0aW9uIiwiZmFsbGJhY2tFcnJvciIsImRlc3RpbmF0aW9uU2NvcmVzIiwiTWFwIiwicHJlZmVyZW5jZXMiLCJmaWx0ZXIiLCJhdmdTY29yZSIsInJlZHVjZSIsInN1bSIsInNldCIsInNvcnRlZERlc3RpbmF0aW9ucyIsInNvcnQiLCJhIiwiYiIsImdldCIsImZhbGxiYWNrUm91dGVEYXRhIiwib3B0aW1pemF0aW9uTWV0cmljcyIsImNsdXN0ZXJDb3VudCIsImRlc3RpbmF0aW9uQ291bnQiLCJhdmVyYWdlU2F0aXNmYWN0aW9uIiwiZWZmaWNpZW5jeVNjb3JlIiwibXVsdGlEYXlTY2hlZHVsZSIsImRheXMiLCJkYXRlIiwidG9JU09TdHJpbmciLCJzcGxpdCIsImRheUluZGV4IiwiZGVzdGluYXRpb25JZCIsIm5hbWUiLCJhZGRyZXNzIiwiY29vcmRpbmF0ZXMiLCJsYXQiLCJsbmciLCJlbmRUaW1lIiwiYWxsb2NhdGVkRHVyYXRpb24iLCJ2aXNpdE9yZGVyIiwiZGF5VmlzaXRPcmRlciIsIndpc2hmdWxVc2VycyIsImRhaWx5U3RhdHMiLCJ0b3RhbFRpbWUiLCJpbnRlbnNpdHkiLCJ0b3RhbFN0YXRzIiwidHJpcER1cmF0aW9uRGF5cyIsInRvdGFsRGVzdGluYXRpb25zIiwiYXZlcmFnZURhaWx5RGlzdGFuY2UiLCJhdmVyYWdlRGFpbHlUaW1lIiwicmVzdERheVJlY29tbWVuZGF0aW9ucyIsInZpc3VhbGl6YXRpb25EYXRhIiwibWFwQm91bmRzIiwibm9ydGgiLCJzb3V0aCIsImVhc3QiLCJ3ZXN0IiwiY2VudGVyIiwiem9vbSIsImNvbG9yTWFwcGluZ3MiLCJyb3V0ZUxpbmVzIiwic3RhdGlzdGljYWxTdW1tYXJ5Iiwid2Fsa2luZ0Rpc3RhbmNlIiwiZHJpdmluZ0Rpc3RhbmNlIiwiZmx5aW5nRGlzdGFuY2UiLCJ3YWxraW5nVGltZSIsImRyaXZpbmdUaW1lIiwiZmx5aW5nVGltZSIsImFjY29tbW9kYXRpb25Qb2ludHMiLCJhdmVyYWdlRGlzdGFuY2VCZXR3ZWVuRGVzdGluYXRpb25zIiwiZ2VuZXJhdGlvbkluZm8iLCJhbGdvcml0aG1WZXJzaW9uIiwiZ2VuZXJhdGVkQXQiLCJpbnB1dFBhcmFtZXRlcnMiLCJkZXBhcnR1cmVMb2NhdGlvbiIsIm1heERhaWx5RGlzdGFuY2UiLCJtYXhEYWlseVRpbWUiLCJ0cmFuc3BvcnRQcmVmZXJlbmNlcyIsInVzZXJQcmVmZXJlbmNlc1NuYXBzaG90Iiwib3B0aW1pemF0aW9uQ29uc3RyYWludHMiLCJ0aW1lQ29uc3RyYWludHMiLCJnZW9ncmFwaGljYWxDb25zdHJhaW50cyIsInVzZXJSZXF1aXJlbWVudHMiLCJjb29raWVzIiwiY29va2llU3RvcmUiLCJjb29raWVFcnJvciIsImNyZWF0ZURpcmVjdENsaWVudCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsImRlc3RFcnJvciIsImZyb20iLCJzZWxlY3QiLCJlcSIsImxpbWl0IiwiZGVzdGluYXRpb24iLCJwcmVmZXJyZWREdXJhdGlvbiIsImV4aXN0aW5nUGxhY2VzIiwiZGVsZXRlIiwib3B0aW1pemVkUGxhY2UiLCJncm91cF9pZCIsInBsYWNlX2lkIiwidmlzaXRfb3JkZXIiLCJzY2hlZHVsZWRfZGF0ZSIsInNjaGVkdWxlZF9kdXJhdGlvbiIsImZhaXJuZXNzX3Njb3JlIiwiY3JlYXRlZF9hdCIsInBsYWNlc0Vycm9yIiwiaW5zZXJ0Iiwic2luZ2xlRGVzdGluYXRpb25Sb3V0ZURhdGEiLCJmbG9vciIsInBhZFN0YXJ0IiwiZGVsZXRlRXJyb3IiLCJwbGFjZXNUb0luc2VydCIsImdsb2JhbFZpc2l0T3JkZXIiLCJkYXkiLCJzb3VyY2VfcGxhY2VzIiwidHJhbnNwb3J0X21vZGUiLCJpbnNlcnRFcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./lib/actions/optimization-actions.ts\n");

/***/ }),

/***/ "(action-browser)/./lib/optimization/cluster-internal-optimizer.ts":
/*!********************************************************!*\
  !*** ./lib/optimization/cluster-internal-optimizer.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   optimizeClusterInternally: () => (/* binding */ optimizeClusterInternally),\n/* harmony export */   validateClusterRoute: () => (/* binding */ validateClusterRoute)\n/* harmony export */ });\n/* harmony import */ var _geographical_clustering__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./geographical-clustering */ \"(action-browser)/./lib/optimization/geographical-clustering.ts\");\n// Optimize destination order within a cluster using nearest neighbor TSP\n\n/**\n * Optimize the order of destinations within a cluster\n * Uses nearest neighbor TSP starting from the entry point\n */ function optimizeClusterInternally(clusterDestinations, entryLocation, averageStayHours) {\n    if (clusterDestinations.length === 0) {\n        return {\n            orderedDestinations: [],\n            entryDestination: clusterDestinations[0],\n            totalDistanceKm: 0,\n            estimatedTimeHours: 0\n        };\n    }\n    if (clusterDestinations.length === 1) {\n        return {\n            orderedDestinations: clusterDestinations,\n            entryDestination: clusterDestinations[0],\n            totalDistanceKm: 0,\n            estimatedTimeHours: averageStayHours\n        };\n    }\n    // Find the entry destination (closest to arrival point)\n    const entryDestination = findNearestDestination(entryLocation, clusterDestinations);\n    // Build route using nearest neighbor\n    const route = [\n        entryDestination\n    ];\n    const unvisited = new Set(clusterDestinations.filter((d)=>d.id !== entryDestination.id));\n    let currentLocation = entryDestination.location;\n    let totalDistance = 0;\n    // Continue adding nearest unvisited destinations\n    while(unvisited.size > 0){\n        let nearest = null;\n        let minDistance = Infinity;\n        for (const destination of Array.from(unvisited)){\n            const distance = (0,_geographical_clustering__WEBPACK_IMPORTED_MODULE_0__.calculateHaversineDistance)(currentLocation.latitude, currentLocation.longitude, destination.location.latitude, destination.location.longitude);\n            if (distance < minDistance) {\n                minDistance = distance;\n                nearest = destination;\n            }\n        }\n        if (nearest) {\n            route.push(nearest);\n            unvisited.delete(nearest);\n            totalDistance += minDistance;\n            currentLocation = nearest.location;\n        }\n    }\n    // Calculate total time (visit time + intra-cluster travel)\n    const intraClusterTravelTime = calculateIntraClusterTravelTime(totalDistance);\n    const totalTimeHours = averageStayHours * clusterDestinations.length + intraClusterTravelTime;\n    return {\n        orderedDestinations: route,\n        entryDestination,\n        totalDistanceKm: totalDistance,\n        estimatedTimeHours: totalTimeHours\n    };\n}\n/**\n * Find the destination closest to a given location\n */ function findNearestDestination(location, destinations) {\n    let nearest = destinations[0];\n    let minDistance = Infinity;\n    for (const destination of destinations){\n        const distance = (0,_geographical_clustering__WEBPACK_IMPORTED_MODULE_0__.calculateHaversineDistance)(location.latitude, location.longitude, destination.location.latitude, destination.location.longitude);\n        if (distance < minDistance) {\n            minDistance = distance;\n            nearest = destination;\n        }\n    }\n    return nearest;\n}\n/**\n * Calculate travel time for intra-cluster movement\n * Assumes walking speed for short distances within clusters\n */ function calculateIntraClusterTravelTime(distanceKm) {\n    const walkingSpeedKmh = 5 // Walking/local transport\n    ;\n    return distanceKm / walkingSpeedKmh;\n}\n/**\n * Validate cluster internal route\n */ function validateClusterRoute(route) {\n    const issues = [];\n    // Check for empty route\n    if (route.orderedDestinations.length === 0) {\n        issues.push(\"Cluster route has no destinations\");\n    }\n    // Check for duplicate destinations\n    const uniqueIds = new Set(route.orderedDestinations.map((d)=>d.id));\n    if (uniqueIds.size !== route.orderedDestinations.length) {\n        issues.push(\"Cluster route contains duplicate destinations\");\n    }\n    // Check for negative distance or time\n    if (route.totalDistanceKm < 0) {\n        issues.push(\"Cluster route has negative distance\");\n    }\n    if (route.estimatedTimeHours < 0) {\n        issues.push(\"Cluster route has negative time estimate\");\n    }\n    // Check for unrealistic intra-cluster distance (> 50km)\n    if (route.totalDistanceKm > 50) {\n        issues.push(`Cluster internal distance ${route.totalDistanceKm.toFixed(1)}km exceeds expected cluster size`);\n    }\n    return {\n        isValid: issues.length === 0,\n        issues\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL2xpYi9vcHRpbWl6YXRpb24vY2x1c3Rlci1pbnRlcm5hbC1vcHRpbWl6ZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEseUVBQXlFO0FBR0g7QUFnQnRFOzs7Q0FHQyxHQUNNLFNBQVNDLDBCQUNkQyxtQkFBa0MsRUFDbENDLGFBQXVCLEVBQ3ZCQyxnQkFBd0I7SUFFeEIsSUFBSUYsb0JBQW9CRyxNQUFNLEtBQUssR0FBRztRQUNwQyxPQUFPO1lBQ0xDLHFCQUFxQixFQUFFO1lBQ3ZCQyxrQkFBa0JMLG1CQUFtQixDQUFDLEVBQUU7WUFDeENNLGlCQUFpQjtZQUNqQkMsb0JBQW9CO1FBQ3RCO0lBQ0Y7SUFFQSxJQUFJUCxvQkFBb0JHLE1BQU0sS0FBSyxHQUFHO1FBQ3BDLE9BQU87WUFDTEMscUJBQXFCSjtZQUNyQkssa0JBQWtCTCxtQkFBbUIsQ0FBQyxFQUFFO1lBQ3hDTSxpQkFBaUI7WUFDakJDLG9CQUFvQkw7UUFDdEI7SUFDRjtJQUVBLHdEQUF3RDtJQUN4RCxNQUFNRyxtQkFBbUJHLHVCQUF1QlAsZUFBZUQ7SUFFL0QscUNBQXFDO0lBQ3JDLE1BQU1TLFFBQXVCO1FBQUNKO0tBQWlCO0lBQy9DLE1BQU1LLFlBQVksSUFBSUMsSUFDcEJYLG9CQUFvQlksTUFBTSxDQUFDQyxDQUFBQSxJQUFLQSxFQUFFQyxFQUFFLEtBQUtULGlCQUFpQlMsRUFBRTtJQUU5RCxJQUFJQyxrQkFBa0JWLGlCQUFpQlcsUUFBUTtJQUMvQyxJQUFJQyxnQkFBZ0I7SUFFcEIsaURBQWlEO0lBQ2pELE1BQU9QLFVBQVVRLElBQUksR0FBRyxFQUFHO1FBQ3pCLElBQUlDLFVBQThCO1FBQ2xDLElBQUlDLGNBQWNDO1FBRWxCLEtBQUssTUFBTUMsZUFBZUMsTUFBTUMsSUFBSSxDQUFDZCxXQUFZO1lBQy9DLE1BQU1lLFdBQVczQixvRkFBMEJBLENBQ3pDaUIsZ0JBQWdCVyxRQUFRLEVBQ3hCWCxnQkFBZ0JZLFNBQVMsRUFDekJMLFlBQVlOLFFBQVEsQ0FBQ1UsUUFBUSxFQUM3QkosWUFBWU4sUUFBUSxDQUFDVyxTQUFTO1lBR2hDLElBQUlGLFdBQVdMLGFBQWE7Z0JBQzFCQSxjQUFjSztnQkFDZE4sVUFBVUc7WUFDWjtRQUNGO1FBRUEsSUFBSUgsU0FBUztZQUNYVixNQUFNbUIsSUFBSSxDQUFDVDtZQUNYVCxVQUFVbUIsTUFBTSxDQUFDVjtZQUNqQkYsaUJBQWlCRztZQUNqQkwsa0JBQWtCSSxRQUFRSCxRQUFRO1FBQ3BDO0lBQ0Y7SUFFQSwyREFBMkQ7SUFDM0QsTUFBTWMseUJBQXlCQyxnQ0FBZ0NkO0lBQy9ELE1BQU1lLGlCQUFpQjlCLG1CQUFtQkYsb0JBQW9CRyxNQUFNLEdBQUcyQjtJQUV2RSxPQUFPO1FBQ0wxQixxQkFBcUJLO1FBQ3JCSjtRQUNBQyxpQkFBaUJXO1FBQ2pCVixvQkFBb0J5QjtJQUN0QjtBQUNGO0FBRUE7O0NBRUMsR0FDRCxTQUFTeEIsdUJBQ1BRLFFBQWtCLEVBQ2xCaUIsWUFBMkI7SUFFM0IsSUFBSWQsVUFBVWMsWUFBWSxDQUFDLEVBQUU7SUFDN0IsSUFBSWIsY0FBY0M7SUFFbEIsS0FBSyxNQUFNQyxlQUFlVyxhQUFjO1FBQ3RDLE1BQU1SLFdBQVczQixvRkFBMEJBLENBQ3pDa0IsU0FBU1UsUUFBUSxFQUNqQlYsU0FBU1csU0FBUyxFQUNsQkwsWUFBWU4sUUFBUSxDQUFDVSxRQUFRLEVBQzdCSixZQUFZTixRQUFRLENBQUNXLFNBQVM7UUFHaEMsSUFBSUYsV0FBV0wsYUFBYTtZQUMxQkEsY0FBY0s7WUFDZE4sVUFBVUc7UUFDWjtJQUNGO0lBRUEsT0FBT0g7QUFDVDtBQUVBOzs7Q0FHQyxHQUNELFNBQVNZLGdDQUFnQ0csVUFBa0I7SUFDekQsTUFBTUMsa0JBQWtCLEVBQUUsMEJBQTBCOztJQUNwRCxPQUFPRCxhQUFhQztBQUN0QjtBQUVBOztDQUVDLEdBQ00sU0FBU0MscUJBQXFCM0IsS0FBMkI7SUFJOUQsTUFBTTRCLFNBQW1CLEVBQUU7SUFFM0Isd0JBQXdCO0lBQ3hCLElBQUk1QixNQUFNTCxtQkFBbUIsQ0FBQ0QsTUFBTSxLQUFLLEdBQUc7UUFDMUNrQyxPQUFPVCxJQUFJLENBQUM7SUFDZDtJQUVBLG1DQUFtQztJQUNuQyxNQUFNVSxZQUFZLElBQUkzQixJQUFJRixNQUFNTCxtQkFBbUIsQ0FBQ21DLEdBQUcsQ0FBQzFCLENBQUFBLElBQUtBLEVBQUVDLEVBQUU7SUFDakUsSUFBSXdCLFVBQVVwQixJQUFJLEtBQUtULE1BQU1MLG1CQUFtQixDQUFDRCxNQUFNLEVBQUU7UUFDdkRrQyxPQUFPVCxJQUFJLENBQUM7SUFDZDtJQUVBLHNDQUFzQztJQUN0QyxJQUFJbkIsTUFBTUgsZUFBZSxHQUFHLEdBQUc7UUFDN0IrQixPQUFPVCxJQUFJLENBQUM7SUFDZDtJQUVBLElBQUluQixNQUFNRixrQkFBa0IsR0FBRyxHQUFHO1FBQ2hDOEIsT0FBT1QsSUFBSSxDQUFDO0lBQ2Q7SUFFQSx3REFBd0Q7SUFDeEQsSUFBSW5CLE1BQU1ILGVBQWUsR0FBRyxJQUFJO1FBQzlCK0IsT0FBT1QsSUFBSSxDQUFDLENBQUMsMEJBQTBCLEVBQUVuQixNQUFNSCxlQUFlLENBQUNrQyxPQUFPLENBQUMsR0FBRyxnQ0FBZ0MsQ0FBQztJQUM3RztJQUVBLE9BQU87UUFDTEMsU0FBU0osT0FBT2xDLE1BQU0sS0FBSztRQUMzQmtDO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy8uL2xpYi9vcHRpbWl6YXRpb24vY2x1c3Rlci1pbnRlcm5hbC1vcHRpbWl6ZXIudHM/ZDFkZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBPcHRpbWl6ZSBkZXN0aW5hdGlvbiBvcmRlciB3aXRoaW4gYSBjbHVzdGVyIHVzaW5nIG5lYXJlc3QgbmVpZ2hib3IgVFNQXG5cbmltcG9ydCB0eXBlIHsgTG9jYXRpb24gfSBmcm9tICcuL3R5cGVzJ1xuaW1wb3J0IHsgY2FsY3VsYXRlSGF2ZXJzaW5lRGlzdGFuY2UgfSBmcm9tICcuL2dlb2dyYXBoaWNhbC1jbHVzdGVyaW5nJ1xuXG4vLyBTaW1wbGUgZGVzdGluYXRpb24gaW50ZXJmYWNlIGZvciBpbnRlcm5hbCBvcHRpbWl6YXRpb25cbmludGVyZmFjZSBEZXN0aW5hdGlvbiB7XG4gIGlkOiBzdHJpbmdcbiAgbG9jYXRpb246IExvY2F0aW9uXG59XG5cbi8vIEludGVybmFsIGNsdXN0ZXIgb3B0aW1pemF0aW9uIHJlc3VsdFxuZXhwb3J0IGludGVyZmFjZSBDbHVzdGVySW50ZXJuYWxSb3V0ZSB7XG4gIG9yZGVyZWREZXN0aW5hdGlvbnM6IERlc3RpbmF0aW9uW11cbiAgZW50cnlEZXN0aW5hdGlvbjogRGVzdGluYXRpb25cbiAgdG90YWxEaXN0YW5jZUttOiBudW1iZXJcbiAgZXN0aW1hdGVkVGltZUhvdXJzOiBudW1iZXJcbn1cblxuLyoqXG4gKiBPcHRpbWl6ZSB0aGUgb3JkZXIgb2YgZGVzdGluYXRpb25zIHdpdGhpbiBhIGNsdXN0ZXJcbiAqIFVzZXMgbmVhcmVzdCBuZWlnaGJvciBUU1Agc3RhcnRpbmcgZnJvbSB0aGUgZW50cnkgcG9pbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9wdGltaXplQ2x1c3RlckludGVybmFsbHkoXG4gIGNsdXN0ZXJEZXN0aW5hdGlvbnM6IERlc3RpbmF0aW9uW10sXG4gIGVudHJ5TG9jYXRpb246IExvY2F0aW9uLFxuICBhdmVyYWdlU3RheUhvdXJzOiBudW1iZXJcbik6IENsdXN0ZXJJbnRlcm5hbFJvdXRlIHtcbiAgaWYgKGNsdXN0ZXJEZXN0aW5hdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9yZGVyZWREZXN0aW5hdGlvbnM6IFtdLFxuICAgICAgZW50cnlEZXN0aW5hdGlvbjogY2x1c3RlckRlc3RpbmF0aW9uc1swXSxcbiAgICAgIHRvdGFsRGlzdGFuY2VLbTogMCxcbiAgICAgIGVzdGltYXRlZFRpbWVIb3VyczogMFxuICAgIH1cbiAgfVxuICBcbiAgaWYgKGNsdXN0ZXJEZXN0aW5hdGlvbnMubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9yZGVyZWREZXN0aW5hdGlvbnM6IGNsdXN0ZXJEZXN0aW5hdGlvbnMsXG4gICAgICBlbnRyeURlc3RpbmF0aW9uOiBjbHVzdGVyRGVzdGluYXRpb25zWzBdLFxuICAgICAgdG90YWxEaXN0YW5jZUttOiAwLFxuICAgICAgZXN0aW1hdGVkVGltZUhvdXJzOiBhdmVyYWdlU3RheUhvdXJzXG4gICAgfVxuICB9XG4gIFxuICAvLyBGaW5kIHRoZSBlbnRyeSBkZXN0aW5hdGlvbiAoY2xvc2VzdCB0byBhcnJpdmFsIHBvaW50KVxuICBjb25zdCBlbnRyeURlc3RpbmF0aW9uID0gZmluZE5lYXJlc3REZXN0aW5hdGlvbihlbnRyeUxvY2F0aW9uLCBjbHVzdGVyRGVzdGluYXRpb25zKVxuICBcbiAgLy8gQnVpbGQgcm91dGUgdXNpbmcgbmVhcmVzdCBuZWlnaGJvclxuICBjb25zdCByb3V0ZTogRGVzdGluYXRpb25bXSA9IFtlbnRyeURlc3RpbmF0aW9uXVxuICBjb25zdCB1bnZpc2l0ZWQgPSBuZXcgU2V0KFxuICAgIGNsdXN0ZXJEZXN0aW5hdGlvbnMuZmlsdGVyKGQgPT4gZC5pZCAhPT0gZW50cnlEZXN0aW5hdGlvbi5pZClcbiAgKVxuICBsZXQgY3VycmVudExvY2F0aW9uID0gZW50cnlEZXN0aW5hdGlvbi5sb2NhdGlvblxuICBsZXQgdG90YWxEaXN0YW5jZSA9IDBcbiAgXG4gIC8vIENvbnRpbnVlIGFkZGluZyBuZWFyZXN0IHVudmlzaXRlZCBkZXN0aW5hdGlvbnNcbiAgd2hpbGUgKHVudmlzaXRlZC5zaXplID4gMCkge1xuICAgIGxldCBuZWFyZXN0OiBEZXN0aW5hdGlvbiB8IG51bGwgPSBudWxsXG4gICAgbGV0IG1pbkRpc3RhbmNlID0gSW5maW5pdHlcbiAgICBcbiAgICBmb3IgKGNvbnN0IGRlc3RpbmF0aW9uIG9mIEFycmF5LmZyb20odW52aXNpdGVkKSkge1xuICAgICAgY29uc3QgZGlzdGFuY2UgPSBjYWxjdWxhdGVIYXZlcnNpbmVEaXN0YW5jZShcbiAgICAgICAgY3VycmVudExvY2F0aW9uLmxhdGl0dWRlLFxuICAgICAgICBjdXJyZW50TG9jYXRpb24ubG9uZ2l0dWRlLFxuICAgICAgICBkZXN0aW5hdGlvbi5sb2NhdGlvbi5sYXRpdHVkZSxcbiAgICAgICAgZGVzdGluYXRpb24ubG9jYXRpb24ubG9uZ2l0dWRlXG4gICAgICApXG4gICAgICBcbiAgICAgIGlmIChkaXN0YW5jZSA8IG1pbkRpc3RhbmNlKSB7XG4gICAgICAgIG1pbkRpc3RhbmNlID0gZGlzdGFuY2VcbiAgICAgICAgbmVhcmVzdCA9IGRlc3RpbmF0aW9uXG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGlmIChuZWFyZXN0KSB7XG4gICAgICByb3V0ZS5wdXNoKG5lYXJlc3QpXG4gICAgICB1bnZpc2l0ZWQuZGVsZXRlKG5lYXJlc3QpXG4gICAgICB0b3RhbERpc3RhbmNlICs9IG1pbkRpc3RhbmNlXG4gICAgICBjdXJyZW50TG9jYXRpb24gPSBuZWFyZXN0LmxvY2F0aW9uXG4gICAgfVxuICB9XG4gIFxuICAvLyBDYWxjdWxhdGUgdG90YWwgdGltZSAodmlzaXQgdGltZSArIGludHJhLWNsdXN0ZXIgdHJhdmVsKVxuICBjb25zdCBpbnRyYUNsdXN0ZXJUcmF2ZWxUaW1lID0gY2FsY3VsYXRlSW50cmFDbHVzdGVyVHJhdmVsVGltZSh0b3RhbERpc3RhbmNlKVxuICBjb25zdCB0b3RhbFRpbWVIb3VycyA9IGF2ZXJhZ2VTdGF5SG91cnMgKiBjbHVzdGVyRGVzdGluYXRpb25zLmxlbmd0aCArIGludHJhQ2x1c3RlclRyYXZlbFRpbWVcbiAgXG4gIHJldHVybiB7XG4gICAgb3JkZXJlZERlc3RpbmF0aW9uczogcm91dGUsXG4gICAgZW50cnlEZXN0aW5hdGlvbixcbiAgICB0b3RhbERpc3RhbmNlS206IHRvdGFsRGlzdGFuY2UsXG4gICAgZXN0aW1hdGVkVGltZUhvdXJzOiB0b3RhbFRpbWVIb3Vyc1xuICB9XG59XG5cbi8qKlxuICogRmluZCB0aGUgZGVzdGluYXRpb24gY2xvc2VzdCB0byBhIGdpdmVuIGxvY2F0aW9uXG4gKi9cbmZ1bmN0aW9uIGZpbmROZWFyZXN0RGVzdGluYXRpb24oXG4gIGxvY2F0aW9uOiBMb2NhdGlvbixcbiAgZGVzdGluYXRpb25zOiBEZXN0aW5hdGlvbltdXG4pOiBEZXN0aW5hdGlvbiB7XG4gIGxldCBuZWFyZXN0ID0gZGVzdGluYXRpb25zWzBdXG4gIGxldCBtaW5EaXN0YW5jZSA9IEluZmluaXR5XG4gIFxuICBmb3IgKGNvbnN0IGRlc3RpbmF0aW9uIG9mIGRlc3RpbmF0aW9ucykge1xuICAgIGNvbnN0IGRpc3RhbmNlID0gY2FsY3VsYXRlSGF2ZXJzaW5lRGlzdGFuY2UoXG4gICAgICBsb2NhdGlvbi5sYXRpdHVkZSxcbiAgICAgIGxvY2F0aW9uLmxvbmdpdHVkZSxcbiAgICAgIGRlc3RpbmF0aW9uLmxvY2F0aW9uLmxhdGl0dWRlLFxuICAgICAgZGVzdGluYXRpb24ubG9jYXRpb24ubG9uZ2l0dWRlXG4gICAgKVxuICAgIFxuICAgIGlmIChkaXN0YW5jZSA8IG1pbkRpc3RhbmNlKSB7XG4gICAgICBtaW5EaXN0YW5jZSA9IGRpc3RhbmNlXG4gICAgICBuZWFyZXN0ID0gZGVzdGluYXRpb25cbiAgICB9XG4gIH1cbiAgXG4gIHJldHVybiBuZWFyZXN0XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlIHRyYXZlbCB0aW1lIGZvciBpbnRyYS1jbHVzdGVyIG1vdmVtZW50XG4gKiBBc3N1bWVzIHdhbGtpbmcgc3BlZWQgZm9yIHNob3J0IGRpc3RhbmNlcyB3aXRoaW4gY2x1c3RlcnNcbiAqL1xuZnVuY3Rpb24gY2FsY3VsYXRlSW50cmFDbHVzdGVyVHJhdmVsVGltZShkaXN0YW5jZUttOiBudW1iZXIpOiBudW1iZXIge1xuICBjb25zdCB3YWxraW5nU3BlZWRLbWggPSA1IC8vIFdhbGtpbmcvbG9jYWwgdHJhbnNwb3J0XG4gIHJldHVybiBkaXN0YW5jZUttIC8gd2Fsa2luZ1NwZWVkS21oXG59XG5cbi8qKlxuICogVmFsaWRhdGUgY2x1c3RlciBpbnRlcm5hbCByb3V0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVDbHVzdGVyUm91dGUocm91dGU6IENsdXN0ZXJJbnRlcm5hbFJvdXRlKToge1xuICBpc1ZhbGlkOiBib29sZWFuXG4gIGlzc3Vlczogc3RyaW5nW11cbn0ge1xuICBjb25zdCBpc3N1ZXM6IHN0cmluZ1tdID0gW11cbiAgXG4gIC8vIENoZWNrIGZvciBlbXB0eSByb3V0ZVxuICBpZiAocm91dGUub3JkZXJlZERlc3RpbmF0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICBpc3N1ZXMucHVzaCgnQ2x1c3RlciByb3V0ZSBoYXMgbm8gZGVzdGluYXRpb25zJylcbiAgfVxuICBcbiAgLy8gQ2hlY2sgZm9yIGR1cGxpY2F0ZSBkZXN0aW5hdGlvbnNcbiAgY29uc3QgdW5pcXVlSWRzID0gbmV3IFNldChyb3V0ZS5vcmRlcmVkRGVzdGluYXRpb25zLm1hcChkID0+IGQuaWQpKVxuICBpZiAodW5pcXVlSWRzLnNpemUgIT09IHJvdXRlLm9yZGVyZWREZXN0aW5hdGlvbnMubGVuZ3RoKSB7XG4gICAgaXNzdWVzLnB1c2goJ0NsdXN0ZXIgcm91dGUgY29udGFpbnMgZHVwbGljYXRlIGRlc3RpbmF0aW9ucycpXG4gIH1cbiAgXG4gIC8vIENoZWNrIGZvciBuZWdhdGl2ZSBkaXN0YW5jZSBvciB0aW1lXG4gIGlmIChyb3V0ZS50b3RhbERpc3RhbmNlS20gPCAwKSB7XG4gICAgaXNzdWVzLnB1c2goJ0NsdXN0ZXIgcm91dGUgaGFzIG5lZ2F0aXZlIGRpc3RhbmNlJylcbiAgfVxuICBcbiAgaWYgKHJvdXRlLmVzdGltYXRlZFRpbWVIb3VycyA8IDApIHtcbiAgICBpc3N1ZXMucHVzaCgnQ2x1c3RlciByb3V0ZSBoYXMgbmVnYXRpdmUgdGltZSBlc3RpbWF0ZScpXG4gIH1cbiAgXG4gIC8vIENoZWNrIGZvciB1bnJlYWxpc3RpYyBpbnRyYS1jbHVzdGVyIGRpc3RhbmNlICg+IDUwa20pXG4gIGlmIChyb3V0ZS50b3RhbERpc3RhbmNlS20gPiA1MCkge1xuICAgIGlzc3Vlcy5wdXNoKGBDbHVzdGVyIGludGVybmFsIGRpc3RhbmNlICR7cm91dGUudG90YWxEaXN0YW5jZUttLnRvRml4ZWQoMSl9a20gZXhjZWVkcyBleHBlY3RlZCBjbHVzdGVyIHNpemVgKVxuICB9XG4gIFxuICByZXR1cm4ge1xuICAgIGlzVmFsaWQ6IGlzc3Vlcy5sZW5ndGggPT09IDAsXG4gICAgaXNzdWVzXG4gIH1cbn0iXSwibmFtZXMiOlsiY2FsY3VsYXRlSGF2ZXJzaW5lRGlzdGFuY2UiLCJvcHRpbWl6ZUNsdXN0ZXJJbnRlcm5hbGx5IiwiY2x1c3RlckRlc3RpbmF0aW9ucyIsImVudHJ5TG9jYXRpb24iLCJhdmVyYWdlU3RheUhvdXJzIiwibGVuZ3RoIiwib3JkZXJlZERlc3RpbmF0aW9ucyIsImVudHJ5RGVzdGluYXRpb24iLCJ0b3RhbERpc3RhbmNlS20iLCJlc3RpbWF0ZWRUaW1lSG91cnMiLCJmaW5kTmVhcmVzdERlc3RpbmF0aW9uIiwicm91dGUiLCJ1bnZpc2l0ZWQiLCJTZXQiLCJmaWx0ZXIiLCJkIiwiaWQiLCJjdXJyZW50TG9jYXRpb24iLCJsb2NhdGlvbiIsInRvdGFsRGlzdGFuY2UiLCJzaXplIiwibmVhcmVzdCIsIm1pbkRpc3RhbmNlIiwiSW5maW5pdHkiLCJkZXN0aW5hdGlvbiIsIkFycmF5IiwiZnJvbSIsImRpc3RhbmNlIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJwdXNoIiwiZGVsZXRlIiwiaW50cmFDbHVzdGVyVHJhdmVsVGltZSIsImNhbGN1bGF0ZUludHJhQ2x1c3RlclRyYXZlbFRpbWUiLCJ0b3RhbFRpbWVIb3VycyIsImRlc3RpbmF0aW9ucyIsImRpc3RhbmNlS20iLCJ3YWxraW5nU3BlZWRLbWgiLCJ2YWxpZGF0ZUNsdXN0ZXJSb3V0ZSIsImlzc3VlcyIsInVuaXF1ZUlkcyIsIm1hcCIsInRvRml4ZWQiLCJpc1ZhbGlkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./lib/optimization/cluster-internal-optimizer.ts\n");

/***/ }),

/***/ "(action-browser)/./lib/optimization/complete-optimizer-v2.ts":
/*!***************************************************!*\
  !*** ./lib/optimization/complete-optimizer-v2.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   exportEnhancedOptimizationResult: () => (/* binding */ exportEnhancedOptimizationResult),\n/* harmony export */   generateMultiDayItinerary: () => (/* binding */ generateMultiDayItinerary),\n/* harmony export */   performCompleteOptimizationV2: () => (/* binding */ performCompleteOptimizationV2)\n/* harmony export */ });\n/* harmony import */ var _normalization_clustering__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./normalization-clustering */ \"(action-browser)/./lib/optimization/normalization-clustering.ts\");\n/* harmony import */ var _route_optimizer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./route-optimizer */ \"(action-browser)/./lib/optimization/route-optimizer.ts\");\n/* harmony import */ var _fairness_calculator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./fairness-calculator */ \"(action-browser)/./lib/optimization/fairness-calculator.ts\");\n/* harmony import */ var _transport_calculator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./transport-calculator */ \"(action-browser)/./lib/optimization/transport-calculator.ts\");\n/* harmony import */ var _detailed_route_generator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./detailed-route-generator */ \"(action-browser)/./lib/optimization/detailed-route-generator.ts\");\n/* harmony import */ var _route_visualizer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./route-visualizer */ \"(action-browser)/./lib/optimization/route-visualizer.ts\");\n// Enhanced complete optimization pipeline with multi-day scheduling\n\n\n\n\n\n// import { splitIntoDaysEnhanced } from './enhanced-day-splitter' // Temporarily disabled due to interface mismatches\n\n/**\n * Enhanced complete optimization pipeline with multi-day scheduling\n */ async function performCompleteOptimizationV2(preprocessedData, config = {\n    enableMultiDayScheduling: true\n}) {\n    const errors = [];\n    const warnings = [];\n    try {\n        // Step 1: Normalize and cluster\n        console.log(\"Starting enhanced optimization pipeline...\");\n        const normalizedData = await (0,_normalization_clustering__WEBPACK_IMPORTED_MODULE_0__.normalizeAndClusterData)(preprocessedData);\n        if (!normalizedData.validation.isValid) {\n            errors.push(...normalizedData.validation.issues);\n            return createErrorResult(errors, warnings);\n        }\n        warnings.push(...normalizedData.validation.warnings);\n        // Step 2: Optimize route\n        console.log(\"Running route optimization...\");\n        const optimizationResult = (0,_route_optimizer__WEBPACK_IMPORTED_MODULE_1__.optimizeRoute)(normalizedData, preprocessedData.departureLocation, preprocessedData.returnLocation, config.optimization);\n        // Step 3: Analyze results\n        const bestRoute = optimizationResult.bestSolution;\n        const fairnessAnalysis = (0,_fairness_calculator__WEBPACK_IMPORTED_MODULE_2__.analyzeFairnessDistribution)({\n            giniCoefficient: 1 - bestRoute.fairnessScore,\n            fairnessScore: bestRoute.fairnessScore,\n            userSatisfactions: Array.from(bestRoute.memberSatisfaction.entries()).map(([userKey, score])=>({\n                    userId: null,\n                    sessionId: null,\n                    userKey,\n                    userName: userKey,\n                    satisfactionScore: score,\n                    selectedDestinations: bestRoute.clusters.length,\n                    totalDestinations: normalizedData.clustering.clusters.length\n                })),\n            lowestSatisfaction: null,\n            highestSatisfaction: null\n        });\n        const transportAnalysis = (0,_transport_calculator__WEBPACK_IMPORTED_MODULE_3__.getTransportStats)(bestRoute.segments);\n        // Step 4: Generate detailed linear itinerary\n        console.log(\"Generating detailed itinerary...\");\n        const linearItinerary = await (0,_detailed_route_generator__WEBPACK_IMPORTED_MODULE_4__.generateDetailedItinerary)(bestRoute, preprocessedData, normalizedData.normalization.standardizedPreferences, config.routeGeneration);\n        // Add itinerary warnings\n        warnings.push(...linearItinerary.validation.warnings.map((w)=>w.message));\n        // Step 5: Split into multi-day schedule if enabled\n        let multiDayItinerary = null;\n        let scheduleAnalysis = createDefaultScheduleAnalysis();\n        if (config.enableMultiDayScheduling) {\n            console.log(\"Creating multi-day schedule...\");\n            const dailyConfig = {\n                ...config.dailySchedule,\n                accommodationQuality: config.accommodationQuality || \"standard\"\n            };\n            // multiDayItinerary = splitIntoDaysEnhanced(linearItinerary, dailyConfig) // Temporarily disabled\n            multiDayItinerary = null // Will be implemented in future version\n            ;\n            // Add multi-day warnings\n            if (multiDayItinerary?.validation) {\n                warnings.push(...multiDayItinerary.validation.overallWarnings || []);\n                if (multiDayItinerary.validation.overallErrors) {\n                    errors.push(...multiDayItinerary.validation.overallErrors);\n                }\n            }\n            // Create schedule analysis\n            scheduleAnalysis = multiDayItinerary ? createScheduleAnalysis(multiDayItinerary, config.accommodationQuality || \"standard\") : createDefaultScheduleAnalysis();\n        }\n        // Step 6: Create comprehensive summary\n        const summary = createEnhancedSummary(bestRoute, linearItinerary, multiDayItinerary, normalizedData, scheduleAnalysis);\n        // Step 7: Enhance transport analysis with detailed data\n        const enhancedTransportAnalysis = createEnhancedTransportAnalysis(transportAnalysis, linearItinerary, multiDayItinerary);\n        console.log(`Optimization complete: ${summary.selectedDestinations}/${summary.totalDestinations} destinations selected`);\n        console.log(`Schedule: ${summary.totalDays} days, ${summary.totalDistanceKm.toFixed(0)}km, fairness=${summary.fairnessScore.toFixed(2)}`);\n        if (config.enableMultiDayScheduling && multiDayItinerary) {\n            console.log(`Daily breakdown: ${scheduleAnalysis.paceDistribution.relaxed} relaxed, ${scheduleAnalysis.paceDistribution.moderate} moderate, ${scheduleAnalysis.paceDistribution.packed} packed days`);\n            console.log(`Estimated accommodation cost: $${summary.estimatedAccommodationCost}`);\n        }\n        return {\n            success: true,\n            route: bestRoute,\n            optimization: optimizationResult,\n            linearItinerary,\n            multiDayItinerary,\n            summary,\n            fairnessAnalysis,\n            transportAnalysis: enhancedTransportAnalysis,\n            scheduleAnalysis,\n            warnings,\n            errors\n        };\n    } catch (error) {\n        console.error(\"Error in enhanced optimization:\", error);\n        errors.push(error instanceof Error ? error.message : \"Unknown optimization error\");\n        return createErrorResult(errors, warnings);\n    }\n}\n/**\n * Create enhanced summary combining all optimization aspects\n */ function createEnhancedSummary(route, linearItinerary, multiDayItinerary, normalizedData, scheduleAnalysis) {\n    const baseData = {\n        totalDestinations: normalizedData.clustering.clusters.length,\n        selectedDestinations: route.clusters.length,\n        totalDistanceKm: route.totalDistanceKm,\n        fairnessScore: route.fairnessScore,\n        feasible: route.feasible\n    };\n    if (multiDayItinerary) {\n        const multiDayStats = multiDayItinerary.statistics;\n        // Calculate simple accommodation cost estimate\n        const accommodationCost = {\n            totalCostUSD: multiDayItinerary.accommodations.reduce((sum, acc)=>sum + (acc.estimatedCost.standard.min + acc.estimatedCost.standard.max) / 2, 0)\n        };\n        return {\n            ...baseData,\n            totalDays: multiDayItinerary.totalDays,\n            estimatedAccommodationCost: accommodationCost.totalCostUSD,\n            averageDestinationsPerDay: multiDayStats.averageDestinationsPerDay,\n            totalActiveHours: multiDayStats.totalActiveHours,\n            totalTravelHours: multiDayStats.totalTravelHours\n        };\n    } else {\n        // Fallback to simple calculation\n        const totalHours = route.totalTimeHours;\n        const estimatedDays = Math.ceil(totalHours / 9);\n        return {\n            ...baseData,\n            totalDays: estimatedDays,\n            estimatedAccommodationCost: estimatedDays > 1 ? (estimatedDays - 1) * 115 : 0,\n            averageDestinationsPerDay: route.clusters.length / estimatedDays,\n            totalActiveHours: totalHours * 0.7,\n            totalTravelHours: totalHours * 0.3 // Estimate 30% travel time\n        };\n    }\n}\n/**\n * Create schedule analysis from multi-day itinerary\n */ function createScheduleAnalysis(multiDayItinerary, accommodationQuality) {\n    const days = multiDayItinerary.daySchedules;\n    const statistics = multiDayItinerary.statistics;\n    // Calculate average meal breaks\n    const totalMealBreaks = days.reduce((sum, day)=>sum + day.meals.length, 0);\n    const avgMealBreaksPerDay = days.length > 0 ? totalMealBreaks / days.length : 0;\n    // Calculate pace distribution from day summaries\n    const paceCounts = {\n        relaxed: 0,\n        moderate: 0,\n        packed: 0\n    };\n    days.forEach((day)=>{\n        paceCounts[day.summary.paceRating]++;\n    });\n    return {\n        paceDistribution: paceCounts,\n        hasRestDayRecommendation: false,\n        restDayMessage: null,\n        accommodationQuality,\n        mealBreaksPerDay: avgMealBreaksPerDay\n    };\n}\n/**\n * Create default schedule analysis when multi-day is disabled\n */ function createDefaultScheduleAnalysis() {\n    return {\n        paceDistribution: {\n            relaxed: 0,\n            moderate: 0,\n            packed: 0\n        },\n        hasRestDayRecommendation: false,\n        accommodationQuality: \"standard\",\n        mealBreaksPerDay: 1\n    };\n}\n/**\n * Create enhanced transport analysis with multi-day data\n */ function createEnhancedTransportAnalysis(baseAnalysis, linearItinerary, multiDayItinerary) {\n    // Calculate detailed distances from segments\n    let walkingKm = 0, drivingKm = 0, flyingKm = 0;\n    for (const segment of linearItinerary.transportSegments){\n        switch(segment.transportMode){\n            case \"walking\":\n                walkingKm += segment.distanceKm;\n                break;\n            case \"driving\":\n                drivingKm += segment.distanceKm;\n                break;\n            case \"flying\":\n                flyingKm += segment.distanceKm;\n                break;\n        }\n    }\n    return {\n        ...baseAnalysis,\n        walkingDistanceKm: walkingKm,\n        drivingDistanceKm: drivingKm,\n        flyingDistanceKm: flyingKm\n    };\n}\n/**\n * Create error result\n */ function createErrorResult(errors, warnings) {\n    return {\n        success: false,\n        route: null,\n        optimization: null,\n        linearItinerary: null,\n        multiDayItinerary: null,\n        summary: {\n            totalDestinations: 0,\n            selectedDestinations: 0,\n            totalDays: 0,\n            totalDistanceKm: 0,\n            fairnessScore: 0,\n            feasible: false,\n            estimatedAccommodationCost: 0,\n            averageDestinationsPerDay: 0,\n            totalActiveHours: 0,\n            totalTravelHours: 0\n        },\n        fairnessAnalysis: {\n            isBalanced: false,\n            disparityLevel: \"high\",\n            recommendations: []\n        },\n        transportAnalysis: {\n            walkingSegments: 0,\n            walkingDistanceKm: 0,\n            drivingSegments: 0,\n            drivingDistanceKm: 0,\n            flyingSegments: 0,\n            flyingDistanceKm: 0,\n            modeChanges: 0\n        },\n        scheduleAnalysis: createDefaultScheduleAnalysis(),\n        warnings,\n        errors\n    };\n}\n/**\n * Generate human-readable multi-day itinerary\n */ function generateMultiDayItinerary(result) {\n    if (!result.success || !result.multiDayItinerary) {\n        return generateSimpleItinerary(result);\n    }\n    const lines = [];\n    const itinerary = result.multiDayItinerary;\n    // Header\n    lines.push(\"=== MULTI-DAY TRAVEL ITINERARY ===\");\n    lines.push(`Trip Duration: ${itinerary.daySchedules.length} days`);\n    lines.push(`Total Destinations: ${result.summary.totalDestinations}`);\n    lines.push(`Total Distance: ${result.summary.totalDistanceKm.toFixed(0)}km`);\n    lines.push(`Estimated Accommodation Cost: $${result.summary.estimatedAccommodationCost}`);\n    lines.push(`Fairness Score: ${(result.summary.fairnessScore * 100).toFixed(0)}%`);\n    lines.push(\"\");\n    // Daily schedules\n    for (const day of itinerary.daySchedules){\n        const dayOfWeek = day.date.toLocaleDateString(\"en-US\", {\n            weekday: \"long\"\n        });\n        lines.push(`--- Day ${day.dayNumber}: ${dayOfWeek}, ${day.date.toLocaleDateString()} ---`);\n        lines.push(`Schedule: ${day.startTime.toLocaleTimeString()} - ${day.endTime.toLocaleTimeString()}`);\n        lines.push(`Pace: ${day.summary.paceRating.toUpperCase()}`);\n        lines.push(\"\");\n        // Destinations\n        for (const destination of day.destinations){\n            const timeStr = destination.scheduledArrival.toLocaleTimeString(\"en-US\", {\n                hour: \"2-digit\",\n                minute: \"2-digit\"\n            });\n            lines.push(`${timeStr} - ${destination.visit.destinationName}`);\n        }\n        // Meals\n        for (const meal of day.meals){\n            lines.push(`${meal.startTime.toLocaleTimeString(\"en-US\", {\n                hour: \"2-digit\",\n                minute: \"2-digit\"\n            })} - 🍽️ ${meal.type}`);\n        }\n        // Accommodation\n        if (day.accommodation) {\n            lines.push(\"\");\n            lines.push(`🏨 Accommodation: ${day.accommodation.reasoning}`);\n            const avgCost = (day.accommodation.estimatedCostUSD.standard.min + day.accommodation.estimatedCostUSD.standard.max) / 2;\n            lines.push(`   Estimated cost: $${avgCost.toFixed(0)}/night`);\n            lines.push(`   Search radius: ${day.accommodation.searchRadius}km`);\n        }\n        lines.push(\"\");\n    }\n    // Summary statistics\n    lines.push(\"=== TRIP SUMMARY ===\");\n    lines.push(`Average ${result.summary.averageDestinationsPerDay.toFixed(1)} destinations per day`);\n    lines.push(`Daily pace: ${result.scheduleAnalysis.paceDistribution.relaxed} relaxed, ${result.scheduleAnalysis.paceDistribution.moderate} moderate, ${result.scheduleAnalysis.paceDistribution.packed} packed`);\n    if (result.scheduleAnalysis.hasRestDayRecommendation) {\n        lines.push(\"\");\n        lines.push(`⚠️ ${result.scheduleAnalysis.restDayMessage}`);\n    }\n    // Transport breakdown\n    lines.push(\"\");\n    lines.push(\"Transport breakdown:\");\n    lines.push(`✈️ Flying: ${result.transportAnalysis.flyingDistanceKm.toFixed(0)}km`);\n    lines.push(`🚗 Driving: ${result.transportAnalysis.drivingDistanceKm.toFixed(0)}km`);\n    lines.push(`🚶 Walking: ${result.transportAnalysis.walkingDistanceKm.toFixed(1)}km`);\n    return lines.join(\"\\n\");\n}\n/**\n * Generate simple itinerary when multi-day is not available\n */ function generateSimpleItinerary(result) {\n    if (!result.success || !result.linearItinerary) {\n        return \"Optimization failed. Please check errors and warnings.\";\n    }\n    return (0,_route_visualizer__WEBPACK_IMPORTED_MODULE_5__.formatItineraryAsText)(result.linearItinerary);\n}\n/**\n * Export optimization result to shareable format\n */ function exportEnhancedOptimizationResult(result) {\n    if (!result.success) {\n        return {\n            success: false,\n            data: {\n                errors: result.errors,\n                warnings: result.warnings\n            },\n            format: \"json\"\n        };\n    }\n    const exportData = {\n        summary: result.summary,\n        schedule: result.multiDayItinerary ? {\n            days: result.multiDayItinerary.daySchedules.map((day)=>({\n                    dayNumber: day.dayNumber,\n                    date: day.date.toISOString(),\n                    dayOfWeek: day.date.toLocaleDateString(\"en-US\", {\n                        weekday: \"long\"\n                    }),\n                    startTime: day.startTime.toISOString(),\n                    endTime: day.endTime.toISOString(),\n                    pace: day.summary.paceRating,\n                    destinationCount: day.summary.totalDestinations,\n                    travelHours: day.summary.totalTravelHours,\n                    activeHours: day.summary.totalActiveHours,\n                    destinations: day.destinations.map((dest)=>({\n                            name: dest.visit.destinationName,\n                            arrivalTime: dest.scheduledArrival.toISOString(),\n                            departureTime: dest.scheduledDeparture.toISOString()\n                        })),\n                    accommodation: day.accommodation ? {\n                        location: day.accommodation.location,\n                        estimatedCostUSD: day.accommodation.estimatedCostUSD,\n                        reasoning: day.accommodation.reasoning\n                    } : null\n                })),\n            accommodations: result.multiDayItinerary.accommodations,\n            totalAccommodationCost: result.summary.estimatedAccommodationCost\n        } : null,\n        fairness: result.fairnessAnalysis,\n        transport: result.transportAnalysis,\n        metadata: {\n            generatedAt: new Date().toISOString(),\n            optimizationTimeMs: result.optimization?.executionTimeMs || 0,\n            algorithm: \"Multi-objective optimization with fairness weighting and daily scheduling\"\n        }\n    };\n    return {\n        success: true,\n        data: exportData,\n        format: \"json\"\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL2xpYi9vcHRpbWl6YXRpb24vY29tcGxldGUtb3B0aW1pemVyLXYyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBLG9FQUFvRTtBQWtCQTtBQUNuQjtBQUNrQjtBQUNUO0FBQ1k7QUFDdEUsc0hBQXNIO0FBQzVEO0FBNEQxRDs7Q0FFQyxHQUNNLGVBQWVNLDhCQUNwQkMsZ0JBQWtDLEVBQ2xDQyxTQUFxQztJQUFFQywwQkFBMEI7QUFBSyxDQUFDO0lBRXZFLE1BQU1DLFNBQW1CLEVBQUU7SUFDM0IsTUFBTUMsV0FBcUIsRUFBRTtJQUU3QixJQUFJO1FBQ0YsZ0NBQWdDO1FBQ2hDQyxRQUFRQyxHQUFHLENBQUM7UUFDWixNQUFNQyxpQkFBaUIsTUFBTWQsa0ZBQXVCQSxDQUFDTztRQUVyRCxJQUFJLENBQUNPLGVBQWVDLFVBQVUsQ0FBQ0MsT0FBTyxFQUFFO1lBQ3RDTixPQUFPTyxJQUFJLElBQUlILGVBQWVDLFVBQVUsQ0FBQ0csTUFBTTtZQUMvQyxPQUFPQyxrQkFBa0JULFFBQVFDO1FBQ25DO1FBRUFBLFNBQVNNLElBQUksSUFBSUgsZUFBZUMsVUFBVSxDQUFDSixRQUFRO1FBRW5ELHlCQUF5QjtRQUN6QkMsUUFBUUMsR0FBRyxDQUFDO1FBQ1osTUFBTU8scUJBQXFCbkIsK0RBQWFBLENBQ3RDYSxnQkFDQVAsaUJBQWlCYyxpQkFBaUIsRUFDbENkLGlCQUFpQmUsY0FBYyxFQUMvQmQsT0FBT2UsWUFBWTtRQUdyQiwwQkFBMEI7UUFDMUIsTUFBTUMsWUFBWUosbUJBQW1CSyxZQUFZO1FBQ2pELE1BQU1DLG1CQUFtQnhCLGlGQUEyQkEsQ0FBQztZQUNuRHlCLGlCQUFpQixJQUFJSCxVQUFVSSxhQUFhO1lBQzVDQSxlQUFlSixVQUFVSSxhQUFhO1lBQ3RDQyxtQkFBbUJDLE1BQU1DLElBQUksQ0FBQ1AsVUFBVVEsa0JBQWtCLENBQUNDLE9BQU8sSUFBSUMsR0FBRyxDQUN2RSxDQUFDLENBQUNDLFNBQVNDLE1BQU0sR0FB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b3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMvLi9saWIvb3B0aW1pemF0aW9uL2NvbXBsZXRlLW9wdGltaXplci12Mi50cz8yMzM0Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEVuaGFuY2VkIGNvbXBsZXRlIG9wdGltaXphdGlvbiBwaXBlbGluZSB3aXRoIG11bHRpLWRheSBzY2hlZHVsaW5nXG5cbmltcG9ydCB0eXBlIHsgUHJlcHJvY2Vzc2VkRGF0YSB9IGZyb20gJy4vdHlwZXMnXG5pbXBvcnQgdHlwZSB7IFxuICBPcHRpbWl6YXRpb25SZXN1bHQsXG4gIE9wdGltaXphdGlvbkNvbmZpZyxcbiAgUm91dGVTb2x1dGlvblxufSBmcm9tICcuL2FsZ29yaXRobS10eXBlcydcbmltcG9ydCB0eXBlIHsgRGV0YWlsZWRJdGluZXJhcnksIFJvdXRlR2VuZXJhdGlvbkNvbmZpZyB9IGZyb20gJy4vZGV0YWlsZWQtcm91dGUtdHlwZXMnXG5pbXBvcnQgdHlwZSB7IE11bHRpRGF5SXRpbmVyYXJ5IH0gZnJvbSAnLi9kYWlseS1zY2hlZHVsZS10eXBlcydcbi8vIGltcG9ydCB0eXBlIHsgRW5oYW5jZWREYWlseUNvbmZpZyB9IGZyb20gJy4vZW5oYW5jZWQtZGF5LXNwbGl0dGVyJ1xuaW1wb3J0IHR5cGUgeyBEYWlseVNjaGVkdWxlQ29uZmlnIH0gZnJvbSAnLi9kYWlseS1zY2hlZHVsZS10eXBlcydcblxuLy8gVGVtcG9yYXJ5IGludGVyZmFjZSB1bnRpbCBlbmhhbmNlZC1kYXktc3BsaXR0ZXIgaXMgZml4ZWRcbmludGVyZmFjZSBFbmhhbmNlZERhaWx5Q29uZmlnIGV4dGVuZHMgRGFpbHlTY2hlZHVsZUNvbmZpZyB7XG4gIGFjY29tbW9kYXRpb25RdWFsaXR5PzogJ2J1ZGdldCcgfCAnc3RhbmRhcmQnIHwgJ3ByZW1pdW0nXG59XG5cbmltcG9ydCB7IG5vcm1hbGl6ZUFuZENsdXN0ZXJEYXRhIH0gZnJvbSAnLi9ub3JtYWxpemF0aW9uLWNsdXN0ZXJpbmcnXG5pbXBvcnQgeyBvcHRpbWl6ZVJvdXRlIH0gZnJvbSAnLi9yb3V0ZS1vcHRpbWl6ZXInXG5pbXBvcnQgeyBhbmFseXplRmFpcm5lc3NEaXN0cmlidXRpb24gfSBmcm9tICcuL2ZhaXJuZXNzLWNhbGN1bGF0b3InXG5pbXBvcnQgeyBnZXRUcmFuc3BvcnRTdGF0cyB9IGZyb20gJy4vdHJhbnNwb3J0LWNhbGN1bGF0b3InXG5pbXBvcnQgeyBnZW5lcmF0ZURldGFpbGVkSXRpbmVyYXJ5IH0gZnJvbSAnLi9kZXRhaWxlZC1yb3V0ZS1nZW5lcmF0b3InXG4vLyBpbXBvcnQgeyBzcGxpdEludG9EYXlzRW5oYW5jZWQgfSBmcm9tICcuL2VuaGFuY2VkLWRheS1zcGxpdHRlcicgLy8gVGVtcG9yYXJpbHkgZGlzYWJsZWQgZHVlIHRvIGludGVyZmFjZSBtaXNtYXRjaGVzXG5pbXBvcnQgeyBmb3JtYXRJdGluZXJhcnlBc1RleHQgfSBmcm9tICcuL3JvdXRlLXZpc3VhbGl6ZXInXG5pbXBvcnQgeyBjYWxjdWxhdGVUb3RhbEFjY29tbW9kYXRpb25Db3N0IH0gZnJvbSAnLi9hY2NvbW1vZGF0aW9uLXN1Z2dlc3RlcidcblxuLy8gRW5oYW5jZWQgb3B0aW1pemF0aW9uIHJlc3VsdCB3aXRoIG11bHRpLWRheSBzY2hlZHVsaW5nXG5leHBvcnQgaW50ZXJmYWNlIEVuaGFuY2VkT3B0aW1pemF0aW9uUmVzdWx0IHtcbiAgc3VjY2VzczogYm9vbGVhblxuICByb3V0ZTogUm91dGVTb2x1dGlvbiB8IG51bGxcbiAgb3B0aW1pemF0aW9uOiBPcHRpbWl6YXRpb25SZXN1bHQgfCBudWxsXG4gIGxpbmVhckl0aW5lcmFyeTogRGV0YWlsZWRJdGluZXJhcnkgfCBudWxsXG4gIG11bHRpRGF5SXRpbmVyYXJ5OiBNdWx0aURheUl0aW5lcmFyeSB8IG51bGxcbiAgc3VtbWFyeToge1xuICAgIHRvdGFsRGVzdGluYXRpb25zOiBudW1iZXJcbiAgICBzZWxlY3RlZERlc3RpbmF0aW9uczogbnVtYmVyXG4gICAgdG90YWxEYXlzOiBudW1iZXJcbiAgICB0b3RhbERpc3RhbmNlS206IG51bWJlclxuICAgIGZhaXJuZXNzU2NvcmU6IG51bWJlclxuICAgIGZlYXNpYmxlOiBib29sZWFuXG4gICAgZXN0aW1hdGVkQWNjb21tb2RhdGlvbkNvc3Q6IG51bWJlclxuICAgIGF2ZXJhZ2VEZXN0aW5hdGlvbnNQZXJEYXk6IG51bWJlclxuICAgIHRvdGFsQWN0aXZlSG91cnM6IG51bWJlclxuICAgIHRvdGFsVHJhdmVsSG91cnM6IG51bWJlclxuICB9XG4gIGZhaXJuZXNzQW5hbHlzaXM6IHtcbiAgICBpc0JhbGFuY2VkOiBib29sZWFuXG4gICAgZGlzcGFyaXR5TGV2ZWw6ICdsb3cnIHwgJ21lZGl1bScgfCAnaGlnaCdcbiAgICByZWNvbW1lbmRhdGlvbnM6IHN0cmluZ1tdXG4gIH1cbiAgdHJhbnNwb3J0QW5hbHlzaXM6IHtcbiAgICB3YWxraW5nU2VnbWVudHM6IG51bWJlclxuICAgIHdhbGtpbmdEaXN0YW5jZUttOiBudW1iZXJcbiAgICBkcml2aW5nU2VnbWVudHM6IG51bWJlclxuICAgIGRyaXZpbmdEaXN0YW5jZUttOiBudW1iZXJcbiAgICBmbHlpbmdTZWdtZW50czogbnVtYmVyXG4gICAgZmx5aW5nRGlzdGFuY2VLbTogbnVtYmVyXG4gICAgbW9kZUNoYW5nZXM6IG51bWJlclxuICB9XG4gIHNjaGVkdWxlQW5hbHlzaXM6IHtcbiAgICBwYWNlRGlzdHJpYnV0aW9uOiB7XG4gICAgICByZWxheGVkOiBudW1iZXJcbiAgICAgIG1vZGVyYXRlOiBudW1iZXJcbiAgICAgIHBhY2tlZDogbnVtYmVyXG4gICAgfVxuICAgIGhhc1Jlc3REYXlSZWNvbW1lbmRhdGlvbjogYm9vbGVhblxuICAgIHJlc3REYXlNZXNzYWdlPzogc3RyaW5nXG4gICAgYWNjb21tb2RhdGlvblF1YWxpdHk6ICdidWRnZXQnIHwgJ3N0YW5kYXJkJyB8ICdwcmVtaXVtJ1xuICAgIG1lYWxCcmVha3NQZXJEYXk6IG51bWJlclxuICB9XG4gIHdhcm5pbmdzOiBzdHJpbmdbXVxuICBlcnJvcnM6IHN0cmluZ1tdXG59XG5cbi8vIEV4dGVuZGVkIGNvbmZpZ3VyYXRpb24gZm9yIGNvbXBsZXRlIG9wdGltaXphdGlvblxuZXhwb3J0IGludGVyZmFjZSBDb21wbGV0ZU9wdGltaXphdGlvbkNvbmZpZyB7XG4gIG9wdGltaXphdGlvbj86IFBhcnRpYWw8T3B0aW1pemF0aW9uQ29uZmlnPlxuICByb3V0ZUdlbmVyYXRpb24/OiBQYXJ0aWFsPFJvdXRlR2VuZXJhdGlvbkNvbmZpZz5cbiAgZGFpbHlTY2hlZHVsZT86IFBhcnRpYWw8RW5oYW5jZWREYWlseUNvbmZpZz5cbiAgZW5hYmxlTXVsdGlEYXlTY2hlZHVsaW5nOiBib29sZWFuXG4gIGFjY29tbW9kYXRpb25RdWFsaXR5PzogJ2J1ZGdldCcgfCAnc3RhbmRhcmQnIHwgJ3ByZW1pdW0nXG59XG5cbi8qKlxuICogRW5oYW5jZWQgY29tcGxldGUgb3B0aW1pemF0aW9uIHBpcGVsaW5lIHdpdGggbXVsdGktZGF5IHNjaGVkdWxpbmdcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBlcmZvcm1Db21wbGV0ZU9wdGltaXphdGlvblYyKFxuICBwcmVwcm9jZXNzZWREYXRhOiBQcmVwcm9jZXNzZWREYXRhLFxuICBjb25maWc6IENvbXBsZXRlT3B0aW1pemF0aW9uQ29uZmlnID0geyBlbmFibGVNdWx0aURheVNjaGVkdWxpbmc6IHRydWUgfVxuKTogUHJvbWlzZTxFbmhhbmNlZE9wdGltaXphdGlvblJlc3VsdD4ge1xuICBjb25zdCBlcnJvcnM6IHN0cmluZ1tdID0gW11cbiAgY29uc3Qgd2FybmluZ3M6IHN0cmluZ1tdID0gW11cbiAgXG4gIHRyeSB7XG4gICAgLy8gU3RlcCAxOiBOb3JtYWxpemUgYW5kIGNsdXN0ZXJcbiAgICBjb25zb2xlLmxvZygnU3RhcnRpbmcgZW5oYW5jZWQgb3B0aW1pemF0aW9uIHBpcGVsaW5lLi4uJylcbiAgICBjb25zdCBub3JtYWxpemVkRGF0YSA9IGF3YWl0IG5vcm1hbGl6ZUFuZENsdXN0ZXJEYXRhKHByZXByb2Nlc3NlZERhdGEpXG4gICAgXG4gICAgaWYgKCFub3JtYWxpemVkRGF0YS52YWxpZGF0aW9uLmlzVmFsaWQpIHtcbiAgICAgIGVycm9ycy5wdXNoKC4uLm5vcm1hbGl6ZWREYXRhLnZhbGlkYXRpb24uaXNzdWVzKVxuICAgICAgcmV0dXJuIGNyZWF0ZUVycm9yUmVzdWx0KGVycm9ycywgd2FybmluZ3MpXG4gICAgfVxuICAgIFxuICAgIHdhcm5pbmdzLnB1c2goLi4ubm9ybWFsaXplZERhdGEudmFsaWRhdGlvbi53YXJuaW5ncylcbiAgICBcbiAgICAvLyBTdGVwIDI6IE9wdGltaXplIHJvdXRlXG4gICAgY29uc29sZS5sb2coJ1J1bm5pbmcgcm91dGUgb3B0aW1pemF0aW9uLi4uJylcbiAgICBjb25zdCBvcHRpbWl6YXRpb25SZXN1bHQgPSBvcHRpbWl6ZVJvdXRlKFxuICAgICAgbm9ybWFsaXplZERhdGEsXG4gICAgICBwcmVwcm9jZXNzZWREYXRhLmRlcGFydHVyZUxvY2F0aW9uLFxuICAgICAgcHJlcHJvY2Vzc2VkRGF0YS5yZXR1cm5Mb2NhdGlvbixcbiAgICAgIGNvbmZpZy5vcHRpbWl6YXRpb25cbiAgICApXG4gICAgXG4gICAgLy8gU3RlcCAzOiBBbmFseXplIHJlc3VsdHNcbiAgICBjb25zdCBiZXN0Um91dGUgPSBvcHRpbWl6YXRpb25SZXN1bHQuYmVzdFNvbHV0aW9uXG4gICAgY29uc3QgZmFpcm5lc3NBbmFseXNpcyA9IGFuYWx5emVGYWlybmVzc0Rpc3RyaWJ1dGlvbih7XG4gICAgICBnaW5pQ29lZmZpY2llbnQ6IDEgLSBiZXN0Um91dGUuZmFpcm5lc3NTY29yZSxcbiAgICAgIGZhaXJuZXNzU2NvcmU6IGJlc3RSb3V0ZS5mYWlybmVzc1Njb3JlLFxuICAgICAgdXNlclNhdGlzZmFjdGlvbnM6IEFycmF5LmZyb20oYmVzdFJvdXRlLm1lbWJlclNhdGlzZmFjdGlvbi5lbnRyaWVzKCkpLm1hcChcbiAgICAgICAgKFt1c2VyS2V5LCBzY29yZV0pID0+ICh7XG4gICAgICAgICAgdXNlcklkOiBudWxsLFxuICAgICAgICAgIHNlc3Npb25JZDogbnVsbCxcbiAgICAgICAgICB1c2VyS2V5LFxuICAgICAgICAgIHVzZXJOYW1lOiB1c2VyS2V5LFxuICAgICAgICAgIHNhdGlzZmFjdGlvblNjb3JlOiBzY29yZSxcbiAgICAgICAgICBzZWxlY3RlZERlc3RpbmF0aW9uczogYmVzdFJvdXRlLmNsdXN0ZXJzLmxlbmd0aCxcbiAgICAgICAgICB0b3RhbERlc3RpbmF0aW9uczogbm9ybWFsaXplZERhdGEuY2x1c3RlcmluZy5jbHVzdGVycy5sZW5ndGhcbiAgICAgICAgfSlcbiAgICAgICksXG4gICAgICBsb3dlc3RTYXRpc2ZhY3Rpb246IG51bGwsXG4gICAgICBoaWdoZXN0U2F0aXNmYWN0aW9uOiBudWxsXG4gICAgfSlcbiAgICBcbiAgICBjb25zdCB0cmFuc3BvcnRBbmFseXNpcyA9IGdldFRyYW5zcG9ydFN0YXRzKGJlc3RSb3V0ZS5zZWdtZW50cylcbiAgICBcbiAgICAvLyBTdGVwIDQ6IEdlbmVyYXRlIGRldGFpbGVkIGxpbmVhciBpdGluZXJhcnlcbiAgICBjb25zb2xlLmxvZygnR2VuZXJhdGluZyBkZXRhaWxlZCBpdGluZXJhcnkuLi4nKVxuICAgIGNvbnN0IGxpbmVhckl0aW5lcmFyeSA9IGF3YWl0IGdlbmVyYXRlRGV0YWlsZWRJdGluZXJhcnkoXG4gICAgICBiZXN0Um91dGUsXG4gICAgICBwcmVwcm9jZXNzZWREYXRhLFxuICAgICAgbm9ybWFsaXplZERhdGEubm9ybWFsaXphdGlvbi5zdGFuZGFyZGl6ZWRQcmVmZXJlbmNlcyxcbiAgICAgIGNvbmZpZy5yb3V0ZUdlbmVyYXRpb25cbiAgICApXG4gICAgXG4gICAgLy8gQWRkIGl0aW5lcmFyeSB3YXJuaW5nc1xuICAgIHdhcm5pbmdzLnB1c2goLi4ubGluZWFySXRpbmVyYXJ5LnZhbGlkYXRpb24ud2FybmluZ3MubWFwKHcgPT4gdy5tZXNzYWdlKSlcbiAgICBcbiAgICAvLyBTdGVwIDU6IFNwbGl0IGludG8gbXVsdGktZGF5IHNjaGVkdWxlIGlmIGVuYWJsZWRcbiAgICBsZXQgbXVsdGlEYXlJdGluZXJhcnk6IE11bHRpRGF5SXRpbmVyYXJ5IHwgbnVsbCA9IG51bGxcbiAgICBsZXQgc2NoZWR1bGVBbmFseXNpcyA9IGNyZWF0ZURlZmF1bHRTY2hlZHVsZUFuYWx5c2lzKClcbiAgICBcbiAgICBpZiAoY29uZmlnLmVuYWJsZU11bHRpRGF5U2NoZWR1bGluZykge1xuICAgICAgY29uc29sZS5sb2coJ0NyZWF0aW5nIG11bHRpLWRheSBzY2hlZHVsZS4uLicpXG4gICAgICBcbiAgICAgIGNvbnN0IGRhaWx5Q29uZmlnOiBQYXJ0aWFsPEVuaGFuY2VkRGFpbHlDb25maWc+ID0ge1xuICAgICAgICAuLi5jb25maWcuZGFpbHlTY2hlZHVsZSxcbiAgICAgICAgYWNjb21tb2RhdGlvblF1YWxpdHk6IGNvbmZpZy5hY2NvbW1vZGF0aW9uUXVhbGl0eSB8fCAnc3RhbmRhcmQnXG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIG11bHRpRGF5SXRpbmVyYXJ5ID0gc3BsaXRJbnRvRGF5c0VuaGFuY2VkKGxpbmVhckl0aW5lcmFyeSwgZGFpbHlDb25maWcpIC8vIFRlbXBvcmFyaWx5IGRpc2FibGVkXG4gICAgICBtdWx0aURheUl0aW5lcmFyeSA9IG51bGwgYXMgTXVsdGlEYXlJdGluZXJhcnkgfCBudWxsIC8vIFdpbGwgYmUgaW1wbGVtZW50ZWQgaW4gZnV0dXJlIHZlcnNpb25cbiAgICAgIFxuICAgICAgLy8gQWRkIG11bHRpLWRheSB3YXJuaW5nc1xuICAgICAgaWYgKG11bHRpRGF5SXRpbmVyYXJ5Py52YWxpZGF0aW9uKSB7XG4gICAgICAgIHdhcm5pbmdzLnB1c2goLi4ubXVsdGlEYXlJdGluZXJhcnkudmFsaWRhdGlvbi5vdmVyYWxsV2FybmluZ3MgfHwgW10pXG4gICAgICAgIGlmIChtdWx0aURheUl0aW5lcmFyeS52YWxpZGF0aW9uLm92ZXJhbGxFcnJvcnMpIHtcbiAgICAgICAgICBlcnJvcnMucHVzaCguLi5tdWx0aURheUl0aW5lcmFyeS52YWxpZGF0aW9uLm92ZXJhbGxFcnJvcnMpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ3JlYXRlIHNjaGVkdWxlIGFuYWx5c2lzXG4gICAgICBzY2hlZHVsZUFuYWx5c2lzID0gbXVsdGlEYXlJdGluZXJhcnkgPyBjcmVhdGVTY2hlZHVsZUFuYWx5c2lzKG11bHRpRGF5SXRpbmVyYXJ5LCBjb25maWcuYWNjb21tb2RhdGlvblF1YWxpdHkgfHwgJ3N0YW5kYXJkJykgOiBjcmVhdGVEZWZhdWx0U2NoZWR1bGVBbmFseXNpcygpXG4gICAgfVxuICAgIFxuICAgIC8vIFN0ZXAgNjogQ3JlYXRlIGNvbXByZWhlbnNpdmUgc3VtbWFyeVxuICAgIGNvbnN0IHN1bW1hcnkgPSBjcmVhdGVFbmhhbmNlZFN1bW1hcnkoXG4gICAgICBiZXN0Um91dGUsXG4gICAgICBsaW5lYXJJdGluZXJhcnksXG4gICAgICBtdWx0aURheUl0aW5lcmFyeSxcbiAgICAgIG5vcm1hbGl6ZWREYXRhLFxuICAgICAgc2NoZWR1bGVBbmFseXNpc1xuICAgIClcbiAgICBcbiAgICAvLyBTdGVwIDc6IEVuaGFuY2UgdHJhbnNwb3J0IGFuYWx5c2lzIHdpdGggZGV0YWlsZWQgZGF0YVxuICAgIGNvbnN0IGVuaGFuY2VkVHJhbnNwb3J0QW5hbHlzaXMgPSBjcmVhdGVFbmhhbmNlZFRyYW5zcG9ydEFuYWx5c2lzKFxuICAgICAgdHJhbnNwb3J0QW5hbHlzaXMsXG4gICAgICBsaW5lYXJJdGluZXJhcnksXG4gICAgICBtdWx0aURheUl0aW5lcmFyeVxuICAgIClcbiAgICBcbiAgICBjb25zb2xlLmxvZyhgT3B0aW1pemF0aW9uIGNvbXBsZXRlOiAke3N1bW1hcnkuc2VsZWN0ZWREZXN0aW5hdGlvbnN9LyR7c3VtbWFyeS50b3RhbERlc3RpbmF0aW9uc30gZGVzdGluYXRpb25zIHNlbGVjdGVkYClcbiAgICBjb25zb2xlLmxvZyhgU2NoZWR1bGU6ICR7c3VtbWFyeS50b3RhbERheXN9IGRheXMsICR7c3VtbWFyeS50b3RhbERpc3RhbmNlS20udG9GaXhlZCgwKX1rbSwgZmFpcm5lc3M9JHtzdW1tYXJ5LmZhaXJuZXNzU2NvcmUudG9GaXhlZCgyKX1gKVxuICAgIFxuICAgIGlmIChjb25maWcuZW5hYmxlTXVsdGlEYXlTY2hlZHVsaW5nICYmIG11bHRpRGF5SXRpbmVyYXJ5KSB7XG4gICAgICBjb25zb2xlLmxvZyhgRGFpbHkgYnJlYWtkb3duOiAke3NjaGVkdWxlQW5hbHlzaXMucGFjZURpc3RyaWJ1dGlvbi5yZWxheGVkfSByZWxheGVkLCAke3NjaGVkdWxlQW5hbHlzaXMucGFjZURpc3RyaWJ1dGlvbi5tb2RlcmF0ZX0gbW9kZXJhdGUsICR7c2NoZWR1bGVBbmFseXNpcy5wYWNlRGlzdHJpYnV0aW9uLnBhY2tlZH0gcGFja2VkIGRheXNgKVxuICAgICAgY29uc29sZS5sb2coYEVzdGltYXRlZCBhY2NvbW1vZGF0aW9uIGNvc3Q6ICQke3N1bW1hcnkuZXN0aW1hdGVkQWNjb21tb2RhdGlvbkNvc3R9YClcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICByb3V0ZTogYmVzdFJvdXRlLFxuICAgICAgb3B0aW1pemF0aW9uOiBvcHRpbWl6YXRpb25SZXN1bHQsXG4gICAgICBsaW5lYXJJdGluZXJhcnksXG4gICAgICBtdWx0aURheUl0aW5lcmFyeSxcbiAgICAgIHN1bW1hcnksXG4gICAgICBmYWlybmVzc0FuYWx5c2lzLFxuICAgICAgdHJhbnNwb3J0QW5hbHlzaXM6IGVuaGFuY2VkVHJhbnNwb3J0QW5hbHlzaXMsXG4gICAgICBzY2hlZHVsZUFuYWx5c2lzLFxuICAgICAgd2FybmluZ3MsXG4gICAgICBlcnJvcnNcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gZW5oYW5jZWQgb3B0aW1pemF0aW9uOicsIGVycm9yKVxuICAgIGVycm9ycy5wdXNoKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gb3B0aW1pemF0aW9uIGVycm9yJylcbiAgICByZXR1cm4gY3JlYXRlRXJyb3JSZXN1bHQoZXJyb3JzLCB3YXJuaW5ncylcbiAgfVxufVxuXG4vKipcbiAqIENyZWF0ZSBlbmhhbmNlZCBzdW1tYXJ5IGNvbWJpbmluZyBhbGwgb3B0aW1pemF0aW9uIGFzcGVjdHNcbiAqL1xuZnVuY3Rpb24gY3JlYXRlRW5oYW5jZWRTdW1tYXJ5KFxuICByb3V0ZTogUm91dGVTb2x1dGlvbixcbiAgbGluZWFySXRpbmVyYXJ5OiBEZXRhaWxlZEl0aW5lcmFyeSxcbiAgbXVsdGlEYXlJdGluZXJhcnk6IE11bHRpRGF5SXRpbmVyYXJ5IHwgbnVsbCxcbiAgbm9ybWFsaXplZERhdGE6IGFueSxcbiAgc2NoZWR1bGVBbmFseXNpczogYW55XG4pOiBFbmhhbmNlZE9wdGltaXphdGlvblJlc3VsdFsnc3VtbWFyeSddIHtcbiAgY29uc3QgYmFzZURhdGEgPSB7XG4gICAgdG90YWxEZXN0aW5hdGlvbnM6IG5vcm1hbGl6ZWREYXRhLmNsdXN0ZXJpbmcuY2x1c3RlcnMubGVuZ3RoLFxuICAgIHNlbGVjdGVkRGVzdGluYXRpb25zOiByb3V0ZS5jbHVzdGVycy5sZW5ndGgsXG4gICAgdG90YWxEaXN0YW5jZUttOiByb3V0ZS50b3RhbERpc3RhbmNlS20sXG4gICAgZmFpcm5lc3NTY29yZTogcm91dGUuZmFpcm5lc3NTY29yZSxcbiAgICBmZWFzaWJsZTogcm91dGUuZmVhc2libGVcbiAgfVxuICBcbiAgaWYgKG11bHRpRGF5SXRpbmVyYXJ5KSB7XG4gICAgY29uc3QgbXVsdGlEYXlTdGF0cyA9IG11bHRpRGF5SXRpbmVyYXJ5LnN0YXRpc3RpY3NcbiAgICAvLyBDYWxjdWxhdGUgc2ltcGxlIGFjY29tbW9kYXRpb24gY29zdCBlc3RpbWF0ZVxuICAgIGNvbnN0IGFjY29tbW9kYXRpb25Db3N0ID0ge1xuICAgICAgdG90YWxDb3N0VVNEOiBtdWx0aURheUl0aW5lcmFyeS5hY2NvbW1vZGF0aW9ucy5yZWR1Y2UoKHN1bSwgYWNjKSA9PiBcbiAgICAgICAgc3VtICsgKGFjYy5lc3RpbWF0ZWRDb3N0LnN0YW5kYXJkLm1pbiArIGFjYy5lc3RpbWF0ZWRDb3N0LnN0YW5kYXJkLm1heCkgLyAyLCAwXG4gICAgICApXG4gICAgfVxuICAgIFxuICAgIHJldHVybiB7XG4gICAgICAuLi5iYXNlRGF0YSxcbiAgICAgIHRvdGFsRGF5czogbXVsdGlEYXlJdGluZXJhcnkudG90YWxEYXlzLFxuICAgICAgZXN0aW1hdGVkQWNjb21tb2RhdGlvbkNvc3Q6IGFjY29tbW9kYXRpb25Db3N0LnRvdGFsQ29zdFVTRCxcbiAgICAgIGF2ZXJhZ2VEZXN0aW5hdGlvbnNQZXJEYXk6IG11bHRpRGF5U3RhdHMuYXZlcmFnZURlc3RpbmF0aW9uc1BlckRheSxcbiAgICAgIHRvdGFsQWN0aXZlSG91cnM6IG11bHRpRGF5U3RhdHMudG90YWxBY3RpdmVIb3VycyxcbiAgICAgIHRvdGFsVHJhdmVsSG91cnM6IG11bHRpRGF5U3RhdHMudG90YWxUcmF2ZWxIb3Vyc1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBGYWxsYmFjayB0byBzaW1wbGUgY2FsY3VsYXRpb25cbiAgICBjb25zdCB0b3RhbEhvdXJzID0gcm91dGUudG90YWxUaW1lSG91cnNcbiAgICBjb25zdCBlc3RpbWF0ZWREYXlzID0gTWF0aC5jZWlsKHRvdGFsSG91cnMgLyA5KVxuICAgIFxuICAgIHJldHVybiB7XG4gICAgICAuLi5iYXNlRGF0YSxcbiAgICAgIHRvdGFsRGF5czogZXN0aW1hdGVkRGF5cyxcbiAgICAgIGVzdGltYXRlZEFjY29tbW9kYXRpb25Db3N0OiBlc3RpbWF0ZWREYXlzID4gMSA/IChlc3RpbWF0ZWREYXlzIC0gMSkgKiAxMTUgOiAwLCAvLyBEZWZhdWx0IHN0YW5kYXJkIHJhdGVcbiAgICAgIGF2ZXJhZ2VEZXN0aW5hdGlvbnNQZXJEYXk6IHJvdXRlLmNsdXN0ZXJzLmxlbmd0aCAvIGVzdGltYXRlZERheXMsXG4gICAgICB0b3RhbEFjdGl2ZUhvdXJzOiB0b3RhbEhvdXJzICogMC43LCAvLyBFc3RpbWF0ZSA3MCUgYWN0aXZlIHRpbWVcbiAgICAgIHRvdGFsVHJhdmVsSG91cnM6IHRvdGFsSG91cnMgKiAwLjMgIC8vIEVzdGltYXRlIDMwJSB0cmF2ZWwgdGltZVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIENyZWF0ZSBzY2hlZHVsZSBhbmFseXNpcyBmcm9tIG11bHRpLWRheSBpdGluZXJhcnlcbiAqL1xuZnVuY3Rpb24gY3JlYXRlU2NoZWR1bGVBbmFseXNpcyhcbiAgbXVsdGlEYXlJdGluZXJhcnk6IE11bHRpRGF5SXRpbmVyYXJ5LFxuICBhY2NvbW1vZGF0aW9uUXVhbGl0eTogJ2J1ZGdldCcgfCAnc3RhbmRhcmQnIHwgJ3ByZW1pdW0nXG4pOiBhbnkge1xuICBjb25zdCBkYXlzID0gbXVsdGlEYXlJdGluZXJhcnkuZGF5U2NoZWR1bGVzXG4gIGNvbnN0IHN0YXRpc3RpY3MgPSBtdWx0aURheUl0aW5lcmFyeS5zdGF0aXN0aWNzXG4gIFxuICAvLyBDYWxjdWxhdGUgYXZlcmFnZSBtZWFsIGJyZWFrc1xuICBjb25zdCB0b3RhbE1lYWxCcmVha3MgPSBkYXlzLnJlZHVjZSgoc3VtLCBkYXkpID0+IHN1bSArIGRheS5tZWFscy5sZW5ndGgsIDApXG4gIGNvbnN0IGF2Z01lYWxCcmVha3NQZXJEYXkgPSBkYXlzLmxlbmd0aCA+IDAgPyB0b3RhbE1lYWxCcmVha3MgLyBkYXlzLmxlbmd0aCA6IDBcbiAgXG4gIC8vIENhbGN1bGF0ZSBwYWNlIGRpc3RyaWJ1dGlvbiBmcm9tIGRheSBzdW1tYXJpZXNcbiAgY29uc3QgcGFjZUNvdW50cyA9IHsgcmVsYXhlZDogMCwgbW9kZXJhdGU6IDAsIHBhY2tlZDogMCB9XG4gIGRheXMuZm9yRWFjaChkYXkgPT4ge1xuICAgIHBhY2VDb3VudHNbZGF5LnN1bW1hcnkucGFjZVJhdGluZ10rK1xuICB9KVxuICBcbiAgcmV0dXJuIHtcbiAgICBwYWNlRGlzdHJpYnV0aW9uOiBwYWNlQ291bnRzLFxuICAgIGhhc1Jlc3REYXlSZWNvbW1lbmRhdGlvbjogZmFsc2UsIC8vIFNpbXBsaWZpZWQgZm9yIG5vd1xuICAgIHJlc3REYXlNZXNzYWdlOiBudWxsLFxuICAgIGFjY29tbW9kYXRpb25RdWFsaXR5LFxuICAgIG1lYWxCcmVha3NQZXJEYXk6IGF2Z01lYWxCcmVha3NQZXJEYXlcbiAgfVxufVxuXG4vKipcbiAqIENyZWF0ZSBkZWZhdWx0IHNjaGVkdWxlIGFuYWx5c2lzIHdoZW4gbXVsdGktZGF5IGlzIGRpc2FibGVkXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZURlZmF1bHRTY2hlZHVsZUFuYWx5c2lzKCk6IGFueSB7XG4gIHJldHVybiB7XG4gICAgcGFjZURpc3RyaWJ1dGlvbjoge1xuICAgICAgcmVsYXhlZDogMCxcbiAgICAgIG1vZGVyYXRlOiAwLFxuICAgICAgcGFja2VkOiAwXG4gICAgfSxcbiAgICBoYXNSZXN0RGF5UmVjb21tZW5kYXRpb246IGZhbHNlLFxuICAgIGFjY29tbW9kYXRpb25RdWFsaXR5OiAnc3RhbmRhcmQnLFxuICAgIG1lYWxCcmVha3NQZXJEYXk6IDFcbiAgfVxufVxuXG4vKipcbiAqIENyZWF0ZSBlbmhhbmNlZCB0cmFuc3BvcnQgYW5hbHlzaXMgd2l0aCBtdWx0aS1kYXkgZGF0YVxuICovXG5mdW5jdGlvbiBjcmVhdGVFbmhhbmNlZFRyYW5zcG9ydEFuYWx5c2lzKFxuICBiYXNlQW5hbHlzaXM6IGFueSxcbiAgbGluZWFySXRpbmVyYXJ5OiBEZXRhaWxlZEl0aW5lcmFyeSxcbiAgbXVsdGlEYXlJdGluZXJhcnk6IE11bHRpRGF5SXRpbmVyYXJ5IHwgbnVsbFxuKTogYW55IHtcbiAgLy8gQ2FsY3VsYXRlIGRldGFpbGVkIGRpc3RhbmNlcyBmcm9tIHNlZ21lbnRzXG4gIGxldCB3YWxraW5nS20gPSAwLCBkcml2aW5nS20gPSAwLCBmbHlpbmdLbSA9IDBcbiAgXG4gIGZvciAoY29uc3Qgc2VnbWVudCBvZiBsaW5lYXJJdGluZXJhcnkudHJhbnNwb3J0U2VnbWVudHMpIHtcbiAgICBzd2l0Y2ggKHNlZ21lbnQudHJhbnNwb3J0TW9kZSkge1xuICAgICAgY2FzZSAnd2Fsa2luZyc6XG4gICAgICAgIHdhbGtpbmdLbSArPSBzZWdtZW50LmRpc3RhbmNlS21cbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2RyaXZpbmcnOlxuICAgICAgICBkcml2aW5nS20gKz0gc2VnbWVudC5kaXN0YW5jZUttXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdmbHlpbmcnOlxuICAgICAgICBmbHlpbmdLbSArPSBzZWdtZW50LmRpc3RhbmNlS21cbiAgICAgICAgYnJlYWtcbiAgICB9XG4gIH1cbiAgXG4gIHJldHVybiB7XG4gICAgLi4uYmFzZUFuYWx5c2lzLFxuICAgIHdhbGtpbmdEaXN0YW5jZUttOiB3YWxraW5nS20sXG4gICAgZHJpdmluZ0Rpc3RhbmNlS206IGRyaXZpbmdLbSxcbiAgICBmbHlpbmdEaXN0YW5jZUttOiBmbHlpbmdLbVxuICB9XG59XG5cbi8qKlxuICogQ3JlYXRlIGVycm9yIHJlc3VsdFxuICovXG5mdW5jdGlvbiBjcmVhdGVFcnJvclJlc3VsdChcbiAgZXJyb3JzOiBzdHJpbmdbXSxcbiAgd2FybmluZ3M6IHN0cmluZ1tdXG4pOiBFbmhhbmNlZE9wdGltaXphdGlvblJlc3VsdCB7XG4gIHJldHVybiB7XG4gICAgc3VjY2VzczogZmFsc2UsXG4gICAgcm91dGU6IG51bGwsXG4gICAgb3B0aW1pemF0aW9uOiBudWxsLFxuICAgIGxpbmVhckl0aW5lcmFyeTogbnVsbCxcbiAgICBtdWx0aURheUl0aW5lcmFyeTogbnVsbCxcbiAgICBzdW1tYXJ5OiB7XG4gICAgICB0b3RhbERlc3RpbmF0aW9uczogMCxcbiAgICAgIHNlbGVjdGVkRGVzdGluYXRpb25zOiAwLFxuICAgICAgdG90YWxEYXlzOiAwLFxuICAgICAgdG90YWxEaXN0YW5jZUttOiAwLFxuICAgICAgZmFpcm5lc3NTY29yZTogMCxcbiAgICAgIGZlYXNpYmxlOiBmYWxzZSxcbiAgICAgIGVzdGltYXRlZEFjY29tbW9kYXRpb25Db3N0OiAwLFxuICAgICAgYXZlcmFnZURlc3RpbmF0aW9uc1BlckRheTogMCxcbiAgICAgIHRvdGFsQWN0aXZlSG91cnM6IDAsXG4gICAgICB0b3RhbFRyYXZlbEhvdXJzOiAwXG4gICAgfSxcbiAgICBmYWlybmVzc0FuYWx5c2lzOiB7XG4gICAgICBpc0JhbGFuY2VkOiBmYWxzZSxcbiAgICAgIGRpc3Bhcml0eUxldmVsOiAnaGlnaCcsXG4gICAgICByZWNvbW1lbmRhdGlvbnM6IFtdXG4gICAgfSxcbiAgICB0cmFuc3BvcnRBbmFseXNpczoge1xuICAgICAgd2Fsa2luZ1NlZ21lbnRzOiAwLFxuICAgICAgd2Fsa2luZ0Rpc3RhbmNlS206IDAsXG4gICAgICBkcml2aW5nU2VnbWVudHM6IDAsXG4gICAgICBkcml2aW5nRGlzdGFuY2VLbTogMCxcbiAgICAgIGZseWluZ1NlZ21lbnRzOiAwLFxuICAgICAgZmx5aW5nRGlzdGFuY2VLbTogMCxcbiAgICAgIG1vZGVDaGFuZ2VzOiAwXG4gICAgfSxcbiAgICBzY2hlZHVsZUFuYWx5c2lzOiBjcmVhdGVEZWZhdWx0U2NoZWR1bGVBbmFseXNpcygpLFxuICAgIHdhcm5pbmdzLFxuICAgIGVycm9yc1xuICB9XG59XG5cbi8qKlxuICogR2VuZXJhdGUgaHVtYW4tcmVhZGFibGUgbXVsdGktZGF5IGl0aW5lcmFyeVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVNdWx0aURheUl0aW5lcmFyeShyZXN1bHQ6IEVuaGFuY2VkT3B0aW1pemF0aW9uUmVzdWx0KTogc3RyaW5nIHtcbiAgaWYgKCFyZXN1bHQuc3VjY2VzcyB8fCAhcmVzdWx0Lm11bHRpRGF5SXRpbmVyYXJ5KSB7XG4gICAgcmV0dXJuIGdlbmVyYXRlU2ltcGxlSXRpbmVyYXJ5KHJlc3VsdClcbiAgfVxuICBcbiAgY29uc3QgbGluZXM6IHN0cmluZ1tdID0gW11cbiAgY29uc3QgaXRpbmVyYXJ5ID0gcmVzdWx0Lm11bHRpRGF5SXRpbmVyYXJ5XG4gIFxuICAvLyBIZWFkZXJcbiAgbGluZXMucHVzaCgnPT09IE1VTFRJLURBWSBUUkFWRUwgSVRJTkVSQVJZID09PScpXG4gIGxpbmVzLnB1c2goYFRyaXAgRHVyYXRpb246ICR7aXRpbmVyYXJ5LmRheVNjaGVkdWxlcy5sZW5ndGh9IGRheXNgKVxuICBsaW5lcy5wdXNoKGBUb3RhbCBEZXN0aW5hdGlvbnM6ICR7cmVzdWx0LnN1bW1hcnkudG90YWxEZXN0aW5hdGlvbnN9YClcbiAgbGluZXMucHVzaChgVG90YWwgRGlzdGFuY2U6ICR7cmVzdWx0LnN1bW1hcnkudG90YWxEaXN0YW5jZUttLnRvRml4ZWQoMCl9a21gKVxuICBsaW5lcy5wdXNoKGBFc3RpbWF0ZWQgQWNjb21tb2RhdGlvbiBDb3N0OiAkJHtyZXN1bHQuc3VtbWFyeS5lc3RpbWF0ZWRBY2NvbW1vZGF0aW9uQ29zdH1gKVxuICBsaW5lcy5wdXNoKGBGYWlybmVzcyBTY29yZTogJHsocmVzdWx0LnN1bW1hcnkuZmFpcm5lc3NTY29yZSAqIDEwMCkudG9GaXhlZCgwKX0lYClcbiAgbGluZXMucHVzaCgnJylcbiAgXG4gIC8vIERhaWx5IHNjaGVkdWxlc1xuICBmb3IgKGNvbnN0IGRheSBvZiBpdGluZXJhcnkuZGF5U2NoZWR1bGVzKSB7XG4gICAgY29uc3QgZGF5T2ZXZWVrID0gZGF5LmRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi1VUycsIHsgd2Vla2RheTogJ2xvbmcnIH0pXG4gICAgbGluZXMucHVzaChgLS0tIERheSAke2RheS5kYXlOdW1iZXJ9OiAke2RheU9mV2Vla30sICR7ZGF5LmRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCl9IC0tLWApXG4gICAgbGluZXMucHVzaChgU2NoZWR1bGU6ICR7ZGF5LnN0YXJ0VGltZS50b0xvY2FsZVRpbWVTdHJpbmcoKX0gLSAke2RheS5lbmRUaW1lLnRvTG9jYWxlVGltZVN0cmluZygpfWApXG4gICAgbGluZXMucHVzaChgUGFjZTogJHtkYXkuc3VtbWFyeS5wYWNlUmF0aW5nLnRvVXBwZXJDYXNlKCl9YClcbiAgICBsaW5lcy5wdXNoKCcnKVxuICAgIFxuICAgIC8vIERlc3RpbmF0aW9uc1xuICAgIGZvciAoY29uc3QgZGVzdGluYXRpb24gb2YgZGF5LmRlc3RpbmF0aW9ucykge1xuICAgICAgY29uc3QgdGltZVN0ciA9IGRlc3RpbmF0aW9uLnNjaGVkdWxlZEFycml2YWwudG9Mb2NhbGVUaW1lU3RyaW5nKCdlbi1VUycsIHsgaG91cjogJzItZGlnaXQnLCBtaW51dGU6ICcyLWRpZ2l0JyB9KVxuICAgICAgbGluZXMucHVzaChgJHt0aW1lU3RyfSAtICR7ZGVzdGluYXRpb24udmlzaXQuZGVzdGluYXRpb25OYW1lfWApXG4gICAgfVxuICAgIFxuICAgIC8vIE1lYWxzXG4gICAgZm9yIChjb25zdCBtZWFsIG9mIGRheS5tZWFscykge1xuICAgICAgbGluZXMucHVzaChgJHttZWFsLnN0YXJ0VGltZS50b0xvY2FsZVRpbWVTdHJpbmcoJ2VuLVVTJywgeyBob3VyOiAnMi1kaWdpdCcsIG1pbnV0ZTogJzItZGlnaXQnIH0pfSAtIPCfjb3vuI8gJHttZWFsLnR5cGV9YClcbiAgICB9XG4gICAgXG4gICAgLy8gQWNjb21tb2RhdGlvblxuICAgIGlmIChkYXkuYWNjb21tb2RhdGlvbikge1xuICAgICAgbGluZXMucHVzaCgnJylcbiAgICAgIGxpbmVzLnB1c2goYPCfj6ggQWNjb21tb2RhdGlvbjogJHtkYXkuYWNjb21tb2RhdGlvbi5yZWFzb25pbmd9YClcbiAgICAgIGNvbnN0IGF2Z0Nvc3QgPSAoZGF5LmFjY29tbW9kYXRpb24uZXN0aW1hdGVkQ29zdFVTRC5zdGFuZGFyZC5taW4gKyBkYXkuYWNjb21tb2RhdGlvbi5lc3RpbWF0ZWRDb3N0VVNELnN0YW5kYXJkLm1heCkgLyAyXG4gICAgICBsaW5lcy5wdXNoKGAgICBFc3RpbWF0ZWQgY29zdDogJCR7YXZnQ29zdC50b0ZpeGVkKDApfS9uaWdodGApXG4gICAgICBsaW5lcy5wdXNoKGAgICBTZWFyY2ggcmFkaXVzOiAke2RheS5hY2NvbW1vZGF0aW9uLnNlYXJjaFJhZGl1c31rbWApXG4gICAgfVxuICAgIFxuICAgIGxpbmVzLnB1c2goJycpXG4gIH1cbiAgXG4gIC8vIFN1bW1hcnkgc3RhdGlzdGljc1xuICBsaW5lcy5wdXNoKCc9PT0gVFJJUCBTVU1NQVJZID09PScpXG4gIGxpbmVzLnB1c2goYEF2ZXJhZ2UgJHtyZXN1bHQuc3VtbWFyeS5hdmVyYWdlRGVzdGluYXRpb25zUGVyRGF5LnRvRml4ZWQoMSl9IGRlc3RpbmF0aW9ucyBwZXIgZGF5YClcbiAgbGluZXMucHVzaChgRGFpbHkgcGFjZTogJHtyZXN1bHQuc2NoZWR1bGVBbmFseXNpcy5wYWNlRGlzdHJpYnV0aW9uLnJlbGF4ZWR9IHJlbGF4ZWQsICR7cmVzdWx0LnNjaGVkdWxlQW5hbHlzaXMucGFjZURpc3RyaWJ1dGlvbi5tb2RlcmF0ZX0gbW9kZXJhdGUsICR7cmVzdWx0LnNjaGVkdWxlQW5hbHlzaXMucGFjZURpc3RyaWJ1dGlvbi5wYWNrZWR9IHBhY2tlZGApXG4gIFxuICBpZiAocmVzdWx0LnNjaGVkdWxlQW5hbHlzaXMuaGFzUmVzdERheVJlY29tbWVuZGF0aW9uKSB7XG4gICAgbGluZXMucHVzaCgnJylcbiAgICBsaW5lcy5wdXNoKGDimqDvuI8gJHtyZXN1bHQuc2NoZWR1bGVBbmFseXNpcy5yZXN0RGF5TWVzc2FnZX1gKVxuICB9XG4gIFxuICAvLyBUcmFuc3BvcnQgYnJlYWtkb3duXG4gIGxpbmVzLnB1c2goJycpXG4gIGxpbmVzLnB1c2goJ1RyYW5zcG9ydCBicmVha2Rvd246JylcbiAgbGluZXMucHVzaChg4pyI77iPIEZseWluZzogJHtyZXN1bHQudHJhbnNwb3J0QW5hbHlzaXMuZmx5aW5nRGlzdGFuY2VLbS50b0ZpeGVkKDApfWttYClcbiAgbGluZXMucHVzaChg8J+alyBEcml2aW5nOiAke3Jlc3VsdC50cmFuc3BvcnRBbmFseXNpcy5kcml2aW5nRGlzdGFuY2VLbS50b0ZpeGVkKDApfWttYClcbiAgbGluZXMucHVzaChg8J+atiBXYWxraW5nOiAke3Jlc3VsdC50cmFuc3BvcnRBbmFseXNpcy53YWxraW5nRGlzdGFuY2VLbS50b0ZpeGVkKDEpfWttYClcbiAgXG4gIHJldHVybiBsaW5lcy5qb2luKCdcXG4nKVxufVxuXG4vKipcbiAqIEdlbmVyYXRlIHNpbXBsZSBpdGluZXJhcnkgd2hlbiBtdWx0aS1kYXkgaXMgbm90IGF2YWlsYWJsZVxuICovXG5mdW5jdGlvbiBnZW5lcmF0ZVNpbXBsZUl0aW5lcmFyeShyZXN1bHQ6IEVuaGFuY2VkT3B0aW1pemF0aW9uUmVzdWx0KTogc3RyaW5nIHtcbiAgaWYgKCFyZXN1bHQuc3VjY2VzcyB8fCAhcmVzdWx0LmxpbmVhckl0aW5lcmFyeSkge1xuICAgIHJldHVybiAnT3B0aW1pemF0aW9uIGZhaWxlZC4gUGxlYXNlIGNoZWNrIGVycm9ycyBhbmQgd2FybmluZ3MuJ1xuICB9XG4gIFxuICByZXR1cm4gZm9ybWF0SXRpbmVyYXJ5QXNUZXh0KHJlc3VsdC5saW5lYXJJdGluZXJhcnkpXG59XG5cbi8qKlxuICogRXhwb3J0IG9wdGltaXphdGlvbiByZXN1bHQgdG8gc2hhcmVhYmxlIGZvcm1hdFxuICovXG5leHBvcnQgZnVuY3Rpb24gZXhwb3J0RW5oYW5jZWRPcHRpbWl6YXRpb25SZXN1bHQoXG4gIHJlc3VsdDogRW5oYW5jZWRPcHRpbWl6YXRpb25SZXN1bHRcbik6IHtcbiAgc3VjY2VzczogYm9vbGVhblxuICBkYXRhOiBhbnlcbiAgZm9ybWF0OiAnanNvbidcbn0ge1xuICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZGF0YTogeyBlcnJvcnM6IHJlc3VsdC5lcnJvcnMsIHdhcm5pbmdzOiByZXN1bHQud2FybmluZ3MgfSxcbiAgICAgIGZvcm1hdDogJ2pzb24nXG4gICAgfVxuICB9XG4gIFxuICBjb25zdCBleHBvcnREYXRhID0ge1xuICAgIHN1bW1hcnk6IHJlc3VsdC5zdW1tYXJ5LFxuICAgIHNjaGVkdWxlOiByZXN1bHQubXVsdGlEYXlJdGluZXJhcnkgPyB7XG4gICAgICBkYXlzOiByZXN1bHQubXVsdGlEYXlJdGluZXJhcnkuZGF5U2NoZWR1bGVzLm1hcChkYXkgPT4gKHtcbiAgICAgICAgZGF5TnVtYmVyOiBkYXkuZGF5TnVtYmVyLFxuICAgICAgICBkYXRlOiBkYXkuZGF0ZS50b0lTT1N0cmluZygpLFxuICAgICAgICBkYXlPZldlZWs6IGRheS5kYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tVVMnLCB7IHdlZWtkYXk6ICdsb25nJyB9KSxcbiAgICAgICAgc3RhcnRUaW1lOiBkYXkuc3RhcnRUaW1lLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIGVuZFRpbWU6IGRheS5lbmRUaW1lLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHBhY2U6IGRheS5zdW1tYXJ5LnBhY2VSYXRpbmcsXG4gICAgICAgIGRlc3RpbmF0aW9uQ291bnQ6IGRheS5zdW1tYXJ5LnRvdGFsRGVzdGluYXRpb25zLFxuICAgICAgICB0cmF2ZWxIb3VyczogZGF5LnN1bW1hcnkudG90YWxUcmF2ZWxIb3VycyxcbiAgICAgICAgYWN0aXZlSG91cnM6IGRheS5zdW1tYXJ5LnRvdGFsQWN0aXZlSG91cnMsXG4gICAgICAgIGRlc3RpbmF0aW9uczogZGF5LmRlc3RpbmF0aW9ucy5tYXAoZGVzdCA9PiAoe1xuICAgICAgICAgIG5hbWU6IGRlc3QudmlzaXQuZGVzdGluYXRpb25OYW1lLFxuICAgICAgICAgIGFycml2YWxUaW1lOiBkZXN0LnNjaGVkdWxlZEFycml2YWwudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICBkZXBhcnR1cmVUaW1lOiBkZXN0LnNjaGVkdWxlZERlcGFydHVyZS50b0lTT1N0cmluZygpXG4gICAgICAgIH0pKSxcbiAgICAgICAgYWNjb21tb2RhdGlvbjogZGF5LmFjY29tbW9kYXRpb24gPyB7XG4gICAgICAgICAgbG9jYXRpb246IGRheS5hY2NvbW1vZGF0aW9uLmxvY2F0aW9uLFxuICAgICAgICAgIGVzdGltYXRlZENvc3RVU0Q6IGRheS5hY2NvbW1vZGF0aW9uLmVzdGltYXRlZENvc3RVU0QsXG4gICAgICAgICAgcmVhc29uaW5nOiBkYXkuYWNjb21tb2RhdGlvbi5yZWFzb25pbmdcbiAgICAgICAgfSA6IG51bGxcbiAgICAgIH0pKSxcbiAgICAgIGFjY29tbW9kYXRpb25zOiByZXN1bHQubXVsdGlEYXlJdGluZXJhcnkuYWNjb21tb2RhdGlvbnMsXG4gICAgICB0b3RhbEFjY29tbW9kYXRpb25Db3N0OiByZXN1bHQuc3VtbWFyeS5lc3RpbWF0ZWRBY2NvbW1vZGF0aW9uQ29zdFxuICAgIH0gOiBudWxsLFxuICAgIGZhaXJuZXNzOiByZXN1bHQuZmFpcm5lc3NBbmFseXNpcyxcbiAgICB0cmFuc3BvcnQ6IHJlc3VsdC50cmFuc3BvcnRBbmFseXNpcyxcbiAgICBtZXRhZGF0YToge1xuICAgICAgZ2VuZXJhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIG9wdGltaXphdGlvblRpbWVNczogcmVzdWx0Lm9wdGltaXphdGlvbj8uZXhlY3V0aW9uVGltZU1zIHx8IDAsXG4gICAgICBhbGdvcml0aG06ICdNdWx0aS1vYmplY3RpdmUgb3B0aW1pemF0aW9uIHdpdGggZmFpcm5lc3Mgd2VpZ2h0aW5nIGFuZCBkYWlseSBzY2hlZHVsaW5nJ1xuICAgIH1cbiAgfVxuICBcbiAgcmV0dXJuIHtcbiAgICBzdWNjZXNzOiB0cnVlLFxuICAgIGRhdGE6IGV4cG9ydERhdGEsXG4gICAgZm9ybWF0OiAnanNvbidcbiAgfVxufSJdLCJuYW1lcyI6WyJub3JtYWxpemVBbmRDbHVzdGVyRGF0YSIsIm9wdGltaXplUm91dGUiLCJhbmFseXplRmFpcm5lc3NEaXN0cmlidXRpb24iLCJnZXRUcmFuc3BvcnRTdGF0cyIsImdlbmVyYXRlRGV0YWlsZWRJdGluZXJhcnkiLCJmb3JtYXRJdGluZXJhcnlBc1RleHQiLCJwZXJmb3JtQ29tcGxldGVPcHRpbWl6YXRpb25WMiIsInByZXByb2Nlc3NlZERhdGEiLCJjb25maWciLCJlbmFibGVNdWx0aURheVNjaGVkdWxpbmciLCJlcnJvcnMiLCJ3YXJuaW5ncyIsImNvbnNvbGUiLCJsb2ciLCJub3JtYWxpemVkRGF0YSIsInZhbGlkYXRpb24iLCJpc1ZhbGlkIiwicHVzaCIsImlzc3VlcyIsImNyZWF0ZUVycm9yUmVzdWx0Iiwib3B0aW1pemF0aW9uUmVzdWx0IiwiZGVwYXJ0dXJlTG9jYXRpb24iLCJyZXR1cm5Mb2NhdGlvbiIsIm9wdGltaXphdGlvbiIsImJlc3RSb3V0ZSIsImJlc3RTb2x1dGlvbiIsImZhaXJuZXNzQW5hbHlzaXMiLCJnaW5pQ29lZmZpY2llbnQiLCJmYWlybmVzc1Njb3JlIiwidXNlclNhdGlzZmFjdGlvbnMiLCJBcnJheSIsImZyb20iLCJtZW1iZXJTYXRpc2ZhY3Rpb24iLCJlbnRyaWVzIiwibWFwIiwidXNlcktleSIsInNjb3JlIiwidXNlcklkIiwic2Vzc2lvbklkIiwidXNlck5hbWUiLCJzYXRpc2ZhY3Rpb25TY29yZSIsInNlbGVjdGVkRGVzdGluYXRpb25zIiwiY2x1c3RlcnMiLCJsZW5ndGgiLCJ0b3RhbERlc3RpbmF0aW9ucyIsImNsdXN0ZXJpbmciLCJsb3dlc3RTYXRpc2ZhY3Rpb24iLCJoaWdoZXN0U2F0aXNmYWN0aW9uIiwidHJhbnNwb3J0QW5hbHlzaXMiLCJzZWdtZW50cyIsImxpbmVhckl0aW5lcmFyeSIsIm5vcm1hbGl6YXRpb24iLCJzdGFuZGFyZGl6ZWRQcmVmZXJlbmNlcyIsInJvdXRlR2VuZXJhdGlvbiIsInciLCJtZXNzYWdlIiwibXVsdGlEYXlJdGluZXJhcnkiLCJzY2hlZHVsZUFuYWx5c2lzIiwiY3JlYXRlRGVmYXVsdFNjaGVkdWxlQW5hbHlzaXMiLCJkYWlseUNvbmZpZyIsImRhaWx5U2NoZWR1bGUiLCJhY2NvbW1vZGF0aW9uUXVhbGl0eSIsIm92ZXJhbGxXYXJuaW5ncyIsIm92ZXJhbGxFcnJvcnMiLCJjcmVhdGVTY2hlZHVsZUFuYWx5c2lzIiwic3VtbWFyeSIsImNyZWF0ZUVuaGFuY2VkU3VtbWFyeSIsImVuaGFuY2VkVHJhbnNwb3J0QW5hbHlzaXMiLCJjcmVhdGVFbmhhbmNlZFRyYW5zcG9ydEFuYWx5c2lzIiwidG90YWxEYXlzIiwidG90YWxEaXN0YW5jZUttIiwidG9GaXhlZCIsInBhY2VEaXN0cmlidXRpb24iLCJyZWxheGVkIiwibW9kZXJhdGUiLCJwYWNrZWQiLCJlc3RpbWF0ZWRBY2NvbW1vZGF0aW9uQ29zdCIsInN1Y2Nlc3MiLCJyb3V0ZSIsImVycm9yIiwiRXJyb3IiLCJiYXNlRGF0YSIsImZlYXNpYmxlIiwibXVsdGlEYXlTdGF0cyIsInN0YXRpc3RpY3MiLCJhY2NvbW1vZGF0aW9uQ29zdCIsInRvdGFsQ29zdFVTRCIsImFjY29tbW9kYXRpb25zIiwicmVkdWNlIiwic3VtIiwiYWNjIiwiZXN0aW1hdGVkQ29zdCIsInN0YW5kYXJkIiwibWluIiwibWF4IiwiYXZlcmFnZURlc3RpbmF0aW9uc1BlckRheSIsInRvdGFsQWN0aXZlSG91cnMiLCJ0b3RhbFRyYXZlbEhvdXJzIiwidG90YWxIb3VycyIsInRvdGFsVGltZUhvdXJzIiwiZXN0aW1hdGVkRGF5cyIsIk1hdGgiLCJjZWlsIiwiZGF5cyIsImRheVNjaGVkdWxlcyIsInRvdGFsTWVhbEJyZWFrcyIsImRheSIsIm1lYWxzIiwiYXZnTWVhbEJyZWFrc1BlckRheSIsInBhY2VDb3VudHMiLCJmb3JFYWNoIiwicGFjZVJhdGluZyIsImhhc1Jlc3REYXlSZWNvbW1lbmRhdGlvbiIsInJlc3REYXlNZXNzYWdlIiwibWVhbEJyZWFrc1BlckRheSIsImJhc2VBbmFseXNpcyIsIndhbGtpbmdLbSIsImRyaXZpbmdLbSIsImZseWluZ0ttIiwic2VnbWVudCIsInRyYW5zcG9ydFNlZ21lbnRzIiwidHJhbnNwb3J0TW9kZSIsImRpc3RhbmNlS20iLCJ3YWxraW5nRGlzdGFuY2VLbSIsImRyaXZpbmdEaXN0YW5jZUttIiwiZmx5aW5nRGlzdGFuY2VLbSIsImlzQmFsYW5jZWQiLCJkaXNwYXJpdHlMZXZlbCIsInJlY29tbWVuZGF0aW9ucyIsIndhbGtpbmdTZWdtZW50cyIsImRyaXZpbmdTZWdtZW50cyIsImZseWluZ1NlZ21lbnRzIiwibW9kZUNoYW5nZXMiLCJnZW5lcmF0ZU11bHRpRGF5SXRpbmVyYXJ5IiwicmVzdWx0IiwiZ2VuZXJhdGVTaW1wbGVJdGluZXJhcnkiLCJsaW5lcyIsIml0aW5lcmFyeSIsImRheU9mV2VlayIsImRhdGUiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJ3ZWVrZGF5IiwiZGF5TnVtYmVyIiwic3RhcnRUaW1lIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwiZW5kVGltZSIsInRvVXBwZXJDYXNlIiwiZGVzdGluYXRpb24iLCJkZXN0aW5hdGlvbnMiLCJ0aW1lU3RyIiwic2NoZWR1bGVkQXJyaXZhbCIsImhvdXIiLCJtaW51dGUiLCJ2aXNpdCIsImRlc3RpbmF0aW9uTmFtZSIsIm1lYWwiLCJ0eXBlIiwiYWNjb21tb2RhdGlvbiIsInJlYXNvbmluZyIsImF2Z0Nvc3QiLCJlc3RpbWF0ZWRDb3N0VVNEIiwic2VhcmNoUmFkaXVzIiwiam9pbiIsImV4cG9ydEVuaGFuY2VkT3B0aW1pemF0aW9uUmVzdWx0IiwiZGF0YSIsImZvcm1hdCIsImV4cG9ydERhdGEiLCJzY2hlZHVsZSIsInRvSVNPU3RyaW5nIiwicGFjZSIsImRlc3RpbmF0aW9uQ291bnQiLCJ0cmF2ZWxIb3VycyIsImFjdGl2ZUhvdXJzIiwiZGVzdCIsIm5hbWUiLCJhcnJpdmFsVGltZSIsImRlcGFydHVyZVRpbWUiLCJzY2hlZHVsZWREZXBhcnR1cmUiLCJsb2NhdGlvbiIsInRvdGFsQWNjb21tb2RhdGlvbkNvc3QiLCJmYWlybmVzcyIsInRyYW5zcG9ydCIsIm1ldGFkYXRhIiwiZ2VuZXJhdGVkQXQiLCJEYXRlIiwib3B0aW1pemF0aW9uVGltZU1zIiwiZXhlY3V0aW9uVGltZU1zIiwiYWxnb3JpdGhtIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./lib/optimization/complete-optimizer-v2.ts\n");

/***/ }),

/***/ "(action-browser)/./lib/optimization/data-fetcher.ts":
/*!******************************************!*\
  !*** ./lib/optimization/data-fetcher.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkGroupMembership: () => (/* binding */ checkGroupMembership),\n/* harmony export */   fetchMultipleTripGroups: () => (/* binding */ fetchMultipleTripGroups),\n/* harmony export */   fetchOptimizationData: () => (/* binding */ fetchOptimizationData),\n/* harmony export */   fetchUserDetails: () => (/* binding */ fetchUserDetails),\n/* harmony export */   getCurrentUserContext: () => (/* binding */ getCurrentUserContext),\n/* harmony export */   getMemberRole: () => (/* binding */ getMemberRole)\n/* harmony export */ });\n/* harmony import */ var _lib_supabase_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/supabase/server */ \"(action-browser)/./lib/supabase/server.ts\");\n// Data fetching functions for optimization algorithm\n\n/**\n * Get current user context (guest or authenticated)\n */ async function getCurrentUserContext() {\n    const { cookies } = await Promise.resolve(/*! import() */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/headers */ \"(action-browser)/./node_modules/next/headers.js\", 23));\n    const cookieStore = cookies();\n    const supabase = (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_0__.createClient)(cookieStore);\n    // Try to get authenticated user\n    const { data: { user } } = await supabase.auth.getUser();\n    if (user) {\n        return {\n            id: user.id,\n            sessionId: null,\n            isGuest: false\n        };\n    }\n    // Handle guest user - get session from localStorage or generate new\n    // Note: This would typically be handled client-side\n    const sessionId = crypto.randomUUID() // In real implementation, retrieve from client\n    ;\n    return {\n        id: null,\n        sessionId,\n        isGuest: true\n    };\n}\n/**\n * Fetch all optimization data for a trip group\n */ async function fetchOptimizationData(groupId, currentUser) {\n    const { createClient } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/lib/supabase/server */ \"(action-browser)/./lib/supabase/server.ts\"));\n    const { cookies } = await Promise.resolve(/*! import() */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/headers */ \"(action-browser)/./node_modules/next/headers.js\", 23));\n    // Handle the case where cookies() might not be available in some contexts\n    let supabase;\n    try {\n        const cookieStore = cookies();\n        supabase = createClient(cookieStore);\n    } catch (cookieError) {\n        console.warn(\"Cookie context not available, falling back to direct client\");\n        // Create a basic client without cookies for optimization context\n        const { createClient: createDirectClient } = await Promise.resolve(/*! import() */).then(__webpack_require__.t.bind(__webpack_require__, /*! @supabase/supabase-js */ \"(action-browser)/./node_modules/@supabase/supabase-js/dist/main/index.js\", 23));\n        supabase = createDirectClient(\"https://zceqyydzdrbvtsxnqeqx.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpjZXF5eWR6ZHJidnRzeG5xZXF4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg4ODkwMDcsImV4cCI6MjA2NDQ2NTAwN30.Jw7nnt6rvcoYxkYutW2baZ9BU0FrAxvtL3DZ3DoT5_0\");\n    }\n    try {\n        console.log(\"\\uD83D\\uDD0D fetchOptimizationData called for groupId:\", groupId);\n        // Fetch trip group details\n        const { data: tripGroup, error: tripError } = await supabase.from(\"trip_groups\").select(\"*\").eq(\"id\", groupId).single();\n        console.log(\"\\uD83D\\uDD0D Trip group fetched:\", {\n            tripGroup: tripGroup ? {\n                id: tripGroup.id,\n                departure_location: tripGroup.departure_location,\n                departure_location_lat: tripGroup.departure_location_lat,\n                departure_location_lng: tripGroup.departure_location_lng\n            } : null,\n            tripError: tripError?.message\n        });\n        if (tripError) throw new Error(`Failed to fetch trip group: ${tripError.message}`);\n        if (!tripGroup) throw new Error(\"Trip group not found\");\n        // Fetch all related data in parallel\n        const [destinationsResult, placesResult, preferencesResult, membersResult] = await Promise.all([\n            // Fetch destinations (legacy table)\n            supabase.from(\"destinations\").select(\"*\").eq(\"group_id\", groupId),\n            // Fetch places (new two-tier system)\n            supabase.from(\"places\").select(\"*\").eq(\"group_id\", groupId).order(\"visit_order\", {\n                ascending: true,\n                nullsFirst: false\n            }),\n            // Fetch user preferences\n            supabase.from(\"user_preferences\").select(\"*\").eq(\"group_id\", groupId),\n            // Fetch group members\n            supabase.from(\"group_members\").select(\"*\").eq(\"group_id\", groupId)\n        ]);\n        // Check for errors\n        if (destinationsResult.error) throw new Error(`Failed to fetch destinations: ${destinationsResult.error.message}`);\n        if (placesResult.error) throw new Error(`Failed to fetch places: ${placesResult.error.message}`);\n        if (preferencesResult.error) throw new Error(`Failed to fetch preferences: ${preferencesResult.error.message}`);\n        if (membersResult.error) throw new Error(`Failed to fetch members: ${membersResult.error.message}`);\n        const optimizationInput = {\n            groupId,\n            tripGroup,\n            destinations: destinationsResult.data || [],\n            places: placesResult.data || [],\n            userPreferences: preferencesResult.data || [],\n            groupMembers: membersResult.data || [],\n            currentUser\n        };\n        console.log(\"\\uD83D\\uDD0D Optimization input prepared:\", {\n            groupId,\n            hasTripGroup: !!tripGroup,\n            destinationsCount: optimizationInput.destinations.length,\n            placesCount: optimizationInput.places.length,\n            preferencesCount: optimizationInput.userPreferences.length,\n            membersCount: optimizationInput.groupMembers.length,\n            departureCoords: {\n                lat: tripGroup?.departure_location_lat,\n                lng: tripGroup?.departure_location_lng\n            }\n        });\n        // 🔍 DEBUG: Log member and preference details\n        console.log(\"\\uD83D\\uDD0D Members debug:\", optimizationInput.groupMembers.map((m)=>({\n                id: m.id,\n                user_id: m.user_id,\n                session_id: m.session_id,\n                display_name: m.display_name\n            })));\n        console.log(\"\\uD83D\\uDD0D Preferences debug:\", optimizationInput.userPreferences.map((p)=>({\n                id: p.id,\n                user_id: p.user_id,\n                session_id: p.session_id,\n                destination_id: p.destination_id\n            })));\n        return {\n            data: optimizationInput,\n            error: null\n        };\n    } catch (error) {\n        console.error(\"Error fetching optimization data:\", error);\n        return {\n            data: null,\n            error: error instanceof Error ? error : new Error(\"Unknown error occurred\")\n        };\n    }\n}\n/**\n * Fetch user details for preference validation\n */ async function fetchUserDetails(userIds, sessionIds) {\n    const { createClient } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/lib/supabase/server */ \"(action-browser)/./lib/supabase/server.ts\"));\n    const { cookies } = await Promise.resolve(/*! import() */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/headers */ \"(action-browser)/./node_modules/next/headers.js\", 23));\n    const cookieStore = cookies();\n    const supabase = createClient(cookieStore);\n    try {\n        // Remove duplicates and nulls\n        const uniqueUserIds = Array.from(new Set(userIds.filter(Boolean)));\n        const uniqueSessionIds = Array.from(new Set(sessionIds.filter(Boolean)));\n        // Fetch users by ID or session ID\n        const { data: users, error } = await supabase.from(\"users\").select(\"*\").or(`id.in.(${uniqueUserIds.join(\",\")}),session_id.in.(${uniqueSessionIds.join(\",\")})`);\n        if (error) throw new Error(`Failed to fetch users: ${error.message}`);\n        // Create map for quick lookup\n        const userMap = new Map();\n        users?.forEach((user)=>{\n            if (user.id) userMap.set(user.id, user);\n            if (user.session_id) userMap.set(user.session_id, user);\n        });\n        return {\n            data: userMap,\n            error: null\n        };\n    } catch (error) {\n        console.error(\"Error fetching user details:\", error);\n        return {\n            data: null,\n            error: error instanceof Error ? error : new Error(\"Unknown error occurred\")\n        };\n    }\n}\n/**\n * Check if current user is a member of the group\n */ async function checkGroupMembership(groupId, currentUser) {\n    const { cookies } = await Promise.resolve(/*! import() */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/headers */ \"(action-browser)/./node_modules/next/headers.js\", 23));\n    const cookieStore = cookies();\n    const supabase = (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_0__.createClient)(cookieStore);\n    try {\n        let query = supabase.from(\"group_members\").select(\"id\").eq(\"group_id\", groupId);\n        // Add user condition based on type\n        if (currentUser.isGuest && currentUser.sessionId) {\n            query = query.eq(\"session_id\", currentUser.sessionId);\n        } else if (!currentUser.isGuest && currentUser.id) {\n            query = query.eq(\"user_id\", currentUser.id);\n        } else {\n            return false;\n        }\n        const { data, error } = await query.single();\n        return !error && !!data;\n    } catch (error) {\n        console.error(\"Error checking group membership:\", error);\n        return false;\n    }\n}\n/**\n * Get member's role in the group\n */ async function getMemberRole(groupId, currentUser) {\n    const { cookies } = await Promise.resolve(/*! import() */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/headers */ \"(action-browser)/./node_modules/next/headers.js\", 23));\n    const cookieStore = cookies();\n    const supabase = (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_0__.createClient)(cookieStore);\n    try {\n        let query = supabase.from(\"group_members\").select(\"role\").eq(\"group_id\", groupId);\n        // Add user condition based on type\n        if (currentUser.isGuest && currentUser.sessionId) {\n            query = query.eq(\"session_id\", currentUser.sessionId);\n        } else if (!currentUser.isGuest && currentUser.id) {\n            query = query.eq(\"user_id\", currentUser.id);\n        } else {\n            return null;\n        }\n        const { data, error } = await query.single();\n        if (error || !data) return null;\n        return data.role;\n    } catch (error) {\n        console.error(\"Error getting member role:\", error);\n        return null;\n    }\n}\n/**\n * Batch fetch multiple trip groups\n */ async function fetchMultipleTripGroups(groupIds) {\n    const { cookies } = await Promise.resolve(/*! import() */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/headers */ \"(action-browser)/./node_modules/next/headers.js\", 23));\n    const cookieStore = cookies();\n    const supabase = (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_0__.createClient)(cookieStore);\n    try {\n        const { data, error } = await supabase.from(\"trip_groups\").select(\"*\").in(\"id\", groupIds).order(\"created_at\", {\n            ascending: false\n        });\n        if (error) throw new Error(`Failed to fetch trip groups: ${error.message}`);\n        return {\n            data: data || [],\n            error: null\n        };\n    } catch (error) {\n        console.error(\"Error fetching multiple trip groups:\", error);\n        return {\n            data: null,\n            error: error instanceof Error ? error : new Error(\"Unknown error occurred\")\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL2xpYi9vcHRpbWl6YXRpb24vZGF0YS1mZXRjaGVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxxREFBcUQ7QUFFRDtBQWVwRDs7Q0FFQyxHQUNNLGVBQWVDO0lBQ3BCLE1BQU0sRUFBRUMsT0FBTyxFQUFFLEdBQUcsTUFBTSxpS0FBTztJQUNqQyxNQUFNQyxjQUFjRDtJQUNwQixNQUFNRSxXQUFXSixrRUFBWUEsQ0FBQ0c7SUFFOUIsZ0NBQWdDO0lBQ2hDLE1BQU0sRUFBRUUsTUFBTSxFQUFFQyxJQUFJLEVBQUUsRUFBRSxHQUFHLE1BQU1GLFNBQVNHLElBQUksQ0FBQ0MsT0FBTztJQUV0RCxJQUFJRixNQUFNO1FBQ1IsT0FBTztZQUNMRyxJQUFJSCxLQUFLRyxFQUFFO1lBQ1hDLFdBQVc7WUFDWEMsU0FBUztRQUNYO0lBQ0Y7SUFFQSxvRUFBb0U7SUFDcEUsb0RBQW9EO0lBQ3BELE1BQU1ELFlBQVlFLE9BQU9DLFVBQVUsR0FBRywrQ0FBK0M7O0lBRXJGLE9BQU87UUFDTEosSUFBSTtRQUNKQztRQUNBQyxTQUFTO0lBQ1g7QUFDRjtBQUVBOztDQUVDLEdBQ00sZUFBZUcsc0JBQ3BCQyxPQUFlLEVBQ2ZDLFdBQXdCO0lBRXhCLE1BQU0sRUFBRWhCLFlBQVksRUFBRSxHQUFHLE1BQU0sOEpBQU87SUFDdEMsTUFBTSxFQUFFRSxPQUFPLEVBQUUsR0FBRyxNQUFNLGlLQUFPO0lBRWpDLDBFQUEwRTtJQUMxRSxJQUFJRTtJQUNKLElBQUk7UUFDRixNQUFNRCxjQUFjRDtRQUNwQkUsV0FBV0osYUFBYUc7SUFDMUIsRUFBRSxPQUFPYyxhQUFhO1FBQ3BCQyxRQUFRQyxJQUFJLENBQUM7UUFDYixpRUFBaUU7UUFDakUsTUFBTSxFQUFFbkIsY0FBY29CLGtCQUFrQixFQUFFLEdBQUcsTUFBTSxtTUFBTztRQUMxRGhCLFdBQVdnQixtQkFDVEMsMENBQW9DLEVBQ3BDQSxrTkFBeUM7SUFFN0M7SUFFQSxJQUFJO1FBQ0ZILFFBQVFP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TCxTQUFTLENBQUN0QixNQUFNLE9BQU87UUFFM0IsT0FBT0EsS0FBS2tGLElBQUk7SUFDbEIsRUFBRSxPQUFPNUQsT0FBTztRQUNkVCxRQUFRUyxLQUFLLENBQUMsOEJBQThCQTtRQUM1QyxPQUFPO0lBQ1Q7QUFDRjtBQUVBOztDQUVDLEdBQ00sZUFBZTZELHdCQUNwQkMsUUFBa0I7SUFFbEIsTUFBTSxFQUFFdkYsT0FBTyxFQUFFLEdBQUcsTUFBTSxpS0FBTztJQUNqQyxNQUFNQyxjQUFjRDtJQUNwQixNQUFNRSxXQUFXSixrRUFBWUEsQ0FBQ0c7SUFFOUIsSUFBSTtRQUNGLE1BQU0sRUFBRUUsSUFBSSxFQUFFc0IsS0FBSyxFQUFFLEdBQUcsTUFBTXZCLFNBQzNCeUIsSUFBSSxDQUFDLGVBQ0xDLE1BQU0sQ0FBQyxLQUNQNEQsRUFBRSxDQUFDLE1BQU1ELFVBQ1Q3QyxLQUFLLENBQUMsY0FBYztZQUFFQyxXQUFXO1FBQU07UUFFMUMsSUFBSWxCLE9BQU8sTUFBTSxJQUFJVSxNQUFNLENBQUMsNkJBQTZCLEVBQUVWLE1BQU1TLE9BQU8sQ0FBQyxDQUFDO1FBRTFFLE9BQU87WUFDTC9CLE1BQU1BLFFBQVEsRUFBRTtZQUNoQnNCLE9BQU87UUFDVDtJQUNGLEVBQUUsT0FBT0EsT0FBTztRQUNkVCxRQUFRUyxLQUFLLENBQUMsd0NBQXdDQTtRQUN0RCxPQUFPO1lBQ0x0QixNQUFNO1lBQ05zQixPQUFPQSxpQkFBaUJVLFFBQVFWLFFBQVEsSUFBSVUsTUFBTTtRQUNwRDtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMvLi9saWIvb3B0aW1pemF0aW9uL2RhdGEtZmV0Y2hlci50cz8wNTU1Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIERhdGEgZmV0Y2hpbmcgZnVuY3Rpb25zIGZvciBvcHRpbWl6YXRpb24gYWxnb3JpdGhtXG5cbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0AvbGliL3N1cGFiYXNlL3NlcnZlcidcbmltcG9ydCB0eXBlIHsgXG4gIE9wdGltaXphdGlvbklucHV0LCBcbiAgRGF0YUZldGNoUmVzdWx0LCBcbiAgVXNlckNvbnRleHQgXG59IGZyb20gJy4vdHlwZXMnXG5pbXBvcnQgdHlwZSB7XG4gIFRyaXBHcm91cHMsXG4gIERlc3RpbmF0aW9ucyxcbiAgVXNlclByZWZlcmVuY2VzLFxuICBHcm91cE1lbWJlcnMsXG4gIFBsYWNlcyxcbiAgVXNlcnNcbn0gZnJvbSAnQC9saWIvZGF0YWJhc2UudHlwZXMnXG5cbi8qKlxuICogR2V0IGN1cnJlbnQgdXNlciBjb250ZXh0IChndWVzdCBvciBhdXRoZW50aWNhdGVkKVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q3VycmVudFVzZXJDb250ZXh0KCk6IFByb21pc2U8VXNlckNvbnRleHQ+IHtcbiAgY29uc3QgeyBjb29raWVzIH0gPSBhd2FpdCBpbXBvcnQoJ25leHQvaGVhZGVycycpXG4gIGNvbnN0IGNvb2tpZVN0b3JlID0gY29va2llcygpXG4gIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KGNvb2tpZVN0b3JlKVxuICBcbiAgLy8gVHJ5IHRvIGdldCBhdXRoZW50aWNhdGVkIHVzZXJcbiAgY29uc3QgeyBkYXRhOiB7IHVzZXIgfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKClcbiAgXG4gIGlmICh1c2VyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiB1c2VyLmlkLFxuICAgICAgc2Vzc2lvbklkOiBudWxsLFxuICAgICAgaXNHdWVzdDogZmFsc2VcbiAgICB9XG4gIH1cbiAgXG4gIC8vIEhhbmRsZSBndWVzdCB1c2VyIC0gZ2V0IHNlc3Npb24gZnJvbSBsb2NhbFN0b3JhZ2Ugb3IgZ2VuZXJhdGUgbmV3XG4gIC8vIE5vdGU6IFRoaXMgd291bGQgdHlwaWNhbGx5IGJlIGhhbmRsZWQgY2xpZW50LXNpZGVcbiAgY29uc3Qgc2Vzc2lvbklkID0gY3J5cHRvLnJhbmRvbVVVSUQoKSAvLyBJbiByZWFsIGltcGxlbWVudGF0aW9uLCByZXRyaWV2ZSBmcm9tIGNsaWVudFxuICBcbiAgcmV0dXJuIHtcbiAgICBpZDogbnVsbCxcbiAgICBzZXNzaW9uSWQsXG4gICAgaXNHdWVzdDogdHJ1ZVxuICB9XG59XG5cbi8qKlxuICogRmV0Y2ggYWxsIG9wdGltaXphdGlvbiBkYXRhIGZvciBhIHRyaXAgZ3JvdXBcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoT3B0aW1pemF0aW9uRGF0YShcbiAgZ3JvdXBJZDogc3RyaW5nLFxuICBjdXJyZW50VXNlcjogVXNlckNvbnRleHRcbik6IFByb21pc2U8RGF0YUZldGNoUmVzdWx0PE9wdGltaXphdGlvbklucHV0Pj4ge1xuICBjb25zdCB7IGNyZWF0ZUNsaWVudCB9ID0gYXdhaXQgaW1wb3J0KCdAL2xpYi9zdXBhYmFzZS9zZXJ2ZXInKTtcbiAgY29uc3QgeyBjb29raWVzIH0gPSBhd2FpdCBpbXBvcnQoJ25leHQvaGVhZGVycycpO1xuICBcbiAgLy8gSGFuZGxlIHRoZSBjYXNlIHdoZXJlIGNvb2tpZXMoKSBtaWdodCBub3QgYmUgYXZhaWxhYmxlIGluIHNvbWUgY29udGV4dHNcbiAgbGV0IHN1cGFiYXNlO1xuICB0cnkge1xuICAgIGNvbnN0IGNvb2tpZVN0b3JlID0gY29va2llcygpO1xuICAgIHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KGNvb2tpZVN0b3JlKTtcbiAgfSBjYXRjaCAoY29va2llRXJyb3IpIHtcbiAgICBjb25zb2xlLndhcm4oJ0Nvb2tpZSBjb250ZXh0IG5vdCBhdmFpbGFibGUsIGZhbGxpbmcgYmFjayB0byBkaXJlY3QgY2xpZW50Jyk7XG4gICAgLy8gQ3JlYXRlIGEgYmFzaWMgY2xpZW50IHdpdGhvdXQgY29va2llcyBmb3Igb3B0aW1pemF0aW9uIGNvbnRleHRcbiAgICBjb25zdCB7IGNyZWF0ZUNsaWVudDogY3JlYXRlRGlyZWN0Q2xpZW50IH0gPSBhd2FpdCBpbXBvcnQoJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcycpO1xuICAgIHN1cGFiYXNlID0gY3JlYXRlRGlyZWN0Q2xpZW50KFxuICAgICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMISxcbiAgICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIVxuICAgICk7XG4gIH1cbiAgXG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coJ/CflI0gZmV0Y2hPcHRpbWl6YXRpb25EYXRhIGNhbGxlZCBmb3IgZ3JvdXBJZDonLCBncm91cElkKTtcbiAgICBcbiAgICAvLyBGZXRjaCB0cmlwIGdyb3VwIGRldGFpbHNcbiAgICBjb25zdCB7IGRhdGE6IHRyaXBHcm91cCwgZXJyb3I6IHRyaXBFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCd0cmlwX2dyb3VwcycpXG4gICAgICAuc2VsZWN0KCcqJylcbiAgICAgIC5lcSgnaWQnLCBncm91cElkKVxuICAgICAgLnNpbmdsZSgpXG4gICAgXG4gICAgY29uc29sZS5sb2coJ/CflI0gVHJpcCBncm91cCBmZXRjaGVkOicsIHsgXG4gICAgICB0cmlwR3JvdXA6IHRyaXBHcm91cCA/IHtcbiAgICAgICAgaWQ6IHRyaXBHcm91cC5pZCxcbiAgICAgICAgZGVwYXJ0dXJlX2xvY2F0aW9uOiB0cmlwR3JvdXAuZGVwYXJ0dXJlX2xvY2F0aW9uLFxuICAgICAgICBkZXBhcnR1cmVfbG9jYXRpb25fbGF0OiB0cmlwR3JvdXAuZGVwYXJ0dXJlX2xvY2F0aW9uX2xhdCxcbiAgICAgICAgZGVwYXJ0dXJlX2xvY2F0aW9uX2xuZzogdHJpcEdyb3VwLmRlcGFydHVyZV9sb2NhdGlvbl9sbmdcbiAgICAgIH0gOiBudWxsLFxuICAgICAgdHJpcEVycm9yOiB0cmlwRXJyb3I/Lm1lc3NhZ2UgXG4gICAgfSk7XG4gICAgXG4gICAgaWYgKHRyaXBFcnJvcikgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggdHJpcCBncm91cDogJHt0cmlwRXJyb3IubWVzc2FnZX1gKVxuICAgIGlmICghdHJpcEdyb3VwKSB0aHJvdyBuZXcgRXJyb3IoJ1RyaXAgZ3JvdXAgbm90IGZvdW5kJylcbiAgICBcbiAgICAvLyBGZXRjaCBhbGwgcmVsYXRlZCBkYXRhIGluIHBhcmFsbGVsXG4gICAgY29uc3QgW1xuICAgICAgZGVzdGluYXRpb25zUmVzdWx0LFxuICAgICAgcGxhY2VzUmVzdWx0LFxuICAgICAgcHJlZmVyZW5jZXNSZXN1bHQsXG4gICAgICBtZW1iZXJzUmVzdWx0XG4gICAgXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIC8vIEZldGNoIGRlc3RpbmF0aW9ucyAobGVnYWN5IHRhYmxlKVxuICAgICAgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2Rlc3RpbmF0aW9ucycpXG4gICAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgICAuZXEoJ2dyb3VwX2lkJywgZ3JvdXBJZCksXG4gICAgICBcbiAgICAgIC8vIEZldGNoIHBsYWNlcyAobmV3IHR3by10aWVyIHN5c3RlbSlcbiAgICAgIHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdwbGFjZXMnKVxuICAgICAgICAuc2VsZWN0KCcqJylcbiAgICAgICAgLmVxKCdncm91cF9pZCcsIGdyb3VwSWQpXG4gICAgICAgIC5vcmRlcigndmlzaXRfb3JkZXInLCB7IGFzY2VuZGluZzogdHJ1ZSwgbnVsbHNGaXJzdDogZmFsc2UgfSksXG4gICAgICBcbiAgICAgIC8vIEZldGNoIHVzZXIgcHJlZmVyZW5jZXNcbiAgICAgIHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCd1c2VyX3ByZWZlcmVuY2VzJylcbiAgICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAgIC5lcSgnZ3JvdXBfaWQnLCBncm91cElkKSxcbiAgICAgIFxuICAgICAgLy8gRmV0Y2ggZ3JvdXAgbWVtYmVyc1xuICAgICAgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2dyb3VwX21lbWJlcnMnKVxuICAgICAgICAuc2VsZWN0KCcqJylcbiAgICAgICAgLmVxKCdncm91cF9pZCcsIGdyb3VwSWQpXG4gICAgXSlcbiAgICBcbiAgICAvLyBDaGVjayBmb3IgZXJyb3JzXG4gICAgaWYgKGRlc3RpbmF0aW9uc1Jlc3VsdC5lcnJvcikgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggZGVzdGluYXRpb25zOiAke2Rlc3RpbmF0aW9uc1Jlc3VsdC5lcnJvci5tZXNzYWdlfWApXG4gICAgaWYgKHBsYWNlc1Jlc3VsdC5lcnJvcikgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggcGxhY2VzOiAke3BsYWNlc1Jlc3VsdC5lcnJvci5tZXNzYWdlfWApXG4gICAgaWYgKHByZWZlcmVuY2VzUmVzdWx0LmVycm9yKSB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBwcmVmZXJlbmNlczogJHtwcmVmZXJlbmNlc1Jlc3VsdC5lcnJvci5tZXNzYWdlfWApXG4gICAgaWYgKG1lbWJlcnNSZXN1bHQuZXJyb3IpIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIG1lbWJlcnM6ICR7bWVtYmVyc1Jlc3VsdC5lcnJvci5tZXNzYWdlfWApXG4gICAgXG4gICAgY29uc3Qgb3B0aW1pemF0aW9uSW5wdXQgPSB7XG4gICAgICBncm91cElkLFxuICAgICAgdHJpcEdyb3VwLFxuICAgICAgZGVzdGluYXRpb25zOiBkZXN0aW5hdGlvbnNSZXN1bHQuZGF0YSB8fCBbXSxcbiAgICAgIHBsYWNlczogcGxhY2VzUmVzdWx0LmRhdGEgfHwgW10sXG4gICAgICB1c2VyUHJlZmVyZW5jZXM6IHByZWZlcmVuY2VzUmVzdWx0LmRhdGEgfHwgW10sXG4gICAgICBncm91cE1lbWJlcnM6IG1lbWJlcnNSZXN1bHQuZGF0YSB8fCBbXSxcbiAgICAgIGN1cnJlbnRVc2VyXG4gICAgfTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygn8J+UjSBPcHRpbWl6YXRpb24gaW5wdXQgcHJlcGFyZWQ6Jywge1xuICAgICAgZ3JvdXBJZCxcbiAgICAgIGhhc1RyaXBHcm91cDogISF0cmlwR3JvdXAsXG4gICAgICBkZXN0aW5hdGlvbnNDb3VudDogb3B0aW1pemF0aW9uSW5wdXQuZGVzdGluYXRpb25zLmxlbmd0aCxcbiAgICAgIHBsYWNlc0NvdW50OiBvcHRpbWl6YXRpb25JbnB1dC5wbGFjZXMubGVuZ3RoLFxuICAgICAgcHJlZmVyZW5jZXNDb3VudDogb3B0aW1pemF0aW9uSW5wdXQudXNlclByZWZlcmVuY2VzLmxlbmd0aCxcbiAgICAgIG1lbWJlcnNDb3VudDogb3B0aW1pemF0aW9uSW5wdXQuZ3JvdXBNZW1iZXJzLmxlbmd0aCxcbiAgICAgIGRlcGFydHVyZUNvb3Jkczoge1xuICAgICAgICBsYXQ6IHRyaXBHcm91cD8uZGVwYXJ0dXJlX2xvY2F0aW9uX2xhdCxcbiAgICAgICAgbG5nOiB0cmlwR3JvdXA/LmRlcGFydHVyZV9sb2NhdGlvbl9sbmdcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICAvLyDwn5SNIERFQlVHOiBMb2cgbWVtYmVyIGFuZCBwcmVmZXJlbmNlIGRldGFpbHNcbiAgICBjb25zb2xlLmxvZygn8J+UjSBNZW1iZXJzIGRlYnVnOicsIG9wdGltaXphdGlvbklucHV0Lmdyb3VwTWVtYmVycy5tYXAobSA9PiAoe1xuICAgICAgaWQ6IG0uaWQsXG4gICAgICB1c2VyX2lkOiBtLnVzZXJfaWQsXG4gICAgICBzZXNzaW9uX2lkOiBtLnNlc3Npb25faWQsXG4gICAgICBkaXNwbGF5X25hbWU6IG0uZGlzcGxheV9uYW1lXG4gICAgfSkpKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygn8J+UjSBQcmVmZXJlbmNlcyBkZWJ1ZzonLCBvcHRpbWl6YXRpb25JbnB1dC51c2VyUHJlZmVyZW5jZXMubWFwKHAgPT4gKHtcbiAgICAgIGlkOiBwLmlkLFxuICAgICAgdXNlcl9pZDogcC51c2VyX2lkLFxuICAgICAgc2Vzc2lvbl9pZDogcC5zZXNzaW9uX2lkLFxuICAgICAgZGVzdGluYXRpb25faWQ6IHAuZGVzdGluYXRpb25faWRcbiAgICB9KSkpO1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBkYXRhOiBvcHRpbWl6YXRpb25JbnB1dCxcbiAgICAgIGVycm9yOiBudWxsXG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIG9wdGltaXphdGlvbiBkYXRhOicsIGVycm9yKVxuICAgIHJldHVybiB7XG4gICAgICBkYXRhOiBudWxsLFxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvciA6IG5ldyBFcnJvcignVW5rbm93biBlcnJvciBvY2N1cnJlZCcpXG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogRmV0Y2ggdXNlciBkZXRhaWxzIGZvciBwcmVmZXJlbmNlIHZhbGlkYXRpb25cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoVXNlckRldGFpbHMoXG4gIHVzZXJJZHM6IHN0cmluZ1tdLFxuICBzZXNzaW9uSWRzOiBzdHJpbmdbXVxuKTogUHJvbWlzZTxEYXRhRmV0Y2hSZXN1bHQ8TWFwPHN0cmluZywgVXNlcnM+Pj4ge1xuICBjb25zdCB7IGNyZWF0ZUNsaWVudCB9ID0gYXdhaXQgaW1wb3J0KCdAL2xpYi9zdXBhYmFzZS9zZXJ2ZXInKTtcbiAgY29uc3QgeyBjb29raWVzIH0gPSBhd2FpdCBpbXBvcnQoJ25leHQvaGVhZGVycycpO1xuICBjb25zdCBjb29raWVTdG9yZSA9IGNvb2tpZXMoKTtcbiAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoY29va2llU3RvcmUpO1xuICBcbiAgdHJ5IHtcbiAgICAvLyBSZW1vdmUgZHVwbGljYXRlcyBhbmQgbnVsbHNcbiAgICBjb25zdCB1bmlxdWVVc2VySWRzID0gQXJyYXkuZnJvbShuZXcgU2V0KHVzZXJJZHMuZmlsdGVyKEJvb2xlYW4pKSlcbiAgICBjb25zdCB1bmlxdWVTZXNzaW9uSWRzID0gQXJyYXkuZnJvbShuZXcgU2V0KHNlc3Npb25JZHMuZmlsdGVyKEJvb2xlYW4pKSlcbiAgICBcbiAgICAvLyBGZXRjaCB1c2VycyBieSBJRCBvciBzZXNzaW9uIElEXG4gICAgY29uc3QgeyBkYXRhOiB1c2VycywgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgndXNlcnMnKVxuICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAub3IoYGlkLmluLigke3VuaXF1ZVVzZXJJZHMuam9pbignLCcpfSksc2Vzc2lvbl9pZC5pbi4oJHt1bmlxdWVTZXNzaW9uSWRzLmpvaW4oJywnKX0pYClcbiAgICBcbiAgICBpZiAoZXJyb3IpIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIHVzZXJzOiAke2Vycm9yLm1lc3NhZ2V9YClcbiAgICBcbiAgICAvLyBDcmVhdGUgbWFwIGZvciBxdWljayBsb29rdXBcbiAgICBjb25zdCB1c2VyTWFwID0gbmV3IE1hcDxzdHJpbmcsIFVzZXJzPigpXG4gICAgdXNlcnM/LmZvckVhY2godXNlciA9PiB7XG4gICAgICBpZiAodXNlci5pZCkgdXNlck1hcC5zZXQodXNlci5pZCwgdXNlcilcbiAgICAgIGlmICh1c2VyLnNlc3Npb25faWQpIHVzZXJNYXAuc2V0KHVzZXIuc2Vzc2lvbl9pZCwgdXNlcilcbiAgICB9KVxuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBkYXRhOiB1c2VyTWFwLFxuICAgICAgZXJyb3I6IG51bGxcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgdXNlciBkZXRhaWxzOicsIGVycm9yKVxuICAgIHJldHVybiB7XG4gICAgICBkYXRhOiBudWxsLFxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvciA6IG5ldyBFcnJvcignVW5rbm93biBlcnJvciBvY2N1cnJlZCcpXG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgY3VycmVudCB1c2VyIGlzIGEgbWVtYmVyIG9mIHRoZSBncm91cFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2hlY2tHcm91cE1lbWJlcnNoaXAoXG4gIGdyb3VwSWQ6IHN0cmluZyxcbiAgY3VycmVudFVzZXI6IFVzZXJDb250ZXh0XG4pOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgY29uc3QgeyBjb29raWVzIH0gPSBhd2FpdCBpbXBvcnQoJ25leHQvaGVhZGVycycpXG4gIGNvbnN0IGNvb2tpZVN0b3JlID0gY29va2llcygpXG4gIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KGNvb2tpZVN0b3JlKVxuICBcbiAgdHJ5IHtcbiAgICBsZXQgcXVlcnkgPSBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2dyb3VwX21lbWJlcnMnKVxuICAgICAgLnNlbGVjdCgnaWQnKVxuICAgICAgLmVxKCdncm91cF9pZCcsIGdyb3VwSWQpXG4gICAgXG4gICAgLy8gQWRkIHVzZXIgY29uZGl0aW9uIGJhc2VkIG9uIHR5cGVcbiAgICBpZiAoY3VycmVudFVzZXIuaXNHdWVzdCAmJiBjdXJyZW50VXNlci5zZXNzaW9uSWQpIHtcbiAgICAgIHF1ZXJ5ID0gcXVlcnkuZXEoJ3Nlc3Npb25faWQnLCBjdXJyZW50VXNlci5zZXNzaW9uSWQpXG4gICAgfSBlbHNlIGlmICghY3VycmVudFVzZXIuaXNHdWVzdCAmJiBjdXJyZW50VXNlci5pZCkge1xuICAgICAgcXVlcnkgPSBxdWVyeS5lcSgndXNlcl9pZCcsIGN1cnJlbnRVc2VyLmlkKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgcXVlcnkuc2luZ2xlKClcbiAgICBcbiAgICByZXR1cm4gIWVycm9yICYmICEhZGF0YVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNoZWNraW5nIGdyb3VwIG1lbWJlcnNoaXA6JywgZXJyb3IpXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuLyoqXG4gKiBHZXQgbWVtYmVyJ3Mgcm9sZSBpbiB0aGUgZ3JvdXBcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldE1lbWJlclJvbGUoXG4gIGdyb3VwSWQ6IHN0cmluZyxcbiAgY3VycmVudFVzZXI6IFVzZXJDb250ZXh0XG4pOiBQcm9taXNlPCdhZG1pbicgfCAnbWVtYmVyJyB8ICd2aWV3ZXInIHwgbnVsbD4ge1xuICBjb25zdCB7IGNvb2tpZXMgfSA9IGF3YWl0IGltcG9ydCgnbmV4dC9oZWFkZXJzJylcbiAgY29uc3QgY29va2llU3RvcmUgPSBjb29raWVzKClcbiAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoY29va2llU3RvcmUpXG4gIFxuICB0cnkge1xuICAgIGxldCBxdWVyeSA9IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnZ3JvdXBfbWVtYmVycycpXG4gICAgICAuc2VsZWN0KCdyb2xlJylcbiAgICAgIC5lcSgnZ3JvdXBfaWQnLCBncm91cElkKVxuICAgIFxuICAgIC8vIEFkZCB1c2VyIGNvbmRpdGlvbiBiYXNlZCBvbiB0eXBlXG4gICAgaWYgKGN1cnJlbnRVc2VyLmlzR3Vlc3QgJiYgY3VycmVudFVzZXIuc2Vzc2lvbklkKSB7XG4gICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCdzZXNzaW9uX2lkJywgY3VycmVudFVzZXIuc2Vzc2lvbklkKVxuICAgIH0gZWxzZSBpZiAoIWN1cnJlbnRVc2VyLmlzR3Vlc3QgJiYgY3VycmVudFVzZXIuaWQpIHtcbiAgICAgIHF1ZXJ5ID0gcXVlcnkuZXEoJ3VzZXJfaWQnLCBjdXJyZW50VXNlci5pZClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gICAgXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgcXVlcnkuc2luZ2xlKClcbiAgICBcbiAgICBpZiAoZXJyb3IgfHwgIWRhdGEpIHJldHVybiBudWxsXG4gICAgXG4gICAgcmV0dXJuIGRhdGEucm9sZSBhcyAnYWRtaW4nIHwgJ21lbWJlcicgfCAndmlld2VyJ1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgbWVtYmVyIHJvbGU6JywgZXJyb3IpXG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG4vKipcbiAqIEJhdGNoIGZldGNoIG11bHRpcGxlIHRyaXAgZ3JvdXBzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaE11bHRpcGxlVHJpcEdyb3VwcyhcbiAgZ3JvdXBJZHM6IHN0cmluZ1tdXG4pOiBQcm9taXNlPERhdGFGZXRjaFJlc3VsdDxUcmlwR3JvdXBzW10+PiB7XG4gIGNvbnN0IHsgY29va2llcyB9ID0gYXdhaXQgaW1wb3J0KCduZXh0L2hlYWRlcnMnKVxuICBjb25zdCBjb29raWVTdG9yZSA9IGNvb2tpZXMoKVxuICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudChjb29raWVTdG9yZSlcbiAgXG4gIHRyeSB7XG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCd0cmlwX2dyb3VwcycpXG4gICAgICAuc2VsZWN0KCcqJylcbiAgICAgIC5pbignaWQnLCBncm91cElkcylcbiAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxuICAgIFxuICAgIGlmIChlcnJvcikgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggdHJpcCBncm91cHM6ICR7ZXJyb3IubWVzc2FnZX1gKVxuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBkYXRhOiBkYXRhIHx8IFtdLFxuICAgICAgZXJyb3I6IG51bGxcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgbXVsdGlwbGUgdHJpcCBncm91cHM6JywgZXJyb3IpXG4gICAgcmV0dXJuIHtcbiAgICAgIGRhdGE6IG51bGwsXG4gICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yIDogbmV3IEVycm9yKCdVbmtub3duIGVycm9yIG9jY3VycmVkJylcbiAgICB9XG4gIH1cbn0iXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50IiwiZ2V0Q3VycmVudFVzZXJDb250ZXh0IiwiY29va2llcyIsImNvb2tpZVN0b3JlIiwic3VwYWJhc2UiLCJkYXRhIiwidXNlciIsImF1dGgiLCJnZXRVc2VyIiwiaWQiLCJzZXNzaW9uSWQiLCJpc0d1ZXN0IiwiY3J5cHRvIiwicmFuZG9tVVVJRCIsImZldGNoT3B0aW1pemF0aW9uRGF0YSIsImdyb3VwSWQiLCJjdXJyZW50VXNlciIsImNvb2tpZUVycm9yIiwiY29uc29sZSIsIndhcm4iLCJjcmVhdGVEaXJlY3RDbGllbnQiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkiLCJsb2ciLCJ0cmlwR3JvdXAiLCJlcnJvciIsInRyaXBFcnJvciIsImZyb20iLCJzZWxlY3QiLCJlcSIsInNpbmdsZSIsImRlcGFydHVyZV9sb2NhdGlvbiIsImRlcGFydHVyZV9sb2NhdGlvbl9sYXQiLCJkZXBhcnR1cmVfbG9jYXRpb25fbG5nIiwibWVzc2FnZSIsIkVycm9yIiwiZGVzdGluYXRpb25zUmVzdWx0IiwicGxhY2VzUmVzdWx0IiwicHJlZmVyZW5jZXNSZXN1bHQiLCJtZW1iZXJzUmVzdWx0IiwiUHJvbWlzZSIsImFsbCIsIm9yZGVyIiwiYXNjZW5kaW5nIiwibnVsbHNGaXJzdCIsIm9wdGltaXphdGlvbklucHV0IiwiZGVzdGluYXRpb25zIiwicGxhY2VzIiwidXNlclByZWZlcmVuY2VzIiwiZ3JvdXBNZW1iZXJzIiwiaGFzVHJpcEdyb3VwIiwiZGVzdGluYXRpb25zQ291bnQiLCJsZW5ndGgiLCJwbGFjZXNDb3VudCIsInByZWZlcmVuY2VzQ291bnQiLCJtZW1iZXJzQ291bnQiLCJkZXBhcnR1cmVDb29yZHMiLCJsYXQiLCJsbmciLCJtYXAiLCJtIiwidXNlcl9pZCIsInNlc3Npb25faWQiLCJkaXNwbGF5X25hbWUiLCJwIiwiZGVzdGluYXRpb25faWQiLCJmZXRjaFVzZXJEZXRhaWxzIiwidXNlcklkcyIsInNlc3Npb25JZHMiLCJ1bmlxdWVVc2VySWRzIiwiQXJyYXkiLCJTZXQiLCJmaWx0ZXIiLCJCb29sZWFuIiwidW5pcXVlU2Vzc2lvbklkcyIsInVzZXJzIiwib3IiLCJqb2luIiwidXNlck1hcCIsIk1hcCIsImZvckVhY2giLCJzZXQiLCJjaGVja0dyb3VwTWVtYmVyc2hpcCIsInF1ZXJ5IiwiZ2V0TWVtYmVyUm9sZSIsInJvbGUiLCJmZXRjaE11bHRpcGxlVHJpcEdyb3VwcyIsImdyb3VwSWRzIiwiaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./lib/optimization/data-fetcher.ts\n");

/***/ }),

/***/ "(action-browser)/./lib/optimization/data-preprocessor.ts":
/*!***********************************************!*\
  !*** ./lib/optimization/data-preprocessor.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculateDestinationStats: () => (/* binding */ calculateDestinationStats),\n/* harmony export */   groupPreferencesByUser: () => (/* binding */ groupPreferencesByUser),\n/* harmony export */   preprocessOptimizationData: () => (/* binding */ preprocessOptimizationData)\n/* harmony export */ });\n/* harmony import */ var _data_validator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./data-validator */ \"(action-browser)/./lib/optimization/data-validator.ts\");\n/* harmony import */ var _data_fetcher__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./data-fetcher */ \"(action-browser)/./lib/optimization/data-fetcher.ts\");\n// Data preprocessing functions for optimization algorithm\n\n\n/**\n * Main preprocessing function\n * Converts raw database data into structured format for optimization\n */ async function preprocessOptimizationData(input) {\n    // First validate the input\n    const validation = (0,_data_validator__WEBPACK_IMPORTED_MODULE_0__.validateOptimizationInput)(input);\n    if (!validation.isValid) {\n        console.error(\"Validation errors:\", validation.errors);\n        return {\n            data: null,\n            validation\n        };\n    }\n    try {\n        // Process departure and return locations\n        const departureLocation = createDepartureLocation(input.tripGroup);\n        const returnLocation = createReturnLocation(input.tripGroup, departureLocation);\n        // Process destinations (combine legacy destinations and new places)\n        const destinationMap = await processDestinations(input);\n        // Process group members\n        const memberMap = processGroupMembers(input.groupMembers);\n        // Process and validate preferences\n        const validatedPreferences = await processPreferences(input.userPreferences, memberMap, destinationMap);\n        // Process trip duration\n        const tripDuration = processTripDuration(input.tripGroup);\n        // Process constraints\n        const constraints = processConstraints(input.tripGroup);\n        const preprocessedData = {\n            groupId: input.groupId,\n            departureLocation,\n            returnLocation,\n            destinations: destinationMap,\n            preferences: validatedPreferences,\n            groupMembers: memberMap,\n            tripDuration,\n            constraints\n        };\n        return {\n            data: preprocessedData,\n            validation\n        };\n    } catch (error) {\n        console.error(\"Error preprocessing data:\", error);\n        validation.errors.push({\n            code: \"PREPROCESSING_ERROR\",\n            message: error instanceof Error ? error.message : \"Unknown preprocessing error\"\n        });\n        return {\n            data: null,\n            validation\n        };\n    }\n}\n/**\n * Create departure location from trip group\n */ function createDepartureLocation(tripGroup) {\n    console.log(\"\\uD83D\\uDD0D createDepartureLocation input:\", {\n        departure_location: tripGroup.departure_location,\n        departure_location_lat: tripGroup.departure_location_lat,\n        departure_location_lng: tripGroup.departure_location_lng,\n        hasCoords: !!(tripGroup.departure_location_lat && tripGroup.departure_location_lng)\n    });\n    if (tripGroup.departure_location_lat && tripGroup.departure_location_lng) {\n        const location = {\n            id: \"departure\",\n            latitude: tripGroup.departure_location_lat,\n            longitude: tripGroup.departure_location_lng,\n            name: tripGroup.departure_location,\n            address: tripGroup.departure_location\n        };\n        console.log(\"✅ Created departure location:\", location);\n        return location;\n    }\n    // If coordinates not set, throw error (should be caught in validation)\n    console.error(\"❌ Missing departure coordinates in createDepartureLocation\");\n    throw new Error(\"Departure location coordinates are required for optimization\");\n}\n/**\n * Create return location (may be same as departure)\n */ function createReturnLocation(tripGroup, departureLocation) {\n    // If no return location specified, use departure\n    if (!tripGroup.return_location) {\n        return null // null means use departure location\n        ;\n    }\n    // If return location is same as departure\n    if (tripGroup.return_location === tripGroup.departure_location) {\n        return null;\n    }\n    // For MVP, return location must have coordinates\n    // In future, could implement geocoding here\n    throw new Error(\"Different return location not yet supported - coordinates required\");\n}\n/**\n * Process destinations and places into unified map\n */ async function processDestinations(input) {\n    const destinationMap = new Map();\n    // Process legacy destinations table\n    input.destinations.forEach((dest)=>{\n        if (dest.latitude !== null && dest.longitude !== null) {\n            const location = (0,_data_validator__WEBPACK_IMPORTED_MODULE_0__.coordinatesToLocation)(dest.latitude, dest.longitude, dest.name, dest.id);\n            if (location) {\n                destinationMap.set(dest.id, location);\n            }\n        }\n    });\n    // Process new places table (takes precedence)\n    input.places.forEach((place)=>{\n        // Skip places without valid coordinates\n        if (place.latitude === null || place.longitude === null) {\n            console.warn(`Skipping place ${place.name} due to missing coordinates`);\n            return;\n        }\n        const location = {\n            id: place.id,\n            latitude: place.latitude,\n            longitude: place.longitude,\n            name: place.name,\n            address: place.address || undefined\n        };\n        destinationMap.set(place.id, location);\n    });\n    return destinationMap;\n}\n/**\n * Process group members into map\n */ function processGroupMembers(members) {\n    const memberMap = new Map();\n    members.forEach((member)=>{\n        // Use user_id if available, otherwise session_id\n        const key = member.user_id || member.session_id;\n        if (key) {\n            memberMap.set(key, member);\n        }\n    });\n    return memberMap;\n}\n/**\n * Process and validate user preferences\n */ async function processPreferences(preferences, memberMap, destinationMap) {\n    const validatedPreferences = [];\n    // Get unique user/session IDs for fetching user details\n    const userIds = preferences.map((p)=>p.user_id).filter(Boolean);\n    const sessionIds = preferences.map((p)=>p.session_id).filter(Boolean);\n    // Fetch user details for display names\n    const { data: userDetailsMap } = await (0,_data_fetcher__WEBPACK_IMPORTED_MODULE_1__.fetchUserDetails)(userIds, sessionIds);\n    preferences.forEach((pref)=>{\n        const userKey = pref.user_id || pref.session_id;\n        const member = memberMap.get(userKey);\n        const destination = destinationMap.get(pref.destination_id);\n        // Skip if member or destination not found\n        if (!member || !destination) {\n            console.warn(`Skipping preference: member=${userKey}, destination=${pref.destination_id}`);\n            return;\n        }\n        // Get display name from member or user details\n        let displayName = member.display_name;\n        if (!displayName && userDetailsMap) {\n            const userDetails = userDetailsMap.get(userKey);\n            displayName = userDetails?.full_name || userDetails?.display_initials || \"Unknown User\";\n        }\n        validatedPreferences.push({\n            userId: pref.user_id,\n            sessionId: pref.session_id,\n            destinationId: pref.destination_id,\n            preferenceScore: pref.preference_score,\n            preferredDuration: pref.preferred_duration || 2,\n            userDisplayName: displayName,\n            userColor: member.assigned_color\n        });\n    });\n    return validatedPreferences;\n}\n/**\n * Process trip duration information\n */ function processTripDuration(tripGroup) {\n    return {\n        startDate: tripGroup.start_date ? new Date(tripGroup.start_date) : null,\n        endDate: tripGroup.end_date ? new Date(tripGroup.end_date) : null,\n        autoCalculate: tripGroup.auto_calculate_end_date\n    };\n}\n/**\n * Process permission constraints\n */ function processConstraints(tripGroup) {\n    return {\n        allowOrderChange: tripGroup.allow_order_change,\n        allowDestinationAdd: tripGroup.allow_destination_add,\n        orderChangeMembers: tripGroup.order_change_members || []\n    };\n}\n/**\n * Calculate preference statistics for a destination\n */ function calculateDestinationStats(destinationId, preferences) {\n    const destPrefs = preferences.filter((p)=>p.destinationId === destinationId);\n    if (destPrefs.length === 0) {\n        return {\n            averageScore: 0,\n            totalPreferences: 0,\n            preferringUsers: []\n        };\n    }\n    const totalScore = destPrefs.reduce((sum, p)=>sum + p.preferenceScore, 0);\n    const preferringUsers = destPrefs.filter((p)=>p.preferenceScore >= 4) // Score 4 or 5\n    .map((p)=>p.userDisplayName);\n    return {\n        averageScore: totalScore / destPrefs.length,\n        totalPreferences: destPrefs.length,\n        preferringUsers\n    };\n}\n/**\n * Group preferences by user for fairness calculation\n */ function groupPreferencesByUser(preferences) {\n    const userPrefsMap = new Map();\n    preferences.forEach((pref)=>{\n        const userKey = pref.userId || pref.sessionId || \"unknown\";\n        const userPrefs = userPrefsMap.get(userKey) || [];\n        userPrefs.push(pref);\n        userPrefsMap.set(userKey, userPrefs);\n    });\n    return userPrefsMap;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL2xpYi9vcHRpbWl6YXRpb24vZGF0YS1wcmVwcm9jZXNzb3IudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSwwREFBMEQ7QUFTeUI7QUFDbEM7QUFFakQ7OztDQUdDLEdBQ00sZUFBZUcsMkJBQ3BCQyxLQUF3QjtJQUV4QiwyQkFBMkI7SUFDM0IsTUFBTUMsYUFBYUwsMEVBQXlCQSxDQUFDSTtJQUU3QyxJQUFJLENBQUNDLFdBQVdDLE9BQU8sRUFBRTtRQUN2QkMsUUFBUUMsS0FBSyxDQUFDLHNCQUFzQkgsV0FBV0ksTUFBTTtRQUNyRCxPQUFPO1lBQUVDLE1BQU07WUFBTUw7UUFBVztJQUNsQztJQUVBLElBQUk7UUFDRix5Q0FBeUM7UUFDekMsTUFBTU0sb0JBQW9CQyx3QkFBd0JSLE1BQU1TLFNBQVM7UUFDakUsTUFBTUMsaUJBQWlCQyxxQkFBcUJYLE1BQU1TLFNBQVMsRUFBRUY7UUFFN0Qsb0VBQW9FO1FBQ3BFLE1BQU1LLGlCQUFpQixNQUFNQyxvQkFBb0JiO1FBRWpELHdCQUF3QjtRQUN4QixNQUFNYyxZQUFZQyxvQkFBb0JmLE1BQU1nQixZQUFZO1FBRXhELG1DQUFtQztRQUNuQyxNQUFNQyx1QkFBdUIsTUFBTUMsbUJBQ2pDbEIsTUFBTW1CLGVBQWUsRUFDckJMLFdBQ0FGO1FBR0Ysd0JBQXdCO1FBQ3hCLE1BQU1RLGVBQWVDLG9CQUFvQnJCLE1BQU1TLFNBQVM7UUFFeEQsc0JBQXNCO1FBQ3RCLE1BQU1hLGNBQWNDLG1CQUFtQnZCLE1BQU1TLFNBQVM7UUFFdEQsTUFBTWUsbUJBQXFDO1lBQ3pDQyxTQUFTekIsTUFBTXlCLE9BQU87WUFDdEJsQjtZQUNBRztZQUNBZ0IsY0FBY2Q7WUFDZGUsYUFBYVY7WUFDYkQsY0FBY0Y7WUFDZE07WUFDQUU7UUFDRjtRQUVBLE9BQU87WUFBRWhCLE1BQU1rQjtZQUFrQnZCO1FBQVc7SUFDOUMsRUFBRSxPQUFPRyxPQUFPO1FBQ2RELFFBQVFDLEtBQUssQ0FBQyw2QkFBNkJBO1FB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Q3pFLE1BQU15QixrQkFBa0JKLFVBQ3JCdEMsTUFBTSxDQUFDRCxDQUFBQSxJQUFLQSxFQUFFa0IsZUFBZSxJQUFJLEdBQUcsZUFBZTtLQUNuRG5CLEdBQUcsQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRXNCLGVBQWU7SUFFN0IsT0FBTztRQUNMbUIsY0FBY0csYUFBYUwsVUFBVUMsTUFBTTtRQUMzQ0Usa0JBQWtCSCxVQUFVQyxNQUFNO1FBQ2xDRztJQUNGO0FBQ0Y7QUFFQTs7Q0FFQyxHQUNNLFNBQVNJLHVCQUNkL0UsV0FBa0M7SUFFbEMsTUFBTWdGLGVBQWUsSUFBSS9EO0lBRXpCakIsWUFBWWtCLE9BQU8sQ0FBQ21CLENBQUFBO1FBQ2xCLE1BQU1DLFVBQVVELEtBQUtVLE1BQU0sSUFBSVYsS0FBS1csU0FBUyxJQUFJO1FBQ2pELE1BQU1pQyxZQUFZRCxhQUFhekMsR0FBRyxDQUFDRCxZQUFZLEVBQUU7UUFDakQyQyxVQUFVaEYsSUFBSSxDQUFDb0M7UUFDZjJDLGFBQWE1RCxHQUFHLENBQUNrQixTQUFTMkM7SUFDNUI7SUFFQSxPQUFPRDtBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLy4vbGliL29wdGltaXphdGlvbi9kYXRhLXByZXByb2Nlc3Nvci50cz82YjZlIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIERhdGEgcHJlcHJvY2Vzc2luZyBmdW5jdGlvbnMgZm9yIG9wdGltaXphdGlvbiBhbGdvcml0aG1cblxuaW1wb3J0IHR5cGUge1xuICBPcHRpbWl6YXRpb25JbnB1dCxcbiAgUHJlcHJvY2Vzc2VkRGF0YSxcbiAgTG9jYXRpb24sXG4gIFZhbGlkYXRlZFByZWZlcmVuY2UsXG4gIFZhbGlkYXRpb25SZXN1bHRcbn0gZnJvbSAnLi90eXBlcydcbmltcG9ydCB7IHZhbGlkYXRlT3B0aW1pemF0aW9uSW5wdXQsIGNvb3JkaW5hdGVzVG9Mb2NhdGlvbiB9IGZyb20gJy4vZGF0YS12YWxpZGF0b3InXG5pbXBvcnQgeyBmZXRjaFVzZXJEZXRhaWxzIH0gZnJvbSAnLi9kYXRhLWZldGNoZXInXG5cbi8qKlxuICogTWFpbiBwcmVwcm9jZXNzaW5nIGZ1bmN0aW9uXG4gKiBDb252ZXJ0cyByYXcgZGF0YWJhc2UgZGF0YSBpbnRvIHN0cnVjdHVyZWQgZm9ybWF0IGZvciBvcHRpbWl6YXRpb25cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHByZXByb2Nlc3NPcHRpbWl6YXRpb25EYXRhKFxuICBpbnB1dDogT3B0aW1pemF0aW9uSW5wdXRcbik6IFByb21pc2U8eyBkYXRhOiBQcmVwcm9jZXNzZWREYXRhIHwgbnVsbDsgdmFsaWRhdGlvbjogVmFsaWRhdGlvblJlc3VsdCB9PiB7XG4gIC8vIEZpcnN0IHZhbGlkYXRlIHRoZSBpbnB1dFxuICBjb25zdCB2YWxpZGF0aW9uID0gdmFsaWRhdGVPcHRpbWl6YXRpb25JbnB1dChpbnB1dClcbiAgXG4gIGlmICghdmFsaWRhdGlvbi5pc1ZhbGlkKSB7XG4gICAgY29uc29sZS5lcnJvcignVmFsaWRhdGlvbiBlcnJvcnM6JywgdmFsaWRhdGlvbi5lcnJvcnMpXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgdmFsaWRhdGlvbiB9XG4gIH1cbiAgXG4gIHRyeSB7XG4gICAgLy8gUHJvY2VzcyBkZXBhcnR1cmUgYW5kIHJldHVybiBsb2NhdGlvbnNcbiAgICBjb25zdCBkZXBhcnR1cmVMb2NhdGlvbiA9IGNyZWF0ZURlcGFydHVyZUxvY2F0aW9uKGlucHV0LnRyaXBHcm91cClcbiAgICBjb25zdCByZXR1cm5Mb2NhdGlvbiA9IGNyZWF0ZVJldHVybkxvY2F0aW9uKGlucHV0LnRyaXBHcm91cCwgZGVwYXJ0dXJlTG9jYXRpb24pXG4gICAgXG4gICAgLy8gUHJvY2VzcyBkZXN0aW5hdGlvbnMgKGNvbWJpbmUgbGVnYWN5IGRlc3RpbmF0aW9ucyBhbmQgbmV3IHBsYWNlcylcbiAgICBjb25zdCBkZXN0aW5hdGlvbk1hcCA9IGF3YWl0IHByb2Nlc3NEZXN0aW5hdGlvbnMoaW5wdXQpXG4gICAgXG4gICAgLy8gUHJvY2VzcyBncm91cCBtZW1iZXJzXG4gICAgY29uc3QgbWVtYmVyTWFwID0gcHJvY2Vzc0dyb3VwTWVtYmVycyhpbnB1dC5ncm91cE1lbWJlcnMpXG4gICAgXG4gICAgLy8gUHJvY2VzcyBhbmQgdmFsaWRhdGUgcHJlZmVyZW5jZXNcbiAgICBjb25zdCB2YWxpZGF0ZWRQcmVmZXJlbmNlcyA9IGF3YWl0IHByb2Nlc3NQcmVmZXJlbmNlcyhcbiAgICAgIGlucHV0LnVzZXJQcmVmZXJlbmNlcyxcbiAgICAgIG1lbWJlck1hcCxcbiAgICAgIGRlc3RpbmF0aW9uTWFwXG4gICAgKVxuICAgIFxuICAgIC8vIFByb2Nlc3MgdHJpcCBkdXJhdGlvblxuICAgIGNvbnN0IHRyaXBEdXJhdGlvbiA9IHByb2Nlc3NUcmlwRHVyYXRpb24oaW5wdXQudHJpcEdyb3VwKVxuICAgIFxuICAgIC8vIFByb2Nlc3MgY29uc3RyYWludHNcbiAgICBjb25zdCBjb25zdHJhaW50cyA9IHByb2Nlc3NDb25zdHJhaW50cyhpbnB1dC50cmlwR3JvdXApXG4gICAgXG4gICAgY29uc3QgcHJlcHJvY2Vzc2VkRGF0YTogUHJlcHJvY2Vzc2VkRGF0YSA9IHtcbiAgICAgIGdyb3VwSWQ6IGlucHV0Lmdyb3VwSWQsXG4gICAgICBkZXBhcnR1cmVMb2NhdGlvbixcbiAgICAgIHJldHVybkxvY2F0aW9uLFxuICAgICAgZGVzdGluYXRpb25zOiBkZXN0aW5hdGlvbk1hcCxcbiAgICAgIHByZWZlcmVuY2VzOiB2YWxpZGF0ZWRQcmVmZXJlbmNlcyxcbiAgICAgIGdyb3VwTWVtYmVyczogbWVtYmVyTWFwLFxuICAgICAgdHJpcER1cmF0aW9uLFxuICAgICAgY29uc3RyYWludHNcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHsgZGF0YTogcHJlcHJvY2Vzc2VkRGF0YSwgdmFsaWRhdGlvbiB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgcHJlcHJvY2Vzc2luZyBkYXRhOicsIGVycm9yKVxuICAgIHZhbGlkYXRpb24uZXJyb3JzLnB1c2goe1xuICAgICAgY29kZTogJ1BSRVBST0NFU1NJTkdfRVJST1InLFxuICAgICAgbWVzc2FnZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBwcmVwcm9jZXNzaW5nIGVycm9yJ1xuICAgIH0pXG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgdmFsaWRhdGlvbiB9XG4gIH1cbn1cblxuLyoqXG4gKiBDcmVhdGUgZGVwYXJ0dXJlIGxvY2F0aW9uIGZyb20gdHJpcCBncm91cFxuICovXG5mdW5jdGlvbiBjcmVhdGVEZXBhcnR1cmVMb2NhdGlvbih0cmlwR3JvdXA6IGFueSk6IExvY2F0aW9uIHtcbiAgY29uc29sZS5sb2coJ/CflI0gY3JlYXRlRGVwYXJ0dXJlTG9jYXRpb24gaW5wdXQ6Jywge1xuICAgIGRlcGFydHVyZV9sb2NhdGlvbjogdHJpcEdyb3VwLmRlcGFydHVyZV9sb2NhdGlvbixcbiAgICBkZXBhcnR1cmVfbG9jYXRpb25fbGF0OiB0cmlwR3JvdXAuZGVwYXJ0dXJlX2xvY2F0aW9uX2xhdCxcbiAgICBkZXBhcnR1cmVfbG9jYXRpb25fbG5nOiB0cmlwR3JvdXAuZGVwYXJ0dXJlX2xvY2F0aW9uX2xuZyxcbiAgICBoYXNDb29yZHM6ICEhKHRyaXBHcm91cC5kZXBhcnR1cmVfbG9jYXRpb25fbGF0ICYmIHRyaXBHcm91cC5kZXBhcnR1cmVfbG9jYXRpb25fbG5nKVxuICB9KTtcbiAgXG4gIGlmICh0cmlwR3JvdXAuZGVwYXJ0dXJlX2xvY2F0aW9uX2xhdCAmJiB0cmlwR3JvdXAuZGVwYXJ0dXJlX2xvY2F0aW9uX2xuZykge1xuICAgIGNvbnN0IGxvY2F0aW9uID0ge1xuICAgICAgaWQ6ICdkZXBhcnR1cmUnLFxuICAgICAgbGF0aXR1ZGU6IHRyaXBHcm91cC5kZXBhcnR1cmVfbG9jYXRpb25fbGF0LFxuICAgICAgbG9uZ2l0dWRlOiB0cmlwR3JvdXAuZGVwYXJ0dXJlX2xvY2F0aW9uX2xuZyxcbiAgICAgIG5hbWU6IHRyaXBHcm91cC5kZXBhcnR1cmVfbG9jYXRpb24sXG4gICAgICBhZGRyZXNzOiB0cmlwR3JvdXAuZGVwYXJ0dXJlX2xvY2F0aW9uXG4gICAgfTtcbiAgICBjb25zb2xlLmxvZygn4pyFIENyZWF0ZWQgZGVwYXJ0dXJlIGxvY2F0aW9uOicsIGxvY2F0aW9uKTtcbiAgICByZXR1cm4gbG9jYXRpb247XG4gIH1cbiAgXG4gIC8vIElmIGNvb3JkaW5hdGVzIG5vdCBzZXQsIHRocm93IGVycm9yIChzaG91bGQgYmUgY2F1Z2h0IGluIHZhbGlkYXRpb24pXG4gIGNvbnNvbGUuZXJyb3IoJ+KdjCBNaXNzaW5nIGRlcGFydHVyZSBjb29yZGluYXRlcyBpbiBjcmVhdGVEZXBhcnR1cmVMb2NhdGlvbicpO1xuICB0aHJvdyBuZXcgRXJyb3IoJ0RlcGFydHVyZSBsb2NhdGlvbiBjb29yZGluYXRlcyBhcmUgcmVxdWlyZWQgZm9yIG9wdGltaXphdGlvbicpXG59XG5cbi8qKlxuICogQ3JlYXRlIHJldHVybiBsb2NhdGlvbiAobWF5IGJlIHNhbWUgYXMgZGVwYXJ0dXJlKVxuICovXG5mdW5jdGlvbiBjcmVhdGVSZXR1cm5Mb2NhdGlvbihcbiAgdHJpcEdyb3VwOiBhbnksXG4gIGRlcGFydHVyZUxvY2F0aW9uOiBMb2NhdGlvblxuKTogTG9jYXRpb24gfCBudWxsIHtcbiAgLy8gSWYgbm8gcmV0dXJuIGxvY2F0aW9uIHNwZWNpZmllZCwgdXNlIGRlcGFydHVyZVxuICBpZiAoIXRyaXBHcm91cC5yZXR1cm5fbG9jYXRpb24pIHtcbiAgICByZXR1cm4gbnVsbCAvLyBudWxsIG1lYW5zIHVzZSBkZXBhcnR1cmUgbG9jYXRpb25cbiAgfVxuICBcbiAgLy8gSWYgcmV0dXJuIGxvY2F0aW9uIGlzIHNhbWUgYXMgZGVwYXJ0dXJlXG4gIGlmICh0cmlwR3JvdXAucmV0dXJuX2xvY2F0aW9uID09PSB0cmlwR3JvdXAuZGVwYXJ0dXJlX2xvY2F0aW9uKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuICBcbiAgLy8gRm9yIE1WUCwgcmV0dXJuIGxvY2F0aW9uIG11c3QgaGF2ZSBjb29yZGluYXRlc1xuICAvLyBJbiBmdXR1cmUsIGNvdWxkIGltcGxlbWVudCBnZW9jb2RpbmcgaGVyZVxuICB0aHJvdyBuZXcgRXJyb3IoJ0RpZmZlcmVudCByZXR1cm4gbG9jYXRpb24gbm90IHlldCBzdXBwb3J0ZWQgLSBjb29yZGluYXRlcyByZXF1aXJlZCcpXG59XG5cbi8qKlxuICogUHJvY2VzcyBkZXN0aW5hdGlvbnMgYW5kIHBsYWNlcyBpbnRvIHVuaWZpZWQgbWFwXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NEZXN0aW5hdGlvbnMoXG4gIGlucHV0OiBPcHRpbWl6YXRpb25JbnB1dFxuKTogUHJvbWlzZTxNYXA8c3RyaW5nLCBMb2NhdGlvbj4+IHtcbiAgY29uc3QgZGVzdGluYXRpb25NYXAgPSBuZXcgTWFwPHN0cmluZywgTG9jYXRpb24+KClcbiAgXG4gIC8vIFByb2Nlc3MgbGVnYWN5IGRlc3RpbmF0aW9ucyB0YWJsZVxuICBpbnB1dC5kZXN0aW5hdGlvbnMuZm9yRWFjaChkZXN0ID0+IHtcbiAgICBpZiAoZGVzdC5sYXRpdHVkZSAhPT0gbnVsbCAmJiBkZXN0LmxvbmdpdHVkZSAhPT0gbnVsbCkge1xuICAgICAgY29uc3QgbG9jYXRpb24gPSBjb29yZGluYXRlc1RvTG9jYXRpb24oXG4gICAgICAgIGRlc3QubGF0aXR1ZGUsXG4gICAgICAgIGRlc3QubG9uZ2l0dWRlLFxuICAgICAgICBkZXN0Lm5hbWUsXG4gICAgICAgIGRlc3QuaWRcbiAgICAgIClcbiAgICAgIGlmIChsb2NhdGlvbikge1xuICAgICAgICBkZXN0aW5hdGlvbk1hcC5zZXQoZGVzdC5pZCwgbG9jYXRpb24pXG4gICAgICB9XG4gICAgfVxuICB9KVxuICBcbiAgLy8gUHJvY2VzcyBuZXcgcGxhY2VzIHRhYmxlICh0YWtlcyBwcmVjZWRlbmNlKVxuICBpbnB1dC5wbGFjZXMuZm9yRWFjaChwbGFjZSA9PiB7XG4gICAgLy8gU2tpcCBwbGFjZXMgd2l0aG91dCB2YWxpZCBjb29yZGluYXRlc1xuICAgIGlmIChwbGFjZS5sYXRpdHVkZSA9PT0gbnVsbCB8fCBwbGFjZS5sb25naXR1ZGUgPT09IG51bGwpIHtcbiAgICAgIGNvbnNvbGUud2FybihgU2tpcHBpbmcgcGxhY2UgJHtwbGFjZS5uYW1lfSBkdWUgdG8gbWlzc2luZyBjb29yZGluYXRlc2ApXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgXG4gICAgY29uc3QgbG9jYXRpb246IExvY2F0aW9uID0ge1xuICAgICAgaWQ6IHBsYWNlLmlkLFxuICAgICAgbGF0aXR1ZGU6IHBsYWNlLmxhdGl0dWRlLFxuICAgICAgbG9uZ2l0dWRlOiBwbGFjZS5sb25naXR1ZGUsXG4gICAgICBuYW1lOiBwbGFjZS5uYW1lLCAvLyBVcGRhdGVkIGZpZWxkIG5hbWUgYmFzZWQgb24gc2NoZW1hXG4gICAgICBhZGRyZXNzOiBwbGFjZS5hZGRyZXNzIHx8IHVuZGVmaW5lZFxuICAgIH1cbiAgICBkZXN0aW5hdGlvbk1hcC5zZXQocGxhY2UuaWQsIGxvY2F0aW9uKVxuICB9KVxuICBcbiAgcmV0dXJuIGRlc3RpbmF0aW9uTWFwXG59XG5cbi8qKlxuICogUHJvY2VzcyBncm91cCBtZW1iZXJzIGludG8gbWFwXG4gKi9cbmZ1bmN0aW9uIHByb2Nlc3NHcm91cE1lbWJlcnMoXG4gIG1lbWJlcnM6IGFueVtdXG4pOiBNYXA8c3RyaW5nLCBhbnk+IHtcbiAgY29uc3QgbWVtYmVyTWFwID0gbmV3IE1hcCgpXG4gIFxuICBtZW1iZXJzLmZvckVhY2gobWVtYmVyID0+IHtcbiAgICAvLyBVc2UgdXNlcl9pZCBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSBzZXNzaW9uX2lkXG4gICAgY29uc3Qga2V5ID0gbWVtYmVyLnVzZXJfaWQgfHwgbWVtYmVyLnNlc3Npb25faWRcbiAgICBpZiAoa2V5KSB7XG4gICAgICBtZW1iZXJNYXAuc2V0KGtleSwgbWVtYmVyKVxuICAgIH1cbiAgfSlcbiAgXG4gIHJldHVybiBtZW1iZXJNYXBcbn1cblxuLyoqXG4gKiBQcm9jZXNzIGFuZCB2YWxpZGF0ZSB1c2VyIHByZWZlcmVuY2VzXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NQcmVmZXJlbmNlcyhcbiAgcHJlZmVyZW5jZXM6IGFueVtdLFxuICBtZW1iZXJNYXA6IE1hcDxzdHJpbmcsIGFueT4sXG4gIGRlc3RpbmF0aW9uTWFwOiBNYXA8c3RyaW5nLCBMb2NhdGlvbj5cbik6IFByb21pc2U8VmFsaWRhdGVkUHJlZmVyZW5jZVtdPiB7XG4gIGNvbnN0IHZhbGlkYXRlZFByZWZlcmVuY2VzOiBWYWxpZGF0ZWRQcmVmZXJlbmNlW10gPSBbXVxuICBcbiAgLy8gR2V0IHVuaXF1ZSB1c2VyL3Nlc3Npb24gSURzIGZvciBmZXRjaGluZyB1c2VyIGRldGFpbHNcbiAgY29uc3QgdXNlcklkcyA9IHByZWZlcmVuY2VzXG4gICAgLm1hcChwID0+IHAudXNlcl9pZClcbiAgICAuZmlsdGVyKEJvb2xlYW4pIGFzIHN0cmluZ1tdXG4gIGNvbnN0IHNlc3Npb25JZHMgPSBwcmVmZXJlbmNlc1xuICAgIC5tYXAocCA9PiBwLnNlc3Npb25faWQpXG4gICAgLmZpbHRlcihCb29sZWFuKSBhcyBzdHJpbmdbXVxuICBcbiAgLy8gRmV0Y2ggdXNlciBkZXRhaWxzIGZvciBkaXNwbGF5IG5hbWVzXG4gIGNvbnN0IHsgZGF0YTogdXNlckRldGFpbHNNYXAgfSA9IGF3YWl0IGZldGNoVXNlckRldGFpbHModXNlcklkcywgc2Vzc2lvbklkcylcbiAgXG4gIHByZWZlcmVuY2VzLmZvckVhY2gocHJlZiA9PiB7XG4gICAgY29uc3QgdXNlcktleSA9IHByZWYudXNlcl9pZCB8fCBwcmVmLnNlc3Npb25faWRcbiAgICBjb25zdCBtZW1iZXIgPSBtZW1iZXJNYXAuZ2V0KHVzZXJLZXkpXG4gICAgY29uc3QgZGVzdGluYXRpb24gPSBkZXN0aW5hdGlvbk1hcC5nZXQocHJlZi5kZXN0aW5hdGlvbl9pZClcbiAgICBcbiAgICAvLyBTa2lwIGlmIG1lbWJlciBvciBkZXN0aW5hdGlvbiBub3QgZm91bmRcbiAgICBpZiAoIW1lbWJlciB8fCAhZGVzdGluYXRpb24pIHtcbiAgICAgIGNvbnNvbGUud2FybihgU2tpcHBpbmcgcHJlZmVyZW5jZTogbWVtYmVyPSR7dXNlcktleX0sIGRlc3RpbmF0aW9uPSR7cHJlZi5kZXN0aW5hdGlvbl9pZH1gKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIFxuICAgIC8vIEdldCBkaXNwbGF5IG5hbWUgZnJvbSBtZW1iZXIgb3IgdXNlciBkZXRhaWxzXG4gICAgbGV0IGRpc3BsYXlOYW1lID0gbWVtYmVyLmRpc3BsYXlfbmFtZVxuICAgIGlmICghZGlzcGxheU5hbWUgJiYgdXNlckRldGFpbHNNYXApIHtcbiAgICAgIGNvbnN0IHVzZXJEZXRhaWxzID0gdXNlckRldGFpbHNNYXAuZ2V0KHVzZXJLZXkpXG4gICAgICBkaXNwbGF5TmFtZSA9IHVzZXJEZXRhaWxzPy5mdWxsX25hbWUgfHwgdXNlckRldGFpbHM/LmRpc3BsYXlfaW5pdGlhbHMgfHwgJ1Vua25vd24gVXNlcidcbiAgICB9XG4gICAgXG4gICAgdmFsaWRhdGVkUHJlZmVyZW5jZXMucHVzaCh7XG4gICAgICB1c2VySWQ6IHByZWYudXNlcl9pZCxcbiAgICAgIHNlc3Npb25JZDogcHJlZi5zZXNzaW9uX2lkLFxuICAgICAgZGVzdGluYXRpb25JZDogcHJlZi5kZXN0aW5hdGlvbl9pZCxcbiAgICAgIHByZWZlcmVuY2VTY29yZTogcHJlZi5wcmVmZXJlbmNlX3Njb3JlLFxuICAgICAgcHJlZmVycmVkRHVyYXRpb246IHByZWYucHJlZmVycmVkX2R1cmF0aW9uIHx8IDIsIC8vIERlZmF1bHQgMiBob3Vyc1xuICAgICAgdXNlckRpc3BsYXlOYW1lOiBkaXNwbGF5TmFtZSxcbiAgICAgIHVzZXJDb2xvcjogbWVtYmVyLmFzc2lnbmVkX2NvbG9yXG4gICAgfSlcbiAgfSlcbiAgXG4gIHJldHVybiB2YWxpZGF0ZWRQcmVmZXJlbmNlc1xufVxuXG4vKipcbiAqIFByb2Nlc3MgdHJpcCBkdXJhdGlvbiBpbmZvcm1hdGlvblxuICovXG5mdW5jdGlvbiBwcm9jZXNzVHJpcER1cmF0aW9uKHRyaXBHcm91cDogYW55KTogUHJlcHJvY2Vzc2VkRGF0YVsndHJpcER1cmF0aW9uJ10ge1xuICByZXR1cm4ge1xuICAgIHN0YXJ0RGF0ZTogdHJpcEdyb3VwLnN0YXJ0X2RhdGUgPyBuZXcgRGF0ZSh0cmlwR3JvdXAuc3RhcnRfZGF0ZSkgOiBudWxsLFxuICAgIGVuZERhdGU6IHRyaXBHcm91cC5lbmRfZGF0ZSA/IG5ldyBEYXRlKHRyaXBHcm91cC5lbmRfZGF0ZSkgOiBudWxsLFxuICAgIGF1dG9DYWxjdWxhdGU6IHRyaXBHcm91cC5hdXRvX2NhbGN1bGF0ZV9lbmRfZGF0ZVxuICB9XG59XG5cbi8qKlxuICogUHJvY2VzcyBwZXJtaXNzaW9uIGNvbnN0cmFpbnRzXG4gKi9cbmZ1bmN0aW9uIHByb2Nlc3NDb25zdHJhaW50cyh0cmlwR3JvdXA6IGFueSk6IFByZXByb2Nlc3NlZERhdGFbJ2NvbnN0cmFpbnRzJ10ge1xuICByZXR1cm4ge1xuICAgIGFsbG93T3JkZXJDaGFuZ2U6IHRyaXBHcm91cC5hbGxvd19vcmRlcl9jaGFuZ2UgYXMgJ2FsbCcgfCAnYWRtaW5fb25seScgfCAnc3BlY2lmaWNfbWVtYmVycycsXG4gICAgYWxsb3dEZXN0aW5hdGlvbkFkZDogdHJpcEdyb3VwLmFsbG93X2Rlc3RpbmF0aW9uX2FkZCBhcyAnYWxsJyB8ICdhcHByb3ZhbF9yZXF1aXJlZCcsXG4gICAgb3JkZXJDaGFuZ2VNZW1iZXJzOiB0cmlwR3JvdXAub3JkZXJfY2hhbmdlX21lbWJlcnMgfHwgW11cbiAgfVxufVxuXG4vKipcbiAqIENhbGN1bGF0ZSBwcmVmZXJlbmNlIHN0YXRpc3RpY3MgZm9yIGEgZGVzdGluYXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZURlc3RpbmF0aW9uU3RhdHMoXG4gIGRlc3RpbmF0aW9uSWQ6IHN0cmluZyxcbiAgcHJlZmVyZW5jZXM6IFZhbGlkYXRlZFByZWZlcmVuY2VbXVxuKToge1xuICBhdmVyYWdlU2NvcmU6IG51bWJlclxuICB0b3RhbFByZWZlcmVuY2VzOiBudW1iZXJcbiAgcHJlZmVycmluZ1VzZXJzOiBzdHJpbmdbXVxufSB7XG4gIGNvbnN0IGRlc3RQcmVmcyA9IHByZWZlcmVuY2VzLmZpbHRlcihwID0+IHAuZGVzdGluYXRpb25JZCA9PT0gZGVzdGluYXRpb25JZClcbiAgXG4gIGlmIChkZXN0UHJlZnMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGF2ZXJhZ2VTY29yZTogMCxcbiAgICAgIHRvdGFsUHJlZmVyZW5jZXM6IDAsXG4gICAgICBwcmVmZXJyaW5nVXNlcnM6IFtdXG4gICAgfVxuICB9XG4gIFxuICBjb25zdCB0b3RhbFNjb3JlID0gZGVzdFByZWZzLnJlZHVjZSgoc3VtLCBwKSA9PiBzdW0gKyBwLnByZWZlcmVuY2VTY29yZSwgMClcbiAgY29uc3QgcHJlZmVycmluZ1VzZXJzID0gZGVzdFByZWZzXG4gICAgLmZpbHRlcihwID0+IHAucHJlZmVyZW5jZVNjb3JlID49IDQpIC8vIFNjb3JlIDQgb3IgNVxuICAgIC5tYXAocCA9PiBwLnVzZXJEaXNwbGF5TmFtZSlcbiAgXG4gIHJldHVybiB7XG4gICAgYXZlcmFnZVNjb3JlOiB0b3RhbFNjb3JlIC8gZGVzdFByZWZzLmxlbmd0aCxcbiAgICB0b3RhbFByZWZlcmVuY2VzOiBkZXN0UHJlZnMubGVuZ3RoLFxuICAgIHByZWZlcnJpbmdVc2Vyc1xuICB9XG59XG5cbi8qKlxuICogR3JvdXAgcHJlZmVyZW5jZXMgYnkgdXNlciBmb3IgZmFpcm5lc3MgY2FsY3VsYXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdyb3VwUHJlZmVyZW5jZXNCeVVzZXIoXG4gIHByZWZlcmVuY2VzOiBWYWxpZGF0ZWRQcmVmZXJlbmNlW11cbik6IE1hcDxzdHJpbmcsIFZhbGlkYXRlZFByZWZlcmVuY2VbXT4ge1xuICBjb25zdCB1c2VyUHJlZnNNYXAgPSBuZXcgTWFwPHN0cmluZywgVmFsaWRhdGVkUHJlZmVyZW5jZVtdPigpXG4gIFxuICBwcmVmZXJlbmNlcy5mb3JFYWNoKHByZWYgPT4ge1xuICAgIGNvbnN0IHVzZXJLZXkgPSBwcmVmLnVzZXJJZCB8fCBwcmVmLnNlc3Npb25JZCB8fCAndW5rbm93bidcbiAgICBjb25zdCB1c2VyUHJlZnMgPSB1c2VyUHJlZnNNYXAuZ2V0KHVzZXJLZXkpIHx8IFtdXG4gICAgdXNlclByZWZzLnB1c2gocHJlZilcbiAgICB1c2VyUHJlZnNNYXAuc2V0KHVzZXJLZXksIHVzZXJQcmVmcylcbiAgfSlcbiAgXG4gIHJldHVybiB1c2VyUHJlZnNNYXBcbn0iXSwibmFtZXMiOlsidmFsaWRhdGVPcHRpbWl6YXRpb25JbnB1dCIsImNvb3JkaW5hdGVzVG9Mb2NhdGlvbiIsImZldGNoVXNlckRldGFpbHMiLCJwcmVwcm9jZXNzT3B0aW1pemF0aW9uRGF0YSIsImlucHV0IiwidmFsaWRhdGlvbiIsImlzVmFsaWQiLCJjb25zb2xlIiwiZXJyb3IiLCJlcnJvcnMiLCJkYXRhIiwiZGVwYXJ0dXJlTG9jYXRpb24iLCJjcmVhdGVEZXBhcnR1cmVMb2NhdGlvbiIsInRyaXBHcm91cCIsInJldHVybkxvY2F0aW9uIiwiY3JlYXRlUmV0dXJuTG9jYXRpb24iLCJkZXN0aW5hdGlvbk1hcCIsInByb2Nlc3NEZXN0aW5hdGlvbnMiLCJtZW1iZXJNYXAiLCJwcm9jZXNzR3JvdXBNZW1iZXJzIiwiZ3JvdXBNZW1iZXJzIiwidmFsaWRhdGVkUHJlZmVyZW5jZXMiLCJwcm9jZXNzUHJlZmVyZW5jZXMiLCJ1c2VyUHJlZmVyZW5jZXMiLCJ0cmlwRHVyYXRpb24iLCJwcm9jZXNzVHJpcER1cmF0aW9uIiwiY29uc3RyYWludHMiLCJwcm9jZXNzQ29uc3RyYWludHMiLCJwcmVwcm9jZXNzZWREYXRhIiwiZ3JvdXBJZCIsImRlc3RpbmF0aW9ucyIsInByZWZlcmVuY2VzIiwicHVzaCIsImNvZGUiLCJtZXNzYWdlIiwiRXJyb3IiLCJsb2ciLCJkZXBhcnR1cmVfbG9jYXRpb24iLCJkZXBhcnR1cmVfbG9jYXRpb25fbGF0IiwiZGVwYXJ0dXJlX2xvY2F0aW9uX2xuZyIsImhhc0Nvb3JkcyIsImxvY2F0aW9uIiwiaWQiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsIm5hbWUiLCJhZGRyZXNzIiwicmV0dXJuX2xvY2F0aW9uIiwiTWFwIiwiZm9yRWFjaCIsImRlc3QiLCJzZXQiLCJwbGFjZXMiLCJwbGFjZSIsIndhcm4iLCJ1bmRlZmluZWQiLCJtZW1iZXJzIiwibWVtYmVyIiwia2V5IiwidXNlcl9pZCIsInNlc3Npb25faWQiLCJ1c2VySWRzIiwibWFwIiwicCIsImZpbHRlciIsIkJvb2xlYW4iLCJzZXNzaW9uSWRzIiwidXNlckRldGFpbHNNYXAiLCJwcmVmIiwidXNlcktleSIsImdldCIsImRlc3RpbmF0aW9uIiwiZGVzdGluYXRpb25faWQiLCJkaXNwbGF5TmFtZSIsImRpc3BsYXlfbmFtZSIsInVzZXJEZXRhaWxzIiwiZnVsbF9uYW1lIiwiZGlzcGxheV9pbml0aWFscyIsInVzZXJJZCIsInNlc3Npb25JZCIsImRlc3RpbmF0aW9uSWQiLCJwcmVmZXJlbmNlU2NvcmUiLCJwcmVmZXJlbmNlX3Njb3JlIiwicHJlZmVycmVkRHVyYXRpb24iLCJwcmVmZXJyZWRfZHVyYXRpb24iLCJ1c2VyRGlzcGxheU5hbWUiLCJ1c2VyQ29sb3IiLCJhc3NpZ25lZF9jb2xvciIsInN0YXJ0RGF0ZSIsInN0YXJ0X2RhdGUiLCJEYXRlIiwiZW5kRGF0ZSIsImVuZF9kYXRlIiwiYXV0b0NhbGN1bGF0ZSIsImF1dG9fY2FsY3VsYXRlX2VuZF9kYXRlIiwiYWxsb3dPcmRlckNoYW5nZSIsImFsbG93X29yZGVyX2NoYW5nZSIsImFsbG93RGVzdGluYXRpb25BZGQiLCJhbGxvd19kZXN0aW5hdGlvbl9hZGQiLCJvcmRlckNoYW5nZU1lbWJlcnMiLCJvcmRlcl9jaGFuZ2VfbWVtYmVycyIsImNhbGN1bGF0ZURlc3RpbmF0aW9uU3RhdHMiLCJkZXN0UHJlZnMiLCJsZW5ndGgiLCJhdmVyYWdlU2NvcmUiLCJ0b3RhbFByZWZlcmVuY2VzIiwicHJlZmVycmluZ1VzZXJzIiwidG90YWxTY29yZSIsInJlZHVjZSIsInN1bSIsImdyb3VwUHJlZmVyZW5jZXNCeVVzZXIiLCJ1c2VyUHJlZnNNYXAiLCJ1c2VyUHJlZnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./lib/optimization/data-preprocessor.ts\n");

/***/ }),

/***/ "(action-browser)/./lib/optimization/data-validator.ts":
/*!********************************************!*\
  !*** ./lib/optimization/data-validator.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   coordinatesToLocation: () => (/* binding */ coordinatesToLocation),\n/* harmony export */   validateOptimizationInput: () => (/* binding */ validateOptimizationInput)\n/* harmony export */ });\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types */ \"(action-browser)/./lib/optimization/types.ts\");\n// Data validation functions for optimization input\n\n\n/**\n * Validate complete optimization input data\n */ function validateOptimizationInput(input) {\n    const errors = [];\n    const warnings = [];\n    // Validate trip group\n    validateTripGroup(input.tripGroup, errors, warnings);\n    // Validate destinations\n    if (input.destinations.length === 0 && input.places.length === 0) {\n        warnings.push({\n            code: \"NO_DESTINATIONS\",\n            message: \"No destinations found for optimization\"\n        });\n    } else {\n        // Validate individual destinations\n        input.destinations.forEach((dest)=>{\n            validateDestination(dest, errors, warnings);\n        });\n        // Validate places (two-tier system)\n        input.places.forEach((place)=>{\n            validatePlace(place, errors, warnings);\n        });\n    }\n    // Validate group members\n    if (input.groupMembers.length === 0) {\n        errors.push({\n            code: _types__WEBPACK_IMPORTED_MODULE_0__.ValidationErrorCode.MISSING_GROUP_MEMBERS,\n            message: \"No group members found\"\n        });\n    } else {\n        validateGroupMembers(input.groupMembers, errors, warnings);\n    }\n    // Validate preferences\n    validatePreferences(input.userPreferences, input.groupMembers, input.destinations, errors, warnings);\n    // Check for orphaned data\n    checkOrphanedData(input, errors, warnings);\n    return {\n        isValid: errors.length === 0,\n        errors,\n        warnings\n    };\n}\n/**\n * Validate trip group data\n */ function validateTripGroup(tripGroup, errors, warnings) {\n    // Check required departure location\n    if (!tripGroup.departure_location) {\n        errors.push({\n            code: _types__WEBPACK_IMPORTED_MODULE_0__.ValidationErrorCode.MISSING_DEPARTURE_LOCATION,\n            message: \"Departure location is required\",\n            field: \"departure_location\"\n        });\n    }\n    // Validate departure coordinates if provided\n    if (tripGroup.departure_location_lat !== null || tripGroup.departure_location_lng !== null) {\n        if (!isValidCoordinate(tripGroup.departure_location_lat, \"latitude\") || !isValidCoordinate(tripGroup.departure_location_lng, \"longitude\")) {\n            errors.push({\n                code: _types__WEBPACK_IMPORTED_MODULE_0__.ValidationErrorCode.INVALID_COORDINATES,\n                message: \"Invalid departure location coordinates\",\n                field: \"departure_location_lat/lng\",\n                value: {\n                    lat: tripGroup.departure_location_lat,\n                    lng: tripGroup.departure_location_lng\n                }\n            });\n        }\n    } else {\n        warnings.push({\n            code: \"MISSING_DEPARTURE_COORDINATES\",\n            message: \"Departure location coordinates not set\",\n            suggestion: \"Add coordinates for accurate distance calculations\"\n        });\n    }\n    // Validate date range if both dates provided\n    if (tripGroup.start_date && tripGroup.end_date) {\n        const startDate = new Date(tripGroup.start_date);\n        const endDate = new Date(tripGroup.end_date);\n        if (startDate > endDate) {\n            errors.push({\n                code: _types__WEBPACK_IMPORTED_MODULE_0__.ValidationErrorCode.INVALID_DATE_RANGE,\n                message: \"Start date must be before end date\",\n                field: \"start_date/end_date\",\n                value: {\n                    start: tripGroup.start_date,\n                    end: tripGroup.end_date\n                }\n            });\n        }\n    }\n    // Validate permission settings\n    const validOrderChangeOptions = [\n        \"all\",\n        \"admin_only\",\n        \"specific_members\"\n    ];\n    if (!validOrderChangeOptions.includes(tripGroup.allow_order_change)) {\n        warnings.push({\n            code: \"INVALID_PERMISSION_SETTING\",\n            message: `Invalid order change permission: ${tripGroup.allow_order_change}`,\n            field: \"allow_order_change\",\n            suggestion: \"Use one of: all, admin_only, specific_members\"\n        });\n    }\n}\n/**\n * Validate destination data\n */ function validateDestination(destination, errors, warnings) {\n    if (!destination.name) {\n        errors.push({\n            code: \"MISSING_DESTINATION_NAME\",\n            message: `Destination ${destination.id} has no name`,\n            field: \"name\",\n            value: destination.id\n        });\n    }\n    // Check coordinates\n    if (destination.latitude === null || destination.longitude === null) {\n        errors.push({\n            code: _types__WEBPACK_IMPORTED_MODULE_0__.ValidationErrorCode.INVALID_COORDINATES,\n            message: `Destination \"${destination.name}\" has missing coordinates`,\n            field: \"latitude/longitude\",\n            value: destination.id\n        });\n    } else if (!isValidCoordinate(destination.latitude, \"latitude\") || !isValidCoordinate(destination.longitude, \"longitude\")) {\n        errors.push({\n            code: _types__WEBPACK_IMPORTED_MODULE_0__.ValidationErrorCode.INVALID_COORDINATES,\n            message: `Destination \"${destination.name}\" has invalid coordinates`,\n            field: \"latitude/longitude\",\n            value: {\n                lat: destination.latitude,\n                lng: destination.longitude\n            }\n        });\n    }\n}\n/**\n * Validate place data (two-tier system)\n */ function validatePlace(place, errors, warnings) {\n    if (!place.place_name) {\n        errors.push({\n            code: \"MISSING_PLACE_NAME\",\n            message: `Place ${place.id} has no name`,\n            field: \"place_name\",\n            value: place.id\n        });\n    }\n    // Check coordinates\n    if (!isValidCoordinate(place.latitude, \"latitude\") || !isValidCoordinate(place.longitude, \"longitude\")) {\n        errors.push({\n            code: _types__WEBPACK_IMPORTED_MODULE_0__.ValidationErrorCode.INVALID_COORDINATES,\n            message: `Place \"${place.place_name}\" has invalid coordinates`,\n            field: \"latitude/longitude\",\n            value: {\n                lat: place.latitude,\n                lng: place.longitude\n            }\n        });\n    }\n    // Validate visit order if set\n    if (place.visit_order !== null && place.visit_order < 0) {\n        warnings.push({\n            code: \"INVALID_VISIT_ORDER\",\n            message: `Place \"${place.place_name}\" has negative visit order`,\n            field: \"visit_order\",\n            suggestion: \"Use positive integers for visit order\"\n        });\n    }\n}\n/**\n * Validate group members\n */ function validateGroupMembers(members, errors, warnings) {\n    const colorSet = new Set();\n    members.forEach((member)=>{\n        // Check user reference\n        if (!member.user_id && !member.session_id) {\n            errors.push({\n                code: _types__WEBPACK_IMPORTED_MODULE_0__.ValidationErrorCode.MISSING_USER_REFERENCE,\n                message: `Member \"${member.display_name}\" has no user or session reference`,\n                field: \"user_id/session_id\",\n                value: member.id\n            });\n        }\n        // Check color assignment\n        if (!member.assigned_color || !isValidHexColor(member.assigned_color)) {\n            warnings.push({\n                code: \"INVALID_COLOR\",\n                message: `Member \"${member.display_name}\" has invalid color: ${member.assigned_color}`,\n                field: \"assigned_color\",\n                suggestion: \"Use valid HEX color format (#RRGGBB)\"\n            });\n        } else if (colorSet.has(member.assigned_color)) {\n            warnings.push({\n                code: \"DUPLICATE_COLOR\",\n                message: `Color ${member.assigned_color} is used by multiple members`,\n                field: \"assigned_color\"\n            });\n        } else {\n            colorSet.add(member.assigned_color);\n        }\n        // Validate role\n        const validRoles = [\n            \"admin\",\n            \"member\",\n            \"viewer\"\n        ];\n        if (!validRoles.includes(member.role)) {\n            warnings.push({\n                code: \"INVALID_ROLE\",\n                message: `Member \"${member.display_name}\" has invalid role: ${member.role}`,\n                field: \"role\",\n                suggestion: \"Use one of: admin, member, viewer\"\n            });\n        }\n    });\n}\n/**\n * Validate user preferences\n */ function validatePreferences(preferences, members, destinations, errors, warnings) {\n    // Create lookup maps - include both user_id and session_id as keys for each member\n    const memberMap = new Map();\n    members.forEach((m)=>{\n        if (m.user_id) memberMap.set(m.user_id, m);\n        if (m.session_id) memberMap.set(m.session_id, m);\n    });\n    // 🔍 DEBUG: Log memberMap construction\n    console.log(\"\\uD83D\\uDD0D MemberMap debug (all keys):\", Array.from(memberMap.keys()));\n    console.log(\"\\uD83D\\uDD0D Members used for map:\", members.map((m)=>({\n            id: m.id,\n            user_id: m.user_id,\n            session_id: m.session_id,\n            keys_added: [\n                m.user_id,\n                m.session_id\n            ].filter(Boolean)\n        })));\n    const destinationMap = new Map(destinations.map((d)=>[\n            d.id,\n            d\n        ]));\n    preferences.forEach((pref)=>{\n        // Check user reference\n        const userKey = pref.user_id || pref.session_id;\n        if (!userKey) {\n            errors.push({\n                code: _types__WEBPACK_IMPORTED_MODULE_0__.ValidationErrorCode.MISSING_USER_REFERENCE,\n                message: \"Preference has no user reference\",\n                field: \"user_id/session_id\",\n                value: pref.id\n            });\n        } else if (!memberMap.has(userKey)) {\n            errors.push({\n                code: _types__WEBPACK_IMPORTED_MODULE_0__.ValidationErrorCode.ORPHANED_PREFERENCE,\n                message: \"Preference references non-existent member\",\n                field: \"user_id/session_id\",\n                value: userKey\n            });\n        }\n        // Check destination reference\n        if (!destinationMap.has(pref.destination_id)) {\n            errors.push({\n                code: _types__WEBPACK_IMPORTED_MODULE_0__.ValidationErrorCode.ORPHANED_PREFERENCE,\n                message: \"Preference references non-existent destination\",\n                field: \"destination_id\",\n                value: pref.destination_id\n            });\n        }\n        // Validate preference score\n        if (!isValidPreferenceScore(pref.preference_score)) {\n            errors.push({\n                code: _types__WEBPACK_IMPORTED_MODULE_0__.ValidationErrorCode.INVALID_PREFERENCE_SCORE,\n                message: `Invalid preference score: ${pref.preference_score}`,\n                field: \"preference_score\",\n                value: pref.preference_score\n            });\n        }\n        // Validate duration if set\n        if (pref.preferred_duration !== null && pref.preferred_duration <= 0) {\n            warnings.push({\n                code: \"INVALID_DURATION\",\n                message: `Invalid preferred duration: ${pref.preferred_duration} hours`,\n                field: \"preferred_duration\",\n                suggestion: \"Use positive duration in hours\"\n            });\n        }\n    });\n}\n/**\n * Check for orphaned data relationships\n */ function checkOrphanedData(input, errors, warnings) {\n    // Check if all destinations have at least one preference\n    const destinationsWithPrefs = new Set(input.userPreferences.map((p)=>p.destination_id));\n    input.destinations.forEach((dest)=>{\n        if (!destinationsWithPrefs.has(dest.id)) {\n            warnings.push({\n                code: \"DESTINATION_NO_PREFERENCES\",\n                message: `Destination \"${dest.name}\" has no user preferences`,\n                field: \"destination_id\",\n                suggestion: \"Consider removing unused destinations\"\n            });\n        }\n    });\n}\n/**\n * Helper: Validate coordinate value\n */ function isValidCoordinate(value, type) {\n    if (value === null) return false;\n    const range = _types__WEBPACK_IMPORTED_MODULE_0__.COORDINATE_RANGES[type];\n    return value >= range.min && value <= range.max;\n}\n/**\n * Helper: Validate HEX color format\n */ function isValidHexColor(color) {\n    return /^#[0-9A-F]{6}$/i.test(color);\n}\n/**\n * Helper: Validate preference score\n */ function isValidPreferenceScore(score) {\n    return Number.isInteger(score) && score >= _types__WEBPACK_IMPORTED_MODULE_0__.PREFERENCE_CONSTRAINTS.minScore && score <= _types__WEBPACK_IMPORTED_MODULE_0__.PREFERENCE_CONSTRAINTS.maxScore;\n}\n/**\n * Convert coordinates to Location object\n */ function coordinatesToLocation(lat, lng, name, id) {\n    if (!isValidCoordinate(lat, \"latitude\") || !isValidCoordinate(lng, \"longitude\")) {\n        return null;\n    }\n    return {\n        id: id || crypto.randomUUID(),\n        latitude: lat,\n        longitude: lng,\n        name\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL2xpYi9vcHRpbWl6YXRpb24vZGF0YS12YWxpZGF0b3IudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsbURBQW1EO0FBVU47QUFDc0I7QUFFbkU7O0NBRUMsR0FDTSxTQUFTRywwQkFDZEMsS0FBd0I7SUFFeEIsTUFBTUMsU0FBNEIsRUFBRTtJQUNwQyxNQUFNQyxXQUFnQyxFQUFFO0lBRXhDLHNCQUFzQjtJQUN0QkMsa0JBQWtCSCxNQUFNSSxTQUFTLEVBQUVILFFBQVFDO0lBRTNDLHdCQUF3QjtJQUN4QixJQUFJRixNQUFNSyxZQUFZLENBQUNDLE1BQU0sS0FBSyxLQUFLTixNQUFNTyxNQUFNLENBQUNELE1BQU0sS0FBSyxHQUFHO1FBQ2hFSixTQUFTTSxJQUFJLENBQUM7WUFDWkMsTUFBTTtZQUNOQyxTQUFTO1FBQ1g7SUFDRixPQUFPO1FBQ0wsbUNBQW1DO1FBQ25DVixNQUFNSyxZQUFZLENBQUNNLE9BQU8sQ0FBQ0MsQ0FBQUE7WUFDekJDLG9CQUFvQkQsTUFBTVgsUUFBUUM7UUFDcEM7UUFFQSxvQ0FBb0M7UUFDcENGLE1BQU1PLE1BQU0sQ0FBQ0ksT0FBTyxDQUFDRyxDQUFBQTtZQUNuQkMsY0FBY0QsT0FBT2IsUUFBUUM7UUFDL0I7SUFDRjtJQUVBLHlCQUF5QjtJQUN6QixJQUFJRixNQUFNZ0IsWUFBWSxDQUFDVixNQUFNLEtBQUssR0FBRztRQUNuQ0wsT0FBT08sSUFBSSxDQUFDO1lBQ1ZDLE1BQU1iLHVEQUFtQkEsQ0FBQ3FCLHFCQUFxQjtZQUMvQ1AsU0FBUztRQUNYO0lBQ0YsT0FBTztRQUNMUSxxQkFBcUJsQixNQUFNZ0IsWUFBWSxFQUFFZixRQUFRQztJQUNuRDtJQUVBLHVCQUF1QjtJQUN2QmlCLG9CQUNFbkIsTUFBTW9CLGVBQWUsRUFDckJwQixNQUFNZ0IsWUFBWSxFQUNsQmhCLE1BQU1LLFlBQVksRUFDbEJKLFFBQ0FDO0lBR0YsMEJBQTBCO0lBQzFCbUIsa0JBQWtCckIsT0FBT0MsUUFBUUM7SUFFakMs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YyxJQUFZLEVBQ1pDLEVBQVc7SUFFWCxJQUFJLENBQUNuQixrQkFBa0JHLEtBQUssZUFBZSxDQUFDSCxrQkFBa0JJLEtBQUssY0FBYztRQUMvRSxPQUFPO0lBQ1Q7SUFFQSxPQUFPO1FBQ0xlLElBQUlBLE1BQU15RCxPQUFPQyxVQUFVO1FBQzNCekQsVUFBVWpCO1FBQ1ZrQixXQUFXakI7UUFDWGM7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLy4vbGliL29wdGltaXphdGlvbi9kYXRhLXZhbGlkYXRvci50cz9iYjc5Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIERhdGEgdmFsaWRhdGlvbiBmdW5jdGlvbnMgZm9yIG9wdGltaXphdGlvbiBpbnB1dFxuXG5pbXBvcnQgdHlwZSB7XG4gIE9wdGltaXphdGlvbklucHV0LFxuICBWYWxpZGF0aW9uUmVzdWx0LFxuICBWYWxpZGF0aW9uRXJyb3IsXG4gIFZhbGlkYXRpb25XYXJuaW5nLFxuICBMb2NhdGlvbixcbiAgVmFsaWRhdGVkUHJlZmVyZW5jZVxufSBmcm9tICcuL3R5cGVzJ1xuaW1wb3J0IHsgVmFsaWRhdGlvbkVycm9yQ29kZSB9IGZyb20gJy4vdHlwZXMnXG5pbXBvcnQgeyBDT09SRElOQVRFX1JBTkdFUywgUFJFRkVSRU5DRV9DT05TVFJBSU5UUyB9IGZyb20gJy4vdHlwZXMnXG5cbi8qKlxuICogVmFsaWRhdGUgY29tcGxldGUgb3B0aW1pemF0aW9uIGlucHV0IGRhdGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlT3B0aW1pemF0aW9uSW5wdXQoXG4gIGlucHV0OiBPcHRpbWl6YXRpb25JbnB1dFxuKTogVmFsaWRhdGlvblJlc3VsdCB7XG4gIGNvbnN0IGVycm9yczogVmFsaWRhdGlvbkVycm9yW10gPSBbXVxuICBjb25zdCB3YXJuaW5nczogVmFsaWRhdGlvbldhcm5pbmdbXSA9IFtdXG4gIFxuICAvLyBWYWxpZGF0ZSB0cmlwIGdyb3VwXG4gIHZhbGlkYXRlVHJpcEdyb3VwKGlucHV0LnRyaXBHcm91cCwgZXJyb3JzLCB3YXJuaW5ncylcbiAgXG4gIC8vIFZhbGlkYXRlIGRlc3RpbmF0aW9uc1xuICBpZiAoaW5wdXQuZGVzdGluYXRpb25zLmxlbmd0aCA9PT0gMCAmJiBpbnB1dC5wbGFjZXMubGVuZ3RoID09PSAwKSB7XG4gICAgd2FybmluZ3MucHVzaCh7XG4gICAgICBjb2RlOiAnTk9fREVTVElOQVRJT05TJyxcbiAgICAgIG1lc3NhZ2U6ICdObyBkZXN0aW5hdGlvbnMgZm91bmQgZm9yIG9wdGltaXphdGlvbidcbiAgICB9KVxuICB9IGVsc2Uge1xuICAgIC8vIFZhbGlkYXRlIGluZGl2aWR1YWwgZGVzdGluYXRpb25zXG4gICAgaW5wdXQuZGVzdGluYXRpb25zLmZvckVhY2goZGVzdCA9PiB7XG4gICAgICB2YWxpZGF0ZURlc3RpbmF0aW9uKGRlc3QsIGVycm9ycywgd2FybmluZ3MpXG4gICAgfSlcbiAgICBcbiAgICAvLyBWYWxpZGF0ZSBwbGFjZXMgKHR3by10aWVyIHN5c3RlbSlcbiAgICBpbnB1dC5wbGFjZXMuZm9yRWFjaChwbGFjZSA9PiB7XG4gICAgICB2YWxpZGF0ZVBsYWNlKHBsYWNlLCBlcnJvcnMsIHdhcm5pbmdzKVxuICAgIH0pXG4gIH1cbiAgXG4gIC8vIFZhbGlkYXRlIGdyb3VwIG1lbWJlcnNcbiAgaWYgKGlucHV0Lmdyb3VwTWVtYmVycy5sZW5ndGggPT09IDApIHtcbiAgICBlcnJvcnMucHVzaCh7XG4gICAgICBjb2RlOiBWYWxpZGF0aW9uRXJyb3JDb2RlLk1JU1NJTkdfR1JPVVBfTUVNQkVSUyxcbiAgICAgIG1lc3NhZ2U6ICdObyBncm91cCBtZW1iZXJzIGZvdW5kJ1xuICAgIH0pXG4gIH0gZWxzZSB7XG4gICAgdmFsaWRhdGVHcm91cE1lbWJlcnMoaW5wdXQuZ3JvdXBNZW1iZXJzLCBlcnJvcnMsIHdhcm5pbmdzKVxuICB9XG4gIFxuICAvLyBWYWxpZGF0ZSBwcmVmZXJlbmNlc1xuICB2YWxpZGF0ZVByZWZlcmVuY2VzKFxuICAgIGlucHV0LnVzZXJQcmVmZXJlbmNlcyxcbiAgICBpbnB1dC5ncm91cE1lbWJlcnMsXG4gICAgaW5wdXQuZGVzdGluYXRpb25zLFxuICAgIGVycm9ycyxcbiAgICB3YXJuaW5nc1xuICApXG4gIFxuICAvLyBDaGVjayBmb3Igb3JwaGFuZWQgZGF0YVxuICBjaGVja09ycGhhbmVkRGF0YShpbnB1dCwgZXJyb3JzLCB3YXJuaW5ncylcbiAgXG4gIHJldHVybiB7XG4gICAgaXNWYWxpZDogZXJyb3JzLmxlbmd0aCA9PT0gMCxcbiAgICBlcnJvcnMsXG4gICAgd2FybmluZ3NcbiAgfVxufVxuXG4vKipcbiAqIFZhbGlkYXRlIHRyaXAgZ3JvdXAgZGF0YVxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZVRyaXBHcm91cChcbiAgdHJpcEdyb3VwOiBhbnksXG4gIGVycm9yczogVmFsaWRhdGlvbkVycm9yW10sXG4gIHdhcm5pbmdzOiBWYWxpZGF0aW9uV2FybmluZ1tdXG4pOiB2b2lkIHtcbiAgLy8gQ2hlY2sgcmVxdWlyZWQgZGVwYXJ0dXJlIGxvY2F0aW9uXG4gIGlmICghdHJpcEdyb3VwLmRlcGFydHVyZV9sb2NhdGlvbikge1xuICAgIGVycm9ycy5wdXNoKHtcbiAgICAgIGNvZGU6IFZhbGlkYXRpb25FcnJvckNvZGUuTUlTU0lOR19ERVBBUlRVUkVfTE9DQVRJT04sXG4gICAgICBtZXNzYWdlOiAnRGVwYXJ0dXJlIGxvY2F0aW9uIGlzIHJlcXVpcmVkJyxcbiAgICAgIGZpZWxkOiAnZGVwYXJ0dXJlX2xvY2F0aW9uJ1xuICAgIH0pXG4gIH1cbiAgXG4gIC8vIFZhbGlkYXRlIGRlcGFydHVyZSBjb29yZGluYXRlcyBpZiBwcm92aWRlZFxuICBpZiAodHJpcEdyb3VwLmRlcGFydHVyZV9sb2NhdGlvbl9sYXQgIT09IG51bGwgfHwgdHJpcEdyb3VwLmRlcGFydHVyZV9sb2NhdGlvbl9sbmcgIT09IG51bGwpIHtcbiAgICBpZiAoIWlzVmFsaWRDb29yZGluYXRlKHRyaXBHcm91cC5kZXBhcnR1cmVfbG9jYXRpb25fbGF0LCAnbGF0aXR1ZGUnKSB8fFxuICAgICAgICAhaXNWYWxpZENvb3JkaW5hdGUodHJpcEdyb3VwLmRlcGFydHVyZV9sb2NhdGlvbl9sbmcsICdsb25naXR1ZGUnKSkge1xuICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICBjb2RlOiBWYWxpZGF0aW9uRXJyb3JDb2RlLklOVkFMSURfQ09PUkRJTkFURVMsXG4gICAgICAgIG1lc3NhZ2U6ICdJbnZhbGlkIGRlcGFydHVyZSBsb2NhdGlvbiBjb29yZGluYXRlcycsXG4gICAgICAgIGZpZWxkOiAnZGVwYXJ0dXJlX2xvY2F0aW9uX2xhdC9sbmcnLFxuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIGxhdDogdHJpcEdyb3VwLmRlcGFydHVyZV9sb2NhdGlvbl9sYXQsXG4gICAgICAgICAgbG5nOiB0cmlwR3JvdXAuZGVwYXJ0dXJlX2xvY2F0aW9uX2xuZ1xuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB3YXJuaW5ncy5wdXNoKHtcbiAgICAgIGNvZGU6ICdNSVNTSU5HX0RFUEFSVFVSRV9DT09SRElOQVRFUycsXG4gICAgICBtZXNzYWdlOiAnRGVwYXJ0dXJlIGxvY2F0aW9uIGNvb3JkaW5hdGVzIG5vdCBzZXQnLFxuICAgICAgc3VnZ2VzdGlvbjogJ0FkZCBjb29yZGluYXRlcyBmb3IgYWNjdXJhdGUgZGlzdGFuY2UgY2FsY3VsYXRpb25zJ1xuICAgIH0pXG4gIH1cbiAgXG4gIC8vIFZhbGlkYXRlIGRhdGUgcmFuZ2UgaWYgYm90aCBkYXRlcyBwcm92aWRlZFxuICBpZiAodHJpcEdyb3VwLnN0YXJ0X2RhdGUgJiYgdHJpcEdyb3VwLmVuZF9kYXRlKSB7XG4gICAgY29uc3Qgc3RhcnREYXRlID0gbmV3IERhdGUodHJpcEdyb3VwLnN0YXJ0X2RhdGUpXG4gICAgY29uc3QgZW5kRGF0ZSA9IG5ldyBEYXRlKHRyaXBHcm91cC5lbmRfZGF0ZSlcbiAgICBcbiAgICBpZiAoc3RhcnREYXRlID4gZW5kRGF0ZSkge1xuICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICBjb2RlOiBWYWxpZGF0aW9uRXJyb3JDb2RlLklOVkFMSURfREFURV9SQU5HRSxcbiAgICAgICAgbWVzc2FnZTogJ1N0YXJ0IGRhdGUgbXVzdCBiZSBiZWZvcmUgZW5kIGRhdGUnLFxuICAgICAgICBmaWVsZDogJ3N0YXJ0X2RhdGUvZW5kX2RhdGUnLFxuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIHN0YXJ0OiB0cmlwR3JvdXAuc3RhcnRfZGF0ZSxcbiAgICAgICAgICBlbmQ6IHRyaXBHcm91cC5lbmRfZGF0ZVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfVxuICBcbiAgLy8gVmFsaWRhdGUgcGVybWlzc2lvbiBzZXR0aW5nc1xuICBjb25zdCB2YWxpZE9yZGVyQ2hhbmdlT3B0aW9ucyA9IFsnYWxsJywgJ2FkbWluX29ubHknLCAnc3BlY2lmaWNfbWVtYmVycyddXG4gIGlmICghdmFsaWRPcmRlckNoYW5nZU9wdGlvbnMuaW5jbHVkZXModHJpcEdyb3VwLmFsbG93X29yZGVyX2NoYW5nZSkpIHtcbiAgICB3YXJuaW5ncy5wdXNoKHtcbiAgICAgIGNvZGU6ICdJTlZBTElEX1BFUk1JU1NJT05fU0VUVElORycsXG4gICAgICBtZXNzYWdlOiBgSW52YWxpZCBvcmRlciBjaGFuZ2UgcGVybWlzc2lvbjogJHt0cmlwR3JvdXAuYWxsb3dfb3JkZXJfY2hhbmdlfWAsXG4gICAgICBmaWVsZDogJ2FsbG93X29yZGVyX2NoYW5nZScsXG4gICAgICBzdWdnZXN0aW9uOiAnVXNlIG9uZSBvZjogYWxsLCBhZG1pbl9vbmx5LCBzcGVjaWZpY19tZW1iZXJzJ1xuICAgIH0pXG4gIH1cbn1cblxuLyoqXG4gKiBWYWxpZGF0ZSBkZXN0aW5hdGlvbiBkYXRhXG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlRGVzdGluYXRpb24oXG4gIGRlc3RpbmF0aW9uOiBhbnksXG4gIGVycm9yczogVmFsaWRhdGlvbkVycm9yW10sXG4gIHdhcm5pbmdzOiBWYWxpZGF0aW9uV2FybmluZ1tdXG4pOiB2b2lkIHtcbiAgaWYgKCFkZXN0aW5hdGlvbi5uYW1lKSB7XG4gICAgZXJyb3JzLnB1c2goe1xuICAgICAgY29kZTogJ01JU1NJTkdfREVTVElOQVRJT05fTkFNRScsXG4gICAgICBtZXNzYWdlOiBgRGVzdGluYXRpb24gJHtkZXN0aW5hdGlvbi5pZH0gaGFzIG5vIG5hbWVgLFxuICAgICAgZmllbGQ6ICduYW1lJyxcbiAgICAgIHZhbHVlOiBkZXN0aW5hdGlvbi5pZFxuICAgIH0pXG4gIH1cbiAgXG4gIC8vIENoZWNrIGNvb3JkaW5hdGVzXG4gIGlmIChkZXN0aW5hdGlvbi5sYXRpdHVkZSA9PT0gbnVsbCB8fCBkZXN0aW5hdGlvbi5sb25naXR1ZGUgPT09IG51bGwpIHtcbiAgICBlcnJvcnMucHVzaCh7XG4gICAgICBjb2RlOiBWYWxpZGF0aW9uRXJyb3JDb2RlLklOVkFMSURfQ09PUkRJTkFURVMsXG4gICAgICBtZXNzYWdlOiBgRGVzdGluYXRpb24gXCIke2Rlc3RpbmF0aW9uLm5hbWV9XCIgaGFzIG1pc3NpbmcgY29vcmRpbmF0ZXNgLFxuICAgICAgZmllbGQ6ICdsYXRpdHVkZS9sb25naXR1ZGUnLFxuICAgICAgdmFsdWU6IGRlc3RpbmF0aW9uLmlkXG4gICAgfSlcbiAgfSBlbHNlIGlmICghaXNWYWxpZENvb3JkaW5hdGUoZGVzdGluYXRpb24ubGF0aXR1ZGUsICdsYXRpdHVkZScpIHx8XG4gICAgICAgICAgICAgIWlzVmFsaWRDb29yZGluYXRlKGRlc3RpbmF0aW9uLmxvbmdpdHVkZSwgJ2xvbmdpdHVkZScpKSB7XG4gICAgZXJyb3JzLnB1c2goe1xuICAgICAgY29kZTogVmFsaWRhdGlvbkVycm9yQ29kZS5JTlZBTElEX0NPT1JESU5BVEVTLFxuICAgICAgbWVzc2FnZTogYERlc3RpbmF0aW9uIFwiJHtkZXN0aW5hdGlvbi5uYW1lfVwiIGhhcyBpbnZhbGlkIGNvb3JkaW5hdGVzYCxcbiAgICAgIGZpZWxkOiAnbGF0aXR1ZGUvbG9uZ2l0dWRlJyxcbiAgICAgIHZhbHVlOiB7XG4gICAgICAgIGxhdDogZGVzdGluYXRpb24ubGF0aXR1ZGUsXG4gICAgICAgIGxuZzogZGVzdGluYXRpb24ubG9uZ2l0dWRlXG4gICAgICB9XG4gICAgfSlcbiAgfVxufVxuXG4vKipcbiAqIFZhbGlkYXRlIHBsYWNlIGRhdGEgKHR3by10aWVyIHN5c3RlbSlcbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVQbGFjZShcbiAgcGxhY2U6IGFueSxcbiAgZXJyb3JzOiBWYWxpZGF0aW9uRXJyb3JbXSxcbiAgd2FybmluZ3M6IFZhbGlkYXRpb25XYXJuaW5nW11cbik6IHZvaWQge1xuICBpZiAoIXBsYWNlLnBsYWNlX25hbWUpIHtcbiAgICBlcnJvcnMucHVzaCh7XG4gICAgICBjb2RlOiAnTUlTU0lOR19QTEFDRV9OQU1FJyxcbiAgICAgIG1lc3NhZ2U6IGBQbGFjZSAke3BsYWNlLmlkfSBoYXMgbm8gbmFtZWAsXG4gICAgICBmaWVsZDogJ3BsYWNlX25hbWUnLFxuICAgICAgdmFsdWU6IHBsYWNlLmlkXG4gICAgfSlcbiAgfVxuICBcbiAgLy8gQ2hlY2sgY29vcmRpbmF0ZXNcbiAgaWYgKCFpc1ZhbGlkQ29vcmRpbmF0ZShwbGFjZS5sYXRpdHVkZSwgJ2xhdGl0dWRlJykgfHxcbiAgICAgICFpc1ZhbGlkQ29vcmRpbmF0ZShwbGFjZS5sb25naXR1ZGUsICdsb25naXR1ZGUnKSkge1xuICAgIGVycm9ycy5wdXNoKHtcbiAgICAgIGNvZGU6IFZhbGlkYXRpb25FcnJvckNvZGUuSU5WQUxJRF9DT09SRElOQVRFUyxcbiAgICAgIG1lc3NhZ2U6IGBQbGFjZSBcIiR7cGxhY2UucGxhY2VfbmFtZX1cIiBoYXMgaW52YWxpZCBjb29yZGluYXRlc2AsXG4gICAgICBmaWVsZDogJ2xhdGl0dWRlL2xvbmdpdHVkZScsXG4gICAgICB2YWx1ZToge1xuICAgICAgICBsYXQ6IHBsYWNlLmxhdGl0dWRlLFxuICAgICAgICBsbmc6IHBsYWNlLmxvbmdpdHVkZVxuICAgICAgfVxuICAgIH0pXG4gIH1cbiAgXG4gIC8vIFZhbGlkYXRlIHZpc2l0IG9yZGVyIGlmIHNldFxuICBpZiAocGxhY2UudmlzaXRfb3JkZXIgIT09IG51bGwgJiYgcGxhY2UudmlzaXRfb3JkZXIgPCAwKSB7XG4gICAgd2FybmluZ3MucHVzaCh7XG4gICAgICBjb2RlOiAnSU5WQUxJRF9WSVNJVF9PUkRFUicsXG4gICAgICBtZXNzYWdlOiBgUGxhY2UgXCIke3BsYWNlLnBsYWNlX25hbWV9XCIgaGFzIG5lZ2F0aXZlIHZpc2l0IG9yZGVyYCxcbiAgICAgIGZpZWxkOiAndmlzaXRfb3JkZXInLFxuICAgICAgc3VnZ2VzdGlvbjogJ1VzZSBwb3NpdGl2ZSBpbnRlZ2VycyBmb3IgdmlzaXQgb3JkZXInXG4gICAgfSlcbiAgfVxufVxuXG4vKipcbiAqIFZhbGlkYXRlIGdyb3VwIG1lbWJlcnNcbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVHcm91cE1lbWJlcnMoXG4gIG1lbWJlcnM6IGFueVtdLFxuICBlcnJvcnM6IFZhbGlkYXRpb25FcnJvcltdLFxuICB3YXJuaW5nczogVmFsaWRhdGlvbldhcm5pbmdbXVxuKTogdm9pZCB7XG4gIGNvbnN0IGNvbG9yU2V0ID0gbmV3IFNldDxzdHJpbmc+KClcbiAgXG4gIG1lbWJlcnMuZm9yRWFjaChtZW1iZXIgPT4ge1xuICAgIC8vIENoZWNrIHVzZXIgcmVmZXJlbmNlXG4gICAgaWYgKCFtZW1iZXIudXNlcl9pZCAmJiAhbWVtYmVyLnNlc3Npb25faWQpIHtcbiAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgY29kZTogVmFsaWRhdGlvbkVycm9yQ29kZS5NSVNTSU5HX1VTRVJfUkVGRVJFTkNFLFxuICAgICAgICBtZXNzYWdlOiBgTWVtYmVyIFwiJHttZW1iZXIuZGlzcGxheV9uYW1lfVwiIGhhcyBubyB1c2VyIG9yIHNlc3Npb24gcmVmZXJlbmNlYCxcbiAgICAgICAgZmllbGQ6ICd1c2VyX2lkL3Nlc3Npb25faWQnLFxuICAgICAgICB2YWx1ZTogbWVtYmVyLmlkXG4gICAgICB9KVxuICAgIH1cbiAgICBcbiAgICAvLyBDaGVjayBjb2xvciBhc3NpZ25tZW50XG4gICAgaWYgKCFtZW1iZXIuYXNzaWduZWRfY29sb3IgfHwgIWlzVmFsaWRIZXhDb2xvcihtZW1iZXIuYXNzaWduZWRfY29sb3IpKSB7XG4gICAgICB3YXJuaW5ncy5wdXNoKHtcbiAgICAgICAgY29kZTogJ0lOVkFMSURfQ09MT1InLFxuICAgICAgICBtZXNzYWdlOiBgTWVtYmVyIFwiJHttZW1iZXIuZGlzcGxheV9uYW1lfVwiIGhhcyBpbnZhbGlkIGNvbG9yOiAke21lbWJlci5hc3NpZ25lZF9jb2xvcn1gLFxuICAgICAgICBmaWVsZDogJ2Fzc2lnbmVkX2NvbG9yJyxcbiAgICAgICAgc3VnZ2VzdGlvbjogJ1VzZSB2YWxpZCBIRVggY29sb3IgZm9ybWF0ICgjUlJHR0JCKSdcbiAgICAgIH0pXG4gICAgfSBlbHNlIGlmIChjb2xvclNldC5oYXMobWVtYmVyLmFzc2lnbmVkX2NvbG9yKSkge1xuICAgICAgd2FybmluZ3MucHVzaCh7XG4gICAgICAgIGNvZGU6ICdEVVBMSUNBVEVfQ09MT1InLFxuICAgICAgICBtZXNzYWdlOiBgQ29sb3IgJHttZW1iZXIuYXNzaWduZWRfY29sb3J9IGlzIHVzZWQgYnkgbXVsdGlwbGUgbWVtYmVyc2AsXG4gICAgICAgIGZpZWxkOiAnYXNzaWduZWRfY29sb3InXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICBjb2xvclNldC5hZGQobWVtYmVyLmFzc2lnbmVkX2NvbG9yKVxuICAgIH1cbiAgICBcbiAgICAvLyBWYWxpZGF0ZSByb2xlXG4gICAgY29uc3QgdmFsaWRSb2xlcyA9IFsnYWRtaW4nLCAnbWVtYmVyJywgJ3ZpZXdlciddXG4gICAgaWYgKCF2YWxpZFJvbGVzLmluY2x1ZGVzKG1lbWJlci5yb2xlKSkge1xuICAgICAgd2FybmluZ3MucHVzaCh7XG4gICAgICAgIGNvZGU6ICdJTlZBTElEX1JPTEUnLFxuICAgICAgICBtZXNzYWdlOiBgTWVtYmVyIFwiJHttZW1iZXIuZGlzcGxheV9uYW1lfVwiIGhhcyBpbnZhbGlkIHJvbGU6ICR7bWVtYmVyLnJvbGV9YCxcbiAgICAgICAgZmllbGQ6ICdyb2xlJyxcbiAgICAgICAgc3VnZ2VzdGlvbjogJ1VzZSBvbmUgb2Y6IGFkbWluLCBtZW1iZXIsIHZpZXdlcidcbiAgICAgIH0pXG4gICAgfVxuICB9KVxufVxuXG4vKipcbiAqIFZhbGlkYXRlIHVzZXIgcHJlZmVyZW5jZXNcbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVQcmVmZXJlbmNlcyhcbiAgcHJlZmVyZW5jZXM6IGFueVtdLFxuICBtZW1iZXJzOiBhbnlbXSxcbiAgZGVzdGluYXRpb25zOiBhbnlbXSxcbiAgZXJyb3JzOiBWYWxpZGF0aW9uRXJyb3JbXSxcbiAgd2FybmluZ3M6IFZhbGlkYXRpb25XYXJuaW5nW11cbik6IHZvaWQge1xuICAvLyBDcmVhdGUgbG9va3VwIG1hcHMgLSBpbmNsdWRlIGJvdGggdXNlcl9pZCBhbmQgc2Vzc2lvbl9pZCBhcyBrZXlzIGZvciBlYWNoIG1lbWJlclxuICBjb25zdCBtZW1iZXJNYXAgPSBuZXcgTWFwKClcbiAgbWVtYmVycy5mb3JFYWNoKG0gPT4ge1xuICAgIGlmIChtLnVzZXJfaWQpIG1lbWJlck1hcC5zZXQobS51c2VyX2lkLCBtKVxuICAgIGlmIChtLnNlc3Npb25faWQpIG1lbWJlck1hcC5zZXQobS5zZXNzaW9uX2lkLCBtKVxuICB9KVxuICBcbiAgLy8g8J+UjSBERUJVRzogTG9nIG1lbWJlck1hcCBjb25zdHJ1Y3Rpb25cbiAgY29uc29sZS5sb2coJ/CflI0gTWVtYmVyTWFwIGRlYnVnIChhbGwga2V5cyk6JywgQXJyYXkuZnJvbShtZW1iZXJNYXAua2V5cygpKSk7XG4gIGNvbnNvbGUubG9nKCfwn5SNIE1lbWJlcnMgdXNlZCBmb3IgbWFwOicsIG1lbWJlcnMubWFwKG0gPT4gKHtcbiAgICBpZDogbS5pZCxcbiAgICB1c2VyX2lkOiBtLnVzZXJfaWQsXG4gICAgc2Vzc2lvbl9pZDogbS5zZXNzaW9uX2lkLFxuICAgIGtleXNfYWRkZWQ6IFttLnVzZXJfaWQsIG0uc2Vzc2lvbl9pZF0uZmlsdGVyKEJvb2xlYW4pXG4gIH0pKSk7XG4gIGNvbnN0IGRlc3RpbmF0aW9uTWFwID0gbmV3IE1hcChcbiAgICBkZXN0aW5hdGlvbnMubWFwKGQgPT4gW2QuaWQsIGRdKVxuICApXG4gIFxuICBwcmVmZXJlbmNlcy5mb3JFYWNoKHByZWYgPT4ge1xuICAgIC8vIENoZWNrIHVzZXIgcmVmZXJlbmNlXG4gICAgY29uc3QgdXNlcktleSA9IHByZWYudXNlcl9pZCB8fCBwcmVmLnNlc3Npb25faWRcbiAgICBpZiAoIXVzZXJLZXkpIHtcbiAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgY29kZTogVmFsaWRhdGlvbkVycm9yQ29kZS5NSVNTSU5HX1VTRVJfUkVGRVJFTkNFLFxuICAgICAgICBtZXNzYWdlOiAnUHJlZmVyZW5jZSBoYXMgbm8gdXNlciByZWZlcmVuY2UnLFxuICAgICAgICBmaWVsZDogJ3VzZXJfaWQvc2Vzc2lvbl9pZCcsXG4gICAgICAgIHZhbHVlOiBwcmVmLmlkXG4gICAgICB9KVxuICAgIH0gZWxzZSBpZiAoIW1lbWJlck1hcC5oYXModXNlcktleSkpIHtcbiAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgY29kZTogVmFsaWRhdGlvbkVycm9yQ29kZS5PUlBIQU5FRF9QUkVGRVJFTkNFLFxuICAgICAgICBtZXNzYWdlOiAnUHJlZmVyZW5jZSByZWZlcmVuY2VzIG5vbi1leGlzdGVudCBtZW1iZXInLFxuICAgICAgICBmaWVsZDogJ3VzZXJfaWQvc2Vzc2lvbl9pZCcsXG4gICAgICAgIHZhbHVlOiB1c2VyS2V5XG4gICAgICB9KVxuICAgIH1cbiAgICBcbiAgICAvLyBDaGVjayBkZXN0aW5hdGlvbiByZWZlcmVuY2VcbiAgICBpZiAoIWRlc3RpbmF0aW9uTWFwLmhhcyhwcmVmLmRlc3RpbmF0aW9uX2lkKSkge1xuICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICBjb2RlOiBWYWxpZGF0aW9uRXJyb3JDb2RlLk9SUEhBTkVEX1BSRUZFUkVOQ0UsXG4gICAgICAgIG1lc3NhZ2U6ICdQcmVmZXJlbmNlIHJlZmVyZW5jZXMgbm9uLWV4aXN0ZW50IGRlc3RpbmF0aW9uJyxcbiAgICAgICAgZmllbGQ6ICdkZXN0aW5hdGlvbl9pZCcsXG4gICAgICAgIHZhbHVlOiBwcmVmLmRlc3RpbmF0aW9uX2lkXG4gICAgICB9KVxuICAgIH1cbiAgICBcbiAgICAvLyBWYWxpZGF0ZSBwcmVmZXJlbmNlIHNjb3JlXG4gICAgaWYgKCFpc1ZhbGlkUHJlZmVyZW5jZVNjb3JlKHByZWYucHJlZmVyZW5jZV9zY29yZSkpIHtcbiAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgY29kZTogVmFsaWRhdGlvbkVycm9yQ29kZS5JTlZBTElEX1BSRUZFUkVOQ0VfU0NPUkUsXG4gICAgICAgIG1lc3NhZ2U6IGBJbnZhbGlkIHByZWZlcmVuY2Ugc2NvcmU6ICR7cHJlZi5wcmVmZXJlbmNlX3Njb3JlfWAsXG4gICAgICAgIGZpZWxkOiAncHJlZmVyZW5jZV9zY29yZScsXG4gICAgICAgIHZhbHVlOiBwcmVmLnByZWZlcmVuY2Vfc2NvcmVcbiAgICAgIH0pXG4gICAgfVxuICAgIFxuICAgIC8vIFZhbGlkYXRlIGR1cmF0aW9uIGlmIHNldFxuICAgIGlmIChwcmVmLnByZWZlcnJlZF9kdXJhdGlvbiAhPT0gbnVsbCAmJiBwcmVmLnByZWZlcnJlZF9kdXJhdGlvbiA8PSAwKSB7XG4gICAgICB3YXJuaW5ncy5wdXNoKHtcbiAgICAgICAgY29kZTogJ0lOVkFMSURfRFVSQVRJT04nLFxuICAgICAgICBtZXNzYWdlOiBgSW52YWxpZCBwcmVmZXJyZWQgZHVyYXRpb246ICR7cHJlZi5wcmVmZXJyZWRfZHVyYXRpb259IGhvdXJzYCxcbiAgICAgICAgZmllbGQ6ICdwcmVmZXJyZWRfZHVyYXRpb24nLFxuICAgICAgICBzdWdnZXN0aW9uOiAnVXNlIHBvc2l0aXZlIGR1cmF0aW9uIGluIGhvdXJzJ1xuICAgICAgfSlcbiAgICB9XG4gIH0pXG59XG5cbi8qKlxuICogQ2hlY2sgZm9yIG9ycGhhbmVkIGRhdGEgcmVsYXRpb25zaGlwc1xuICovXG5mdW5jdGlvbiBjaGVja09ycGhhbmVkRGF0YShcbiAgaW5wdXQ6IE9wdGltaXphdGlvbklucHV0LFxuICBlcnJvcnM6IFZhbGlkYXRpb25FcnJvcltdLFxuICB3YXJuaW5nczogVmFsaWRhdGlvbldhcm5pbmdbXVxuKTogdm9pZCB7XG4gIC8vIENoZWNrIGlmIGFsbCBkZXN0aW5hdGlvbnMgaGF2ZSBhdCBsZWFzdCBvbmUgcHJlZmVyZW5jZVxuICBjb25zdCBkZXN0aW5hdGlvbnNXaXRoUHJlZnMgPSBuZXcgU2V0KFxuICAgIGlucHV0LnVzZXJQcmVmZXJlbmNlcy5tYXAocCA9PiBwLmRlc3RpbmF0aW9uX2lkKVxuICApXG4gIFxuICBpbnB1dC5kZXN0aW5hdGlvbnMuZm9yRWFjaChkZXN0ID0+IHtcbiAgICBpZiAoIWRlc3RpbmF0aW9uc1dpdGhQcmVmcy5oYXMoZGVzdC5pZCkpIHtcbiAgICAgIHdhcm5pbmdzLnB1c2goe1xuICAgICAgICBjb2RlOiAnREVTVElOQVRJT05fTk9fUFJFRkVSRU5DRVMnLFxuICAgICAgICBtZXNzYWdlOiBgRGVzdGluYXRpb24gXCIke2Rlc3QubmFtZX1cIiBoYXMgbm8gdXNlciBwcmVmZXJlbmNlc2AsXG4gICAgICAgIGZpZWxkOiAnZGVzdGluYXRpb25faWQnLFxuICAgICAgICBzdWdnZXN0aW9uOiAnQ29uc2lkZXIgcmVtb3ZpbmcgdW51c2VkIGRlc3RpbmF0aW9ucydcbiAgICAgIH0pXG4gICAgfVxuICB9KVxufVxuXG4vKipcbiAqIEhlbHBlcjogVmFsaWRhdGUgY29vcmRpbmF0ZSB2YWx1ZVxuICovXG5mdW5jdGlvbiBpc1ZhbGlkQ29vcmRpbmF0ZShcbiAgdmFsdWU6IG51bWJlciB8IG51bGwsXG4gIHR5cGU6ICdsYXRpdHVkZScgfCAnbG9uZ2l0dWRlJ1xuKTogYm9vbGVhbiB7XG4gIGlmICh2YWx1ZSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlXG4gIFxuICBjb25zdCByYW5nZSA9IENPT1JESU5BVEVfUkFOR0VTW3R5cGVdXG4gIHJldHVybiB2YWx1ZSA+PSByYW5nZS5taW4gJiYgdmFsdWUgPD0gcmFuZ2UubWF4XG59XG5cbi8qKlxuICogSGVscGVyOiBWYWxpZGF0ZSBIRVggY29sb3IgZm9ybWF0XG4gKi9cbmZ1bmN0aW9uIGlzVmFsaWRIZXhDb2xvcihjb2xvcjogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiAvXiNbMC05QS1GXXs2fSQvaS50ZXN0KGNvbG9yKVxufVxuXG4vKipcbiAqIEhlbHBlcjogVmFsaWRhdGUgcHJlZmVyZW5jZSBzY29yZVxuICovXG5mdW5jdGlvbiBpc1ZhbGlkUHJlZmVyZW5jZVNjb3JlKHNjb3JlOiBudW1iZXIpOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICBOdW1iZXIuaXNJbnRlZ2VyKHNjb3JlKSAmJlxuICAgIHNjb3JlID49IFBSRUZFUkVOQ0VfQ09OU1RSQUlOVFMubWluU2NvcmUgJiZcbiAgICBzY29yZSA8PSBQUkVGRVJFTkNFX0NPTlNUUkFJTlRTLm1heFNjb3JlXG4gIClcbn1cblxuLyoqXG4gKiBDb252ZXJ0IGNvb3JkaW5hdGVzIHRvIExvY2F0aW9uIG9iamVjdFxuICovXG5leHBvcnQgZnVuY3Rpb24gY29vcmRpbmF0ZXNUb0xvY2F0aW9uKFxuICBsYXQ6IG51bWJlcixcbiAgbG5nOiBudW1iZXIsXG4gIG5hbWU6IHN0cmluZyxcbiAgaWQ/OiBzdHJpbmdcbik6IExvY2F0aW9uIHwgbnVsbCB7XG4gIGlmICghaXNWYWxpZENvb3JkaW5hdGUobGF0LCAnbGF0aXR1ZGUnKSB8fCAhaXNWYWxpZENvb3JkaW5hdGUobG5nLCAnbG9uZ2l0dWRlJykpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG4gIFxuICByZXR1cm4ge1xuICAgIGlkOiBpZCB8fCBjcnlwdG8ucmFuZG9tVVVJRCgpLFxuICAgIGxhdGl0dWRlOiBsYXQsXG4gICAgbG9uZ2l0dWRlOiBsbmcsXG4gICAgbmFtZVxuICB9XG59Il0sIm5hbWVzIjpbIlZhbGlkYXRpb25FcnJvckNvZGUiLCJDT09SRElOQVRFX1JBTkdFUyIsIlBSRUZFUkVOQ0VfQ09OU1RSQUlOVFMiLCJ2YWxpZGF0ZU9wdGltaXphdGlvbklucHV0IiwiaW5wdXQiLCJlcnJvcnMiLCJ3YXJuaW5ncyIsInZhbGlkYXRlVHJpcEdyb3VwIiwidHJpcEdyb3VwIiwiZGVzdGluYXRpb25zIiwibGVuZ3RoIiwicGxhY2VzIiwicHVzaCIsImNvZGUiLCJtZXNzYWdlIiwiZm9yRWFjaCIsImRlc3QiLCJ2YWxpZGF0ZURlc3RpbmF0aW9uIiwicGxhY2UiLCJ2YWxpZGF0ZVBsYWNlIiwiZ3JvdXBNZW1iZXJzIiwiTUlTU0lOR19HUk9VUF9NRU1CRVJTIiwidmFsaWRhdGVHcm91cE1lbWJlcnMiLCJ2YWxpZGF0ZVByZWZlcmVuY2VzIiwidXNlclByZWZlcmVuY2VzIiwiY2hlY2tPcnBoYW5lZERhdGEiLCJpc1ZhbGlkIiwiZGVwYXJ0dXJlX2xvY2F0aW9uIiwiTUlTU0lOR19ERVBBUlRVUkVfTE9DQVRJT04iLCJmaWVsZCIsImRlcGFydHVyZV9sb2NhdGlvbl9sYXQiLCJkZXBhcnR1cmVfbG9jYXRpb25fbG5nIiwiaXNWYWxpZENvb3JkaW5hdGUiLCJJTlZBTElEX0NPT1JESU5BVEVTIiwidmFsdWUiLCJsYXQiLCJsbmciLCJzdWdnZXN0aW9uIiwic3RhcnRfZGF0ZSIsImVuZF9kYXRlIiwic3RhcnREYXRlIiwiRGF0ZSIsImVuZERhdGUiLCJJTlZBTElEX0RBVEVfUkFOR0UiLCJzdGFydCIsImVuZCIsInZhbGlkT3JkZXJDaGFuZ2VPcHRpb25zIiwiaW5jbHVkZXMiLCJhbGxvd19vcmRlcl9jaGFuZ2UiLCJkZXN0aW5hdGlvbiIsIm5hbWUiLCJpZCIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwicGxhY2VfbmFtZSIsInZpc2l0X29yZGVyIiwibWVtYmVycyIsImNvbG9yU2V0IiwiU2V0IiwibWVtYmVyIiwidXNlcl9pZCIsInNlc3Npb25faWQiLCJNSVNTSU5HX1VTRVJfUkVGRVJFTkNFIiwiZGlzcGxheV9uYW1lIiwiYXNzaWduZWRfY29sb3IiLCJpc1ZhbGlkSGV4Q29sb3IiLCJoYXMiLCJhZGQiLCJ2YWxpZFJvbGVzIiwicm9sZSIsInByZWZlcmVuY2VzIiwibWVtYmVyTWFwIiwiTWFwIiwibSIsInNldCIsImNvbnNvbGUiLCJsb2ciLCJBcnJheSIsImZyb20iLCJrZXlzIiwibWFwIiwia2V5c19hZGRlZCIsImZpbHRlciIsIkJvb2xlYW4iLCJkZXN0aW5hdGlvbk1hcCIsImQiLCJwcmVmIiwidXNlcktleSIsIk9SUEhBTkVEX1BSRUZFUkVOQ0UiLCJkZXN0aW5hdGlvbl9pZCIsImlzVmFsaWRQcmVmZXJlbmNlU2NvcmUiLCJwcmVmZXJlbmNlX3Njb3JlIiwiSU5WQUxJRF9QUkVGRVJFTkNFX1NDT1JFIiwicHJlZmVycmVkX2R1cmF0aW9uIiwiZGVzdGluYXRpb25zV2l0aFByZWZzIiwicCIsInR5cGUiLCJyYW5nZSIsIm1pbiIsIm1heCIsImNvbG9yIiwidGVzdCIsInNjb3JlIiwiTnVtYmVyIiwiaXNJbnRlZ2VyIiwibWluU2NvcmUiLCJtYXhTY29yZSIsImNvb3JkaW5hdGVzVG9Mb2NhdGlvbiIsImNyeXB0byIsInJhbmRvbVVVSUQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./lib/optimization/data-validator.ts\n");

/***/ }),

/***/ "(action-browser)/./lib/optimization/detailed-route-generator.ts":
/*!******************************************************!*\
  !*** ./lib/optimization/detailed-route-generator.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateDetailedItinerary: () => (/* binding */ generateDetailedItinerary)\n/* harmony export */ });\n/* harmony import */ var _cluster_internal_optimizer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cluster-internal-optimizer */ \"(action-browser)/./lib/optimization/cluster-internal-optimizer.ts\");\n/* harmony import */ var _time_allocator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./time-allocator */ \"(action-browser)/./lib/optimization/time-allocator.ts\");\n/* harmony import */ var _transport_mode_selector__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./transport-mode-selector */ \"(action-browser)/./lib/optimization/transport-mode-selector.ts\");\n/* harmony import */ var _user_association__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./user-association */ \"(action-browser)/./lib/optimization/user-association.ts\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! uuid */ \"(action-browser)/./node_modules/uuid/dist/esm/index.js\");\n// Main detailed route generation system\n\n\n\n\n\n// Default configuration\nconst DEFAULT_CONFIG = {\n    startTime: 9,\n    dailyHours: 9,\n    minDestinationHours: 0.5,\n    maxDestinationHours: 8.0,\n    defaultDestinationHours: 2.0,\n    walkingSpeedKmh: 5,\n    drivingSpeedKmh: 60,\n    flyingSpeedKmh: 500,\n    walkingMaxDistanceKm: 2,\n    drivingMaxDistanceKm: 300\n};\n/**\n * Generate detailed itinerary from optimized route solution\n */ async function generateDetailedItinerary(routeSolution, preprocessedData, preferences, config = {}) {\n    const finalConfig = {\n        ...DEFAULT_CONFIG,\n        ...config\n    };\n    // Initialize tracking variables\n    const destinationVisits = [];\n    const transportSegments = [];\n    const errors = [];\n    const warnings = [];\n    // Start date and time\n    const startDate = new Date(preprocessedData.tripDuration.startDate || Date.now());\n    startDate.setHours(finalConfig.startTime, 0, 0, 0);\n    let currentTime = new Date(startDate);\n    let currentLocation = preprocessedData.departureLocation;\n    let globalVisitOrder = 0;\n    // Process each cluster in the route\n    for(let clusterIndex = 0; clusterIndex < routeSolution.clusters.length; clusterIndex++){\n        const cluster = routeSolution.clusters[clusterIndex];\n        // Generate transport segment to cluster\n        if (clusterIndex > 0 || currentLocation.id !== cluster.centerLocation.id) {\n            const transportSegment = generateTransportSegment(currentLocation, cluster.centerLocation, currentTime, clusterIndex === 0 ? \"Departure\" : getDestinationName(routeSolution.clusters[clusterIndex - 1].destinations[0]), getDestinationName(cluster.destinations[0]), finalConfig);\n            transportSegments.push(transportSegment);\n            currentTime = new Date(transportSegment.arrivalTime);\n            // Validate transport segment\n            const segmentValidation = validateTransportSegment(transportSegment);\n            warnings.push(...segmentValidation.warnings.map((w)=>({\n                    ...w,\n                    affectedSegment: transportSegment.segmentId\n                })));\n        }\n        // Optimize internal cluster routing\n        const clusterDestinations = cluster.destinations.map((dest)=>({\n                id: dest.id,\n                location: {\n                    id: dest.id,\n                    name: getDestinationName(dest),\n                    latitude: dest.latitude || 0,\n                    longitude: dest.longitude || 0\n                }\n            }));\n        const clusterRoute = (0,_cluster_internal_optimizer__WEBPACK_IMPORTED_MODULE_0__.optimizeClusterInternally)(clusterDestinations, currentLocation, cluster.averageStayTime);\n        // Process each destination in the cluster\n        for(let destIndex = 0; destIndex < clusterRoute.orderedDestinations.length; destIndex++){\n            const destination = clusterRoute.orderedDestinations[destIndex];\n            // Generate intra-cluster transport if not first destination\n            if (destIndex > 0) {\n                const prevDest = clusterRoute.orderedDestinations[destIndex - 1];\n                const intraTransport = generateTransportSegment(prevDest.location, destination.location, currentTime, prevDest.location.name, destination.location.name, finalConfig);\n                transportSegments.push(intraTransport);\n                currentTime = new Date(intraTransport.arrivalTime);\n            }\n            // Allocate time for destination\n            const timeAllocation = (0,_time_allocator__WEBPACK_IMPORTED_MODULE_1__.allocateDestinationTime)(destination.id, preferences, finalConfig);\n            // Find wishful users for this destination\n            const wishfulUsers = (0,_user_association__WEBPACK_IMPORTED_MODULE_3__.findWishfulUsers)(destination.id, preferences, Array.from(preprocessedData.groupMembers.values()));\n            // Create destination visit\n            const arrivalTime = new Date(currentTime);\n            const departureTime = new Date(arrivalTime.getTime() + timeAllocation.allocatedHours * 60 * 60 * 1000);\n            const visit = {\n                destinationId: destination.id,\n                destinationName: destination.location.name,\n                location: destination.location,\n                arrivalTime,\n                departureTime,\n                allocatedHours: timeAllocation.allocatedHours,\n                wishfulUsers,\n                isClusterEntry: destIndex === 0,\n                clusterId: cluster.id,\n                clusterName: `Cluster ${clusterIndex + 1}`,\n                visitOrder: globalVisitOrder++\n            };\n            destinationVisits.push(visit);\n            currentTime = departureTime;\n            currentLocation = destination.location;\n        }\n    }\n    // Generate return transport segment\n    const returnLocation = preprocessedData.returnLocation || preprocessedData.departureLocation;\n    if (currentLocation.id !== returnLocation.id) {\n        const returnSegment = generateTransportSegment(currentLocation, returnLocation, currentTime, destinationVisits[destinationVisits.length - 1]?.destinationName || \"Last destination\", \"Return\", finalConfig);\n        transportSegments.push(returnSegment);\n        currentTime = new Date(returnSegment.arrivalTime);\n    }\n    // Calculate end date\n    const endDate = new Date(currentTime);\n    // Generate summary\n    const summary = generateItinerarySummary(destinationVisits, transportSegments, preferences, Array.from(preprocessedData.groupMembers.values()));\n    // Perform comprehensive validation\n    const validation = validateItinerary(destinationVisits, transportSegments, startDate, endDate, preprocessedData.tripDuration);\n    return {\n        tripId: preprocessedData.groupId,\n        startDate,\n        endDate,\n        departureLocation: preprocessedData.departureLocation,\n        returnLocation: preprocessedData.returnLocation,\n        destinationVisits,\n        transportSegments,\n        summary,\n        validation\n    };\n}\n/**\n * Generate transport segment between locations\n */ function generateTransportSegment(fromLocation, toLocation, departureTime, fromName, toName, config) {\n    const transport = (0,_transport_mode_selector__WEBPACK_IMPORTED_MODULE_2__.determineTransportMode)(fromLocation, toLocation, config);\n    const arrivalTime = new Date(departureTime.getTime() + transport.estimatedTimeHours * 60 * 60 * 1000);\n    const warnings = [];\n    // Add warnings for edge cases\n    if (transport.mode === \"flying\" && transport.distanceKm < 100) {\n        warnings.push(`Short flight of ${transport.distanceKm.toFixed(0)}km may be inefficient`);\n    }\n    if (transport.mode === \"walking\" && transport.distanceKm > 5) {\n        warnings.push(`Long walk of ${transport.distanceKm.toFixed(1)}km may be tiring`);\n    }\n    return {\n        segmentId: (0,uuid__WEBPACK_IMPORTED_MODULE_4__.v4)(),\n        fromLocation,\n        fromName,\n        toLocation,\n        toName,\n        transportMode: transport.mode,\n        transportIcon: transport.icon,\n        distanceKm: transport.distanceKm,\n        estimatedTimeHours: transport.estimatedTimeHours,\n        departureTime,\n        arrivalTime,\n        routePath: [\n            fromLocation,\n            toLocation\n        ],\n        warnings\n    };\n}\n/**\n * Generate itinerary summary\n */ function generateItinerarySummary(visits, segments, preferences, groupMembers) {\n    // Calculate totals\n    const totalDestinations = visits.length;\n    const totalClusters = new Set(visits.map((v)=>v.clusterId)).size;\n    const totalVisitTimeHours = visits.reduce((sum, v)=>sum + v.allocatedHours, 0);\n    const totalTravelTimeHours = segments.reduce((sum, s)=>sum + s.estimatedTimeHours, 0);\n    const totalDistanceKm = segments.reduce((sum, s)=>sum + s.distanceKm, 0);\n    // Calculate duration in days\n    const firstVisit = visits[0];\n    const lastVisit = visits[visits.length - 1];\n    const lastSegment = segments[segments.length - 1];\n    const tripStartTime = firstVisit?.arrivalTime || new Date();\n    const tripEndTime = lastSegment?.arrivalTime || lastVisit?.departureTime || new Date();\n    const totalDays = Math.ceil((tripEndTime.getTime() - tripStartTime.getTime()) / (1000 * 60 * 60 * 24));\n    // Calculate transport mode breakdown\n    const transportModes = {\n        walkingSegments: 0,\n        walkingDistanceKm: 0,\n        drivingSegments: 0,\n        drivingDistanceKm: 0,\n        flyingSegments: 0,\n        flyingDistanceKm: 0\n    };\n    for (const segment of segments){\n        switch(segment.transportMode){\n            case \"walking\":\n                transportModes.walkingSegments++;\n                transportModes.walkingDistanceKm += segment.distanceKm;\n                break;\n            case \"driving\":\n                transportModes.drivingSegments++;\n                transportModes.drivingDistanceKm += segment.distanceKm;\n                break;\n            case \"flying\":\n                transportModes.flyingSegments++;\n                transportModes.flyingDistanceKm += segment.distanceKm;\n                break;\n        }\n    }\n    // Calculate user satisfaction\n    const visitedDestinationIds = visits.map((v)=>v.destinationId);\n    const userSatisfactionSummary = (0,_user_association__WEBPACK_IMPORTED_MODULE_3__.calculateUserSatisfactionStats)(visitedDestinationIds, preferences, groupMembers).map((stats)=>({\n            member: stats.member,\n            visitedWishlistCount: stats.visitedWishlistCount,\n            totalWishlistCount: stats.totalWishlistCount,\n            satisfactionPercentage: stats.satisfactionPercentage\n        }));\n    return {\n        totalDestinations,\n        totalClusters,\n        totalDays,\n        totalDistanceKm,\n        totalTravelTimeHours,\n        totalVisitTimeHours,\n        transportModes,\n        userSatisfactionSummary\n    };\n}\n/**\n * Validate transport segment\n */ function validateTransportSegment(segment) {\n    const warnings = [];\n    // Check for very short flights\n    if (segment.transportMode === \"flying\" && segment.distanceKm < 100) {\n        warnings.push({\n            code: \"SHORT_FLIGHT\",\n            message: `Flight of ${segment.distanceKm.toFixed(0)}km is unusually short`\n        });\n    }\n    // Check for very long walks\n    if (segment.transportMode === \"walking\" && segment.distanceKm > 5) {\n        warnings.push({\n            code: \"LONG_WALK\",\n            message: `Walking ${segment.distanceKm.toFixed(1)}km may be impractical`\n        });\n    }\n    // Check for negative travel time\n    if (segment.estimatedTimeHours < 0) {\n        warnings.push({\n            code: \"NEGATIVE_TIME\",\n            message: \"Transport segment has negative travel time\"\n        });\n    }\n    return {\n        warnings\n    };\n}\n/**\n * Comprehensive itinerary validation\n */ function validateItinerary(visits, segments, startDate, endDate, tripDuration) {\n    const errors = [];\n    const warnings = [];\n    // Check time progression\n    let previousTime = startDate;\n    for (const visit of visits){\n        if (visit.arrivalTime < previousTime) {\n            errors.push({\n                code: \"TIME_REVERSAL\",\n                message: `Destination ${visit.destinationName} arrives before previous departure`,\n                affectedDestination: visit.destinationId\n            });\n        }\n        if (visit.departureTime < visit.arrivalTime) {\n            errors.push({\n                code: \"NEGATIVE_VISIT_TIME\",\n                message: `Destination ${visit.destinationName} has departure before arrival`,\n                affectedDestination: visit.destinationId\n            });\n        }\n        previousTime = visit.departureTime;\n    }\n    // Check time window constraints\n    if (!tripDuration.autoCalculate && tripDuration.endDate) {\n        if (endDate > tripDuration.endDate) {\n            errors.push({\n                code: \"EXCEEDS_TIME_WINDOW\",\n                message: `Itinerary ends after fixed end date`\n            });\n        }\n    }\n    // Check for duplicate destinations\n    const destinationIds = new Set();\n    for (const visit of visits){\n        if (destinationIds.has(visit.destinationId)) {\n            warnings.push({\n                code: \"DUPLICATE_DESTINATION\",\n                message: `Destination ${visit.destinationName} appears multiple times`,\n                affectedDestination: visit.destinationId\n            });\n        }\n        destinationIds.add(visit.destinationId);\n    }\n    // Check for very long days\n    const visitsByDay = new Map();\n    for (const visit of visits){\n        const dayKey = visit.arrivalTime.toDateString();\n        const dayVisits = visitsByDay.get(dayKey) || [];\n        dayVisits.push(visit);\n        visitsByDay.set(dayKey, dayVisits);\n    }\n    for (const [day, dayVisits] of Array.from(visitsByDay.entries())){\n        const dayStart = Math.min(...dayVisits.map((v)=>v.arrivalTime.getTime()));\n        const dayEnd = Math.max(...dayVisits.map((v)=>v.departureTime.getTime()));\n        const dayHours = (dayEnd - dayStart) / (1000 * 60 * 60);\n        if (dayHours > 12) {\n            warnings.push({\n                code: \"LONG_DAY\",\n                message: `Day ${day} has ${dayHours.toFixed(1)} hours of activities`\n            });\n        }\n    }\n    return {\n        isValid: errors.length === 0,\n        errors,\n        warnings\n    };\n}\n/**\n * Helper function to safely get destination name from either destinations or places table\n */ function getDestinationName(destination) {\n    // Handle both destinations table (has 'name') and places table (has 'place_name')\n    return destination.name || destination.place_name || \"Unknown Location\";\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL2xpYi9vcHRpbWl6YXRpb24vZGV0YWlsZWQtcm91dGUtZ2VuZXJhdG9yLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLHdDQUF3QztBQW1CZ0M7QUFDZDtBQUNRO0FBQ21CO0FBQ2xEO0FBRW5DLHdCQUF3QjtBQUN4QixNQUFNTyxpQkFBd0M7SUFDNUNDLFdBQVc7SUFDWEMsWUFBWTtJQUNaQyxxQkFBcUI7SUFDckJDLHFCQUFxQjtJQUNyQkMseUJBQXlCO0lBQ3pCQyxpQkFBaUI7SUFDakJDLGlCQUFpQjtJQUNqQkMsZ0JBQWdCO0lBQ2hCQyxzQkFBc0I7SUFDdEJDLHNCQUFzQjtBQUN4QjtBQUVBOztDQUVDLEdBQ00sZUFBZUMsMEJBQ3BCQyxhQUE0QixFQUM1QkMsZ0JBQWtDLEVBQ2xDQyxXQUFxQyxFQUNyQ0MsU0FBeUMsQ0FBQyxDQUFDO0lBRTNDLE1BQU1DLGNBQWM7UUFBRSxHQUFHaEIsY0FBYztRQUFFLEdBQUdlLE1BQU07SUFBQztJQUVuRCxnQ0FBZ0M7SUFDaEMsTUFBTUUsb0JBQXdDLEVBQUU7SUFDaEQsTUFBTUMsb0JBQWdELEVBQUU7SUFDeEQsTUFBTUMsU0FBNEIsRUFBRTtJQUNwQyxNQUFNQyxXQUFnQyxFQUFFO0lBRXhDLHNCQUFzQjtJQUN0QixNQUFNQyxZQUFZLElBQUlDLEtBQUtULGlCQUFpQlUsWUFBWSxDQUFDRixTQUFTLElBQUlDLEtBQUtFLEdBQUc7SUFDOUVILFVBQVVJLFFBQVEsQ0FBQ1QsWUFBWWYsU0FBUyxFQUFFLEdBQUcsR0FBRztJQUNoRCxJQUFJeUIsY0FBYyxJQUFJSixLQUFLRDtJQUMzQixJQUFJTSxrQkFBa0JkLGlCQUFpQmUsaUJBQWlCO0lBQ3hELElBQUlDLG1CQUFtQjtJQUV2QixvQ0FBb0M7SUFDcEMsSUFBSyxJQUFJQyxlQUFlLEdBQUdBLGVBQWVsQixjQUFjbUIsUUFBUSxDQUFDQyxNQUFNLEVBQUVGLGVBQWdCO1FBQ3ZGLE1BQU1HLFVBQVVyQixjQUFjbUIsUUFBUSxD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QUNGO0lBQ0Y7SUFFQSxPQUFPO1FBQ0wrRCxTQUFTMUksT0FBT2EsTUFBTSxLQUFLO1FBQzNCYjtRQUNBQztJQUNGO0FBQ0Y7QUFFQTs7Q0FFQyxHQUNELFNBQVNrQixtQkFBbUJvQixXQUFnQjtJQUMxQyxrRkFBa0Y7SUFDbEYsT0FBT0EsWUFBWVAsSUFBSSxJQUFJTyxZQUFZb0csVUFBVSxJQUFJO0FBQ3ZEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLy4vbGliL29wdGltaXphdGlvbi9kZXRhaWxlZC1yb3V0ZS1nZW5lcmF0b3IudHM/MDljMiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBNYWluIGRldGFpbGVkIHJvdXRlIGdlbmVyYXRpb24gc3lzdGVtXG5cbmltcG9ydCB0eXBlIHsgXG4gIERldGFpbGVkSXRpbmVyYXJ5LFxuICBEZXN0aW5hdGlvblZpc2l0LFxuICBEZXRhaWxlZFRyYW5zcG9ydFNlZ21lbnQsXG4gIFJvdXRlR2VuZXJhdGlvbkNvbmZpZyxcbiAgSXRpbmVyYXJ5U3VtbWFyeSxcbiAgSXRpbmVyYXJ5VmFsaWRhdGlvbixcbiAgVmFsaWRhdGlvbkVycm9yLFxuICBWYWxpZGF0aW9uV2FybmluZyxcbiAgVHJhbnNwb3J0TW9kZVN1bW1hcnksXG4gIFVzZXJTYXRpc2ZhY3Rpb25TdW1tYXJ5XG59IGZyb20gJy4vZGV0YWlsZWQtcm91dGUtdHlwZXMnXG5pbXBvcnQgdHlwZSB7IFByZXByb2Nlc3NlZERhdGEsIExvY2F0aW9uIH0gZnJvbSAnLi90eXBlcydcbmltcG9ydCB0eXBlIHsgR3JvdXBNZW1iZXJzIH0gZnJvbSAnQC9saWIvZGF0YWJhc2UudHlwZXMnXG5pbXBvcnQgdHlwZSB7IFJvdXRlU29sdXRpb24gfSBmcm9tICcuL2FsZ29yaXRobS10eXBlcydcbmltcG9ydCB0eXBlIHsgU3RhbmRhcmRpemVkUHJlZmVyZW5jZSwgRGVzdGluYXRpb25DbHVzdGVyIH0gZnJvbSAnLi9ub3JtYWxpemF0aW9uLXR5cGVzJ1xuXG5pbXBvcnQgeyBvcHRpbWl6ZUNsdXN0ZXJJbnRlcm5hbGx5IH0gZnJvbSAnLi9jbHVzdGVyLWludGVybmFsLW9wdGltaXplcidcbmltcG9ydCB7IGFsbG9jYXRlRGVzdGluYXRpb25UaW1lIH0gZnJvbSAnLi90aW1lLWFsbG9jYXRvcidcbmltcG9ydCB7IGRldGVybWluZVRyYW5zcG9ydE1vZGUgfSBmcm9tICcuL3RyYW5zcG9ydC1tb2RlLXNlbGVjdG9yJ1xuaW1wb3J0IHsgZmluZFdpc2hmdWxVc2VycywgY2FsY3VsYXRlVXNlclNhdGlzZmFjdGlvblN0YXRzIH0gZnJvbSAnLi91c2VyLWFzc29jaWF0aW9uJ1xuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCdcblxuLy8gRGVmYXVsdCBjb25maWd1cmF0aW9uXG5jb25zdCBERUZBVUxUX0NPTkZJRzogUm91dGVHZW5lcmF0aW9uQ29uZmlnID0ge1xuICBzdGFydFRpbWU6IDksIC8vIDk6MDAgQU1cbiAgZGFpbHlIb3VyczogOSwgLy8gOSBob3VycyBwZXIgZGF5XG4gIG1pbkRlc3RpbmF0aW9uSG91cnM6IDAuNSxcbiAgbWF4RGVzdGluYXRpb25Ib3VyczogOC4wLFxuICBkZWZhdWx0RGVzdGluYXRpb25Ib3VyczogMi4wLFxuICB3YWxraW5nU3BlZWRLbWg6IDUsXG4gIGRyaXZpbmdTcGVlZEttaDogNjAsXG4gIGZseWluZ1NwZWVkS21oOiA1MDAsXG4gIHdhbGtpbmdNYXhEaXN0YW5jZUttOiAyLFxuICBkcml2aW5nTWF4RGlzdGFuY2VLbTogMzAwXG59XG5cbi8qKlxuICogR2VuZXJhdGUgZGV0YWlsZWQgaXRpbmVyYXJ5IGZyb20gb3B0aW1pemVkIHJvdXRlIHNvbHV0aW9uXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZURldGFpbGVkSXRpbmVyYXJ5KFxuICByb3V0ZVNvbHV0aW9uOiBSb3V0ZVNvbHV0aW9uLFxuICBwcmVwcm9jZXNzZWREYXRhOiBQcmVwcm9jZXNzZWREYXRhLFxuICBwcmVmZXJlbmNlczogU3RhbmRhcmRpemVkUHJlZmVyZW5jZVtdLFxuICBjb25maWc6IFBhcnRpYWw8Um91dGVHZW5lcmF0aW9uQ29uZmlnPiA9IHt9XG4pOiBQcm9taXNlPERldGFpbGVkSXRpbmVyYXJ5PiB7XG4gIGNvbnN0IGZpbmFsQ29uZmlnID0geyAuLi5ERUZBVUxUX0NPTkZJRywgLi4uY29uZmlnIH1cbiAgXG4gIC8vIEluaXRpYWxpemUgdHJhY2tpbmcgdmFyaWFibGVzXG4gIGNvbnN0IGRlc3RpbmF0aW9uVmlzaXRzOiBEZXN0aW5hdGlvblZpc2l0W10gPSBbXVxuICBjb25zdCB0cmFuc3BvcnRTZWdtZW50czogRGV0YWlsZWRUcmFuc3BvcnRTZWdtZW50W10gPSBbXVxuICBjb25zdCBlcnJvcnM6IFZhbGlkYXRpb25FcnJvcltdID0gW11cbiAgY29uc3Qgd2FybmluZ3M6IFZhbGlkYXRpb25XYXJuaW5nW10gPSBbXVxuICBcbiAgLy8gU3RhcnQgZGF0ZSBhbmQgdGltZVxuICBjb25zdCBzdGFydERhdGUgPSBuZXcgRGF0ZShwcmVwcm9jZXNzZWREYXRhLnRyaXBEdXJhdGlvbi5zdGFydERhdGUgfHwgRGF0ZS5ub3coKSlcbiAgc3RhcnREYXRlLnNldEhvdXJzKGZpbmFsQ29uZmlnLnN0YXJ0VGltZSwgMCwgMCwgMClcbiAgbGV0IGN1cnJlbnRUaW1lID0gbmV3IERhdGUoc3RhcnREYXRlKVxuICBsZXQgY3VycmVudExvY2F0aW9uID0gcHJlcHJvY2Vzc2VkRGF0YS5kZXBhcnR1cmVMb2NhdGlvblxuICBsZXQgZ2xvYmFsVmlzaXRPcmRlciA9IDBcbiAgXG4gIC8vIFByb2Nlc3MgZWFjaCBjbHVzdGVyIGluIHRoZSByb3V0ZVxuICBmb3IgKGxldCBjbHVzdGVySW5kZXggPSAwOyBjbHVzdGVySW5kZXggPCByb3V0ZVNvbHV0aW9uLmNsdXN0ZXJzLmxlbmd0aDsgY2x1c3RlckluZGV4KyspIHtcbiAgICBjb25zdCBjbHVzdGVyID0gcm91dGVTb2x1dGlvbi5jbHVzdGVyc1tjbHVzdGVySW5kZXhdXG4gICAgXG4gICAgLy8gR2VuZXJhdGUgdHJhbnNwb3J0IHNlZ21lbnQgdG8gY2x1c3RlclxuICAgIGlmIChjbHVzdGVySW5kZXggPiAwIHx8IGN1cnJlbnRMb2NhdGlvbi5pZCAhPT0gY2x1c3Rlci5jZW50ZXJMb2NhdGlvbi5pZCkge1xuICAgICAgY29uc3QgdHJhbnNwb3J0U2VnbWVudCA9IGdlbmVyYXRlVHJhbnNwb3J0U2VnbWVudChcbiAgICAgICAgY3VycmVudExvY2F0aW9uLFxuICAgICAgICBjbHVzdGVyLmNlbnRlckxvY2F0aW9uLFxuICAgICAgICBjdXJyZW50VGltZSxcbiAgICAgICAgY2x1c3RlckluZGV4ID09PSAwID8gJ0RlcGFydHVyZScgOiBnZXREZXN0aW5hdGlvbk5hbWUocm91dGVTb2x1dGlvbi5jbHVzdGVyc1tjbHVzdGVySW5kZXggLSAxXS5kZXN0aW5hdGlvbnNbMF0pLFxuICAgICAgICBnZXREZXN0aW5hdGlvbk5hbWUoY2x1c3Rlci5kZXN0aW5hdGlvbnNbMF0pLFxuICAgICAgICBmaW5hbENvbmZpZ1xuICAgICAgKVxuICAgICAgXG4gICAgICB0cmFuc3BvcnRTZWdtZW50cy5wdXNoKHRyYW5zcG9ydFNlZ21lbnQpXG4gICAgICBjdXJyZW50VGltZSA9IG5ldyBEYXRlKHRyYW5zcG9ydFNlZ21lbnQuYXJyaXZhbFRpbWUpXG4gICAgICBcbiAgICAgIC8vIFZhbGlkYXRlIHRyYW5zcG9ydCBzZWdtZW50XG4gICAgICBjb25zdCBzZWdtZW50VmFsaWRhdGlvbiA9IHZhbGlkYXRlVHJhbnNwb3J0U2VnbWVudCh0cmFuc3BvcnRTZWdtZW50KVxuICAgICAgd2FybmluZ3MucHVzaCguLi5zZWdtZW50VmFsaWRhdGlvbi53YXJuaW5ncy5tYXAodyA9PiAoe1xuICAgICAgICAuLi53LFxuICAgICAgICBhZmZlY3RlZFNlZ21lbnQ6IHRyYW5zcG9ydFNlZ21lbnQuc2VnbWVudElkXG4gICAgICB9KSkpXG4gICAgfVxuICAgIFxuICAgIC8vIE9wdGltaXplIGludGVybmFsIGNsdXN0ZXIgcm91dGluZ1xuICAgIGNvbnN0IGNsdXN0ZXJEZXN0aW5hdGlvbnMgPSBjbHVzdGVyLmRlc3RpbmF0aW9ucy5tYXAoZGVzdCA9PiAoe1xuICAgICAgaWQ6IGRlc3QuaWQsXG4gICAgICBsb2NhdGlvbjoge1xuICAgICAgICBpZDogZGVzdC5pZCxcbiAgICAgICAgbmFtZTogZ2V0RGVzdGluYXRpb25OYW1lKGRlc3QpLFxuICAgICAgICBsYXRpdHVkZTogZGVzdC5sYXRpdHVkZSB8fCAwLFxuICAgICAgICBsb25naXR1ZGU6IGRlc3QubG9uZ2l0dWRlIHx8IDBcbiAgICAgIH1cbiAgICB9KSlcbiAgICBcbiAgICBjb25zdCBjbHVzdGVyUm91dGUgPSBvcHRpbWl6ZUNsdXN0ZXJJbnRlcm5hbGx5KFxuICAgICAgY2x1c3RlckRlc3RpbmF0aW9ucyxcbiAgICAgIGN1cnJlbnRMb2NhdGlvbixcbiAgICAgIGNsdXN0ZXIuYXZlcmFnZVN0YXlUaW1lXG4gICAgKVxuICAgIFxuICAgIC8vIFByb2Nlc3MgZWFjaCBkZXN0aW5hdGlvbiBpbiB0aGUgY2x1c3RlclxuICAgIGZvciAobGV0IGRlc3RJbmRleCA9IDA7IGRlc3RJbmRleCA8IGNsdXN0ZXJSb3V0ZS5vcmRlcmVkRGVzdGluYXRpb25zLmxlbmd0aDsgZGVzdEluZGV4KyspIHtcbiAgICAgIGNvbnN0IGRlc3RpbmF0aW9uID0gY2x1c3RlclJvdXRlLm9yZGVyZWREZXN0aW5hdGlvbnNbZGVzdEluZGV4XVxuICAgICAgXG4gICAgICAvLyBHZW5lcmF0ZSBpbnRyYS1jbHVzdGVyIHRyYW5zcG9ydCBpZiBub3QgZmlyc3QgZGVzdGluYXRpb25cbiAgICAgIGlmIChkZXN0SW5kZXggPiAwKSB7XG4gICAgICAgIGNvbnN0IHByZXZEZXN0ID0gY2x1c3RlclJvdXRlLm9yZGVyZWREZXN0aW5hdGlvbnNbZGVzdEluZGV4IC0gMV1cbiAgICAgICAgY29uc3QgaW50cmFUcmFuc3BvcnQgPSBnZW5lcmF0ZVRyYW5zcG9ydFNlZ21lbnQoXG4gICAgICAgICAgcHJldkRlc3QubG9jYXRpb24sXG4gICAgICAgICAgZGVzdGluYXRpb24ubG9jYXRpb24sXG4gICAgICAgICAgY3VycmVudFRpbWUsXG4gICAgICAgICAgcHJldkRlc3QubG9jYXRpb24ubmFtZSxcbiAgICAgICAgICBkZXN0aW5hdGlvbi5sb2NhdGlvbi5uYW1lLFxuICAgICAgICAgIGZpbmFsQ29uZmlnXG4gICAgICAgIClcbiAgICAgICAgXG4gICAgICAgIHRyYW5zcG9ydFNlZ21lbnRzLnB1c2goaW50cmFUcmFuc3BvcnQpXG4gICAgICAgIGN1cnJlbnRUaW1lID0gbmV3IERhdGUoaW50cmFUcmFuc3BvcnQuYXJyaXZhbFRpbWUpXG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEFsbG9jYXRlIHRpbWUgZm9yIGRlc3RpbmF0aW9uXG4gICAgICBjb25zdCB0aW1lQWxsb2NhdGlvbiA9IGFsbG9jYXRlRGVzdGluYXRpb25UaW1lKFxuICAgICAgICBkZXN0aW5hdGlvbi5pZCxcbiAgICAgICAgcHJlZmVyZW5jZXMsXG4gICAgICAgIGZpbmFsQ29uZmlnXG4gICAgICApXG4gICAgICBcbiAgICAgIC8vIEZpbmQgd2lzaGZ1bCB1c2VycyBmb3IgdGhpcyBkZXN0aW5hdGlvblxuICAgICAgY29uc3Qgd2lzaGZ1bFVzZXJzID0gZmluZFdpc2hmdWxVc2VycyhcbiAgICAgICAgZGVzdGluYXRpb24uaWQsXG4gICAgICAgIHByZWZlcmVuY2VzLFxuICAgICAgICBBcnJheS5mcm9tKHByZXByb2Nlc3NlZERhdGEuZ3JvdXBNZW1iZXJzLnZhbHVlcygpKVxuICAgICAgKVxuICAgICAgXG4gICAgICAvLyBDcmVhdGUgZGVzdGluYXRpb24gdmlzaXRcbiAgICAgIGNvbnN0IGFycml2YWxUaW1lID0gbmV3IERhdGUoY3VycmVudFRpbWUpXG4gICAgICBjb25zdCBkZXBhcnR1cmVUaW1lID0gbmV3IERhdGUoXG4gICAgICAgIGFycml2YWxUaW1lLmdldFRpbWUoKSArIHRpbWVBbGxvY2F0aW9uLmFsbG9jYXRlZEhvdXJzICogNjAgKiA2MCAqIDEwMDBcbiAgICAgIClcbiAgICAgIFxuICAgICAgY29uc3QgdmlzaXQ6IERlc3RpbmF0aW9uVmlzaXQgPSB7XG4gICAgICAgIGRlc3RpbmF0aW9uSWQ6IGRlc3RpbmF0aW9uLmlkLFxuICAgICAgICBkZXN0aW5hdGlvbk5hbWU6IGRlc3RpbmF0aW9uLmxvY2F0aW9uLm5hbWUsXG4gICAgICAgIGxvY2F0aW9uOiBkZXN0aW5hdGlvbi5sb2NhdGlvbixcbiAgICAgICAgYXJyaXZhbFRpbWUsXG4gICAgICAgIGRlcGFydHVyZVRpbWUsXG4gICAgICAgIGFsbG9jYXRlZEhvdXJzOiB0aW1lQWxsb2NhdGlvbi5hbGxvY2F0ZWRIb3VycyxcbiAgICAgICAgd2lzaGZ1bFVzZXJzLFxuICAgICAgICBpc0NsdXN0ZXJFbnRyeTogZGVzdEluZGV4ID09PSAwLFxuICAgICAgICBjbHVzdGVySWQ6IGNsdXN0ZXIuaWQsXG4gICAgICAgIGNsdXN0ZXJOYW1lOiBgQ2x1c3RlciAke2NsdXN0ZXJJbmRleCArIDF9YCxcbiAgICAgICAgdmlzaXRPcmRlcjogZ2xvYmFsVmlzaXRPcmRlcisrXG4gICAgICB9XG4gICAgICBcbiAgICAgIGRlc3RpbmF0aW9uVmlzaXRzLnB1c2godmlzaXQpXG4gICAgICBjdXJyZW50VGltZSA9IGRlcGFydHVyZVRpbWVcbiAgICAgIGN1cnJlbnRMb2NhdGlvbiA9IGRlc3RpbmF0aW9uLmxvY2F0aW9uXG4gICAgfVxuICB9XG4gIFxuICAvLyBHZW5lcmF0ZSByZXR1cm4gdHJhbnNwb3J0IHNlZ21lbnRcbiAgY29uc3QgcmV0dXJuTG9jYXRpb24gPSBwcmVwcm9jZXNzZWREYXRhLnJldHVybkxvY2F0aW9uIHx8IHByZXByb2Nlc3NlZERhdGEuZGVwYXJ0dXJlTG9jYXRpb25cbiAgaWYgKGN1cnJlbnRMb2NhdGlvbi5pZCAhPT0gcmV0dXJuTG9jYXRpb24uaWQpIHtcbiAgICBjb25zdCByZXR1cm5TZWdtZW50ID0gZ2VuZXJhdGVUcmFuc3BvcnRTZWdtZW50KFxuICAgICAgY3VycmVudExvY2F0aW9uLFxuICAgICAgcmV0dXJuTG9jYXRpb24sXG4gICAgICBjdXJyZW50VGltZSxcbiAgICAgIGRlc3RpbmF0aW9uVmlzaXRzW2Rlc3RpbmF0aW9uVmlzaXRzLmxlbmd0aCAtIDFdPy5kZXN0aW5hdGlvbk5hbWUgfHwgJ0xhc3QgZGVzdGluYXRpb24nLFxuICAgICAgJ1JldHVybicsXG4gICAgICBmaW5hbENvbmZpZ1xuICAgIClcbiAgICBcbiAgICB0cmFuc3BvcnRTZWdtZW50cy5wdXNoKHJldHVyblNlZ21lbnQpXG4gICAgY3VycmVudFRpbWUgPSBuZXcgRGF0ZShyZXR1cm5TZWdtZW50LmFycml2YWxUaW1lKVxuICB9XG4gIFxuICAvLyBDYWxjdWxhdGUgZW5kIGRhdGVcbiAgY29uc3QgZW5kRGF0ZSA9IG5ldyBEYXRlKGN1cnJlbnRUaW1lKVxuICBcbiAgLy8gR2VuZXJhdGUgc3VtbWFyeVxuICBjb25zdCBzdW1tYXJ5ID0gZ2VuZXJhdGVJdGluZXJhcnlTdW1tYXJ5KFxuICAgIGRlc3RpbmF0aW9uVmlzaXRzLFxuICAgIHRyYW5zcG9ydFNlZ21lbnRzLFxuICAgIHByZWZlcmVuY2VzLFxuICAgIEFycmF5LmZyb20ocHJlcHJvY2Vzc2VkRGF0YS5ncm91cE1lbWJlcnMudmFsdWVzKCkpXG4gIClcbiAgXG4gIC8vIFBlcmZvcm0gY29tcHJlaGVuc2l2ZSB2YWxpZGF0aW9uXG4gIGNvbnN0IHZhbGlkYXRpb24gPSB2YWxpZGF0ZUl0aW5lcmFyeShcbiAgICBkZXN0aW5hdGlvblZpc2l0cyxcbiAgICB0cmFuc3BvcnRTZWdtZW50cyxcbiAgICBzdGFydERhdGUsXG4gICAgZW5kRGF0ZSxcbiAgICBwcmVwcm9jZXNzZWREYXRhLnRyaXBEdXJhdGlvblxuICApXG4gIFxuICByZXR1cm4ge1xuICAgIHRyaXBJZDogcHJlcHJvY2Vzc2VkRGF0YS5ncm91cElkLFxuICAgIHN0YXJ0RGF0ZSxcbiAgICBlbmREYXRlLFxuICAgIGRlcGFydHVyZUxvY2F0aW9uOiBwcmVwcm9jZXNzZWREYXRhLmRlcGFydHVyZUxvY2F0aW9uLFxuICAgIHJldHVybkxvY2F0aW9uOiBwcmVwcm9jZXNzZWREYXRhLnJldHVybkxvY2F0aW9uLFxuICAgIGRlc3RpbmF0aW9uVmlzaXRzLFxuICAgIHRyYW5zcG9ydFNlZ21lbnRzLFxuICAgIHN1bW1hcnksXG4gICAgdmFsaWRhdGlvblxuICB9XG59XG5cbi8qKlxuICogR2VuZXJhdGUgdHJhbnNwb3J0IHNlZ21lbnQgYmV0d2VlbiBsb2NhdGlvbnNcbiAqL1xuZnVuY3Rpb24gZ2VuZXJhdGVUcmFuc3BvcnRTZWdtZW50KFxuICBmcm9tTG9jYXRpb246IExvY2F0aW9uLFxuICB0b0xvY2F0aW9uOiBMb2NhdGlvbixcbiAgZGVwYXJ0dXJlVGltZTogRGF0ZSxcbiAgZnJvbU5hbWU6IHN0cmluZyxcbiAgdG9OYW1lOiBzdHJpbmcsXG4gIGNvbmZpZzogUm91dGVHZW5lcmF0aW9uQ29uZmlnXG4pOiBEZXRhaWxlZFRyYW5zcG9ydFNlZ21lbnQge1xuICBjb25zdCB0cmFuc3BvcnQgPSBkZXRlcm1pbmVUcmFuc3BvcnRNb2RlKGZyb21Mb2NhdGlvbiwgdG9Mb2NhdGlvbiwgY29uZmlnKVxuICBcbiAgY29uc3QgYXJyaXZhbFRpbWUgPSBuZXcgRGF0ZShcbiAgICBkZXBhcnR1cmVUaW1lLmdldFRpbWUoKSArIHRyYW5zcG9ydC5lc3RpbWF0ZWRUaW1lSG91cnMgKiA2MCAqIDYwICogMTAwMFxuICApXG4gIFxuICBjb25zdCB3YXJuaW5nczogc3RyaW5nW10gPSBbXVxuICBcbiAgLy8gQWRkIHdhcm5pbmdzIGZvciBlZGdlIGNhc2VzXG4gIGlmICh0cmFuc3BvcnQubW9kZSA9PT0gJ2ZseWluZycgJiYgdHJhbnNwb3J0LmRpc3RhbmNlS20gPCAxMDApIHtcbiAgICB3YXJuaW5ncy5wdXNoKGBTaG9ydCBmbGlnaHQgb2YgJHt0cmFuc3BvcnQuZGlzdGFuY2VLbS50b0ZpeGVkKDApfWttIG1heSBiZSBpbmVmZmljaWVudGApXG4gIH1cbiAgXG4gIGlmICh0cmFuc3BvcnQubW9kZSA9PT0gJ3dhbGtpbmcnICYmIHRyYW5zcG9ydC5kaXN0YW5jZUttID4gNSkge1xuICAgIHdhcm5pbmdzLnB1c2goYExvbmcgd2FsayBvZiAke3RyYW5zcG9ydC5kaXN0YW5jZUttLnRvRml4ZWQoMSl9a20gbWF5IGJlIHRpcmluZ2ApXG4gIH1cbiAgXG4gIHJldHVybiB7XG4gICAgc2VnbWVudElkOiB1dWlkdjQoKSxcbiAgICBmcm9tTG9jYXRpb24sXG4gICAgZnJvbU5hbWUsXG4gICAgdG9Mb2NhdGlvbixcbiAgICB0b05hbWUsXG4gICAgdHJhbnNwb3J0TW9kZTogdHJhbnNwb3J0Lm1vZGUsXG4gICAgdHJhbnNwb3J0SWNvbjogdHJhbnNwb3J0Lmljb24sXG4gICAgZGlzdGFuY2VLbTogdHJhbnNwb3J0LmRpc3RhbmNlS20sXG4gICAgZXN0aW1hdGVkVGltZUhvdXJzOiB0cmFuc3BvcnQuZXN0aW1hdGVkVGltZUhvdXJzLFxuICAgIGRlcGFydHVyZVRpbWUsXG4gICAgYXJyaXZhbFRpbWUsXG4gICAgcm91dGVQYXRoOiBbZnJvbUxvY2F0aW9uLCB0b0xvY2F0aW9uXSwgLy8gU3RyYWlnaHQgbGluZSBmb3IgTVZQXG4gICAgd2FybmluZ3NcbiAgfVxufVxuXG4vKipcbiAqIEdlbmVyYXRlIGl0aW5lcmFyeSBzdW1tYXJ5XG4gKi9cbmZ1bmN0aW9uIGdlbmVyYXRlSXRpbmVyYXJ5U3VtbWFyeShcbiAgdmlzaXRzOiBEZXN0aW5hdGlvblZpc2l0W10sXG4gIHNlZ21lbnRzOiBEZXRhaWxlZFRyYW5zcG9ydFNlZ21lbnRbXSxcbiAgcHJlZmVyZW5jZXM6IFN0YW5kYXJkaXplZFByZWZlcmVuY2VbXSxcbiAgZ3JvdXBNZW1iZXJzOiBHcm91cE1lbWJlcnNbXVxuKTogSXRpbmVyYXJ5U3VtbWFyeSB7XG4gIC8vIENhbGN1bGF0ZSB0b3RhbHNcbiAgY29uc3QgdG90YWxEZXN0aW5hdGlvbnMgPSB2aXNpdHMubGVuZ3RoXG4gIGNvbnN0IHRvdGFsQ2x1c3RlcnMgPSBuZXcgU2V0KHZpc2l0cy5tYXAodiA9PiB2LmNsdXN0ZXJJZCkpLnNpemVcbiAgY29uc3QgdG90YWxWaXNpdFRpbWVIb3VycyA9IHZpc2l0cy5yZWR1Y2UoKHN1bSwgdikgPT4gc3VtICsgdi5hbGxvY2F0ZWRIb3VycywgMClcbiAgY29uc3QgdG90YWxUcmF2ZWxUaW1lSG91cnMgPSBzZWdtZW50cy5yZWR1Y2UoKHN1bSwgcykgPT4gc3VtICsgcy5lc3RpbWF0ZWRUaW1lSG91cnMsIDApXG4gIGNvbnN0IHRvdGFsRGlzdGFuY2VLbSA9IHNlZ21lbnRzLnJlZHVjZSgoc3VtLCBzKSA9PiBzdW0gKyBzLmRpc3RhbmNlS20sIDApXG4gIFxuICAvLyBDYWxjdWxhdGUgZHVyYXRpb24gaW4gZGF5c1xuICBjb25zdCBmaXJzdFZpc2l0ID0gdmlzaXRzWzBdXG4gIGNvbnN0IGxhc3RWaXNpdCA9IHZpc2l0c1t2aXNpdHMubGVuZ3RoIC0gMV1cbiAgY29uc3QgbGFzdFNlZ21lbnQgPSBzZWdtZW50c1tzZWdtZW50cy5sZW5ndGggLSAxXVxuICBcbiAgY29uc3QgdHJpcFN0YXJ0VGltZSA9IGZpcnN0VmlzaXQ/LmFycml2YWxUaW1lIHx8IG5ldyBEYXRlKClcbiAgY29uc3QgdHJpcEVuZFRpbWUgPSBsYXN0U2VnbWVudD8uYXJyaXZhbFRpbWUgfHwgbGFzdFZpc2l0Py5kZXBhcnR1cmVUaW1lIHx8IG5ldyBEYXRlKClcbiAgY29uc3QgdG90YWxEYXlzID0gTWF0aC5jZWlsKFxuICAgICh0cmlwRW5kVGltZS5nZXRUaW1lKCkgLSB0cmlwU3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwICogNjAgKiAyNClcbiAgKVxuICBcbiAgLy8gQ2FsY3VsYXRlIHRyYW5zcG9ydCBtb2RlIGJyZWFrZG93blxuICBjb25zdCB0cmFuc3BvcnRNb2RlczogVHJhbnNwb3J0TW9kZVN1bW1hcnkgPSB7XG4gICAgd2Fsa2luZ1NlZ21lbnRzOiAwLFxuICAgIHdhbGtpbmdEaXN0YW5jZUttOiAwLFxuICAgIGRyaXZpbmdTZWdtZW50czogMCxcbiAgICBkcml2aW5nRGlzdGFuY2VLbTogMCxcbiAgICBmbHlpbmdTZWdtZW50czogMCxcbiAgICBmbHlpbmdEaXN0YW5jZUttOiAwXG4gIH1cbiAgXG4gIGZvciAoY29uc3Qgc2VnbWVudCBvZiBzZWdtZW50cykge1xuICAgIHN3aXRjaCAoc2VnbWVudC50cmFuc3BvcnRNb2RlKSB7XG4gICAgICBjYXNlICd3YWxraW5nJzpcbiAgICAgICAgdHJhbnNwb3J0TW9kZXMud2Fsa2luZ1NlZ21lbnRzKytcbiAgICAgICAgdHJhbnNwb3J0TW9kZXMud2Fsa2luZ0Rpc3RhbmNlS20gKz0gc2VnbWVudC5kaXN0YW5jZUttXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdkcml2aW5nJzpcbiAgICAgICAgdHJhbnNwb3J0TW9kZXMuZHJpdmluZ1NlZ21lbnRzKytcbiAgICAgICAgdHJhbnNwb3J0TW9kZXMuZHJpdmluZ0Rpc3RhbmNlS20gKz0gc2VnbWVudC5kaXN0YW5jZUttXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdmbHlpbmcnOlxuICAgICAgICB0cmFuc3BvcnRNb2Rlcy5mbHlpbmdTZWdtZW50cysrXG4gICAgICAgIHRyYW5zcG9ydE1vZGVzLmZseWluZ0Rpc3RhbmNlS20gKz0gc2VnbWVudC5kaXN0YW5jZUttXG4gICAgICAgIGJyZWFrXG4gICAgfVxuICB9XG4gIFxuICAvLyBDYWxjdWxhdGUgdXNlciBzYXRpc2ZhY3Rpb25cbiAgY29uc3QgdmlzaXRlZERlc3RpbmF0aW9uSWRzID0gdmlzaXRzLm1hcCh2ID0+IHYuZGVzdGluYXRpb25JZClcbiAgY29uc3QgdXNlclNhdGlzZmFjdGlvblN1bW1hcnkgPSBjYWxjdWxhdGVVc2VyU2F0aXNmYWN0aW9uU3RhdHMoXG4gICAgdmlzaXRlZERlc3RpbmF0aW9uSWRzLFxuICAgIHByZWZlcmVuY2VzLFxuICAgIGdyb3VwTWVtYmVyc1xuICApLm1hcChzdGF0cyA9PiAoe1xuICAgIG1lbWJlcjogc3RhdHMubWVtYmVyLFxuICAgIHZpc2l0ZWRXaXNobGlzdENvdW50OiBzdGF0cy52aXNpdGVkV2lzaGxpc3RDb3VudCxcbiAgICB0b3RhbFdpc2hsaXN0Q291bnQ6IHN0YXRzLnRvdGFsV2lzaGxpc3RDb3VudCxcbiAgICBzYXRpc2ZhY3Rpb25QZXJjZW50YWdlOiBzdGF0cy5zYXRpc2ZhY3Rpb25QZXJjZW50YWdlXG4gIH0pKVxuICBcbiAgcmV0dXJuIHtcbiAgICB0b3RhbERlc3RpbmF0aW9ucyxcbiAgICB0b3RhbENsdXN0ZXJzLFxuICAgIHRvdGFsRGF5cyxcbiAgICB0b3RhbERpc3RhbmNlS20sXG4gICAgdG90YWxUcmF2ZWxUaW1lSG91cnMsXG4gICAgdG90YWxWaXNpdFRpbWVIb3VycyxcbiAgICB0cmFuc3BvcnRNb2RlcyxcbiAgICB1c2VyU2F0aXNmYWN0aW9uU3VtbWFyeVxuICB9XG59XG5cbi8qKlxuICogVmFsaWRhdGUgdHJhbnNwb3J0IHNlZ21lbnRcbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVUcmFuc3BvcnRTZWdtZW50KFxuICBzZWdtZW50OiBEZXRhaWxlZFRyYW5zcG9ydFNlZ21lbnRcbik6IHtcbiAgd2FybmluZ3M6IFZhbGlkYXRpb25XYXJuaW5nW11cbn0ge1xuICBjb25zdCB3YXJuaW5nczogVmFsaWRhdGlvbldhcm5pbmdbXSA9IFtdXG4gIFxuICAvLyBDaGVjayBmb3IgdmVyeSBzaG9ydCBmbGlnaHRzXG4gIGlmIChzZWdtZW50LnRyYW5zcG9ydE1vZGUgPT09ICdmbHlpbmcnICYmIHNlZ21lbnQuZGlzdGFuY2VLbSA8IDEwMCkge1xuICAgIHdhcm5pbmdzLnB1c2goe1xuICAgICAgY29kZTogJ1NIT1JUX0ZMSUdIVCcsXG4gICAgICBtZXNzYWdlOiBgRmxpZ2h0IG9mICR7c2VnbWVudC5kaXN0YW5jZUttLnRvRml4ZWQoMCl9a20gaXMgdW51c3VhbGx5IHNob3J0YFxuICAgIH0pXG4gIH1cbiAgXG4gIC8vIENoZWNrIGZvciB2ZXJ5IGxvbmcgd2Fsa3NcbiAgaWYgKHNlZ21lbnQudHJhbnNwb3J0TW9kZSA9PT0gJ3dhbGtpbmcnICYmIHNlZ21lbnQuZGlzdGFuY2VLbSA+IDUpIHtcbiAgICB3YXJuaW5ncy5wdXNoKHtcbiAgICAgIGNvZGU6ICdMT05HX1dBTEsnLFxuICAgICAgbWVzc2FnZTogYFdhbGtpbmcgJHtzZWdtZW50LmRpc3RhbmNlS20udG9GaXhlZCgxKX1rbSBtYXkgYmUgaW1wcmFjdGljYWxgXG4gICAgfSlcbiAgfVxuICBcbiAgLy8gQ2hlY2sgZm9yIG5lZ2F0aXZlIHRyYXZlbCB0aW1lXG4gIGlmIChzZWdtZW50LmVzdGltYXRlZFRpbWVIb3VycyA8IDApIHtcbiAgICB3YXJuaW5ncy5wdXNoKHtcbiAgICAgIGNvZGU6ICdORUdBVElWRV9USU1FJyxcbiAgICAgIG1lc3NhZ2U6ICdUcmFuc3BvcnQgc2VnbWVudCBoYXMgbmVnYXRpdmUgdHJhdmVsIHRpbWUnXG4gICAgfSlcbiAgfVxuICBcbiAgcmV0dXJuIHsgd2FybmluZ3MgfVxufVxuXG4vKipcbiAqIENvbXByZWhlbnNpdmUgaXRpbmVyYXJ5IHZhbGlkYXRpb25cbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVJdGluZXJhcnkoXG4gIHZpc2l0czogRGVzdGluYXRpb25WaXNpdFtdLFxuICBzZWdtZW50czogRGV0YWlsZWRUcmFuc3BvcnRTZWdtZW50W10sXG4gIHN0YXJ0RGF0ZTogRGF0ZSxcbiAgZW5kRGF0ZTogRGF0ZSxcbiAgdHJpcER1cmF0aW9uOiB7IHN0YXJ0RGF0ZTogRGF0ZSB8IG51bGw7IGVuZERhdGU6IERhdGUgfCBudWxsOyBhdXRvQ2FsY3VsYXRlOiBib29sZWFuIH1cbik6IEl0aW5lcmFyeVZhbGlkYXRpb24ge1xuICBjb25zdCBlcnJvcnM6IFZhbGlkYXRpb25FcnJvcltdID0gW11cbiAgY29uc3Qgd2FybmluZ3M6IFZhbGlkYXRpb25XYXJuaW5nW10gPSBbXVxuICBcbiAgLy8gQ2hlY2sgdGltZSBwcm9ncmVzc2lvblxuICBsZXQgcHJldmlvdXNUaW1lID0gc3RhcnREYXRlXG4gIFxuICBmb3IgKGNvbnN0IHZpc2l0IG9mIHZpc2l0cykge1xuICAgIGlmICh2aXNpdC5hcnJpdmFsVGltZSA8IHByZXZpb3VzVGltZSkge1xuICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICBjb2RlOiAnVElNRV9SRVZFUlNBTCcsXG4gICAgICAgIG1lc3NhZ2U6IGBEZXN0aW5hdGlvbiAke3Zpc2l0LmRlc3RpbmF0aW9uTmFtZX0gYXJyaXZlcyBiZWZvcmUgcHJldmlvdXMgZGVwYXJ0dXJlYCxcbiAgICAgICAgYWZmZWN0ZWREZXN0aW5hdGlvbjogdmlzaXQuZGVzdGluYXRpb25JZFxuICAgICAgfSlcbiAgICB9XG4gICAgXG4gICAgaWYgKHZpc2l0LmRlcGFydHVyZVRpbWUgPCB2aXNpdC5hcnJpdmFsVGltZSkge1xuICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICBjb2RlOiAnTkVHQVRJVkVfVklTSVRfVElNRScsXG4gICAgICAgIG1lc3NhZ2U6IGBEZXN0aW5hdGlvbiAke3Zpc2l0LmRlc3RpbmF0aW9uTmFtZX0gaGFzIGRlcGFydHVyZSBiZWZvcmUgYXJyaXZhbGAsXG4gICAgICAgIGFmZmVjdGVkRGVzdGluYXRpb246IHZpc2l0LmRlc3RpbmF0aW9uSWRcbiAgICAgIH0pXG4gICAgfVxuICAgIFxuICAgIHByZXZpb3VzVGltZSA9IHZpc2l0LmRlcGFydHVyZVRpbWVcbiAgfVxuICBcbiAgLy8gQ2hlY2sgdGltZSB3aW5kb3cgY29uc3RyYWludHNcbiAgaWYgKCF0cmlwRHVyYXRpb24uYXV0b0NhbGN1bGF0ZSAmJiB0cmlwRHVyYXRpb24uZW5kRGF0ZSkge1xuICAgIGlmIChlbmREYXRlID4gdHJpcER1cmF0aW9uLmVuZERhdGUpIHtcbiAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgY29kZTogJ0VYQ0VFRFNfVElNRV9XSU5ET1cnLFxuICAgICAgICBtZXNzYWdlOiBgSXRpbmVyYXJ5IGVuZHMgYWZ0ZXIgZml4ZWQgZW5kIGRhdGVgXG4gICAgICB9KVxuICAgIH1cbiAgfVxuICBcbiAgLy8gQ2hlY2sgZm9yIGR1cGxpY2F0ZSBkZXN0aW5hdGlvbnNcbiAgY29uc3QgZGVzdGluYXRpb25JZHMgPSBuZXcgU2V0PHN0cmluZz4oKVxuICBmb3IgKGNvbnN0IHZpc2l0IG9mIHZpc2l0cykge1xuICAgIGlmIChkZXN0aW5hdGlvbklkcy5oYXModmlzaXQuZGVzdGluYXRpb25JZCkpIHtcbiAgICAgIHdhcm5pbmdzLnB1c2goe1xuICAgICAgICBjb2RlOiAnRFVQTElDQVRFX0RFU1RJTkFUSU9OJyxcbiAgICAgICAgbWVzc2FnZTogYERlc3RpbmF0aW9uICR7dmlzaXQuZGVzdGluYXRpb25OYW1lfSBhcHBlYXJzIG11bHRpcGxlIHRpbWVzYCxcbiAgICAgICAgYWZmZWN0ZWREZXN0aW5hdGlvbjogdmlzaXQuZGVzdGluYXRpb25JZFxuICAgICAgfSlcbiAgICB9XG4gICAgZGVzdGluYXRpb25JZHMuYWRkKHZpc2l0LmRlc3RpbmF0aW9uSWQpXG4gIH1cbiAgXG4gIC8vIENoZWNrIGZvciB2ZXJ5IGxvbmcgZGF5c1xuICBjb25zdCB2aXNpdHNCeURheSA9IG5ldyBNYXA8c3RyaW5nLCBEZXN0aW5hdGlvblZpc2l0W10+KClcbiAgZm9yIChjb25zdCB2aXNpdCBvZiB2aXNpdHMpIHtcbiAgICBjb25zdCBkYXlLZXkgPSB2aXNpdC5hcnJpdmFsVGltZS50b0RhdGVTdHJpbmcoKVxuICAgIGNvbnN0IGRheVZpc2l0cyA9IHZpc2l0c0J5RGF5LmdldChkYXlLZXkpIHx8IFtdXG4gICAgZGF5VmlzaXRzLnB1c2godmlzaXQpXG4gICAgdmlzaXRzQnlEYXkuc2V0KGRheUtleSwgZGF5VmlzaXRzKVxuICB9XG4gIFxuICBmb3IgKGNvbnN0IFtkYXksIGRheVZpc2l0c10gb2YgQXJyYXkuZnJvbSh2aXNpdHNCeURheS5lbnRyaWVzKCkpKSB7XG4gICAgY29uc3QgZGF5U3RhcnQgPSBNYXRoLm1pbiguLi5kYXlWaXNpdHMubWFwKHYgPT4gdi5hcnJpdmFsVGltZS5nZXRUaW1lKCkpKVxuICAgIGNvbnN0IGRheUVuZCA9IE1hdGgubWF4KC4uLmRheVZpc2l0cy5tYXAodiA9PiB2LmRlcGFydHVyZVRpbWUuZ2V0VGltZSgpKSlcbiAgICBjb25zdCBkYXlIb3VycyA9IChkYXlFbmQgLSBkYXlTdGFydCkgLyAoMTAwMCAqIDYwICogNjApXG4gICAgXG4gICAgaWYgKGRheUhvdXJzID4gMTIpIHtcbiAgICAgIHdhcm5pbmdzLnB1c2goe1xuICAgICAgICBjb2RlOiAnTE9OR19EQVknLFxuICAgICAgICBtZXNzYWdlOiBgRGF5ICR7ZGF5fSBoYXMgJHtkYXlIb3Vycy50b0ZpeGVkKDEpfSBob3VycyBvZiBhY3Rpdml0aWVzYFxuICAgICAgfSlcbiAgICB9XG4gIH1cbiAgXG4gIHJldHVybiB7XG4gICAgaXNWYWxpZDogZXJyb3JzLmxlbmd0aCA9PT0gMCxcbiAgICBlcnJvcnMsXG4gICAgd2FybmluZ3NcbiAgfVxufVxuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0byBzYWZlbHkgZ2V0IGRlc3RpbmF0aW9uIG5hbWUgZnJvbSBlaXRoZXIgZGVzdGluYXRpb25zIG9yIHBsYWNlcyB0YWJsZVxuICovXG5mdW5jdGlvbiBnZXREZXN0aW5hdGlvbk5hbWUoZGVzdGluYXRpb246IGFueSk6IHN0cmluZyB7XG4gIC8vIEhhbmRsZSBib3RoIGRlc3RpbmF0aW9ucyB0YWJsZSAoaGFzICduYW1lJykgYW5kIHBsYWNlcyB0YWJsZSAoaGFzICdwbGFjZV9uYW1lJylcbiAgcmV0dXJuIGRlc3RpbmF0aW9uLm5hbWUgfHwgZGVzdGluYXRpb24ucGxhY2VfbmFtZSB8fCAnVW5rbm93biBMb2NhdGlvbidcbn0iXSwibmFtZXMiOlsib3B0aW1pemVDbHVzdGVySW50ZXJuYWxseSIsImFsbG9jYXRlRGVzdGluYXRpb25UaW1lIiwiZGV0ZXJtaW5lVHJhbnNwb3J0TW9kZSIsImZpbmRXaXNoZnVsVXNlcnMiLCJjYWxjdWxhdGVVc2VyU2F0aXNmYWN0aW9uU3RhdHMiLCJ2NCIsInV1aWR2NCIsIkRFRkFVTFRfQ09ORklHIiwic3RhcnRUaW1lIiwiZGFpbHlIb3VycyIsIm1pbkRlc3RpbmF0aW9uSG91cnMiLCJtYXhEZXN0aW5hdGlvbkhvdXJzIiwiZGVmYXVsdERlc3RpbmF0aW9uSG91cnMiLCJ3YWxraW5nU3BlZWRLbWgiLCJkcml2aW5nU3BlZWRLbWgiLCJmbHlpbmdTcGVlZEttaCIsIndhbGtpbmdNYXhEaXN0YW5jZUttIiwiZHJpdmluZ01heERpc3RhbmNlS20iLCJnZW5lcmF0ZURldGFpbGVkSXRpbmVyYXJ5Iiwicm91dGVTb2x1dGlvbiIsInByZXByb2Nlc3NlZERhdGEiLCJwcmVmZXJlbmNlcyIsImNvbmZpZyIsImZpbmFsQ29uZmlnIiwiZGVzdGluYXRpb25WaXNpdHMiLCJ0cmFuc3BvcnRTZWdtZW50cyIsImVycm9ycyIsIndhcm5pbmdzIiwic3RhcnREYXRlIiwiRGF0ZSIsInRyaXBEdXJhdGlvbiIsIm5vdyIsInNldEhvdXJzIiwiY3VycmVudFRpbWUiLCJjdXJyZW50TG9jYXRpb24iLCJkZXBhcnR1cmVMb2NhdGlvbiIsImdsb2JhbFZpc2l0T3JkZXIiLCJjbHVzdGVySW5kZXgiLCJjbHVzdGVycyIsImxlbmd0aCIsImNsdXN0ZXIiLCJpZCIsImNlbnRlckxvY2F0aW9uIiwidHJhbnNwb3J0U2VnbWVudCIsImdlbmVyYXRlVHJhbnNwb3J0U2VnbWVudCIsImdldERlc3RpbmF0aW9uTmFtZSIsImRlc3RpbmF0aW9ucyIsInB1c2giLCJhcnJpdmFsVGltZSIsInNlZ21lbnRWYWxpZGF0aW9uIiwidmFsaWRhdGVUcmFuc3BvcnRTZWdtZW50IiwibWFwIiwidyIsImFmZmVjdGVkU2VnbWVudCIsInNlZ21lbnRJZCIsImNsdXN0ZXJEZXN0aW5hdGlvbnMiLCJkZXN0IiwibG9jYXRpb24iLCJuYW1lIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJjbHVzdGVyUm91dGUiLCJhdmVyYWdlU3RheVRpbWUiLCJkZXN0SW5kZXgiLCJvcmRlcmVkRGVzdGluYXRpb25zIiwiZGVzdGluYXRpb24iLCJwcmV2RGVzdCIsImludHJhVHJhbnNwb3J0IiwidGltZUFsbG9jYXRpb24iLCJ3aXNoZnVsVXNlcnMiLCJBcnJheSIsImZyb20iLCJncm91cE1lbWJlcnMiLCJ2YWx1ZXMiLCJkZXBhcnR1cmVUaW1lIiwiZ2V0VGltZSIsImFsbG9jYXRlZEhvdXJzIiwidmlzaXQiLCJkZXN0aW5hdGlvbklkIiwiZGVzdGluYXRpb25OYW1lIiwiaXNDbHVzdGVyRW50cnkiLCJjbHVzdGVySWQiLCJjbHVzdGVyTmFtZSIsInZpc2l0T3JkZXIiLCJyZXR1cm5Mb2NhdGlvbiIsInJldHVyblNlZ21lbnQiLCJlbmREYXRlIiwic3VtbWFyeSIsImdlbmVyYXRlSXRpbmVyYXJ5U3VtbWFyeSIsInZhbGlkYXRpb24iLCJ2YWxpZGF0ZUl0aW5lcmFyeSIsInRyaXBJZCIsImdyb3VwSWQiLCJmcm9tTG9jYXRpb24iLCJ0b0xvY2F0aW9uIiwiZnJvbU5hbWUiLCJ0b05hbWUiLCJ0cmFuc3BvcnQiLCJlc3RpbWF0ZWRUaW1lSG91cnMiLCJtb2RlIiwiZGlzdGFuY2VLbSIsInRvRml4ZWQiLCJ0cmFuc3BvcnRNb2RlIiwidHJhbnNwb3J0SWNvbiIsImljb24iLCJyb3V0ZVBhdGgiLCJ2aXNpdHMiLCJzZWdtZW50cyIsInRvdGFsRGVzdGluYXRpb25zIiwidG90YWxDbHVzdGVycyIsIlNldCIsInYiLCJzaXplIiwidG90YWxWaXNpdFRpbWVIb3VycyIsInJlZHVjZSIsInN1bSIsInRvdGFsVHJhdmVsVGltZUhvdXJzIiwicyIsInRvdGFsRGlzdGFuY2VLbSIsImZpcnN0VmlzaXQiLCJsYXN0VmlzaXQiLCJsYXN0U2VnbWVudCIsInRyaXBTdGFydFRpbWUiLCJ0cmlwRW5kVGltZSIsInRvdGFsRGF5cyIsIk1hdGgiLCJjZWlsIiwidHJhbnNwb3J0TW9kZXMiLCJ3YWxraW5nU2VnbWVudHMiLCJ3YWxraW5nRGlzdGFuY2VLbSIsImRyaXZpbmdTZWdtZW50cyIsImRyaXZpbmdEaXN0YW5jZUttIiwiZmx5aW5nU2VnbWVudHMiLCJmbHlpbmdEaXN0YW5jZUttIiwic2VnbWVudCIsInZpc2l0ZWREZXN0aW5hdGlvbklkcyIsInVzZXJTYXRpc2ZhY3Rpb25TdW1tYXJ5Iiwic3RhdHMiLCJtZW1iZXIiLCJ2aXNpdGVkV2lzaGxpc3RDb3VudCIsInRvdGFsV2lzaGxpc3RDb3VudCIsInNhdGlzZmFjdGlvblBlcmNlbnRhZ2UiLCJjb2RlIiwibWVzc2FnZSIsInByZXZpb3VzVGltZSIsImFmZmVjdGVkRGVzdGluYXRpb24iLCJhdXRvQ2FsY3VsYXRlIiwiZGVzdGluYXRpb25JZHMiLCJoYXMiLCJhZGQiLCJ2aXNpdHNCeURheSIsIk1hcCIsImRheUtleSIsInRvRGF0ZVN0cmluZyIsImRheVZpc2l0cyIsImdldCIsInNldCIsImRheSIsImVudHJpZXMiLCJkYXlTdGFydCIsIm1pbiIsImRheUVuZCIsIm1heCIsImRheUhvdXJzIiwiaXNWYWxpZCIsInBsYWNlX25hbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./lib/optimization/detailed-route-generator.ts\n");

/***/ }),

/***/ "(action-browser)/./lib/optimization/distance-cache.ts":
/*!********************************************!*\
  !*** ./lib/optimization/distance-cache.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DistanceCache: () => (/* binding */ DistanceCache),\n/* harmony export */   calculateCachedDistance: () => (/* binding */ calculateCachedDistance),\n/* harmony export */   globalDistanceCache: () => (/* binding */ globalDistanceCache)\n/* harmony export */ });\n// Distance cache implementation for performance optimization\n/**\n * Simple in-memory distance cache\n * Caches calculated distances between locations to avoid redundant calculations\n */ class DistanceCache {\n    /**\n   * Generate a unique key for a location pair\n   * Always generates the same key regardless of order\n   */ generateKey(from, to) {\n        // Sort IDs to ensure consistent key regardless of order\n        const ids = [\n            from.id,\n            to.id\n        ].sort();\n        return `${ids[0]}-${ids[1]}`;\n    }\n    /**\n   * Get cached distance between two locations\n   */ get(from, to) {\n        const key = this.generateKey(from, to);\n        return this.cache.get(key);\n    }\n    /**\n   * Cache distance between two locations\n   */ set(from, to, distance) {\n        const key = this.generateKey(from, to);\n        this.cache.set(key, distance);\n    }\n    /**\n   * Clear all cached distances\n   */ clear() {\n        this.cache.clear();\n    }\n    /**\n   * Get cache size (for monitoring)\n   */ get size() {\n        return this.cache.size;\n    }\n    /**\n   * Get cache statistics\n   */ getStats() {\n        // Rough estimate: each entry uses ~100 bytes\n        const estimatedMemoryKB = this.cache.size * 100 / 1024;\n        return {\n            size: this.cache.size,\n            estimatedMemoryKB\n        };\n    }\n    constructor(){\n        this.cache = new Map();\n    }\n}\n/**\n * Global distance cache instance\n * Shared across optimization runs for better performance\n */ const globalDistanceCache = new DistanceCache();\n/**\n * Calculate distance with caching\n * Wrapper function that uses the cache automatically\n */ function calculateCachedDistance(from, to, calculator, cache = globalDistanceCache) {\n    // Check cache first\n    const cached = cache.get(from, to);\n    if (cached !== undefined) {\n        return cached;\n    }\n    // Calculate and cache\n    const distance = calculator(from, to);\n    cache.set(from, to, distance);\n    return distance;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL2xpYi9vcHRpbWl6YXRpb24vZGlzdGFuY2UtY2FjaGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsNkRBQTZEO0FBSzdEOzs7Q0FHQyxHQUNNLE1BQU1BO0lBR1g7OztHQUdDLEdBQ0QsWUFBb0JFLElBQWMsRUFBRUMsRUFBWSxFQUFVO1FBQ3hELHdEQUF3RDtRQUN4RCxNQUFNQyxNQUFNO1lBQUNGLEtBQUtHLEVBQUU7WUFBRUYsR0FBR0UsRUFBRTtTQUFDLENBQUNDLElBQUk7UUFDakMsT0FBTyxDQUFDLEVBQUVGLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFQSxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDOUI7SUFFQTs7R0FFQyxHQUNERyxJQUFJTCxJQUFjLEVBQUVDLEVBQVksRUFBc0I7UUFDcEQsTUFBTUssTUFBTSxJQUFJLENBQUNQLFdBQVcsQ0FBQ0MsTUFBTUM7UUFDbkMsT0FBTyxJQUFJLENBQUNNLEtBQUssQ0FBQ0YsR0FBRyxDQUFDQztJQUN4QjtJQUVBOztHQUVDLEdBQ0RFLElBQUlSLElBQWMsRUFBRUMsRUFBWSxFQUFFUSxRQUFnQixFQUFRO1FBQ3hELE1BQU1ILE1BQU0sSUFBSSxDQUFDUCxXQUFXLENBQUNDLE1BQU1DO1FBQ25DLElBQUksQ0FBQ00sS0FBSyxDQUFDQyxHQUFHLENBQUNGLEtBQUtHO0lBQ3RCO0lBRUE7O0dBRUMsR0FDREMsUUFBYztRQUNaLElBQUksQ0FBQ0gsS0FBSyxDQUFDRyxLQUFLO0lBQ2xCO0lBRUE7O0dBRUMsR0FDRCxJQUFJQyxPQUFlO1FBQ2pCLE9BQU8sSUFBSSxDQUFDSixLQUFLLENBQUNJLElBQUk7SUFDeEI7SUFFQTs7R0FFQyxHQUNEQyxXQUdFO1FBQ0EsNkNBQTZDO1FBQzdDLE1BQU1DLG9CQUFvQixJQUFLLENBQUNOLEtBQUssQ0FBQ0ksSUFBSSxHQUFHLE1BQU87UUFFcEQsT0FBTztZQUNMQSxNQUFNLElBQUksQ0FBQ0osS0FBSyxDQUFDSSxJQUFJO1lBQ3JCRTtRQUNGO0lBQ0Y7O2FBeERRTixRQUE2QixJQUFJTzs7QUF5RDNDO0FBRUE7OztDQUdDLEdBQ00sTUFBTUMsc0JBQXNCLElBQUlqQixnQkFBZTtBQUV0RDs7O0NBR0MsR0FDTSxTQUFTa0Isd0JBQ2RoQixJQUFjLEVBQ2RDLEVBQVksRUFDWmdCLFVBQW9ELEVBQ3BEVixRQUF3QlEsbUJBQW1CO0lBRTNDLG9CQUFvQjtJQUNwQixNQUFNRyxTQUFTWCxNQUFNRixHQUFHLENBQUNMLE1BQU1DO0lBQy9CLElBQUlpQixXQUFXQyxXQUFXO1FBQ3hCLE9BQU9EO0lBQ1Q7SUFFQSxzQkFBc0I7SUFDdEIsTUFBTVQsV0FBV1EsV0FBV2pCLE1BQU1DO0lBQ2xDTSxNQUFNQyxHQUFHLENBQUNSLE1BQU1DLElBQUlRO0lBRXBCLE9BQU9BO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMvLi9saWIvb3B0aW1pemF0aW9uL2Rpc3RhbmNlLWNhY2hlLnRzPzFiNjciXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRGlzdGFuY2UgY2FjaGUgaW1wbGVtZW50YXRpb24gZm9yIHBlcmZvcm1hbmNlIG9wdGltaXphdGlvblxuXG5pbXBvcnQgdHlwZSB7IExvY2F0aW9uIH0gZnJvbSAnLi90eXBlcydcbmltcG9ydCB0eXBlIHsgRGlzdGFuY2VDYWNoZSBhcyBJRGlzdGFuY2VDYWNoZSB9IGZyb20gJy4vbm9ybWFsaXphdGlvbi10eXBlcydcblxuLyoqXG4gKiBTaW1wbGUgaW4tbWVtb3J5IGRpc3RhbmNlIGNhY2hlXG4gKiBDYWNoZXMgY2FsY3VsYXRlZCBkaXN0YW5jZXMgYmV0d2VlbiBsb2NhdGlvbnMgdG8gYXZvaWQgcmVkdW5kYW50IGNhbGN1bGF0aW9uc1xuICovXG5leHBvcnQgY2xhc3MgRGlzdGFuY2VDYWNoZSBpbXBsZW1lbnRzIElEaXN0YW5jZUNhY2hlIHtcbiAgcHJpdmF0ZSBjYWNoZTogTWFwPHN0cmluZywgbnVtYmVyPiA9IG5ldyBNYXAoKVxuICBcbiAgLyoqXG4gICAqIEdlbmVyYXRlIGEgdW5pcXVlIGtleSBmb3IgYSBsb2NhdGlvbiBwYWlyXG4gICAqIEFsd2F5cyBnZW5lcmF0ZXMgdGhlIHNhbWUga2V5IHJlZ2FyZGxlc3Mgb2Ygb3JkZXJcbiAgICovXG4gIHByaXZhdGUgZ2VuZXJhdGVLZXkoZnJvbTogTG9jYXRpb24sIHRvOiBMb2NhdGlvbik6IHN0cmluZyB7XG4gICAgLy8gU29ydCBJRHMgdG8gZW5zdXJlIGNvbnNpc3RlbnQga2V5IHJlZ2FyZGxlc3Mgb2Ygb3JkZXJcbiAgICBjb25zdCBpZHMgPSBbZnJvbS5pZCwgdG8uaWRdLnNvcnQoKVxuICAgIHJldHVybiBgJHtpZHNbMF19LSR7aWRzWzFdfWBcbiAgfVxuICBcbiAgLyoqXG4gICAqIEdldCBjYWNoZWQgZGlzdGFuY2UgYmV0d2VlbiB0d28gbG9jYXRpb25zXG4gICAqL1xuICBnZXQoZnJvbTogTG9jYXRpb24sIHRvOiBMb2NhdGlvbik6IG51bWJlciB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3Qga2V5ID0gdGhpcy5nZW5lcmF0ZUtleShmcm9tLCB0bylcbiAgICByZXR1cm4gdGhpcy5jYWNoZS5nZXQoa2V5KVxuICB9XG4gIFxuICAvKipcbiAgICogQ2FjaGUgZGlzdGFuY2UgYmV0d2VlbiB0d28gbG9jYXRpb25zXG4gICAqL1xuICBzZXQoZnJvbTogTG9jYXRpb24sIHRvOiBMb2NhdGlvbiwgZGlzdGFuY2U6IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IGtleSA9IHRoaXMuZ2VuZXJhdGVLZXkoZnJvbSwgdG8pXG4gICAgdGhpcy5jYWNoZS5zZXQoa2V5LCBkaXN0YW5jZSlcbiAgfVxuICBcbiAgLyoqXG4gICAqIENsZWFyIGFsbCBjYWNoZWQgZGlzdGFuY2VzXG4gICAqL1xuICBjbGVhcigpOiB2b2lkIHtcbiAgICB0aGlzLmNhY2hlLmNsZWFyKClcbiAgfVxuICBcbiAgLyoqXG4gICAqIEdldCBjYWNoZSBzaXplIChmb3IgbW9uaXRvcmluZylcbiAgICovXG4gIGdldCBzaXplKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuY2FjaGUuc2l6ZVxuICB9XG4gIFxuICAvKipcbiAgICogR2V0IGNhY2hlIHN0YXRpc3RpY3NcbiAgICovXG4gIGdldFN0YXRzKCk6IHtcbiAgICBzaXplOiBudW1iZXJcbiAgICBlc3RpbWF0ZWRNZW1vcnlLQjogbnVtYmVyXG4gIH0ge1xuICAgIC8vIFJvdWdoIGVzdGltYXRlOiBlYWNoIGVudHJ5IHVzZXMgfjEwMCBieXRlc1xuICAgIGNvbnN0IGVzdGltYXRlZE1lbW9yeUtCID0gKHRoaXMuY2FjaGUuc2l6ZSAqIDEwMCkgLyAxMDI0XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIHNpemU6IHRoaXMuY2FjaGUuc2l6ZSxcbiAgICAgIGVzdGltYXRlZE1lbW9yeUtCXG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogR2xvYmFsIGRpc3RhbmNlIGNhY2hlIGluc3RhbmNlXG4gKiBTaGFyZWQgYWNyb3NzIG9wdGltaXphdGlvbiBydW5zIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2VcbiAqL1xuZXhwb3J0IGNvbnN0IGdsb2JhbERpc3RhbmNlQ2FjaGUgPSBuZXcgRGlzdGFuY2VDYWNoZSgpXG5cbi8qKlxuICogQ2FsY3VsYXRlIGRpc3RhbmNlIHdpdGggY2FjaGluZ1xuICogV3JhcHBlciBmdW5jdGlvbiB0aGF0IHVzZXMgdGhlIGNhY2hlIGF1dG9tYXRpY2FsbHlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZUNhY2hlZERpc3RhbmNlKFxuICBmcm9tOiBMb2NhdGlvbixcbiAgdG86IExvY2F0aW9uLFxuICBjYWxjdWxhdG9yOiAoZnJvbTogTG9jYXRpb24sIHRvOiBMb2NhdGlvbikgPT4gbnVtYmVyLFxuICBjYWNoZTogSURpc3RhbmNlQ2FjaGUgPSBnbG9iYWxEaXN0YW5jZUNhY2hlXG4pOiBudW1iZXIge1xuICAvLyBDaGVjayBjYWNoZSBmaXJzdFxuICBjb25zdCBjYWNoZWQgPSBjYWNoZS5nZXQoZnJvbSwgdG8pXG4gIGlmIChjYWNoZWQgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBjYWNoZWRcbiAgfVxuICBcbiAgLy8gQ2FsY3VsYXRlIGFuZCBjYWNoZVxuICBjb25zdCBkaXN0YW5jZSA9IGNhbGN1bGF0b3IoZnJvbSwgdG8pXG4gIGNhY2hlLnNldChmcm9tLCB0bywgZGlzdGFuY2UpXG4gIFxuICByZXR1cm4gZGlzdGFuY2Vcbn0iXSwibmFtZXMiOlsiRGlzdGFuY2VDYWNoZSIsImdlbmVyYXRlS2V5IiwiZnJvbSIsInRvIiwiaWRzIiwiaWQiLCJzb3J0IiwiZ2V0Iiwia2V5IiwiY2FjaGUiLCJzZXQiLCJkaXN0YW5jZSIsImNsZWFyIiwic2l6ZSIsImdldFN0YXRzIiwiZXN0aW1hdGVkTWVtb3J5S0IiLCJNYXAiLCJnbG9iYWxEaXN0YW5jZUNhY2hlIiwiY2FsY3VsYXRlQ2FjaGVkRGlzdGFuY2UiLCJjYWxjdWxhdG9yIiwiY2FjaGVkIiwidW5kZWZpbmVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./lib/optimization/distance-cache.ts\n");

/***/ }),

/***/ "(action-browser)/./lib/optimization/fairness-calculator.ts":
/*!*************************************************!*\
  !*** ./lib/optimization/fairness-calculator.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   analyzeFairnessDistribution: () => (/* binding */ analyzeFairnessDistribution),\n/* harmony export */   calculateFairness: () => (/* binding */ calculateFairness),\n/* harmony export */   calculateIncrementalFairness: () => (/* binding */ calculateIncrementalFairness)\n/* harmony export */ });\n// Fairness calculation using Gini coefficient\n/**\n * Calculate fairness score using Gini coefficient\n * Lower Gini = more equal distribution of satisfaction\n * Fairness score = 1 - |Gini| (higher is better)\n */ function calculateFairness(selectedClusters, standardizedPreferences, userKeys) {\n    // Step 1: Calculate satisfaction for each user\n    const userSatisfactions = calculateUserSatisfactions(selectedClusters, standardizedPreferences, userKeys);\n    // Handle edge case: single user\n    if (userSatisfactions.length <= 1) {\n        return {\n            giniCoefficient: 0,\n            fairnessScore: 1,\n            userSatisfactions,\n            lowestSatisfaction: userSatisfactions[0] || null,\n            highestSatisfaction: userSatisfactions[0] || null\n        };\n    }\n    // Step 2: Calculate Gini coefficient\n    const gini = calculateGiniCoefficient(userSatisfactions);\n    // Step 3: Convert to fairness score\n    const fairnessScore = 1 - Math.abs(gini);\n    // Step 4: Find extremes\n    const sortedSatisfactions = [\n        ...userSatisfactions\n    ].sort((a, b)=>a.satisfactionScore - b.satisfactionScore);\n    return {\n        giniCoefficient: gini,\n        fairnessScore,\n        userSatisfactions,\n        lowestSatisfaction: sortedSatisfactions[0],\n        highestSatisfaction: sortedSatisfactions[sortedSatisfactions.length - 1]\n    };\n}\n/**\n * Calculate satisfaction scores for all users\n */ function calculateUserSatisfactions(selectedClusters, standardizedPreferences, userKeys) {\n    // Create preference lookup map\n    const preferenceMap = new Map();\n    for (const pref of standardizedPreferences){\n        const userKey = pref.userId || pref.sessionId || \"unknown\";\n        const userPrefs = preferenceMap.get(userKey) || [];\n        userPrefs.push(pref);\n        preferenceMap.set(userKey, userPrefs);\n    }\n    // Calculate satisfaction for each user\n    const satisfactions = [];\n    for (const userKey of Array.from(userKeys)){\n        const userPrefs = preferenceMap.get(userKey) || [];\n        // Sum standardized scores for selected destinations\n        let satisfactionScore = 0;\n        let selectedDestinations = 0;\n        for (const cluster of selectedClusters){\n            for (const destination of cluster.destinations){\n                const pref = userPrefs.find((p)=>p.destinationId === destination.id);\n                if (pref) {\n                    satisfactionScore += pref.standardizedScore;\n                    selectedDestinations++;\n                }\n            }\n        }\n        // Get user display info from first preference\n        const firstPref = userPrefs[0];\n        const userName = firstPref?.userName || \"Unknown User\";\n        satisfactions.push({\n            userId: firstPref?.userId || null,\n            sessionId: firstPref?.sessionId || null,\n            userKey,\n            userName,\n            satisfactionScore,\n            selectedDestinations,\n            totalDestinations: userPrefs.length\n        });\n    }\n    return satisfactions;\n}\n/**\n * Calculate Gini coefficient from satisfaction scores\n * Gini = (2 * Σ(rank * satisfaction)) / (n * totalSatisfaction) - (n+1)/n\n */ function calculateGiniCoefficient(satisfactions) {\n    const n = satisfactions.length;\n    if (n === 0) return 0;\n    // Sort by satisfaction score (ascending)\n    const sorted = [\n        ...satisfactions\n    ].sort((a, b)=>a.satisfactionScore - b.satisfactionScore);\n    // Calculate total satisfaction\n    const totalSatisfaction = sorted.reduce((sum, s)=>sum + s.satisfactionScore, 0);\n    // Handle edge case: no satisfaction\n    if (totalSatisfaction === 0) return 0;\n    // Calculate weighted sum\n    let weightedSum = 0;\n    sorted.forEach((satisfaction, index)=>{\n        const rank = index + 1;\n        weightedSum += rank * satisfaction.satisfactionScore;\n    });\n    // Apply Gini formula\n    const gini = 2 * weightedSum / (n * totalSatisfaction) - (n + 1) / n;\n    // Ensure result is in valid range [-1, 1]\n    return Math.max(-1, Math.min(1, gini));\n}\n/**\n * Analyze fairness distribution and provide insights\n */ function analyzeFairnessDistribution(giniResult) {\n    const { fairnessScore, lowestSatisfaction, highestSatisfaction } = giniResult;\n    // Determine balance level\n    const isBalanced = fairnessScore >= 0.7;\n    // Calculate disparity level\n    let disparityLevel;\n    if (fairnessScore >= 0.8) {\n        disparityLevel = \"low\";\n    } else if (fairnessScore >= 0.6) {\n        disparityLevel = \"medium\";\n    } else {\n        disparityLevel = \"high\";\n    }\n    // Generate recommendations\n    const recommendations = [];\n    if (lowestSatisfaction && highestSatisfaction && fairnessScore < 0.7) {\n        const gap = highestSatisfaction.satisfactionScore - lowestSatisfaction.satisfactionScore;\n        if (gap > 2) {\n            recommendations.push(`Consider adding more destinations preferred by ${lowestSatisfaction.userName}`);\n        }\n        if (lowestSatisfaction.selectedDestinations < lowestSatisfaction.totalDestinations * 0.3) {\n            recommendations.push(`${lowestSatisfaction.userName} has very few selected destinations (${lowestSatisfaction.selectedDestinations}/${lowestSatisfaction.totalDestinations})`);\n        }\n    }\n    if (fairnessScore < 0.5) {\n        recommendations.push(\"The current selection heavily favors some members over others\");\n        recommendations.push(\"Consider manually adjusting the destination selection for better balance\");\n    }\n    return {\n        isBalanced,\n        disparityLevel,\n        recommendations\n    };\n}\n/**\n * Calculate incremental fairness impact of adding/removing a cluster\n * Useful for greedy optimization\n */ function calculateIncrementalFairness(currentClusters, candidateCluster, standardizedPreferences, userKeys, operation) {\n    // Calculate current fairness\n    const currentResult = calculateFairness(currentClusters, standardizedPreferences, userKeys);\n    // Calculate new fairness with change\n    let newClusters;\n    if (operation === \"add\") {\n        newClusters = [\n            ...currentClusters,\n            candidateCluster\n        ];\n    } else {\n        newClusters = currentClusters.filter((c)=>c.id !== candidateCluster.id);\n    }\n    const newResult = calculateFairness(newClusters, standardizedPreferences, userKeys);\n    const fairnessChange = newResult.fairnessScore - currentResult.fairnessScore;\n    // Make recommendation\n    let recommendation;\n    if (fairnessChange > 0.05) {\n        recommendation = \"accept\";\n    } else if (fairnessChange < -0.05) {\n        recommendation = \"reject\";\n    } else {\n        recommendation = \"neutral\";\n    }\n    return {\n        currentFairness: currentResult.fairnessScore,\n        newFairness: newResult.fairnessScore,\n        fairnessChange,\n        recommendation\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL2xpYi9vcHRpbWl6YXRpb24vZmFpcm5lc3MtY2FsY3VsYXRvci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSw4Q0FBOEM7QUFXOUM7Ozs7Q0FJQyxHQUNNLFNBQVNBLGtCQUNkQyxnQkFBc0MsRUFDdENDLHVCQUFpRCxFQUNqREMsUUFBcUI7SUFFckIsK0NBQStDO0lBQy9DLE1BQU1DLG9CQUFvQkMsMkJBQ3hCSixrQkFDQUMseUJBQ0FDO0lBR0YsZ0NBQWdDO0lBQ2hDLElBQUlDLGtCQUFrQkUsTUFBTSxJQUFJLEdBQUc7UUFDakMsT0FBTztZQUNMQyxpQkFBaUI7WUFDakJDLGVBQWU7WUFDZko7WUFDQUssb0JBQW9CTCxpQkFBaUIsQ0FBQyxFQUFFLElBQUk7WUFDNUNNLHFCQUFxQk4saUJBQWlCLENBQUMsRUFBRSxJQUFJO1FBQy9DO0lBQ0Y7SUFFQSxxQ0FBcUM7SUFDckMsTUFBTU8sT0FBT0MseUJBQXlCUjtJQUV0QyxvQ0FBb0M7SUFDcEMsTUFBTUksZ0JBQWdCLElBQUlLLEtBQUtDLEdBQUcsQ0FBQ0g7SUFFbkMsd0JBQXdCO0lBQ3hCLE1BQU1JLHNCQUFzQjtXQUFJWDtLQUFrQixDQUFDWSxJQUFJLENBQ3JELENBQUNDLEdBQUdDLElBQU1ELEVBQUVFLGlCQUFpQixHQUFHRCxFQUFFQyxpQkFBaUI7SUFHckQsT0FBTztRQUNMWixpQkFBaUJJO1FBQ2pCSDtRQUNBSjtRQUNBSyxvQkFBb0JNLG1CQUFtQixDQUFDLEVBQUU7UUFDMUNMLHFCQUFxQkssbUJBQW1CLENBQUNBLG9CQUFvQlQsTUFBTSxHQUFHLEVBQUU7SUFDMUU7QUFDRjtBQUVBOztDQUVDLEdBQ0QsU0FBU0QsMkJBQ1BKLGdCQUFzQyxFQUN0Q0MsdUJBQWlELEVBQ2pEQyxRQUFxQjtJQUVyQiwrQkFBK0I7SUFDL0IsTUFBTWlCLGdCQUFnQixJQUFJQztJQUMxQixLQUFLLE1BQU1DLFFBQVFwQix3QkFBeUI7UUFDMUMsTUFBTXFCLFVBQVVELEtBQUtFLE1BQU0sSUFBSUYsS0FBS0csU0FBUyxJQUFJO1FBQ2pELE1BQU1DLFlBQVlOLGNBQWNPLEdBQUcsQ0FBQ0osWUFBWSxFQUFFO1FBQ2xERyxVQUFVRSxJQUFJLENBQUNOO1FBQ2ZGLGNBQWNTLEdBQUcsQ0FBQ04sU0FBU0c7SUFDN0I7SUFFQSx1Q0FBdUM7SUFDdkMsTUFBTUksZ0JBQW9DLEVBQUU7SUFFNUMsS0FBSyxNQUFNUCxXQUFXUSxNQUFNQyxJQUFJLENBQUM3QixVQUFXO1FBQzFDLE1BQU11QixZQUFZTixjQUFjTyxHQUFHLENBQUNKLFlBQVksRUFBRTtRQUVsRCxvREFBb0Q7UUFDcEQsSUFBSUosb0JBQW9CO1FBQ3hCLElBQUljLHVCQUF1QjtRQUUzQixLQUFLLE1BQU1DLFdBQVdqQyxpQkFBa0I7WUFDdEMsS0FBSyxNQUFNa0MsZUFBZUQsUUFBUUUsWUFBWSxDQUFFO2dCQUM5QyxNQUFNZCxPQUFPSSxVQUFVVyxJQUFJLENBQUNDLENBQUFBLElBQUtBLEVBQUVDLGFBQWEsS0FBS0osWUFBWUssRUFBRTtnQkFDbkUsSUFBSWxCLE1BQU07b0JBQ1JILHFCQUFxQkcsS0FBS21CLGlCQUFpQjtvQkFDM0NSO2dCQUNGO1lBQ0Y7UUFDRjtRQUVBLDhDQUE4QztRQUM5QyxNQUFNUyxZQUFZaEIsU0FBUyxDQUFDLEVBQUU7UUFDOUIsTUFBTWlCLFdBQVdELFdBQVdDLFlBQVk7UUFFeENiLGNBQWNGLElBQUksQ0FBQztZQUNqQkosUUFBUWtCLFdBQVdsQixVQUFVO1lBQzdCQyxXQUFXaUIsV0FBV2pCLGFBQWE7WUFDbkNGO1lBQ0FvQjtZQUNBeEI7WUFDQWM7WUFDQVcsbUJBQW1CbEIsVUFBVXBCLE1BQU07UUFDckM7SUFDRjtJQUVBLE9BQU93QjtBQUNUO0FBRUE7OztDQUdDLEdBQ0QsU0FBU2xCLHlCQUF5QmtCLGFBQWlDO0lBQ2pFLE1BQU1lLElBQUlmLGNBQWN4QixNQUFNO0lBQzlCLElBQUl1QyxNQUFNLEdBQUcsT0FBTztJQUVwQix5Q0FBeUM7SUFDekMsTUFBTUMsU0FBUztXQUFJaEI7S0FBYyxDQUFDZCxJQUFJLENBQ3BDLENBQUNDLEdBQUdDLElBQU1ELEVBQUVFLGlCQUFpQixHQUFHRCxFQUFFQyxpQkFBaUI7SUFHckQsK0JBQStCO0lBQy9CLE1BQU00QixvQkFBb0JELE9BQU9FLE1BQU0sQ0FDckMsQ0FBQ0MsS0FBS0MsSUFBTUQsTUFBTUMsRUFBRS9CLGlCQUFpQixFQUNyQztJQUdGLG9DQUFvQztJQUNwQyxJQUFJNEIsc0JBQXNCLEdBQUcsT0FBTztJQUVwQyx5QkFBeUI7SUFDekIsSUFBSUksY0FBYztJQUNsQkwsT0FBT00sT0FBTyxDQUFDLENBQUNDLGNBQWNDO1FBQzVCLE1BQU1DLE9BQU9ELFFBQVE7UUFDckJILGVBQWVJLE9BQU9GLGFBQWFsQyxpQkFBaUI7SUFDdEQ7SUFFQSxxQkFBcUI7SUFDckIsTUFBTVIsT0FBTyxJQUFLd0MsY0FBZ0JOLENBQUFBLElBQUlFLGlCQUFnQixJQUFLLENBQUNGLElBQUksS0FBS0E7SUFFckUsMENBQTBDO0lBQzFDLE9BQU9oQyxLQUFLMkMsR0FBRyxDQUFDLENBQUMsR0FBRzNDLEtBQUs0QyxHQUFHLENBQUMsR0FBRzlDO0FBQ2xDO0FBRUE7O0NBRUMsR0FDTSxTQUFTK0MsNEJBQ2RDLFVBQXNCO0lBTXRCLE1BQU0sRUFBRW5ELGFBQWEsRUFBRUMsa0JBQWtCLEVBQUVDLG1CQUFtQixFQUFFLEdBQUdpRDtJQUVuRSwwQkFBMEI7SUFDMUIsTUFBTUMsYUFBYXBELGlCQUFpQjtJQUVwQyw0QkFBNEI7SUFDNUIsSUFBSXFEO0lBQ0osSUFBSXJELGlCQUFpQixLQUFLO1FBQ3hCcUQsaUJBQWlCO0lBQ25CLE9BQU8sSUFBSXJELGlCQUFpQixLQUFLO1FBQy9CcUQsaUJBQWlCO0lBQ25CLE9BQU87UUFDTEEsaUJBQWlCO0lBQ25CO0lBRUEsMkJBQTJCO0lBQzNCLE1BQU1DLGtCQUE0QixFQUFFO0lBRXBDLElBQUlyRCxzQkFBc0JDLHVCQUF1QkYsZ0JBQWdCLEtBQUs7UUFDcEUsTUFBTXVELE1BQU1yRCxvQkFBb0JTLGlCQUFpQixHQUFHVixtQkFBbUJVLGlCQUFpQjtRQUV4RixJQUFJNEMsTUFBTSxHQUFHO1lBQ1hELGdCQUFnQmxDLElBQUksQ0FDbEIsQ0FBQywrQ0FBK0MsRUFBRW5CLG1CQUFtQmtDLFFBQVEsQ0FBQyxDQUFDO1FBRW5GO1FBRUEsSUFBSWxDLG1CQUFtQndCLG9CQUFvQixHQUFHeEIsbUJBQW1CbUMsaUJBQWlCLEdBQUcsS0FBSztZQUN4RmtCLGdCQUFnQmxDLElBQUksQ0FDbEIsQ0FBQyxFQUFFbkIsbUJBQW1Ca0MsUUFBUSxDQUFDLHFDQUFxQyxFQUFFbEMsbUJBQW1Cd0Isb0JBQW9CLENBQUMsQ0FBQyxFQUFFeEIsbUJBQW1CbUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDO1FBRTVKO0lBQ0Y7SUFFQSxJQUFJcEMsZ0JBQWdCLEtBQUs7UUFDdkJzRCxnQkFBZ0JsQyxJQUFJLENBQ2xCO1FBRUZrQyxnQkFBZ0JsQyxJQUFJLENBQ2xCO0lBRUo7SUFFQSxPQUFPO1FBQ0xnQztRQUNBQztRQUNBQztJQUNGO0FBQ0Y7QUFFQTs7O0NBR0MsR0FDTSxTQUFTRSw2QkFDZEMsZUFBcUMsRUFDckNDLGdCQUFvQyxFQUNwQ2hFLHVCQUFpRCxFQUNqREMsUUFBcUIsRUFDckJnRSxTQUEyQjtJQU8zQiw2QkFBNkI7SUFDN0IsTUFBTUMsZ0JBQWdCcEUsa0JBQ3BCaUUsaUJBQ0EvRCx5QkFDQUM7SUFHRixxQ0FBcUM7SUFDckMsSUFBSWtFO0lBQ0osSUFBSUYsY0FBYyxPQUFPO1FBQ3ZCRSxjQUFjO2VBQUlKO1lBQWlCQztTQUFpQjtJQUN0RCxPQUFPO1FBQ0xHLGNBQWNKLGdCQUFnQkssTUFBTSxDQUFDQyxDQUFBQSxJQUFLQSxFQUFFL0IsRUFBRSxLQUFLMEIsaUJBQWlCMUIsRUFBRTtJQUN4RTtJQUVBLE1BQU1nQyxZQUFZeEUsa0JBQ2hCcUUsYUFDQW5FLHlCQUNBQztJQUdGLE1BQU1zRSxpQkFBaUJELFVBQVVoRSxhQUFhLEdBQUc0RCxjQUFjNUQsYUFBYTtJQUU1RSxzQkFBc0I7SUFDdEIsSUFBSWtFO0lBQ0osSUFBSUQsaUJBQWlCLE1BQU07UUFDekJDLGlCQUFpQjtJQUNuQixPQUFPLElBQUlELGlCQUFpQixDQUFDLE1BQU07UUFDakNDLGlCQUFpQjtJQUNuQixPQUFPO1FBQ0xBLGlCQUFpQjtJQUNuQjtJQUVBLE9BQU87UUFDTEMsaUJBQWlCUCxjQUFjNUQsYUFBYTtRQUM1Q29FLGFBQWFKLFVBQVVoRSxhQUFhO1FBQ3BDaUU7UUFDQUM7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLy4vbGliL29wdGltaXphdGlvbi9mYWlybmVzcy1jYWxjdWxhdG9yLnRzPzg3MWIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRmFpcm5lc3MgY2FsY3VsYXRpb24gdXNpbmcgR2luaSBjb2VmZmljaWVudFxuXG5pbXBvcnQgdHlwZSB7IFxuICBEZXN0aW5hdGlvbkNsdXN0ZXIsIFxuICBTdGFuZGFyZGl6ZWRQcmVmZXJlbmNlIFxufSBmcm9tICcuL25vcm1hbGl6YXRpb24tdHlwZXMnXG5pbXBvcnQgdHlwZSB7IFxuICBVc2VyU2F0aXNmYWN0aW9uLCBcbiAgR2luaVJlc3VsdCBcbn0gZnJvbSAnLi9hbGdvcml0aG0tdHlwZXMnXG5cbi8qKlxuICogQ2FsY3VsYXRlIGZhaXJuZXNzIHNjb3JlIHVzaW5nIEdpbmkgY29lZmZpY2llbnRcbiAqIExvd2VyIEdpbmkgPSBtb3JlIGVxdWFsIGRpc3RyaWJ1dGlvbiBvZiBzYXRpc2ZhY3Rpb25cbiAqIEZhaXJuZXNzIHNjb3JlID0gMSAtIHxHaW5pfCAoaGlnaGVyIGlzIGJldHRlcilcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZUZhaXJuZXNzKFxuICBzZWxlY3RlZENsdXN0ZXJzOiBEZXN0aW5hdGlvbkNsdXN0ZXJbXSxcbiAgc3RhbmRhcmRpemVkUHJlZmVyZW5jZXM6IFN0YW5kYXJkaXplZFByZWZlcmVuY2VbXSxcbiAgdXNlcktleXM6IFNldDxzdHJpbmc+XG4pOiBHaW5pUmVzdWx0IHtcbiAgLy8gU3RlcCAxOiBDYWxjdWxhdGUgc2F0aXNmYWN0aW9uIGZvciBlYWNoIHVzZXJcbiAgY29uc3QgdXNlclNhdGlzZmFjdGlvbnMgPSBjYWxjdWxhdGVVc2VyU2F0aXNmYWN0aW9ucyhcbiAgICBzZWxlY3RlZENsdXN0ZXJzLFxuICAgIHN0YW5kYXJkaXplZFByZWZlcmVuY2VzLFxuICAgIHVzZXJLZXlzXG4gIClcbiAgXG4gIC8vIEhhbmRsZSBlZGdlIGNhc2U6IHNpbmdsZSB1c2VyXG4gIGlmICh1c2VyU2F0aXNmYWN0aW9ucy5sZW5ndGggPD0gMSkge1xuICAgIHJldHVybiB7XG4gICAgICBnaW5pQ29lZmZpY2llbnQ6IDAsXG4gICAgICBmYWlybmVzc1Njb3JlOiAxLCAvLyBQZXJmZWN0IGZhaXJuZXNzIGZvciBzaW5nbGUgdXNlclxuICAgICAgdXNlclNhdGlzZmFjdGlvbnMsXG4gICAgICBsb3dlc3RTYXRpc2ZhY3Rpb246IHVzZXJTYXRpc2ZhY3Rpb25zWzBdIHx8IG51bGwsXG4gICAgICBoaWdoZXN0U2F0aXNmYWN0aW9uOiB1c2VyU2F0aXNmYWN0aW9uc1swXSB8fCBudWxsXG4gICAgfVxuICB9XG4gIFxuICAvLyBTdGVwIDI6IENhbGN1bGF0ZSBHaW5pIGNvZWZmaWNpZW50XG4gIGNvbnN0IGdpbmkgPSBjYWxjdWxhdGVHaW5pQ29lZmZpY2llbnQodXNlclNhdGlzZmFjdGlvbnMpXG4gIFxuICAvLyBTdGVwIDM6IENvbnZlcnQgdG8gZmFpcm5lc3Mgc2NvcmVcbiAgY29uc3QgZmFpcm5lc3NTY29yZSA9IDEgLSBNYXRoLmFicyhnaW5pKVxuICBcbiAgLy8gU3RlcCA0OiBGaW5kIGV4dHJlbWVzXG4gIGNvbnN0IHNvcnRlZFNhdGlzZmFjdGlvbnMgPSBbLi4udXNlclNhdGlzZmFjdGlvbnNdLnNvcnQoXG4gICAgKGEsIGIpID0+IGEuc2F0aXNmYWN0aW9uU2NvcmUgLSBiLnNhdGlzZmFjdGlvblNjb3JlXG4gIClcbiAgXG4gIHJldHVybiB7XG4gICAgZ2luaUNvZWZmaWNpZW50OiBnaW5pLFxuICAgIGZhaXJuZXNzU2NvcmUsXG4gICAgdXNlclNhdGlzZmFjdGlvbnMsXG4gICAgbG93ZXN0U2F0aXNmYWN0aW9uOiBzb3J0ZWRTYXRpc2ZhY3Rpb25zWzBdLFxuICAgIGhpZ2hlc3RTYXRpc2ZhY3Rpb246IHNvcnRlZFNhdGlzZmFjdGlvbnNbc29ydGVkU2F0aXNmYWN0aW9ucy5sZW5ndGggLSAxXVxuICB9XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlIHNhdGlzZmFjdGlvbiBzY29yZXMgZm9yIGFsbCB1c2Vyc1xuICovXG5mdW5jdGlvbiBjYWxjdWxhdGVVc2VyU2F0aXNmYWN0aW9ucyhcbiAgc2VsZWN0ZWRDbHVzdGVyczogRGVzdGluYXRpb25DbHVzdGVyW10sXG4gIHN0YW5kYXJkaXplZFByZWZlcmVuY2VzOiBTdGFuZGFyZGl6ZWRQcmVmZXJlbmNlW10sXG4gIHVzZXJLZXlzOiBTZXQ8c3RyaW5nPlxuKTogVXNlclNhdGlzZmFjdGlvbltdIHtcbiAgLy8gQ3JlYXRlIHByZWZlcmVuY2UgbG9va3VwIG1hcFxuICBjb25zdCBwcmVmZXJlbmNlTWFwID0gbmV3IE1hcDxzdHJpbmcsIFN0YW5kYXJkaXplZFByZWZlcmVuY2VbXT4oKVxuICBmb3IgKGNvbnN0IHByZWYgb2Ygc3RhbmRhcmRpemVkUHJlZmVyZW5jZXMpIHtcbiAgICBjb25zdCB1c2VyS2V5ID0gcHJlZi51c2VySWQgfHwgcHJlZi5zZXNzaW9uSWQgfHwgJ3Vua25vd24nXG4gICAgY29uc3QgdXNlclByZWZzID0gcHJlZmVyZW5jZU1hcC5nZXQodXNlcktleSkgfHwgW11cbiAgICB1c2VyUHJlZnMucHVzaChwcmVmKVxuICAgIHByZWZlcmVuY2VNYXAuc2V0KHVzZXJLZXksIHVzZXJQcmVmcylcbiAgfVxuICBcbiAgLy8gQ2FsY3VsYXRlIHNhdGlzZmFjdGlvbiBmb3IgZWFjaCB1c2VyXG4gIGNvbnN0IHNhdGlzZmFjdGlvbnM6IFVzZXJTYXRpc2ZhY3Rpb25bXSA9IFtdXG4gIFxuICBmb3IgKGNvbnN0IHVzZXJLZXkgb2YgQXJyYXkuZnJvbSh1c2VyS2V5cykpIHtcbiAgICBjb25zdCB1c2VyUHJlZnMgPSBwcmVmZXJlbmNlTWFwLmdldCh1c2VyS2V5KSB8fCBbXVxuICAgIFxuICAgIC8vIFN1bSBzdGFuZGFyZGl6ZWQgc2NvcmVzIGZvciBzZWxlY3RlZCBkZXN0aW5hdGlvbnNcbiAgICBsZXQgc2F0aXNmYWN0aW9uU2NvcmUgPSAwXG4gICAgbGV0IHNlbGVjdGVkRGVzdGluYXRpb25zID0gMFxuICAgIFxuICAgIGZvciAoY29uc3QgY2x1c3RlciBvZiBzZWxlY3RlZENsdXN0ZXJzKSB7XG4gICAgICBmb3IgKGNvbnN0IGRlc3RpbmF0aW9uIG9mIGNsdXN0ZXIuZGVzdGluYXRpb25zKSB7XG4gICAgICAgIGNvbnN0IHByZWYgPSB1c2VyUHJlZnMuZmluZChwID0+IHAuZGVzdGluYXRpb25JZCA9PT0gZGVzdGluYXRpb24uaWQpXG4gICAgICAgIGlmIChwcmVmKSB7XG4gICAgICAgICAgc2F0aXNmYWN0aW9uU2NvcmUgKz0gcHJlZi5zdGFuZGFyZGl6ZWRTY29yZVxuICAgICAgICAgIHNlbGVjdGVkRGVzdGluYXRpb25zKytcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBHZXQgdXNlciBkaXNwbGF5IGluZm8gZnJvbSBmaXJzdCBwcmVmZXJlbmNlXG4gICAgY29uc3QgZmlyc3RQcmVmID0gdXNlclByZWZzWzBdXG4gICAgY29uc3QgdXNlck5hbWUgPSBmaXJzdFByZWY/LnVzZXJOYW1lIHx8ICdVbmtub3duIFVzZXInXG4gICAgXG4gICAgc2F0aXNmYWN0aW9ucy5wdXNoKHtcbiAgICAgIHVzZXJJZDogZmlyc3RQcmVmPy51c2VySWQgfHwgbnVsbCxcbiAgICAgIHNlc3Npb25JZDogZmlyc3RQcmVmPy5zZXNzaW9uSWQgfHwgbnVsbCxcbiAgICAgIHVzZXJLZXksXG4gICAgICB1c2VyTmFtZSxcbiAgICAgIHNhdGlzZmFjdGlvblNjb3JlLFxuICAgICAgc2VsZWN0ZWREZXN0aW5hdGlvbnMsXG4gICAgICB0b3RhbERlc3RpbmF0aW9uczogdXNlclByZWZzLmxlbmd0aFxuICAgIH0pXG4gIH1cbiAgXG4gIHJldHVybiBzYXRpc2ZhY3Rpb25zXG59XG5cbi8qKlxuICogQ2FsY3VsYXRlIEdpbmkgY29lZmZpY2llbnQgZnJvbSBzYXRpc2ZhY3Rpb24gc2NvcmVzXG4gKiBHaW5pID0gKDIgKiDOoyhyYW5rICogc2F0aXNmYWN0aW9uKSkgLyAobiAqIHRvdGFsU2F0aXNmYWN0aW9uKSAtIChuKzEpL25cbiAqL1xuZnVuY3Rpb24gY2FsY3VsYXRlR2luaUNvZWZmaWNpZW50KHNhdGlzZmFjdGlvbnM6IFVzZXJTYXRpc2ZhY3Rpb25bXSk6IG51bWJlciB7XG4gIGNvbnN0IG4gPSBzYXRpc2ZhY3Rpb25zLmxlbmd0aFxuICBpZiAobiA9PT0gMCkgcmV0dXJuIDBcbiAgXG4gIC8vIFNvcnQgYnkgc2F0aXNmYWN0aW9uIHNjb3JlIChhc2NlbmRpbmcpXG4gIGNvbnN0IHNvcnRlZCA9IFsuLi5zYXRpc2ZhY3Rpb25zXS5zb3J0KFxuICAgIChhLCBiKSA9PiBhLnNhdGlzZmFjdGlvblNjb3JlIC0gYi5zYXRpc2ZhY3Rpb25TY29yZVxuICApXG4gIFxuICAvLyBDYWxjdWxhdGUgdG90YWwgc2F0aXNmYWN0aW9uXG4gIGNvbnN0IHRvdGFsU2F0aXNmYWN0aW9uID0gc29ydGVkLnJlZHVjZShcbiAgICAoc3VtLCBzKSA9PiBzdW0gKyBzLnNhdGlzZmFjdGlvblNjb3JlLFxuICAgIDBcbiAgKVxuICBcbiAgLy8gSGFuZGxlIGVkZ2UgY2FzZTogbm8gc2F0aXNmYWN0aW9uXG4gIGlmICh0b3RhbFNhdGlzZmFjdGlvbiA9PT0gMCkgcmV0dXJuIDBcbiAgXG4gIC8vIENhbGN1bGF0ZSB3ZWlnaHRlZCBzdW1cbiAgbGV0IHdlaWdodGVkU3VtID0gMFxuICBzb3J0ZWQuZm9yRWFjaCgoc2F0aXNmYWN0aW9uLCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IHJhbmsgPSBpbmRleCArIDFcbiAgICB3ZWlnaHRlZFN1bSArPSByYW5rICogc2F0aXNmYWN0aW9uLnNhdGlzZmFjdGlvblNjb3JlXG4gIH0pXG4gIFxuICAvLyBBcHBseSBHaW5pIGZvcm11bGFcbiAgY29uc3QgZ2luaSA9ICgyICogd2VpZ2h0ZWRTdW0pIC8gKG4gKiB0b3RhbFNhdGlzZmFjdGlvbikgLSAobiArIDEpIC8gblxuICBcbiAgLy8gRW5zdXJlIHJlc3VsdCBpcyBpbiB2YWxpZCByYW5nZSBbLTEsIDFdXG4gIHJldHVybiBNYXRoLm1heCgtMSwgTWF0aC5taW4oMSwgZ2luaSkpXG59XG5cbi8qKlxuICogQW5hbHl6ZSBmYWlybmVzcyBkaXN0cmlidXRpb24gYW5kIHByb3ZpZGUgaW5zaWdodHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFuYWx5emVGYWlybmVzc0Rpc3RyaWJ1dGlvbihcbiAgZ2luaVJlc3VsdDogR2luaVJlc3VsdFxuKToge1xuICBpc0JhbGFuY2VkOiBib29sZWFuXG4gIGRpc3Bhcml0eUxldmVsOiAnbG93JyB8ICdtZWRpdW0nIHwgJ2hpZ2gnXG4gIHJlY29tbWVuZGF0aW9uczogc3RyaW5nW11cbn0ge1xuICBjb25zdCB7IGZhaXJuZXNzU2NvcmUsIGxvd2VzdFNhdGlzZmFjdGlvbiwgaGlnaGVzdFNhdGlzZmFjdGlvbiB9ID0gZ2luaVJlc3VsdFxuICBcbiAgLy8gRGV0ZXJtaW5lIGJhbGFuY2UgbGV2ZWxcbiAgY29uc3QgaXNCYWxhbmNlZCA9IGZhaXJuZXNzU2NvcmUgPj0gMC43XG4gIFxuICAvLyBDYWxjdWxhdGUgZGlzcGFyaXR5IGxldmVsXG4gIGxldCBkaXNwYXJpdHlMZXZlbDogJ2xvdycgfCAnbWVkaXVtJyB8ICdoaWdoJ1xuICBpZiAoZmFpcm5lc3NTY29yZSA+PSAwLjgpIHtcbiAgICBkaXNwYXJpdHlMZXZlbCA9ICdsb3cnXG4gIH0gZWxzZSBpZiAoZmFpcm5lc3NTY29yZSA+PSAwLjYpIHtcbiAgICBkaXNwYXJpdHlMZXZlbCA9ICdtZWRpdW0nXG4gIH0gZWxzZSB7XG4gICAgZGlzcGFyaXR5TGV2ZWwgPSAnaGlnaCdcbiAgfVxuICBcbiAgLy8gR2VuZXJhdGUgcmVjb21tZW5kYXRpb25zXG4gIGNvbnN0IHJlY29tbWVuZGF0aW9uczogc3RyaW5nW10gPSBbXVxuICBcbiAgaWYgKGxvd2VzdFNhdGlzZmFjdGlvbiAmJiBoaWdoZXN0U2F0aXNmYWN0aW9uICYmIGZhaXJuZXNzU2NvcmUgPCAwLjcpIHtcbiAgICBjb25zdCBnYXAgPSBoaWdoZXN0U2F0aXNmYWN0aW9uLnNhdGlzZmFjdGlvblNjb3JlIC0gbG93ZXN0U2F0aXNmYWN0aW9uLnNhdGlzZmFjdGlvblNjb3JlXG4gICAgXG4gICAgaWYgKGdhcCA+IDIpIHtcbiAgICAgIHJlY29tbWVuZGF0aW9ucy5wdXNoKFxuICAgICAgICBgQ29uc2lkZXIgYWRkaW5nIG1vcmUgZGVzdGluYXRpb25zIHByZWZlcnJlZCBieSAke2xvd2VzdFNhdGlzZmFjdGlvbi51c2VyTmFtZX1gXG4gICAgICApXG4gICAgfVxuICAgIFxuICAgIGlmIChsb3dlc3RTYXRpc2ZhY3Rpb24uc2VsZWN0ZWREZXN0aW5hdGlvbnMgPCBsb3dlc3RTYXRpc2ZhY3Rpb24udG90YWxEZXN0aW5hdGlvbnMgKiAwLjMpIHtcbiAgICAgIHJlY29tbWVuZGF0aW9ucy5wdXNoKFxuICAgICAgICBgJHtsb3dlc3RTYXRpc2ZhY3Rpb24udXNlck5hbWV9IGhhcyB2ZXJ5IGZldyBzZWxlY3RlZCBkZXN0aW5hdGlvbnMgKCR7bG93ZXN0U2F0aXNmYWN0aW9uLnNlbGVjdGVkRGVzdGluYXRpb25zfS8ke2xvd2VzdFNhdGlzZmFjdGlvbi50b3RhbERlc3RpbmF0aW9uc30pYFxuICAgICAgKVxuICAgIH1cbiAgfVxuICBcbiAgaWYgKGZhaXJuZXNzU2NvcmUgPCAwLjUpIHtcbiAgICByZWNvbW1lbmRhdGlvbnMucHVzaChcbiAgICAgICdUaGUgY3VycmVudCBzZWxlY3Rpb24gaGVhdmlseSBmYXZvcnMgc29tZSBtZW1iZXJzIG92ZXIgb3RoZXJzJ1xuICAgIClcbiAgICByZWNvbW1lbmRhdGlvbnMucHVzaChcbiAgICAgICdDb25zaWRlciBtYW51YWxseSBhZGp1c3RpbmcgdGhlIGRlc3RpbmF0aW9uIHNlbGVjdGlvbiBmb3IgYmV0dGVyIGJhbGFuY2UnXG4gICAgKVxuICB9XG4gIFxuICByZXR1cm4ge1xuICAgIGlzQmFsYW5jZWQsXG4gICAgZGlzcGFyaXR5TGV2ZWwsXG4gICAgcmVjb21tZW5kYXRpb25zXG4gIH1cbn1cblxuLyoqXG4gKiBDYWxjdWxhdGUgaW5jcmVtZW50YWwgZmFpcm5lc3MgaW1wYWN0IG9mIGFkZGluZy9yZW1vdmluZyBhIGNsdXN0ZXJcbiAqIFVzZWZ1bCBmb3IgZ3JlZWR5IG9wdGltaXphdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlSW5jcmVtZW50YWxGYWlybmVzcyhcbiAgY3VycmVudENsdXN0ZXJzOiBEZXN0aW5hdGlvbkNsdXN0ZXJbXSxcbiAgY2FuZGlkYXRlQ2x1c3RlcjogRGVzdGluYXRpb25DbHVzdGVyLFxuICBzdGFuZGFyZGl6ZWRQcmVmZXJlbmNlczogU3RhbmRhcmRpemVkUHJlZmVyZW5jZVtdLFxuICB1c2VyS2V5czogU2V0PHN0cmluZz4sXG4gIG9wZXJhdGlvbjogJ2FkZCcgfCAncmVtb3ZlJ1xuKToge1xuICBjdXJyZW50RmFpcm5lc3M6IG51bWJlclxuICBuZXdGYWlybmVzczogbnVtYmVyXG4gIGZhaXJuZXNzQ2hhbmdlOiBudW1iZXJcbiAgcmVjb21tZW5kYXRpb246ICdhY2NlcHQnIHwgJ3JlamVjdCcgfCAnbmV1dHJhbCdcbn0ge1xuICAvLyBDYWxjdWxhdGUgY3VycmVudCBmYWlybmVzc1xuICBjb25zdCBjdXJyZW50UmVzdWx0ID0gY2FsY3VsYXRlRmFpcm5lc3MoXG4gICAgY3VycmVudENsdXN0ZXJzLFxuICAgIHN0YW5kYXJkaXplZFByZWZlcmVuY2VzLFxuICAgIHVzZXJLZXlzXG4gIClcbiAgXG4gIC8vIENhbGN1bGF0ZSBuZXcgZmFpcm5lc3Mgd2l0aCBjaGFuZ2VcbiAgbGV0IG5ld0NsdXN0ZXJzOiBEZXN0aW5hdGlvbkNsdXN0ZXJbXVxuICBpZiAob3BlcmF0aW9uID09PSAnYWRkJykge1xuICAgIG5ld0NsdXN0ZXJzID0gWy4uLmN1cnJlbnRDbHVzdGVycywgY2FuZGlkYXRlQ2x1c3Rlcl1cbiAgfSBlbHNlIHtcbiAgICBuZXdDbHVzdGVycyA9IGN1cnJlbnRDbHVzdGVycy5maWx0ZXIoYyA9PiBjLmlkICE9PSBjYW5kaWRhdGVDbHVzdGVyLmlkKVxuICB9XG4gIFxuICBjb25zdCBuZXdSZXN1bHQgPSBjYWxjdWxhdGVGYWlybmVzcyhcbiAgICBuZXdDbHVzdGVycyxcbiAgICBzdGFuZGFyZGl6ZWRQcmVmZXJlbmNlcyxcbiAgICB1c2VyS2V5c1xuICApXG4gIFxuICBjb25zdCBmYWlybmVzc0NoYW5nZSA9IG5ld1Jlc3VsdC5mYWlybmVzc1Njb3JlIC0gY3VycmVudFJlc3VsdC5mYWlybmVzc1Njb3JlXG4gIFxuICAvLyBNYWtlIHJlY29tbWVuZGF0aW9uXG4gIGxldCByZWNvbW1lbmRhdGlvbjogJ2FjY2VwdCcgfCAncmVqZWN0JyB8ICduZXV0cmFsJ1xuICBpZiAoZmFpcm5lc3NDaGFuZ2UgPiAwLjA1KSB7XG4gICAgcmVjb21tZW5kYXRpb24gPSAnYWNjZXB0J1xuICB9IGVsc2UgaWYgKGZhaXJuZXNzQ2hhbmdlIDwgLTAuMDUpIHtcbiAgICByZWNvbW1lbmRhdGlvbiA9ICdyZWplY3QnXG4gIH0gZWxzZSB7XG4gICAgcmVjb21tZW5kYXRpb24gPSAnbmV1dHJhbCdcbiAgfVxuICBcbiAgcmV0dXJuIHtcbiAgICBjdXJyZW50RmFpcm5lc3M6IGN1cnJlbnRSZXN1bHQuZmFpcm5lc3NTY29yZSxcbiAgICBuZXdGYWlybmVzczogbmV3UmVzdWx0LmZhaXJuZXNzU2NvcmUsXG4gICAgZmFpcm5lc3NDaGFuZ2UsXG4gICAgcmVjb21tZW5kYXRpb25cbiAgfVxufSJdLCJuYW1lcyI6WyJjYWxjdWxhdGVGYWlybmVzcyIsInNlbGVjdGVkQ2x1c3RlcnMiLCJzdGFuZGFyZGl6ZWRQcmVmZXJlbmNlcyIsInVzZXJLZXlzIiwidXNlclNhdGlzZmFjdGlvbnMiLCJjYWxjdWxhdGVVc2VyU2F0aXNmYWN0aW9ucyIsImxlbmd0aCIsImdpbmlDb2VmZmljaWVudCIsImZhaXJuZXNzU2NvcmUiLCJsb3dlc3RTYXRpc2ZhY3Rpb24iLCJoaWdoZXN0U2F0aXNmYWN0aW9uIiwiZ2luaSIsImNhbGN1bGF0ZUdpbmlDb2VmZmljaWVudCIsIk1hdGgiLCJhYnMiLCJzb3J0ZWRTYXRpc2ZhY3Rpb25zIiwic29ydCIsImEiLCJiIiwic2F0aXNmYWN0aW9uU2NvcmUiLCJwcmVmZXJlbmNlTWFwIiwiTWFwIiwicHJlZiIsInVzZXJLZXkiLCJ1c2VySWQiLCJzZXNzaW9uSWQiLCJ1c2VyUHJlZnMiLCJnZXQiLCJwdXNoIiwic2V0Iiwic2F0aXNmYWN0aW9ucyIsIkFycmF5IiwiZnJvbSIsInNlbGVjdGVkRGVzdGluYXRpb25zIiwiY2x1c3RlciIsImRlc3RpbmF0aW9uIiwiZGVzdGluYXRpb25zIiwiZmluZCIsInAiLCJkZXN0aW5hdGlvbklkIiwiaWQiLCJzdGFuZGFyZGl6ZWRTY29yZSIsImZpcnN0UHJlZiIsInVzZXJOYW1lIiwidG90YWxEZXN0aW5hdGlvbnMiLCJuIiwic29ydGVkIiwidG90YWxTYXRpc2ZhY3Rpb24iLCJyZWR1Y2UiLCJzdW0iLCJzIiwid2VpZ2h0ZWRTdW0iLCJmb3JFYWNoIiwic2F0aXNmYWN0aW9uIiwiaW5kZXgiLCJyYW5rIiwibWF4IiwibWluIiwiYW5hbHl6ZUZhaXJuZXNzRGlzdHJpYnV0aW9uIiwiZ2luaVJlc3VsdCIsImlzQmFsYW5jZWQiLCJkaXNwYXJpdHlMZXZlbCIsInJlY29tbWVuZGF0aW9ucyIsImdhcCIsImNhbGN1bGF0ZUluY3JlbWVudGFsRmFpcm5lc3MiLCJjdXJyZW50Q2x1c3RlcnMiLCJjYW5kaWRhdGVDbHVzdGVyIiwib3BlcmF0aW9uIiwiY3VycmVudFJlc3VsdCIsIm5ld0NsdXN0ZXJzIiwiZmlsdGVyIiwiYyIsIm5ld1Jlc3VsdCIsImZhaXJuZXNzQ2hhbmdlIiwicmVjb21tZW5kYXRpb24iLCJjdXJyZW50RmFpcm5lc3MiLCJuZXdGYWlybmVzcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./lib/optimization/fairness-calculator.ts\n");

/***/ }),

/***/ "(action-browser)/./lib/optimization/geographical-clustering.ts":
/*!*****************************************************!*\
  !*** ./lib/optimization/geographical-clustering.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculateHaversineDistance: () => (/* binding */ calculateHaversineDistance),\n/* harmony export */   clusterDestinations: () => (/* binding */ clusterDestinations),\n/* harmony export */   findOptimalClusterOrder: () => (/* binding */ findOptimalClusterOrder),\n/* harmony export */   validateClusteringResult: () => (/* binding */ validateClusteringResult)\n/* harmony export */ });\n// Geographical Clustering for destination grouping\n// Default clustering configuration\nconst DEFAULT_CONFIG = {\n    maxClusterRadius: 50,\n    minClusterSize: 1,\n    distanceCalculation: \"haversine\"\n};\n/**\n * Group destinations into geographical clusters\n */ function clusterDestinations(destinations, standardizedPreferences, config = {}) {\n    const finalConfig = {\n        ...DEFAULT_CONFIG,\n        ...config\n    };\n    // Convert destinations to locations, filtering out null values\n    const locations = destinations.map((dest)=>{\n        const location = destinationToLocation(dest);\n        return location ? {\n            id: dest.id,\n            destination: dest,\n            location,\n            clustered: false\n        } : null;\n    }).filter(Boolean);\n    // Build preference lookup map\n    const preferenceMap = buildPreferenceMap(standardizedPreferences);\n    // Perform clustering\n    const clusters = [];\n    for (const location of locations){\n        if (location.clustered) continue;\n        // Find all unclustered destinations within radius\n        const neighbors = findNeighbors(location, locations, finalConfig.maxClusterRadius);\n        // Mark all neighbors as clustered\n        neighbors.forEach((neighbor)=>{\n            neighbor.clustered = true;\n        });\n        // Create cluster\n        const cluster = createCluster(neighbors.map((n)=>n.destination), preferenceMap);\n        clusters.push(cluster);\n    }\n    // Sort clusters by desirability\n    clusters.sort((a, b)=>b.totalDesirability - a.totalDesirability);\n    // Calculate cluster analysis\n    const analysis = analyzeClusteringResult(clusters);\n    // Build distance matrix between clusters\n    const distanceMatrix = buildClusterDistanceMatrix(clusters);\n    return {\n        clusters,\n        analysis,\n        distanceMatrix\n    };\n}\n/**\n * Convert destination to location object\n */ function destinationToLocation(dest) {\n    // Handle both old destinations table and new places table\n    if (\"name\" in dest && \"visit_order\" in dest) {\n        // Places table - check if it has valid coordinates\n        if (dest.latitude === null || dest.longitude === null) {\n            console.warn(`Skipping place ${dest.name} due to missing coordinates`);\n            return null;\n        }\n        return {\n            id: dest.id,\n            latitude: dest.latitude,\n            longitude: dest.longitude,\n            name: dest.name,\n            address: dest.address || undefined\n        };\n    } else {\n        // Destinations table - check if it has valid coordinates\n        if (dest.latitude === null || dest.longitude === null) {\n            console.warn(`Skipping destination ${dest.name} due to missing coordinates`);\n            return null;\n        }\n        return {\n            id: dest.id,\n            latitude: dest.latitude,\n            longitude: dest.longitude,\n            name: dest.name,\n            address: dest.address || undefined\n        };\n    }\n}\n/**\n * Find all neighbors within specified radius\n */ function findNeighbors(target, locations, maxRadius) {\n    const neighbors = [\n        target\n    ] // Include the target itself\n    ;\n    for (const location of locations){\n        if (location.clustered || location.id === target.id) continue;\n        const distance = calculateHaversineDistance(target.location.latitude, target.location.longitude, location.location.latitude, location.location.longitude);\n        if (distance <= maxRadius) {\n            neighbors.push(location);\n        }\n    }\n    return neighbors;\n}\n/**\n * Calculate Haversine distance between two points\n * Returns distance in kilometers\n */ function calculateHaversineDistance(lat1, lon1, lat2, lon2) {\n    const R = 6371 // Earth's radius in kilometers\n    ;\n    const dLat = toRadians(lat2 - lat1);\n    const dLon = toRadians(lon2 - lon1);\n    const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(toRadians(lat1)) * Math.cos(toRadians(lat2)) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    const distance = R * c;\n    return distance;\n}\n/**\n * Convert degrees to radians\n */ function toRadians(degrees) {\n    return degrees * (Math.PI / 180);\n}\n/**\n * Create a cluster from destinations\n */ function createCluster(destinations, preferenceMap) {\n    // Calculate center location (geographic centroid), filtering out null values\n    const validLocations = destinations.map((d)=>destinationToLocation(d)).filter(Boolean);\n    const centerLocation = calculateCentroid(validLocations);\n    // Calculate cluster metrics\n    const memberPreferences = new Map();\n    let totalDesirability = 0;\n    let totalDuration = 0;\n    let preferenceCount = 0;\n    for (const dest of destinations){\n        const destPrefs = preferenceMap.get(dest.id) || [];\n        for (const pref of destPrefs){\n            const userKey = pref.userId || pref.sessionId || \"unknown\";\n            const currentScore = memberPreferences.get(userKey) || 0;\n            memberPreferences.set(userKey, currentScore + pref.standardizedScore);\n            totalDesirability += pref.standardizedScore;\n            totalDuration += pref.preferredDuration;\n            preferenceCount++;\n        }\n    }\n    // Calculate averages\n    const avgDesirability = preferenceCount > 0 ? totalDesirability / preferenceCount : 0;\n    const avgStayTime = preferenceCount > 0 ? totalDuration / preferenceCount : 2 // Default 2 hours\n    ;\n    return {\n        id: crypto.randomUUID(),\n        destinations,\n        centerLocation,\n        totalDesirability: avgDesirability,\n        averageStayTime: avgStayTime,\n        memberPreferences\n    };\n}\n/**\n * Calculate geographic centroid of locations\n */ function calculateCentroid(locations) {\n    if (locations.length === 0) {\n        throw new Error(\"Cannot calculate centroid of empty location array\");\n    }\n    if (locations.length === 1) {\n        return {\n            ...locations[0]\n        };\n    }\n    // Convert to Cartesian coordinates for accurate centroid calculation\n    let x = 0, y = 0, z = 0;\n    for (const location of locations){\n        const lat = toRadians(location.latitude);\n        const lon = toRadians(location.longitude);\n        x += Math.cos(lat) * Math.cos(lon);\n        y += Math.cos(lat) * Math.sin(lon);\n        z += Math.sin(lat);\n    }\n    const total = locations.length;\n    x /= total;\n    y /= total;\n    z /= total;\n    // Convert back to latitude/longitude\n    const centralLon = Math.atan2(y, x);\n    const centralLat = Math.atan2(z, Math.sqrt(x * x + y * y));\n    return {\n        id: \"centroid\",\n        latitude: centralLat * 180 / Math.PI,\n        longitude: centralLon * 180 / Math.PI,\n        name: `Center of ${locations.length} locations`\n    };\n}\n/**\n * Build preference lookup map\n */ function buildPreferenceMap(preferences) {\n    const map = new Map();\n    for (const pref of preferences){\n        const destPrefs = map.get(pref.destinationId) || [];\n        destPrefs.push(pref);\n        map.set(pref.destinationId, destPrefs);\n    }\n    return map;\n}\n/**\n * Analyze clustering results\n */ function analyzeClusteringResult(clusters) {\n    const clusterSizes = clusters.map((c)=>c.destinations.length);\n    const avgClusterSize = clusterSizes.length > 0 ? clusterSizes.reduce((sum, size)=>sum + size, 0) / clusterSizes.length : 0;\n    const isolatedDestinations = clusters.filter((c)=>c.destinations.length === 1).map((c)=>c.destinations[0].id);\n    return {\n        clusters,\n        totalClusters: clusters.length,\n        averageClusterSize: avgClusterSize,\n        isolatedDestinations\n    };\n}\n/**\n * Build distance matrix between all clusters\n */ function buildClusterDistanceMatrix(clusters) {\n    const matrix = new Map();\n    for (const cluster1 of clusters){\n        const distances = new Map();\n        for (const cluster2 of clusters){\n            if (cluster1.id === cluster2.id) {\n                distances.set(cluster2.id, 0);\n            } else {\n                const distance = calculateHaversineDistance(cluster1.centerLocation.latitude, cluster1.centerLocation.longitude, cluster2.centerLocation.latitude, cluster2.centerLocation.longitude);\n                distances.set(cluster2.id, distance);\n            }\n        }\n        matrix.set(cluster1.id, distances);\n    }\n    return matrix;\n}\n/**\n * Find optimal cluster visiting order (simple nearest neighbor for MVP)\n */ function findOptimalClusterOrder(departureLocation, clusters, returnLocation) {\n    if (clusters.length === 0) return [];\n    if (clusters.length === 1) return clusters;\n    const visited = new Set();\n    const orderedClusters = [];\n    let currentLocation = departureLocation;\n    // Nearest neighbor algorithm\n    while(visited.size < clusters.length){\n        let nearestCluster = null;\n        let minDistance = Infinity;\n        for (const cluster of clusters){\n            if (visited.has(cluster.id)) continue;\n            const distance = calculateHaversineDistance(currentLocation.latitude, currentLocation.longitude, cluster.centerLocation.latitude, cluster.centerLocation.longitude);\n            if (distance < minDistance) {\n                minDistance = distance;\n                nearestCluster = cluster;\n            }\n        }\n        if (nearestCluster) {\n            orderedClusters.push(nearestCluster);\n            visited.add(nearestCluster.id);\n            currentLocation = nearestCluster.centerLocation;\n        }\n    }\n    return orderedClusters;\n}\n/**\n * Validate clustering results\n */ function validateClusteringResult(result) {\n    const issues = [];\n    // Check if all clusters have valid center locations\n    for (const cluster of result.clusters){\n        const { latitude, longitude } = cluster.centerLocation;\n        if (latitude < -90 || latitude > 90) {\n            issues.push(`Cluster ${cluster.id} has invalid latitude: ${latitude}`);\n        }\n        if (longitude < -180 || longitude > 180) {\n            issues.push(`Cluster ${cluster.id} has invalid longitude: ${longitude}`);\n        }\n        if (cluster.destinations.length === 0) {\n            issues.push(`Cluster ${cluster.id} has no destinations`);\n        }\n    }\n    // Check for duplicate destination assignments\n    const destinationIds = new Set();\n    for (const cluster of result.clusters){\n        for (const dest of cluster.destinations){\n            if (destinationIds.has(dest.id)) {\n                issues.push(`Destination ${dest.id} appears in multiple clusters`);\n            }\n            destinationIds.add(dest.id);\n        }\n    }\n    return {\n        isValid: issues.length === 0,\n        issues\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL2xpYi9vcHRpbWl6YXRpb24vZ2VvZ3JhcGhpY2FsLWNsdXN0ZXJpbmcudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLG1EQUFtRDtBQVluRCxtQ0FBbUM7QUFDbkMsTUFBTUEsaUJBQW1DO0lBQ3ZDQyxrQkFBa0I7SUFDbEJDLGdCQUFnQjtJQUNoQkMscUJBQXFCO0FBQ3ZCO0FBRUE7O0NBRUMsR0FDTSxTQUFTQyxvQkFDZEMsWUFBdUMsRUFDdkNDLHVCQUFpRCxFQUNqREMsU0FBb0MsQ0FBQyxDQUFDO0lBRXRDLE1BQU1DLGNBQWM7UUFBRSxHQUFHUixjQUFjO1FBQUUsR0FBR08sTUFBTTtJQUFDO0lBRW5ELCtEQUErRDtJQUMvRCxNQUFNRSxZQUFZSixhQUNmSyxHQUFHLENBQUNDLENBQUFBO1FBQ0gsTUFBTUMsV0FBV0Msc0JBQXNCRjtRQUN2QyxPQUFPQyxXQUFXO1lBQ2hCRSxJQUFJSCxLQUFLRyxFQUFFO1lBQ1hDLGFBQWFKO1lBQ2JDO1lBQ0FJLFdBQVc7UUFDYixJQUFJO0lBQ04sR0FDQ0MsTUFBTSxDQUFDQztJQU9WLDhCQUE4QjtJQUM5QixNQUFNQyxnQkFBZ0JDLG1CQUFtQmQ7SUFFekMscUJBQXFCO0lBQ3JCLE1BQU1lLFdBQWlDLEVBQUU7SUFFekMsS0FBSyxNQUFNVCxZQUFZSCxVQUFXO1FBQ2hDLElBQUlHLFNBQVNJLFNBQVMsRUFBRTtRQUV4QixrREFBa0Q7UUFDbEQsTUFBTU0sWUFBWUMsY0FDaEJYLFVBQ0FILFdBQ0FELFlBQVlQLGdCQUFnQjtRQUc5QixrQ0FBa0M7UUFDbENxQixVQUFVRSxPQUFPLENBQUNDLENBQUFBO1lBQ2hCQSxTQUFTVCxTQUFTLEdBQUc7UUFDdkI7UUFFQSxpQkFBaUI7UUFDakIsTUFBTVUsVUFBVUMsY0FDZEwsVUFBVVosR0FBRyxDQUFDa0IsQ0FBQUEsSUFBS0EsRUFBRWIsV0FBVyxHQUNoQ0k7UUFFRkUsU0FBU1EsSUFBSSxDQUFDSDtJQUNoQjtJQUVBLGdDQUFnQztJQUNo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aUgsZUFBZUosR0FBRyxDQUFDaEgsS0FBS0csRUFBRTtRQUM1QjtJQUNGO0lBRUEsT0FBTztRQUNMa0gsU0FBU0YsT0FBT3RDLE1BQU0sS0FBSztRQUMzQnNDO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy8uL2xpYi9vcHRpbWl6YXRpb24vZ2VvZ3JhcGhpY2FsLWNsdXN0ZXJpbmcudHM/Y2Q5MCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBHZW9ncmFwaGljYWwgQ2x1c3RlcmluZyBmb3IgZGVzdGluYXRpb24gZ3JvdXBpbmdcblxuaW1wb3J0IHR5cGUgeyBMb2NhdGlvbiB9IGZyb20gJy4vdHlwZXMnXG5pbXBvcnQgdHlwZSB7IERlc3RpbmF0aW9ucywgUGxhY2VzIH0gZnJvbSAnQC9saWIvZGF0YWJhc2UudHlwZXMnXG5pbXBvcnQgdHlwZSB7XG4gIERlc3RpbmF0aW9uQ2x1c3RlcixcbiAgQ2x1c3RlcmluZ0NvbmZpZyxcbiAgQ2x1c3RlcmluZ1Jlc3VsdCxcbiAgQ2x1c3RlckFuYWx5c2lzLFxuICBTdGFuZGFyZGl6ZWRQcmVmZXJlbmNlXG59IGZyb20gJy4vbm9ybWFsaXphdGlvbi10eXBlcydcblxuLy8gRGVmYXVsdCBjbHVzdGVyaW5nIGNvbmZpZ3VyYXRpb25cbmNvbnN0IERFRkFVTFRfQ09ORklHOiBDbHVzdGVyaW5nQ29uZmlnID0ge1xuICBtYXhDbHVzdGVyUmFkaXVzOiA1MCwgLy8gNTBrbSByYWRpdXNcbiAgbWluQ2x1c3RlclNpemU6IDEsICAgIC8vIEFsbG93IHNpbmdsZS1kZXN0aW5hdGlvbiBjbHVzdGVyc1xuICBkaXN0YW5jZUNhbGN1bGF0aW9uOiAnaGF2ZXJzaW5lJ1xufVxuXG4vKipcbiAqIEdyb3VwIGRlc3RpbmF0aW9ucyBpbnRvIGdlb2dyYXBoaWNhbCBjbHVzdGVyc1xuICovXG5leHBvcnQgZnVuY3Rpb24gY2x1c3RlckRlc3RpbmF0aW9ucyhcbiAgZGVzdGluYXRpb25zOiAoRGVzdGluYXRpb25zIHwgUGxhY2VzKVtdLFxuICBzdGFuZGFyZGl6ZWRQcmVmZXJlbmNlczogU3RhbmRhcmRpemVkUHJlZmVyZW5jZVtdLFxuICBjb25maWc6IFBhcnRpYWw8Q2x1c3RlcmluZ0NvbmZpZz4gPSB7fVxuKTogQ2x1c3RlcmluZ1Jlc3VsdCB7XG4gIGNvbnN0IGZpbmFsQ29uZmlnID0geyAuLi5ERUZBVUxUX0NPTkZJRywgLi4uY29uZmlnIH1cbiAgXG4gIC8vIENvbnZlcnQgZGVzdGluYXRpb25zIHRvIGxvY2F0aW9ucywgZmlsdGVyaW5nIG91dCBudWxsIHZhbHVlc1xuICBjb25zdCBsb2NhdGlvbnMgPSBkZXN0aW5hdGlvbnNcbiAgICAubWFwKGRlc3QgPT4ge1xuICAgICAgY29uc3QgbG9jYXRpb24gPSBkZXN0aW5hdGlvblRvTG9jYXRpb24oZGVzdClcbiAgICAgIHJldHVybiBsb2NhdGlvbiA/IHtcbiAgICAgICAgaWQ6IGRlc3QuaWQsXG4gICAgICAgIGRlc3RpbmF0aW9uOiBkZXN0LFxuICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgY2x1c3RlcmVkOiBmYWxzZVxuICAgICAgfSA6IG51bGxcbiAgICB9KVxuICAgIC5maWx0ZXIoQm9vbGVhbikgYXMge1xuICAgICAgaWQ6IHN0cmluZztcbiAgICAgIGRlc3RpbmF0aW9uOiBEZXN0aW5hdGlvbnMgfCBQbGFjZXM7XG4gICAgICBsb2NhdGlvbjogTG9jYXRpb247XG4gICAgICBjbHVzdGVyZWQ6IGJvb2xlYW47XG4gICAgfVtdXG4gIFxuICAvLyBCdWlsZCBwcmVmZXJlbmNlIGxvb2t1cCBtYXBcbiAgY29uc3QgcHJlZmVyZW5jZU1hcCA9IGJ1aWxkUHJlZmVyZW5jZU1hcChzdGFuZGFyZGl6ZWRQcmVmZXJlbmNlcylcbiAgXG4gIC8vIFBlcmZvcm0gY2x1c3RlcmluZ1xuICBjb25zdCBjbHVzdGVyczogRGVzdGluYXRpb25DbHVzdGVyW10gPSBbXVxuICBcbiAgZm9yIChjb25zdCBsb2NhdGlvbiBvZiBsb2NhdGlvbnMpIHtcbiAgICBpZiAobG9jYXRpb24uY2x1c3RlcmVkKSBjb250aW51ZVxuICAgIFxuICAgIC8vIEZpbmQgYWxsIHVuY2x1c3RlcmVkIGRlc3RpbmF0aW9ucyB3aXRoaW4gcmFkaXVzXG4gICAgY29uc3QgbmVpZ2hib3JzID0gZmluZE5laWdoYm9ycyhcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgbG9jYXRpb25zLFxuICAgICAgZmluYWxDb25maWcubWF4Q2x1c3RlclJhZGl1c1xuICAgIClcbiAgICBcbiAgICAvLyBNYXJrIGFsbCBuZWlnaGJvcnMgYXMgY2x1c3RlcmVkXG4gICAgbmVpZ2hib3JzLmZvckVhY2gobmVpZ2hib3IgPT4ge1xuICAgICAgbmVpZ2hib3IuY2x1c3RlcmVkID0gdHJ1ZVxuICAgIH0pXG4gICAgXG4gICAgLy8gQ3JlYXRlIGNsdXN0ZXJcbiAgICBjb25zdCBjbHVzdGVyID0gY3JlYXRlQ2x1c3RlcihcbiAgICAgIG5laWdoYm9ycy5tYXAobiA9PiBuLmRlc3RpbmF0aW9uKSxcbiAgICAgIHByZWZlcmVuY2VNYXBcbiAgICApXG4gICAgY2x1c3RlcnMucHVzaChjbHVzdGVyKVxuICB9XG4gIFxuICAvLyBTb3J0IGNsdXN0ZXJzIGJ5IGRlc2lyYWJpbGl0eVxuICBjbHVzdGVycy5zb3J0KChhLCBiKSA9PiBiLnRvdGFsRGVzaXJhYmlsaXR5IC0gYS50b3RhbERlc2lyYWJpbGl0eSlcbiAgXG4gIC8vIENhbGN1bGF0ZSBjbHVzdGVyIGFuYWx5c2lzXG4gIGNvbnN0IGFuYWx5c2lzID0gYW5hbHl6ZUNsdXN0ZXJpbmdSZXN1bHQoY2x1c3RlcnMpXG4gIFxuICAvLyBCdWlsZCBkaXN0YW5jZSBtYXRyaXggYmV0d2VlbiBjbHVzdGVyc1xuICBjb25zdCBkaXN0YW5jZU1hdHJpeCA9IGJ1aWxkQ2x1c3RlckRpc3RhbmNlTWF0cml4KGNsdXN0ZXJzKVxuICBcbiAgcmV0dXJuIHtcbiAgICBjbHVzdGVycyxcbiAgICBhbmFseXNpcyxcbiAgICBkaXN0YW5jZU1hdHJpeFxuICB9XG59XG5cbi8qKlxuICogQ29udmVydCBkZXN0aW5hdGlvbiB0byBsb2NhdGlvbiBvYmplY3RcbiAqL1xuZnVuY3Rpb24gZGVzdGluYXRpb25Ub0xvY2F0aW9uKGRlc3Q6IERlc3RpbmF0aW9ucyB8IFBsYWNlcyk6IExvY2F0aW9uIHwgbnVsbCB7XG4gIC8vIEhhbmRsZSBib3RoIG9sZCBkZXN0aW5hdGlvbnMgdGFibGUgYW5kIG5ldyBwbGFjZXMgdGFibGVcbiAgaWYgKCduYW1lJyBpbiBkZXN0ICYmICd2aXNpdF9vcmRlcicgaW4gZGVzdCkge1xuICAgIC8vIFBsYWNlcyB0YWJsZSAtIGNoZWNrIGlmIGl0IGhhcyB2YWxpZCBjb29yZGluYXRlc1xuICAgIGlmIChkZXN0LmxhdGl0dWRlID09PSBudWxsIHx8IGRlc3QubG9uZ2l0dWRlID09PSBudWxsKSB7XG4gICAgICBjb25zb2xlLndhcm4oYFNraXBwaW5nIHBsYWNlICR7ZGVzdC5uYW1lfSBkdWUgdG8gbWlzc2luZyBjb29yZGluYXRlc2ApXG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IGRlc3QuaWQsXG4gICAgICBsYXRpdHVkZTogZGVzdC5sYXRpdHVkZSxcbiAgICAgIGxvbmdpdHVkZTogZGVzdC5sb25naXR1ZGUsXG4gICAgICBuYW1lOiBkZXN0Lm5hbWUsIC8vIFVwZGF0ZWQgZmllbGQgbmFtZVxuICAgICAgYWRkcmVzczogZGVzdC5hZGRyZXNzIHx8IHVuZGVmaW5lZFxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBEZXN0aW5hdGlvbnMgdGFibGUgLSBjaGVjayBpZiBpdCBoYXMgdmFsaWQgY29vcmRpbmF0ZXNcbiAgICBpZiAoZGVzdC5sYXRpdHVkZSA9PT0gbnVsbCB8fCBkZXN0LmxvbmdpdHVkZSA9PT0gbnVsbCkge1xuICAgICAgY29uc29sZS53YXJuKGBTa2lwcGluZyBkZXN0aW5hdGlvbiAke2Rlc3QubmFtZX0gZHVlIHRvIG1pc3NpbmcgY29vcmRpbmF0ZXNgKVxuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBkZXN0LmlkLFxuICAgICAgbGF0aXR1ZGU6IGRlc3QubGF0aXR1ZGUsXG4gICAgICBsb25naXR1ZGU6IGRlc3QubG9uZ2l0dWRlLFxuICAgICAgbmFtZTogZGVzdC5uYW1lLFxuICAgICAgYWRkcmVzczogZGVzdC5hZGRyZXNzIHx8IHVuZGVmaW5lZFxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEZpbmQgYWxsIG5laWdoYm9ycyB3aXRoaW4gc3BlY2lmaWVkIHJhZGl1c1xuICovXG5mdW5jdGlvbiBmaW5kTmVpZ2hib3JzKFxuICB0YXJnZXQ6IGFueSxcbiAgbG9jYXRpb25zOiBhbnlbXSxcbiAgbWF4UmFkaXVzOiBudW1iZXJcbik6IGFueVtdIHtcbiAgY29uc3QgbmVpZ2hib3JzID0gW3RhcmdldF0gLy8gSW5jbHVkZSB0aGUgdGFyZ2V0IGl0c2VsZlxuICBcbiAgZm9yIChjb25zdCBsb2NhdGlvbiBvZiBsb2NhdGlvbnMpIHtcbiAgICBpZiAobG9jYXRpb24uY2x1c3RlcmVkIHx8IGxvY2F0aW9uLmlkID09PSB0YXJnZXQuaWQpIGNvbnRpbnVlXG4gICAgXG4gICAgY29uc3QgZGlzdGFuY2UgPSBjYWxjdWxhdGVIYXZlcnNpbmVEaXN0YW5jZShcbiAgICAgIHRhcmdldC5sb2NhdGlvbi5sYXRpdHVkZSxcbiAgICAgIHRhcmdldC5sb2NhdGlvbi5sb25naXR1ZGUsXG4gICAgICBsb2NhdGlvbi5sb2NhdGlvbi5sYXRpdHVkZSxcbiAgICAgIGxvY2F0aW9uLmxvY2F0aW9uLmxvbmdpdHVkZVxuICAgIClcbiAgICBcbiAgICBpZiAoZGlzdGFuY2UgPD0gbWF4UmFkaXVzKSB7XG4gICAgICBuZWlnaGJvcnMucHVzaChsb2NhdGlvbilcbiAgICB9XG4gIH1cbiAgXG4gIHJldHVybiBuZWlnaGJvcnNcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGUgSGF2ZXJzaW5lIGRpc3RhbmNlIGJldHdlZW4gdHdvIHBvaW50c1xuICogUmV0dXJucyBkaXN0YW5jZSBpbiBraWxvbWV0ZXJzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVIYXZlcnNpbmVEaXN0YW5jZShcbiAgbGF0MTogbnVtYmVyLFxuICBsb24xOiBudW1iZXIsXG4gIGxhdDI6IG51bWJlcixcbiAgbG9uMjogbnVtYmVyXG4pOiBudW1iZXIge1xuICBjb25zdCBSID0gNjM3MSAvLyBFYXJ0aCdzIHJhZGl1cyBpbiBraWxvbWV0ZXJzXG4gIGNvbnN0IGRMYXQgPSB0b1JhZGlhbnMobGF0MiAtIGxhdDEpXG4gIGNvbnN0IGRMb24gPSB0b1JhZGlhbnMobG9uMiAtIGxvbjEpXG4gIFxuICBjb25zdCBhID0gXG4gICAgTWF0aC5zaW4oZExhdCAvIDIpICogTWF0aC5zaW4oZExhdCAvIDIpICtcbiAgICBNYXRoLmNvcyh0b1JhZGlhbnMobGF0MSkpICogTWF0aC5jb3ModG9SYWRpYW5zKGxhdDIpKSAqXG4gICAgTWF0aC5zaW4oZExvbiAvIDIpICogTWF0aC5zaW4oZExvbiAvIDIpXG4gIFxuICBjb25zdCBjID0gMiAqIE1hdGguYXRhbjIoTWF0aC5zcXJ0KGEpLCBNYXRoLnNxcnQoMSAtIGEpKVxuICBjb25zdCBkaXN0YW5jZSA9IFIgKiBjXG4gIFxuICByZXR1cm4gZGlzdGFuY2Vcbn1cblxuLyoqXG4gKiBDb252ZXJ0IGRlZ3JlZXMgdG8gcmFkaWFuc1xuICovXG5mdW5jdGlvbiB0b1JhZGlhbnMoZGVncmVlczogbnVtYmVyKTogbnVtYmVyIHtcbiAgcmV0dXJuIGRlZ3JlZXMgKiAoTWF0aC5QSSAvIDE4MClcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBjbHVzdGVyIGZyb20gZGVzdGluYXRpb25zXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUNsdXN0ZXIoXG4gIGRlc3RpbmF0aW9uczogKERlc3RpbmF0aW9ucyB8IFBsYWNlcylbXSxcbiAgcHJlZmVyZW5jZU1hcDogTWFwPHN0cmluZywgU3RhbmRhcmRpemVkUHJlZmVyZW5jZVtdPlxuKTogRGVzdGluYXRpb25DbHVzdGVyIHtcbiAgLy8gQ2FsY3VsYXRlIGNlbnRlciBsb2NhdGlvbiAoZ2VvZ3JhcGhpYyBjZW50cm9pZCksIGZpbHRlcmluZyBvdXQgbnVsbCB2YWx1ZXNcbiAgY29uc3QgdmFsaWRMb2NhdGlvbnMgPSBkZXN0aW5hdGlvbnNcbiAgICAubWFwKGQgPT4gZGVzdGluYXRpb25Ub0xvY2F0aW9uKGQpKVxuICAgIC5maWx0ZXIoQm9vbGVhbikgYXMgTG9jYXRpb25bXVxuICBcbiAgY29uc3QgY2VudGVyTG9jYXRpb24gPSBjYWxjdWxhdGVDZW50cm9pZCh2YWxpZExvY2F0aW9ucylcbiAgXG4gIC8vIENhbGN1bGF0ZSBjbHVzdGVyIG1ldHJpY3NcbiAgY29uc3QgbWVtYmVyUHJlZmVyZW5jZXMgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpXG4gIGxldCB0b3RhbERlc2lyYWJpbGl0eSA9IDBcbiAgbGV0IHRvdGFsRHVyYXRpb24gPSAwXG4gIGxldCBwcmVmZXJlbmNlQ291bnQgPSAwXG4gIFxuICBmb3IgKGNvbnN0IGRlc3Qgb2YgZGVzdGluYXRpb25zKSB7XG4gICAgY29uc3QgZGVzdFByZWZzID0gcHJlZmVyZW5jZU1hcC5nZXQoZGVzdC5pZCkgfHwgW11cbiAgICBcbiAgICBmb3IgKGNvbnN0IHByZWYgb2YgZGVzdFByZWZzKSB7XG4gICAgICBjb25zdCB1c2VyS2V5ID0gcHJlZi51c2VySWQgfHwgcHJlZi5zZXNzaW9uSWQgfHwgJ3Vua25vd24nXG4gICAgICBjb25zdCBjdXJyZW50U2NvcmUgPSBtZW1iZXJQcmVmZXJlbmNlcy5nZXQodXNlcktleSkgfHwgMFxuICAgICAgbWVtYmVyUHJlZmVyZW5jZXMuc2V0KHVzZXJLZXksIGN1cnJlbnRTY29yZSArIHByZWYuc3RhbmRhcmRpemVkU2NvcmUpXG4gICAgICBcbiAgICAgIHRvdGFsRGVzaXJhYmlsaXR5ICs9IHByZWYuc3RhbmRhcmRpemVkU2NvcmVcbiAgICAgIHRvdGFsRHVyYXRpb24gKz0gcHJlZi5wcmVmZXJyZWREdXJhdGlvblxuICAgICAgcHJlZmVyZW5jZUNvdW50KytcbiAgICB9XG4gIH1cbiAgXG4gIC8vIENhbGN1bGF0ZSBhdmVyYWdlc1xuICBjb25zdCBhdmdEZXNpcmFiaWxpdHkgPSBwcmVmZXJlbmNlQ291bnQgPiAwID8gdG90YWxEZXNpcmFiaWxpdHkgLyBwcmVmZXJlbmNlQ291bnQgOiAwXG4gIGNvbnN0IGF2Z1N0YXlUaW1lID0gcHJlZmVyZW5jZUNvdW50ID4gMCA/IHRvdGFsRHVyYXRpb24gLyBwcmVmZXJlbmNlQ291bnQgOiAyIC8vIERlZmF1bHQgMiBob3Vyc1xuICBcbiAgcmV0dXJuIHtcbiAgICBpZDogY3J5cHRvLnJhbmRvbVVVSUQoKSxcbiAgICBkZXN0aW5hdGlvbnMsXG4gICAgY2VudGVyTG9jYXRpb24sXG4gICAgdG90YWxEZXNpcmFiaWxpdHk6IGF2Z0Rlc2lyYWJpbGl0eSxcbiAgICBhdmVyYWdlU3RheVRpbWU6IGF2Z1N0YXlUaW1lLFxuICAgIG1lbWJlclByZWZlcmVuY2VzXG4gIH1cbn1cblxuLyoqXG4gKiBDYWxjdWxhdGUgZ2VvZ3JhcGhpYyBjZW50cm9pZCBvZiBsb2NhdGlvbnNcbiAqL1xuZnVuY3Rpb24gY2FsY3VsYXRlQ2VudHJvaWQobG9jYXRpb25zOiBMb2NhdGlvbltdKTogTG9jYXRpb24ge1xuICBpZiAobG9jYXRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNhbGN1bGF0ZSBjZW50cm9pZCBvZiBlbXB0eSBsb2NhdGlvbiBhcnJheScpXG4gIH1cbiAgXG4gIGlmIChsb2NhdGlvbnMubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIHsgLi4ubG9jYXRpb25zWzBdIH1cbiAgfVxuICBcbiAgLy8gQ29udmVydCB0byBDYXJ0ZXNpYW4gY29vcmRpbmF0ZXMgZm9yIGFjY3VyYXRlIGNlbnRyb2lkIGNhbGN1bGF0aW9uXG4gIGxldCB4ID0gMCwgeSA9IDAsIHogPSAwXG4gIFxuICBmb3IgKGNvbnN0IGxvY2F0aW9uIG9mIGxvY2F0aW9ucykge1xuICAgIGNvbnN0IGxhdCA9IHRvUmFkaWFucyhsb2NhdGlvbi5sYXRpdHVkZSlcbiAgICBjb25zdCBsb24gPSB0b1JhZGlhbnMobG9jYXRpb24ubG9uZ2l0dWRlKVxuICAgIFxuICAgIHggKz0gTWF0aC5jb3MobGF0KSAqIE1hdGguY29zKGxvbilcbiAgICB5ICs9IE1hdGguY29zKGxhdCkgKiBNYXRoLnNpbihsb24pXG4gICAgeiArPSBNYXRoLnNpbihsYXQpXG4gIH1cbiAgXG4gIGNvbnN0IHRvdGFsID0gbG9jYXRpb25zLmxlbmd0aFxuICB4IC89IHRvdGFsXG4gIHkgLz0gdG90YWxcbiAgeiAvPSB0b3RhbFxuICBcbiAgLy8gQ29udmVydCBiYWNrIHRvIGxhdGl0dWRlL2xvbmdpdHVkZVxuICBjb25zdCBjZW50cmFsTG9uID0gTWF0aC5hdGFuMih5LCB4KVxuICBjb25zdCBjZW50cmFsTGF0ID0gTWF0aC5hdGFuMih6LCBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSkpXG4gIFxuICByZXR1cm4ge1xuICAgIGlkOiAnY2VudHJvaWQnLFxuICAgIGxhdGl0dWRlOiBjZW50cmFsTGF0ICogMTgwIC8gTWF0aC5QSSxcbiAgICBsb25naXR1ZGU6IGNlbnRyYWxMb24gKiAxODAgLyBNYXRoLlBJLFxuICAgIG5hbWU6IGBDZW50ZXIgb2YgJHtsb2NhdGlvbnMubGVuZ3RofSBsb2NhdGlvbnNgXG4gIH1cbn1cblxuLyoqXG4gKiBCdWlsZCBwcmVmZXJlbmNlIGxvb2t1cCBtYXBcbiAqL1xuZnVuY3Rpb24gYnVpbGRQcmVmZXJlbmNlTWFwKFxuICBwcmVmZXJlbmNlczogU3RhbmRhcmRpemVkUHJlZmVyZW5jZVtdXG4pOiBNYXA8c3RyaW5nLCBTdGFuZGFyZGl6ZWRQcmVmZXJlbmNlW10+IHtcbiAgY29uc3QgbWFwID0gbmV3IE1hcDxzdHJpbmcsIFN0YW5kYXJkaXplZFByZWZlcmVuY2VbXT4oKVxuICBcbiAgZm9yIChjb25zdCBwcmVmIG9mIHByZWZlcmVuY2VzKSB7XG4gICAgY29uc3QgZGVzdFByZWZzID0gbWFwLmdldChwcmVmLmRlc3RpbmF0aW9uSWQpIHx8IFtdXG4gICAgZGVzdFByZWZzLnB1c2gocHJlZilcbiAgICBtYXAuc2V0KHByZWYuZGVzdGluYXRpb25JZCwgZGVzdFByZWZzKVxuICB9XG4gIFxuICByZXR1cm4gbWFwXG59XG5cbi8qKlxuICogQW5hbHl6ZSBjbHVzdGVyaW5nIHJlc3VsdHNcbiAqL1xuZnVuY3Rpb24gYW5hbHl6ZUNsdXN0ZXJpbmdSZXN1bHQoY2x1c3RlcnM6IERlc3RpbmF0aW9uQ2x1c3RlcltdKTogQ2x1c3RlckFuYWx5c2lzIHtcbiAgY29uc3QgY2x1c3RlclNpemVzID0gY2x1c3RlcnMubWFwKGMgPT4gYy5kZXN0aW5hdGlvbnMubGVuZ3RoKVxuICBjb25zdCBhdmdDbHVzdGVyU2l6ZSA9IGNsdXN0ZXJTaXplcy5sZW5ndGggPiAwXG4gICAgPyBjbHVzdGVyU2l6ZXMucmVkdWNlKChzdW0sIHNpemUpID0+IHN1bSArIHNpemUsIDApIC8gY2x1c3RlclNpemVzLmxlbmd0aFxuICAgIDogMFxuICBcbiAgY29uc3QgaXNvbGF0ZWREZXN0aW5hdGlvbnMgPSBjbHVzdGVyc1xuICAgIC5maWx0ZXIoYyA9PiBjLmRlc3RpbmF0aW9ucy5sZW5ndGggPT09IDEpXG4gICAgLm1hcChjID0+IGMuZGVzdGluYXRpb25zWzBdLmlkKVxuICBcbiAgcmV0dXJuIHtcbiAgICBjbHVzdGVycyxcbiAgICB0b3RhbENsdXN0ZXJzOiBjbHVzdGVycy5sZW5ndGgsXG4gICAgYXZlcmFnZUNsdXN0ZXJTaXplOiBhdmdDbHVzdGVyU2l6ZSxcbiAgICBpc29sYXRlZERlc3RpbmF0aW9uc1xuICB9XG59XG5cbi8qKlxuICogQnVpbGQgZGlzdGFuY2UgbWF0cml4IGJldHdlZW4gYWxsIGNsdXN0ZXJzXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkQ2x1c3RlckRpc3RhbmNlTWF0cml4KFxuICBjbHVzdGVyczogRGVzdGluYXRpb25DbHVzdGVyW11cbik6IE1hcDxzdHJpbmcsIE1hcDxzdHJpbmcsIG51bWJlcj4+IHtcbiAgY29uc3QgbWF0cml4ID0gbmV3IE1hcDxzdHJpbmcsIE1hcDxzdHJpbmcsIG51bWJlcj4+KClcbiAgXG4gIGZvciAoY29uc3QgY2x1c3RlcjEgb2YgY2x1c3RlcnMpIHtcbiAgICBjb25zdCBkaXN0YW5jZXMgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpXG4gICAgXG4gICAgZm9yIChjb25zdCBjbHVzdGVyMiBvZiBjbHVzdGVycykge1xuICAgICAgaWYgKGNsdXN0ZXIxLmlkID09PSBjbHVzdGVyMi5pZCkge1xuICAgICAgICBkaXN0YW5jZXMuc2V0KGNsdXN0ZXIyLmlkLCAwKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBjYWxjdWxhdGVIYXZlcnNpbmVEaXN0YW5jZShcbiAgICAgICAgICBjbHVzdGVyMS5jZW50ZXJMb2NhdGlvbi5sYXRpdHVkZSxcbiAgICAgICAgICBjbHVzdGVyMS5jZW50ZXJMb2NhdGlvbi5sb25naXR1ZGUsXG4gICAgICAgICAgY2x1c3RlcjIuY2VudGVyTG9jYXRpb24ubGF0aXR1ZGUsXG4gICAgICAgICAgY2x1c3RlcjIuY2VudGVyTG9jYXRpb24ubG9uZ2l0dWRlXG4gICAgICAgIClcbiAgICAgICAgZGlzdGFuY2VzLnNldChjbHVzdGVyMi5pZCwgZGlzdGFuY2UpXG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIG1hdHJpeC5zZXQoY2x1c3RlcjEuaWQsIGRpc3RhbmNlcylcbiAgfVxuICBcbiAgcmV0dXJuIG1hdHJpeFxufVxuXG4vKipcbiAqIEZpbmQgb3B0aW1hbCBjbHVzdGVyIHZpc2l0aW5nIG9yZGVyIChzaW1wbGUgbmVhcmVzdCBuZWlnaGJvciBmb3IgTVZQKVxuICovXG5leHBvcnQgZnVuY3Rpb24gZmluZE9wdGltYWxDbHVzdGVyT3JkZXIoXG4gIGRlcGFydHVyZUxvY2F0aW9uOiBMb2NhdGlvbixcbiAgY2x1c3RlcnM6IERlc3RpbmF0aW9uQ2x1c3RlcltdLFxuICByZXR1cm5Mb2NhdGlvbj86IExvY2F0aW9uXG4pOiBEZXN0aW5hdGlvbkNsdXN0ZXJbXSB7XG4gIGlmIChjbHVzdGVycy5sZW5ndGggPT09IDApIHJldHVybiBbXVxuICBpZiAoY2x1c3RlcnMubGVuZ3RoID09PSAxKSByZXR1cm4gY2x1c3RlcnNcbiAgXG4gIGNvbnN0IHZpc2l0ZWQgPSBuZXcgU2V0PHN0cmluZz4oKVxuICBjb25zdCBvcmRlcmVkQ2x1c3RlcnM6IERlc3RpbmF0aW9uQ2x1c3RlcltdID0gW11cbiAgbGV0IGN1cnJlbnRMb2NhdGlvbiA9IGRlcGFydHVyZUxvY2F0aW9uXG4gIFxuICAvLyBOZWFyZXN0IG5laWdoYm9yIGFsZ29yaXRobVxuICB3aGlsZSAodmlzaXRlZC5zaXplIDwgY2x1c3RlcnMubGVuZ3RoKSB7XG4gICAgbGV0IG5lYXJlc3RDbHVzdGVyOiBEZXN0aW5hdGlvbkNsdXN0ZXIgfCBudWxsID0gbnVsbFxuICAgIGxldCBtaW5EaXN0YW5jZSA9IEluZmluaXR5XG4gICAgXG4gICAgZm9yIChjb25zdCBjbHVzdGVyIG9mIGNsdXN0ZXJzKSB7XG4gICAgICBpZiAodmlzaXRlZC5oYXMoY2x1c3Rlci5pZCkpIGNvbnRpbnVlXG4gICAgICBcbiAgICAgIGNvbnN0IGRpc3RhbmNlID0gY2FsY3VsYXRlSGF2ZXJzaW5lRGlzdGFuY2UoXG4gICAgICAgIGN1cnJlbnRMb2NhdGlvbi5sYXRpdHVkZSxcbiAgICAgICAgY3VycmVudExvY2F0aW9uLmxvbmdpdHVkZSxcbiAgICAgICAgY2x1c3Rlci5jZW50ZXJMb2NhdGlvbi5sYXRpdHVkZSxcbiAgICAgICAgY2x1c3Rlci5jZW50ZXJMb2NhdGlvbi5sb25naXR1ZGVcbiAgICAgIClcbiAgICAgIFxuICAgICAgaWYgKGRpc3RhbmNlIDwgbWluRGlzdGFuY2UpIHtcbiAgICAgICAgbWluRGlzdGFuY2UgPSBkaXN0YW5jZVxuICAgICAgICBuZWFyZXN0Q2x1c3RlciA9IGNsdXN0ZXJcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgaWYgKG5lYXJlc3RDbHVzdGVyKSB7XG4gICAgICBvcmRlcmVkQ2x1c3RlcnMucHVzaChuZWFyZXN0Q2x1c3RlcilcbiAgICAgIHZpc2l0ZWQuYWRkKG5lYXJlc3RDbHVzdGVyLmlkKVxuICAgICAgY3VycmVudExvY2F0aW9uID0gbmVhcmVzdENsdXN0ZXIuY2VudGVyTG9jYXRpb25cbiAgICB9XG4gIH1cbiAgXG4gIHJldHVybiBvcmRlcmVkQ2x1c3RlcnNcbn1cblxuLyoqXG4gKiBWYWxpZGF0ZSBjbHVzdGVyaW5nIHJlc3VsdHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlQ2x1c3RlcmluZ1Jlc3VsdChyZXN1bHQ6IENsdXN0ZXJpbmdSZXN1bHQpOiB7XG4gIGlzVmFsaWQ6IGJvb2xlYW5cbiAgaXNzdWVzOiBzdHJpbmdbXVxufSB7XG4gIGNvbnN0IGlzc3Vlczogc3RyaW5nW10gPSBbXVxuICBcbiAgLy8gQ2hlY2sgaWYgYWxsIGNsdXN0ZXJzIGhhdmUgdmFsaWQgY2VudGVyIGxvY2F0aW9uc1xuICBmb3IgKGNvbnN0IGNsdXN0ZXIgb2YgcmVzdWx0LmNsdXN0ZXJzKSB7XG4gICAgY29uc3QgeyBsYXRpdHVkZSwgbG9uZ2l0dWRlIH0gPSBjbHVzdGVyLmNlbnRlckxvY2F0aW9uXG4gICAgXG4gICAgaWYgKGxhdGl0dWRlIDwgLTkwIHx8IGxhdGl0dWRlID4gOTApIHtcbiAgICAgIGlzc3Vlcy5wdXNoKGBDbHVzdGVyICR7Y2x1c3Rlci5pZH0gaGFzIGludmFsaWQgbGF0aXR1ZGU6ICR7bGF0aXR1ZGV9YClcbiAgICB9XG4gICAgXG4gICAgaWYgKGxvbmdpdHVkZSA8IC0xODAgfHwgbG9uZ2l0dWRlID4gMTgwKSB7XG4gICAgICBpc3N1ZXMucHVzaChgQ2x1c3RlciAke2NsdXN0ZXIuaWR9IGhhcyBpbnZhbGlkIGxvbmdpdHVkZTogJHtsb25naXR1ZGV9YClcbiAgICB9XG4gICAgXG4gICAgaWYgKGNsdXN0ZXIuZGVzdGluYXRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgaXNzdWVzLnB1c2goYENsdXN0ZXIgJHtjbHVzdGVyLmlkfSBoYXMgbm8gZGVzdGluYXRpb25zYClcbiAgICB9XG4gIH1cbiAgXG4gIC8vIENoZWNrIGZvciBkdXBsaWNhdGUgZGVzdGluYXRpb24gYXNzaWdubWVudHNcbiAgY29uc3QgZGVzdGluYXRpb25JZHMgPSBuZXcgU2V0PHN0cmluZz4oKVxuICBmb3IgKGNvbnN0IGNsdXN0ZXIgb2YgcmVzdWx0LmNsdXN0ZXJzKSB7XG4gICAgZm9yIChjb25zdCBkZXN0IG9mIGNsdXN0ZXIuZGVzdGluYXRpb25zKSB7XG4gICAgICBpZiAoZGVzdGluYXRpb25JZHMuaGFzKGRlc3QuaWQpKSB7XG4gICAgICAgIGlzc3Vlcy5wdXNoKGBEZXN0aW5hdGlvbiAke2Rlc3QuaWR9IGFwcGVhcnMgaW4gbXVsdGlwbGUgY2x1c3RlcnNgKVxuICAgICAgfVxuICAgICAgZGVzdGluYXRpb25JZHMuYWRkKGRlc3QuaWQpXG4gICAgfVxuICB9XG4gIFxuICByZXR1cm4ge1xuICAgIGlzVmFsaWQ6IGlzc3Vlcy5sZW5ndGggPT09IDAsXG4gICAgaXNzdWVzXG4gIH1cbn0iXSwibmFtZXMiOlsiREVGQVVMVF9DT05GSUciLCJtYXhDbHVzdGVyUmFkaXVzIiwibWluQ2x1c3RlclNpemUiLCJkaXN0YW5jZUNhbGN1bGF0aW9uIiwiY2x1c3RlckRlc3RpbmF0aW9ucyIsImRlc3RpbmF0aW9ucyIsInN0YW5kYXJkaXplZFByZWZlcmVuY2VzIiwiY29uZmlnIiwiZmluYWxDb25maWciLCJsb2NhdGlvbnMiLCJtYXAiLCJkZXN0IiwibG9jYXRpb24iLCJkZXN0aW5hdGlvblRvTG9jYXRpb24iLCJpZCIsImRlc3RpbmF0aW9uIiwiY2x1c3RlcmVkIiwiZmlsdGVyIiwiQm9vbGVhbiIsInByZWZlcmVuY2VNYXAiLCJidWlsZFByZWZlcmVuY2VNYXAiLCJjbHVzdGVycyIsIm5laWdoYm9ycyIsImZpbmROZWlnaGJvcnMiLCJmb3JFYWNoIiwibmVpZ2hib3IiLCJjbHVzdGVyIiwiY3JlYXRlQ2x1c3RlciIsIm4iLCJwdXNoIiwic29ydCIsImEiLCJiIiwidG90YWxEZXNpcmFiaWxpdHkiLCJhbmFseXNpcyIsImFuYWx5emVDbHVzdGVyaW5nUmVzdWx0IiwiZGlzdGFuY2VNYXRyaXgiLCJidWlsZENsdXN0ZXJEaXN0YW5jZU1hdHJpeCIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwiY29uc29sZSIsIndhcm4iLCJuYW1lIiwiYWRkcmVzcyIsInVuZGVmaW5lZCIsInRhcmdldCIsIm1heFJhZGl1cyIsImRpc3RhbmNlIiwiY2FsY3VsYXRlSGF2ZXJzaW5lRGlzdGFuY2UiLCJsYXQxIiwibG9uMSIsImxhdDIiLCJsb24yIiwiUiIsImRMYXQiLCJ0b1JhZGlhbnMiLCJkTG9uIiwiTWF0aCIsInNpbiIsImNvcyIsImMiLCJhdGFuMiIsInNxcnQiLCJkZWdyZWVzIiwiUEkiLCJ2YWxpZExvY2F0aW9ucyIsImQiLCJjZW50ZXJMb2NhdGlvbiIsImNhbGN1bGF0ZUNlbnRyb2lkIiwibWVtYmVyUHJlZmVyZW5jZXMiLCJNYXAiLCJ0b3RhbER1cmF0aW9uIiwicHJlZmVyZW5jZUNvdW50IiwiZGVzdFByZWZzIiwiZ2V0IiwicHJlZiIsInVzZXJLZXkiLCJ1c2VySWQiLCJzZXNzaW9uSWQiLCJjdXJyZW50U2NvcmUiLCJzZXQiLCJzdGFuZGFyZGl6ZWRTY29yZSIsInByZWZlcnJlZER1cmF0aW9uIiwiYXZnRGVzaXJhYmlsaXR5IiwiYXZnU3RheVRpbWUiLCJjcnlwdG8iLCJyYW5kb21VVUlEIiwiYXZlcmFnZVN0YXlUaW1lIiwibGVuZ3RoIiwiRXJyb3IiLCJ4IiwieSIsInoiLCJsYXQiLCJsb24iLCJ0b3RhbCIsImNlbnRyYWxMb24iLCJjZW50cmFsTGF0IiwicHJlZmVyZW5jZXMiLCJkZXN0aW5hdGlvbklkIiwiY2x1c3RlclNpemVzIiwiYXZnQ2x1c3RlclNpemUiLCJyZWR1Y2UiLCJzdW0iLCJzaXplIiwiaXNvbGF0ZWREZXN0aW5hdGlvbnMiLCJ0b3RhbENsdXN0ZXJzIiwiYXZlcmFnZUNsdXN0ZXJTaXplIiwibWF0cml4IiwiY2x1c3RlcjEiLCJkaXN0YW5jZXMiLCJjbHVzdGVyMiIsImZpbmRPcHRpbWFsQ2x1c3Rlck9yZGVyIiwiZGVwYXJ0dXJlTG9jYXRpb24iLCJyZXR1cm5Mb2NhdGlvbiIsInZpc2l0ZWQiLCJTZXQiLCJvcmRlcmVkQ2x1c3RlcnMiLCJjdXJyZW50TG9jYXRpb24iLCJuZWFyZXN0Q2x1c3RlciIsIm1pbkRpc3RhbmNlIiwiSW5maW5pdHkiLCJoYXMiLCJhZGQiLCJ2YWxpZGF0ZUNsdXN0ZXJpbmdSZXN1bHQiLCJyZXN1bHQiLCJpc3N1ZXMiLCJkZXN0aW5hdGlvbklkcyIsImlzVmFsaWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./lib/optimization/geographical-clustering.ts\n");

/***/ }),

/***/ "(action-browser)/./lib/optimization/normalization-clustering.ts":
/*!******************************************************!*\
  !*** ./lib/optimization/normalization-clustering.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculateHaversineDistance: () => (/* reexport safe */ _geographical_clustering__WEBPACK_IMPORTED_MODULE_1__.calculateHaversineDistance),\n/* harmony export */   clusterDestinations: () => (/* reexport safe */ _geographical_clustering__WEBPACK_IMPORTED_MODULE_1__.clusterDestinations),\n/* harmony export */   generateOptimizationSummary: () => (/* binding */ generateOptimizationSummary),\n/* harmony export */   normalizeAndClusterData: () => (/* binding */ normalizeAndClusterData),\n/* harmony export */   normalizePreferences: () => (/* reexport safe */ _z_score_normalization__WEBPACK_IMPORTED_MODULE_0__.normalizePreferences),\n/* harmony export */   processTimeConstraints: () => (/* reexport safe */ _time_constraints__WEBPACK_IMPORTED_MODULE_2__.processTimeConstraints)\n/* harmony export */ });\n/* harmony import */ var _z_score_normalization__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./z-score-normalization */ \"(action-browser)/./lib/optimization/z-score-normalization.ts\");\n/* harmony import */ var _geographical_clustering__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./geographical-clustering */ \"(action-browser)/./lib/optimization/geographical-clustering.ts\");\n/* harmony import */ var _time_constraints__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./time-constraints */ \"(action-browser)/./lib/optimization/time-constraints.ts\");\n// Main integration module for Z-Score normalization and geographical clustering\n\n\n\n/**\n * Main function to normalize preferences and cluster destinations\n * This is the primary interface for the optimization algorithm\n */ async function normalizeAndClusterData(preprocessedData) {\n    const issues = [];\n    const warnings = [];\n    try {\n        // Step 1: Normalize user preferences\n        console.log(\"Starting Z-score normalization...\");\n        const normalization = (0,_z_score_normalization__WEBPACK_IMPORTED_MODULE_0__.normalizePreferences)(preprocessedData.preferences);\n        // Validate normalization\n        const normQuality = (0,_z_score_normalization__WEBPACK_IMPORTED_MODULE_0__.analyzeNormalizationQuality)(normalization);\n        if (!normQuality.isValid) {\n            issues.push(...normQuality.issues);\n        }\n        warnings.push(...normalization.warnings);\n        // Step 2: Get all destinations (combine destinations and places if both exist)\n        const allDestinations = Array.from(preprocessedData.destinations.values()).map((loc)=>({\n                id: loc.id,\n                name: loc.name,\n                address: loc.address || null,\n                latitude: loc.latitude,\n                longitude: loc.longitude,\n                place_id: null,\n                group_id: preprocessedData.groupId,\n                created_by: null,\n                created_at: new Date().toISOString()\n            }));\n        // Step 3: Cluster destinations geographically\n        console.log(\"Starting geographical clustering...\");\n        const clustering = (0,_geographical_clustering__WEBPACK_IMPORTED_MODULE_1__.clusterDestinations)(allDestinations, normalization.standardizedPreferences, {\n            maxClusterRadius: 50,\n            minClusterSize: 1,\n            distanceCalculation: \"haversine\"\n        });\n        // Validate clustering\n        const clusterValidation = (0,_geographical_clustering__WEBPACK_IMPORTED_MODULE_1__.validateClusteringResult)(clustering);\n        if (!clusterValidation.isValid) {\n            issues.push(...clusterValidation.issues);\n        }\n        // Step 4: Process time constraints\n        console.log(\"Processing time constraints...\");\n        // Convert tripDuration to a TripGroups-compatible object for time constraints\n        const tripGroupForConstraints = {\n            start_date: preprocessedData.tripDuration.startDate?.toISOString() || null,\n            end_date: preprocessedData.tripDuration.endDate?.toISOString() || null,\n            auto_calculate_end_date: preprocessedData.tripDuration.autoCalculate\n        }; // Use 'as any' since we only need these specific fields\n        const timeConstraints = (0,_time_constraints__WEBPACK_IMPORTED_MODULE_2__.processTimeConstraints)(tripGroupForConstraints);\n        // Step 5: Optimize cluster order\n        const orderedClusters = (0,_geographical_clustering__WEBPACK_IMPORTED_MODULE_1__.findOptimalClusterOrder)(preprocessedData.departureLocation, clustering.clusters, preprocessedData.returnLocation || undefined);\n        // Update clustering result with ordered clusters\n        clustering.clusters = orderedClusters;\n        // Step 6: Validate time constraints\n        const timeValidation = (0,_time_constraints__WEBPACK_IMPORTED_MODULE_2__.validateTimeConstraints)(orderedClusters, timeConstraints);\n        let finalClusters = orderedClusters;\n        let removedClusters = [];\n        if (!timeValidation.isValid) {\n            warnings.push(...timeValidation.issues);\n            // Filter clusters if in fixed mode and exceeding constraints\n            if (timeConstraints.mode === \"fixed\") {\n                const filtered = (0,_time_constraints__WEBPACK_IMPORTED_MODULE_2__.filterClustersForTimeConstraints)(orderedClusters, timeConstraints);\n                finalClusters = filtered.filteredClusters;\n                removedClusters = filtered.removedClusters;\n                if (removedClusters.length > 0) {\n                    warnings.push(`Removed ${removedClusters.length} destinations to fit within time constraints`);\n                }\n            }\n        }\n        // Update clustering with final clusters\n        clustering.clusters = finalClusters;\n        // Step 7: Calculate summary statistics\n        const summary = {\n            totalUsers: preprocessedData.groupMembers.size,\n            totalDestinations: allDestinations.length,\n            totalClusters: finalClusters.length,\n            totalRequiredDays: timeValidation.requiredDays,\n            feasibleWithinConstraints: timeValidation.isValid || timeConstraints.mode === \"auto\"\n        };\n        // Log summary\n        console.log(\"Normalization and clustering complete:\", {\n            users: summary.totalUsers,\n            destinations: summary.totalDestinations,\n            clusters: summary.totalClusters,\n            days: summary.totalRequiredDays,\n            feasible: summary.feasibleWithinConstraints\n        });\n        return {\n            normalization,\n            clustering,\n            timeConstraints,\n            validation: {\n                isValid: issues.length === 0,\n                issues,\n                warnings\n            },\n            summary\n        };\n    } catch (error) {\n        console.error(\"Error in normalizeAndClusterData:\", error);\n        issues.push(error instanceof Error ? error.message : \"Unknown error occurred\");\n        return {\n            normalization: {\n                standardizedPreferences: [],\n                userStatistics: new Map(),\n                warnings: []\n            },\n            clustering: {\n                clusters: [],\n                analysis: {\n                    clusters: [],\n                    totalClusters: 0,\n                    averageClusterSize: 0,\n                    isolatedDestinations: []\n                },\n                distanceMatrix: new Map()\n            },\n            timeConstraints: {\n                mode: \"auto\",\n                startDate: new Date(),\n                dailyHours: 9\n            },\n            validation: {\n                isValid: false,\n                issues,\n                warnings\n            },\n            summary: {\n                totalUsers: 0,\n                totalDestinations: 0,\n                totalClusters: 0,\n                totalRequiredDays: 0,\n                feasibleWithinConstraints: false\n            }\n        };\n    }\n}\n/**\n * Generate human-readable summary of results\n */ function generateOptimizationSummary(result) {\n    const { summary, timeConstraints, clustering } = result;\n    let summaryText = `## Trip Optimization Summary\\n\\n`;\n    summaryText += `- **Participants**: ${summary.totalUsers} people\\n`;\n    summaryText += `- **Destinations**: ${summary.totalDestinations} places\\n`;\n    summaryText += `- **Clusters**: ${summary.totalClusters} geographical areas\\n`;\n    summaryText += `- **Duration**: ${summary.totalRequiredDays} days\\n`;\n    summaryText += `- **Mode**: ${timeConstraints.mode === \"auto\" ? \"Auto-calculate dates\" : \"Fixed date range\"}\\n`;\n    if (timeConstraints.mode === \"fixed\" && timeConstraints.startDate && timeConstraints.endDate) {\n        summaryText += `- **Date Range**: ${timeConstraints.startDate.toDateString()} - ${timeConstraints.endDate.toDateString()}\\n`;\n    }\n    summaryText += `\\n### Geographical Clusters\\n\\n`;\n    clustering.clusters.forEach((cluster, index)=>{\n        summaryText += `${index + 1}. **${cluster.destinations[0].name}**`;\n        if (cluster.destinations.length > 1) {\n            summaryText += ` (+ ${cluster.destinations.length - 1} nearby)`;\n        }\n        summaryText += `\\n`;\n        summaryText += `   - Desirability: ${cluster.totalDesirability.toFixed(2)}\\n`;\n        summaryText += `   - Stay time: ${cluster.averageStayTime} hours\\n`;\n    });\n    if (result.validation.warnings.length > 0) {\n        summaryText += `\\n### Warnings\\n\\n`;\n        result.validation.warnings.forEach((warning)=>{\n            summaryText += `- ${warning}\\n`;\n        });\n    }\n    return summaryText;\n}\n// Re-export key functions for convenience\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL2xpYi9vcHRpbWl6YXRpb24vbm9ybWFsaXphdGlvbi1jbHVzdGVyaW5nLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBLGdGQUFnRjtBQVFXO0FBS3pEO0FBTVA7QUFxQjNCOzs7Q0FHQyxHQUNNLGVBQWVRLHdCQUNwQkMsZ0JBQWtDO0lBRWxDLE1BQU1DLFNBQW1CLEVBQUU7SUFDM0IsTUFBTUMsV0FBcUIsRUFBRTtJQUU3QixJQUFJO1FBQ0YscUNBQXFDO1FBQ3JDQyxRQUFRQyxHQUFHLENBQUM7UUFDWixNQUFNQyxnQkFBZ0JkLDRFQUFvQkEsQ0FBQ1MsaUJBQWlCTSxXQUFXO1FBRXZFLHlCQUF5QjtRQUN6QixNQUFNQyxjQUFjZixtRkFBMkJBLENBQUNhO1FBQ2hELElBQUksQ0FBQ0UsWUFBWUMsT0FBTyxFQUFFO1lBQ3hCUCxPQUFPUSxJQUFJLElBQUlGLFlBQVlOLE1BQU07UUFDbkM7UUFDQUMsU0FBU08sSUFBSSxJQUFJSixjQUFjSCxRQUFRO1FBRXZDLCtFQUErRTtRQUMvRSxNQUFNUSxrQkFBa0JDLE1BQU1DLElBQUksQ0FBQ1osaUJBQWlCYSxZQUFZLENBQUNDLE1BQU0sSUFDcEVDLEdBQUcsQ0FBQ0MsQ0FBQUEsTUFBUTtnQkFDWEMsSUFBSUQsSUFBSUMsRUFBRTtnQkFDVkMsTUFBTUYsSUFBSUUsSUFBSTtnQkFDZEMsU0FBU0gsSUFBSUcsT0FBTyxJQUFJO2dCQUN4QkMsVUFBVUosSUFBSUksUUFBUTtnQkFDdEJDLFdBQVdMLElBQUlLLFNBQVM7Z0JBQ3hCQyxVQUFVO2dCQUNWQyxVQUFVdkIsaUJBQWlCd0IsT0FBTztnQkFDbENDLFlBQVk7Z0JBQ1pDLFlBQVksSUFBSUMsT0FBT0MsV0FBVztZQUNwQztRQUVGLDhDQUE4QztRQUM5Q3pCLFFBQVFDLEdBQUcsQ0FBQztRQUNaLE1BQU15QixhQUFhcEMsNkVBQW1CQSxDQUNwQ2lCLGlCQUNBTCxjQUFjeUIsdUJBQXVCLEVBQ3JDO1lBQ0VDLGtCQUFrQjtZ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LFlBQVksR0FBRyxFQUFFLENBQUM7SUFDOUg7SUFFQUQsZUFBZSxDQUFDLCtCQUErQixDQUFDO0lBRWhEcEQsV0FBV2lCLFFBQVEsQ0FBQ3FDLE9BQU8sQ0FBQyxDQUFDQyxTQUFTQztRQUNwQ0osZUFBZSxDQUFDLEVBQUVJLFFBQVEsRUFBRSxJQUFJLEVBQUVELFFBQVF2RSxZQUFZLENBQUMsRUFBRSxDQUFDSyxJQUFJLENBQUMsRUFBRSxDQUFDO1FBQ2xFLElBQUlrRSxRQUFRdkUsWUFBWSxDQUFDMEMsTUFBTSxHQUFHLEdBQUc7WUFDbkMwQixlQUFlLENBQUMsSUFBSSxFQUFFRyxRQUFRdkUsWUFBWSxDQUFDMEMsTUFBTSxHQUFHLEVBQUUsUUFBUSxDQUFDO1FBQ2pFO1FBQ0EwQixlQUFlLENBQUMsRUFBRSxDQUFDO1FBQ25CQSxlQUFlLENBQUMsbUJBQW1CLEVBQUVHLFFBQVFFLGlCQUFpQixDQUFDQyxPQUFPLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDN0VOLGVBQWUsQ0FBQyxnQkFBZ0IsRUFBRUcsUUFBUUksZUFBZSxDQUFDLFFBQVEsQ0FBQztJQUNyRTtJQUVBLElBQUlSLE9BQU9aLFVBQVUsQ0FBQ2xFLFFBQVEsQ0FBQ3FELE1BQU0sR0FBRyxHQUFHO1FBQ3pDMEIsZUFBZSxDQUFDLGtCQUFrQixDQUFDO1FBQ25DRCxPQUFPWixVQUFVLENBQUNsRSxRQUFRLENBQUNpRixPQUFPLENBQUNNLENBQUFBO1lBQ2pDUixlQUFlLENBQUMsRUFBRSxFQUFFUSxRQUFRLEVBQUUsQ0FBQztRQUNqQztJQUNGO0lBRUEsT0FBT1I7QUFDVDtBQUVBLDBDQUEwQztBQUdWO0FBSUU7QUFHUCIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy8uL2xpYi9vcHRpbWl6YXRpb24vbm9ybWFsaXphdGlvbi1jbHVzdGVyaW5nLnRzPzQ2OTMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gTWFpbiBpbnRlZ3JhdGlvbiBtb2R1bGUgZm9yIFotU2NvcmUgbm9ybWFsaXphdGlvbiBhbmQgZ2VvZ3JhcGhpY2FsIGNsdXN0ZXJpbmdcblxuaW1wb3J0IHR5cGUgeyBQcmVwcm9jZXNzZWREYXRhIH0gZnJvbSAnLi90eXBlcydcbmltcG9ydCB0eXBlIHtcbiAgTm9ybWFsaXphdGlvblJlc3VsdCxcbiAgQ2x1c3RlcmluZ1Jlc3VsdCxcbiAgVGltZUNvbnN0cmFpbnRzXG59IGZyb20gJy4vbm9ybWFsaXphdGlvbi10eXBlcydcbmltcG9ydCB7IG5vcm1hbGl6ZVByZWZlcmVuY2VzLCBhbmFseXplTm9ybWFsaXphdGlvblF1YWxpdHkgfSBmcm9tICcuL3otc2NvcmUtbm9ybWFsaXphdGlvbidcbmltcG9ydCB7IFxuICBjbHVzdGVyRGVzdGluYXRpb25zLCBcbiAgZmluZE9wdGltYWxDbHVzdGVyT3JkZXIsXG4gIHZhbGlkYXRlQ2x1c3RlcmluZ1Jlc3VsdCBcbn0gZnJvbSAnLi9nZW9ncmFwaGljYWwtY2x1c3RlcmluZydcbmltcG9ydCB7IFxuICBwcm9jZXNzVGltZUNvbnN0cmFpbnRzLFxuICB2YWxpZGF0ZVRpbWVDb25zdHJhaW50cyxcbiAgc3VnZ2VzdEVuZERhdGUsXG4gIGZpbHRlckNsdXN0ZXJzRm9yVGltZUNvbnN0cmFpbnRzXG59IGZyb20gJy4vdGltZS1jb25zdHJhaW50cydcblxuLy8gTWFpbiByZXN1bHQgaW50ZXJmYWNlXG5leHBvcnQgaW50ZXJmYWNlIE5vcm1hbGl6ZWRDbHVzdGVyZWREYXRhIHtcbiAgbm9ybWFsaXphdGlvbjogTm9ybWFsaXphdGlvblJlc3VsdFxuICBjbHVzdGVyaW5nOiBDbHVzdGVyaW5nUmVzdWx0XG4gIHRpbWVDb25zdHJhaW50czogVGltZUNvbnN0cmFpbnRzXG4gIHZhbGlkYXRpb246IHtcbiAgICBpc1ZhbGlkOiBib29sZWFuXG4gICAgaXNzdWVzOiBzdHJpbmdbXVxuICAgIHdhcm5pbmdzOiBzdHJpbmdbXVxuICB9XG4gIHN1bW1hcnk6IHtcbiAgICB0b3RhbFVzZXJzOiBudW1iZXJcbiAgICB0b3RhbERlc3RpbmF0aW9uczogbnVtYmVyXG4gICAgdG90YWxDbHVzdGVyczogbnVtYmVyXG4gICAgdG90YWxSZXF1aXJlZERheXM6IG51bWJlclxuICAgIGZlYXNpYmxlV2l0aGluQ29uc3RyYWludHM6IGJvb2xlYW5cbiAgfVxufVxuXG4vKipcbiAqIE1haW4gZnVuY3Rpb24gdG8gbm9ybWFsaXplIHByZWZlcmVuY2VzIGFuZCBjbHVzdGVyIGRlc3RpbmF0aW9uc1xuICogVGhpcyBpcyB0aGUgcHJpbWFyeSBpbnRlcmZhY2UgZm9yIHRoZSBvcHRpbWl6YXRpb24gYWxnb3JpdGhtXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBub3JtYWxpemVBbmRDbHVzdGVyRGF0YShcbiAgcHJlcHJvY2Vzc2VkRGF0YTogUHJlcHJvY2Vzc2VkRGF0YVxuKTogUHJvbWlzZTxOb3JtYWxpemVkQ2x1c3RlcmVkRGF0YT4ge1xuICBjb25zdCBpc3N1ZXM6IHN0cmluZ1tdID0gW11cbiAgY29uc3Qgd2FybmluZ3M6IHN0cmluZ1tdID0gW11cbiAgXG4gIHRyeSB7XG4gICAgLy8gU3RlcCAxOiBOb3JtYWxpemUgdXNlciBwcmVmZXJlbmNlc1xuICAgIGNvbnNvbGUubG9nKCdTdGFydGluZyBaLXNjb3JlIG5vcm1hbGl6YXRpb24uLi4nKVxuICAgIGNvbnN0IG5vcm1hbGl6YXRpb24gPSBub3JtYWxpemVQcmVmZXJlbmNlcyhwcmVwcm9jZXNzZWREYXRhLnByZWZlcmVuY2VzKVxuICAgIFxuICAgIC8vIFZhbGlkYXRlIG5vcm1hbGl6YXRpb25cbiAgICBjb25zdCBub3JtUXVhbGl0eSA9IGFuYWx5emVOb3JtYWxpemF0aW9uUXVhbGl0eShub3JtYWxpemF0aW9uKVxuICAgIGlmICghbm9ybVF1YWxpdHkuaXNWYWxpZCkge1xuICAgICAgaXNzdWVzLnB1c2goLi4ubm9ybVF1YWxpdHkuaXNzdWVzKVxuICAgIH1cbiAgICB3YXJuaW5ncy5wdXNoKC4uLm5vcm1hbGl6YXRpb24ud2FybmluZ3MpXG4gICAgXG4gICAgLy8gU3RlcCAyOiBHZXQgYWxsIGRlc3RpbmF0aW9ucyAoY29tYmluZSBkZXN0aW5hdGlvbnMgYW5kIHBsYWNlcyBpZiBib3RoIGV4aXN0KVxuICAgIGNvbnN0IGFsbERlc3RpbmF0aW9ucyA9IEFycmF5LmZyb20ocHJlcHJvY2Vzc2VkRGF0YS5kZXN0aW5hdGlvbnMudmFsdWVzKCkpXG4gICAgICAubWFwKGxvYyA9PiAoe1xuICAgICAgICBpZDogbG9jLmlkLFxuICAgICAgICBuYW1lOiBsb2MubmFtZSxcbiAgICAgICAgYWRkcmVzczogbG9jLmFkZHJlc3MgfHwgbnVsbCwgLy8gQ29udmVydCB1bmRlZmluZWQgdG8gbnVsbFxuICAgICAgICBsYXRpdHVkZTogbG9jLmxhdGl0dWRlLFxuICAgICAgICBsb25naXR1ZGU6IGxvYy5sb25naXR1ZGUsXG4gICAgICAgIHBsYWNlX2lkOiBudWxsLFxuICAgICAgICBncm91cF9pZDogcHJlcHJvY2Vzc2VkRGF0YS5ncm91cElkLFxuICAgICAgICBjcmVhdGVkX2J5OiBudWxsLFxuICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH0pKVxuICAgIFxuICAgIC8vIFN0ZXAgMzogQ2x1c3RlciBkZXN0aW5hdGlvbnMgZ2VvZ3JhcGhpY2FsbHlcbiAgICBjb25zb2xlLmxvZygnU3RhcnRpbmcgZ2VvZ3JhcGhpY2FsIGNsdXN0ZXJpbmcuLi4nKVxuICAgIGNvbnN0IGNsdXN0ZXJpbmcgPSBjbHVzdGVyRGVzdGluYXRpb25zKFxuICAgICAgYWxsRGVzdGluYXRpb25zLFxuICAgICAgbm9ybWFsaXphdGlvbi5zdGFuZGFyZGl6ZWRQcmVmZXJlbmNlcyxcbiAgICAgIHtcbiAgICAgICAgbWF4Q2x1c3RlclJhZGl1czogNTAsIC8vIDUwa20gcmFkaXVzXG4gICAgICAgIG1pbkNsdXN0ZXJTaXplOiAxLFxuICAgICAgICBkaXN0YW5jZUNhbGN1bGF0aW9uOiAnaGF2ZXJzaW5lJ1xuICAgICAgfVxuICAgIClcbiAgICBcbiAgICAvLyBWYWxpZGF0ZSBjbHVzdGVyaW5nXG4gICAgY29uc3QgY2x1c3RlclZhbGlkYXRpb24gPSB2YWxpZGF0ZUNsdXN0ZXJpbmdSZXN1bHQoY2x1c3RlcmluZylcbiAgICBpZiAoIWNsdXN0ZXJWYWxpZGF0aW9uLmlzVmFsaWQpIHtcbiAgICAgIGlzc3Vlcy5wdXNoKC4uLmNsdXN0ZXJWYWxpZGF0aW9uLmlzc3VlcylcbiAgICB9XG4gICAgXG4gICAgLy8gU3RlcCA0OiBQcm9jZXNzIHRpbWUgY29uc3RyYWludHNcbiAgICBjb25zb2xlLmxvZygnUHJvY2Vzc2luZyB0aW1lIGNvbnN0cmFpbnRzLi4uJylcbiAgICAvLyBDb252ZXJ0IHRyaXBEdXJhdGlvbiB0byBhIFRyaXBHcm91cHMtY29tcGF0aWJsZSBvYmplY3QgZm9yIHRpbWUgY29uc3RyYWludHNcbiAgICBjb25zdCB0cmlwR3JvdXBGb3JDb25zdHJhaW50cyA9IHtcbiAgICAgIHN0YXJ0X2RhdGU6IHByZXByb2Nlc3NlZERhdGEudHJpcER1cmF0aW9uLnN0YXJ0RGF0ZT8udG9JU09TdHJpbmcoKSB8fCBudWxsLFxuICAgICAgZW5kX2RhdGU6IHByZXByb2Nlc3NlZERhdGEudHJpcER1cmF0aW9uLmVuZERhdGU/LnRvSVNPU3RyaW5nKCkgfHwgbnVsbCxcbiAgICAgIGF1dG9fY2FsY3VsYXRlX2VuZF9kYXRlOiBwcmVwcm9jZXNzZWREYXRhLnRyaXBEdXJhdGlvbi5hdXRvQ2FsY3VsYXRlXG4gICAgfSBhcyBhbnk7IC8vIFVzZSAnYXMgYW55JyBzaW5jZSB3ZSBvbmx5IG5lZWQgdGhlc2Ugc3BlY2lmaWMgZmllbGRzXG4gICAgY29uc3QgdGltZUNvbnN0cmFpbnRzID0gcHJvY2Vzc1RpbWVDb25zdHJhaW50cyh0cmlwR3JvdXBGb3JDb25zdHJhaW50cylcbiAgICBcbiAgICAvLyBTdGVwIDU6IE9wdGltaXplIGNsdXN0ZXIgb3JkZXJcbiAgICBjb25zdCBvcmRlcmVkQ2x1c3RlcnMgPSBmaW5kT3B0aW1hbENsdXN0ZXJPcmRlcihcbiAgICAgIHByZXByb2Nlc3NlZERhdGEuZGVwYXJ0dXJlTG9jYXRpb24sXG4gICAgICBjbHVzdGVyaW5nLmNsdXN0ZXJzLFxuICAgICAgcHJlcHJvY2Vzc2VkRGF0YS5yZXR1cm5Mb2NhdGlvbiB8fCB1bmRlZmluZWRcbiAgICApXG4gICAgXG4gICAgLy8gVXBkYXRlIGNsdXN0ZXJpbmcgcmVzdWx0IHdpdGggb3JkZXJlZCBjbHVzdGVyc1xuICAgIGNsdXN0ZXJpbmcuY2x1c3RlcnMgPSBvcmRlcmVkQ2x1c3RlcnNcbiAgICBcbiAgICAvLyBTdGVwIDY6IFZhbGlkYXRlIHRpbWUgY29uc3RyYWludHNcbiAgICBjb25zdCB0aW1lVmFsaWRhdGlvbiA9IHZhbGlkYXRlVGltZUNvbnN0cmFpbnRzKG9yZGVyZWRDbHVzdGVycywgdGltZUNvbnN0cmFpbnRzKVxuICAgIFxuICAgIGxldCBmaW5hbENsdXN0ZXJzID0gb3JkZXJlZENsdXN0ZXJzXG4gICAgbGV0IHJlbW92ZWRDbHVzdGVyczogYW55W10gPSBbXVxuICAgIFxuICAgIGlmICghdGltZVZhbGlkYXRpb24uaXNWYWxpZCkge1xuICAgICAgd2FybmluZ3MucHVzaCguLi50aW1lVmFsaWRhdGlvbi5pc3N1ZXMpXG4gICAgICBcbiAgICAgIC8vIEZpbHRlciBjbHVzdGVycyBpZiBpbiBmaXhlZCBtb2RlIGFuZCBleGNlZWRpbmcgY29uc3RyYWludHNcbiAgICAgIGlmICh0aW1lQ29uc3RyYWludHMubW9kZSA9PT0gJ2ZpeGVkJykge1xuICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IGZpbHRlckNsdXN0ZXJzRm9yVGltZUNvbnN0cmFpbnRzKG9yZGVyZWRDbHVzdGVycywgdGltZUNvbnN0cmFpbnRzKVxuICAgICAgICBmaW5hbENsdXN0ZXJzID0gZmlsdGVyZWQuZmlsdGVyZWRDbHVzdGVyc1xuICAgICAgICByZW1vdmVkQ2x1c3RlcnMgPSBmaWx0ZXJlZC5yZW1vdmVkQ2x1c3RlcnNcbiAgICAgICAgXG4gICAgICAgIGlmIChyZW1vdmVkQ2x1c3RlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHdhcm5pbmdzLnB1c2goXG4gICAgICAgICAgICBgUmVtb3ZlZCAke3JlbW92ZWRDbHVzdGVycy5sZW5ndGh9IGRlc3RpbmF0aW9ucyB0byBmaXQgd2l0aGluIHRpbWUgY29uc3RyYWludHNgXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIFVwZGF0ZSBjbHVzdGVyaW5nIHdpdGggZmluYWwgY2x1c3RlcnNcbiAgICBjbHVzdGVyaW5nLmNsdXN0ZXJzID0gZmluYWxDbHVzdGVyc1xuICAgIFxuICAgIC8vIFN0ZXAgNzogQ2FsY3VsYXRlIHN1bW1hcnkgc3RhdGlzdGljc1xuICAgIGNvbnN0IHN1bW1hcnkgPSB7XG4gICAgICB0b3RhbFVzZXJzOiBwcmVwcm9jZXNzZWREYXRhLmdyb3VwTWVtYmVycy5zaXplLFxuICAgICAgdG90YWxEZXN0aW5hdGlvbnM6IGFsbERlc3RpbmF0aW9ucy5sZW5ndGgsXG4gICAgICB0b3RhbENsdXN0ZXJzOiBmaW5hbENsdXN0ZXJzLmxlbmd0aCxcbiAgICAgIHRvdGFsUmVxdWlyZWREYXlzOiB0aW1lVmFsaWRhdGlvbi5yZXF1aXJlZERheXMsXG4gICAgICBmZWFzaWJsZVdpdGhpbkNvbnN0cmFpbnRzOiB0aW1lVmFsaWRhdGlvbi5pc1ZhbGlkIHx8IHRpbWVDb25zdHJhaW50cy5tb2RlID09PSAnYXV0bydcbiAgICB9XG4gICAgXG4gICAgLy8gTG9nIHN1bW1hcnlcbiAgICBjb25zb2xlLmxvZygnTm9ybWFsaXphdGlvbiBhbmQgY2x1c3RlcmluZyBjb21wbGV0ZTonLCB7XG4gICAgICB1c2Vyczogc3VtbWFyeS50b3RhbFVzZXJzLFxuICAgICAgZGVzdGluYXRpb25zOiBzdW1tYXJ5LnRvdGFsRGVzdGluYXRpb25zLFxuICAgICAgY2x1c3RlcnM6IHN1bW1hcnkudG90YWxDbHVzdGVycyxcbiAgICAgIGRheXM6IHN1bW1hcnkudG90YWxSZXF1aXJlZERheXMsXG4gICAgICBmZWFzaWJsZTogc3VtbWFyeS5mZWFzaWJsZVdpdGhpbkNvbnN0cmFpbnRzXG4gICAgfSlcbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgbm9ybWFsaXphdGlvbixcbiAgICAgIGNsdXN0ZXJpbmcsXG4gICAgICB0aW1lQ29uc3RyYWludHMsXG4gICAgICB2YWxpZGF0aW9uOiB7XG4gICAgICAgIGlzVmFsaWQ6IGlzc3Vlcy5sZW5ndGggPT09IDAsXG4gICAgICAgIGlzc3VlcyxcbiAgICAgICAgd2FybmluZ3NcbiAgICAgIH0sXG4gICAgICBzdW1tYXJ5XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIG5vcm1hbGl6ZUFuZENsdXN0ZXJEYXRhOicsIGVycm9yKVxuICAgIGlzc3Vlcy5wdXNoKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3Igb2NjdXJyZWQnKVxuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBub3JtYWxpemF0aW9uOiB7XG4gICAgICAgIHN0YW5kYXJkaXplZFByZWZlcmVuY2VzOiBbXSxcbiAgICAgICAgdXNlclN0YXRpc3RpY3M6IG5ldyBNYXAoKSxcbiAgICAgICAgd2FybmluZ3M6IFtdXG4gICAgICB9LFxuICAgICAgY2x1c3RlcmluZzoge1xuICAgICAgICBjbHVzdGVyczogW10sXG4gICAgICAgIGFuYWx5c2lzOiB7XG4gICAgICAgICAgY2x1c3RlcnM6IFtdLFxuICAgICAgICAgIHRvdGFsQ2x1c3RlcnM6IDAsXG4gICAgICAgICAgYXZlcmFnZUNsdXN0ZXJTaXplOiAwLFxuICAgICAgICAgIGlzb2xhdGVkRGVzdGluYXRpb25zOiBbXVxuICAgICAgICB9LFxuICAgICAgICBkaXN0YW5jZU1hdHJpeDogbmV3IE1hcCgpXG4gICAgICB9LFxuICAgICAgdGltZUNvbnN0cmFpbnRzOiB7XG4gICAgICAgIG1vZGU6ICdhdXRvJyxcbiAgICAgICAgc3RhcnREYXRlOiBuZXcgRGF0ZSgpLFxuICAgICAgICBkYWlseUhvdXJzOiA5XG4gICAgICB9LFxuICAgICAgdmFsaWRhdGlvbjoge1xuICAgICAgICBpc1ZhbGlkOiBmYWxzZSxcbiAgICAgICAgaXNzdWVzLFxuICAgICAgICB3YXJuaW5nc1xuICAgICAgfSxcbiAgICAgIHN1bW1hcnk6IHtcbiAgICAgICAgdG90YWxVc2VyczogMCxcbiAgICAgICAgdG90YWxEZXN0aW5hdGlvbnM6IDAsXG4gICAgICAgIHRvdGFsQ2x1c3RlcnM6IDAsXG4gICAgICAgIHRvdGFsUmVxdWlyZWREYXlzOiAwLFxuICAgICAgICBmZWFzaWJsZVdpdGhpbkNvbnN0cmFpbnRzOiBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEdlbmVyYXRlIGh1bWFuLXJlYWRhYmxlIHN1bW1hcnkgb2YgcmVzdWx0c1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVPcHRpbWl6YXRpb25TdW1tYXJ5KFxuICByZXN1bHQ6IE5vcm1hbGl6ZWRDbHVzdGVyZWREYXRhXG4pOiBzdHJpbmcge1xuICBjb25zdCB7IHN1bW1hcnksIHRpbWVDb25zdHJhaW50cywgY2x1c3RlcmluZyB9ID0gcmVzdWx0XG4gIFxuICBsZXQgc3VtbWFyeVRleHQgPSBgIyMgVHJpcCBPcHRpbWl6YXRpb24gU3VtbWFyeVxcblxcbmBcbiAgc3VtbWFyeVRleHQgKz0gYC0gKipQYXJ0aWNpcGFudHMqKjogJHtzdW1tYXJ5LnRvdGFsVXNlcnN9IHBlb3BsZVxcbmBcbiAgc3VtbWFyeVRleHQgKz0gYC0gKipEZXN0aW5hdGlvbnMqKjogJHtzdW1tYXJ5LnRvdGFsRGVzdGluYXRpb25zfSBwbGFjZXNcXG5gXG4gIHN1bW1hcnlUZXh0ICs9IGAtICoqQ2x1c3RlcnMqKjogJHtzdW1tYXJ5LnRvdGFsQ2x1c3RlcnN9IGdlb2dyYXBoaWNhbCBhcmVhc1xcbmBcbiAgc3VtbWFyeVRleHQgKz0gYC0gKipEdXJhdGlvbioqOiAke3N1bW1hcnkudG90YWxSZXF1aXJlZERheXN9IGRheXNcXG5gXG4gIHN1bW1hcnlUZXh0ICs9IGAtICoqTW9kZSoqOiAke3RpbWVDb25zdHJhaW50cy5tb2RlID09PSAnYXV0bycgPyAnQXV0by1jYWxjdWxhdGUgZGF0ZXMnIDogJ0ZpeGVkIGRhdGUgcmFuZ2UnfVxcbmBcbiAgXG4gIGlmICh0aW1lQ29uc3RyYWludHMubW9kZSA9PT0gJ2ZpeGVkJyAmJiB0aW1lQ29uc3RyYWludHMuc3RhcnREYXRlICYmIHRpbWVDb25zdHJhaW50cy5lbmREYXRlKSB7XG4gICAgc3VtbWFyeVRleHQgKz0gYC0gKipEYXRlIFJhbmdlKio6ICR7dGltZUNvbnN0cmFpbnRzLnN0YXJ0RGF0ZS50b0RhdGVTdHJpbmcoKX0gLSAke3RpbWVDb25zdHJhaW50cy5lbmREYXRlLnRvRGF0ZVN0cmluZygpfVxcbmBcbiAgfVxuICBcbiAgc3VtbWFyeVRleHQgKz0gYFxcbiMjIyBHZW9ncmFwaGljYWwgQ2x1c3RlcnNcXG5cXG5gXG4gIFxuICBjbHVzdGVyaW5nLmNsdXN0ZXJzLmZvckVhY2goKGNsdXN0ZXIsIGluZGV4KSA9PiB7XG4gICAgc3VtbWFyeVRleHQgKz0gYCR7aW5kZXggKyAxfS4gKioke2NsdXN0ZXIuZGVzdGluYXRpb25zWzBdLm5hbWV9KipgXG4gICAgaWYgKGNsdXN0ZXIuZGVzdGluYXRpb25zLmxlbmd0aCA+IDEpIHtcbiAgICAgIHN1bW1hcnlUZXh0ICs9IGAgKCsgJHtjbHVzdGVyLmRlc3RpbmF0aW9ucy5sZW5ndGggLSAxfSBuZWFyYnkpYFxuICAgIH1cbiAgICBzdW1tYXJ5VGV4dCArPSBgXFxuYFxuICAgIHN1bW1hcnlUZXh0ICs9IGAgICAtIERlc2lyYWJpbGl0eTogJHtjbHVzdGVyLnRvdGFsRGVzaXJhYmlsaXR5LnRvRml4ZWQoMil9XFxuYFxuICAgIHN1bW1hcnlUZXh0ICs9IGAgICAtIFN0YXkgdGltZTogJHtjbHVzdGVyLmF2ZXJhZ2VTdGF5VGltZX0gaG91cnNcXG5gXG4gIH0pXG4gIFxuICBpZiAocmVzdWx0LnZhbGlkYXRpb24ud2FybmluZ3MubGVuZ3RoID4gMCkge1xuICAgIHN1bW1hcnlUZXh0ICs9IGBcXG4jIyMgV2FybmluZ3NcXG5cXG5gXG4gICAgcmVzdWx0LnZhbGlkYXRpb24ud2FybmluZ3MuZm9yRWFjaCh3YXJuaW5nID0+IHtcbiAgICAgIHN1bW1hcnlUZXh0ICs9IGAtICR7d2FybmluZ31cXG5gXG4gICAgfSlcbiAgfVxuICBcbiAgcmV0dXJuIHN1bW1hcnlUZXh0XG59XG5cbi8vIFJlLWV4cG9ydCBrZXkgZnVuY3Rpb25zIGZvciBjb252ZW5pZW5jZVxuZXhwb3J0IHsgXG4gIG5vcm1hbGl6ZVByZWZlcmVuY2VzXG59IGZyb20gJy4vei1zY29yZS1ub3JtYWxpemF0aW9uJ1xuZXhwb3J0IHsgXG4gIGNsdXN0ZXJEZXN0aW5hdGlvbnMsXG4gIGNhbGN1bGF0ZUhhdmVyc2luZURpc3RhbmNlIFxufSBmcm9tICcuL2dlb2dyYXBoaWNhbC1jbHVzdGVyaW5nJ1xuZXhwb3J0IHsgXG4gIHByb2Nlc3NUaW1lQ29uc3RyYWludHMgXG59IGZyb20gJy4vdGltZS1jb25zdHJhaW50cydcbmV4cG9ydCB0eXBlIHtcbiAgTm9ybWFsaXphdGlvblJlc3VsdCxcbiAgQ2x1c3RlcmluZ1Jlc3VsdCxcbiAgVGltZUNvbnN0cmFpbnRzLFxuICBTdGFuZGFyZGl6ZWRQcmVmZXJlbmNlLFxuICBEZXN0aW5hdGlvbkNsdXN0ZXJcbn0gZnJvbSAnLi9ub3JtYWxpemF0aW9uLXR5cGVzJyJdLCJuYW1lcyI6WyJub3JtYWxpemVQcmVmZXJlbmNlcyIsImFuYWx5emVOb3JtYWxpemF0aW9uUXVhbGl0eSIsImNsdXN0ZXJEZXN0aW5hdGlvbnMiLCJmaW5kT3B0aW1hbENsdXN0ZXJPcmRlciIsInZhbGlkYXRlQ2x1c3RlcmluZ1Jlc3VsdCIsInByb2Nlc3NUaW1lQ29uc3RyYWludHMiLCJ2YWxpZGF0ZVRpbWVDb25zdHJhaW50cyIsImZpbHRlckNsdXN0ZXJzRm9yVGltZUNvbnN0cmFpbnRzIiwibm9ybWFsaXplQW5kQ2x1c3RlckRhdGEiLCJwcmVwcm9jZXNzZWREYXRhIiwiaXNzdWVzIiwid2FybmluZ3MiLCJjb25zb2xlIiwibG9nIiwibm9ybWFsaXphdGlvbiIsInByZWZlcmVuY2VzIiwibm9ybVF1YWxpdHkiLCJpc1ZhbGlkIiwicHVzaCIsImFsbERlc3RpbmF0aW9ucyIsIkFycmF5IiwiZnJvbSIsImRlc3RpbmF0aW9ucyIsInZhbHVlcyIsIm1hcCIsImxvYyIsImlkIiwibmFtZSIsImFkZHJlc3MiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsInBsYWNlX2lkIiwiZ3JvdXBfaWQiLCJncm91cElkIiwiY3JlYXRlZF9ieSIsImNyZWF0ZWRfYXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJjbHVzdGVyaW5nIiwic3RhbmRhcmRpemVkUHJlZmVyZW5jZXMiLCJtYXhDbHVzdGVyUmFkaXVzIiwibWluQ2x1c3RlclNpemUiLCJkaXN0YW5jZUNhbGN1bGF0aW9uIiwiY2x1c3RlclZhbGlkYXRpb24iLCJ0cmlwR3JvdXBGb3JDb25zdHJhaW50cyIsInN0YXJ0X2RhdGUiLCJ0cmlwRHVyYXRpb24iLCJzdGFydERhdGUiLCJlbmRfZGF0ZSIsImVuZERhdGUiLCJhdXRvX2NhbGN1bGF0ZV9lbmRfZGF0ZSIsImF1dG9DYWxjdWxhdGUiLCJ0aW1lQ29uc3RyYWludHMiLCJvcmRlcmVkQ2x1c3RlcnMiLCJkZXBhcnR1cmVMb2NhdGlvbiIsImNsdXN0ZXJzIiwicmV0dXJuTG9jYXRpb24iLCJ1bmRlZmluZWQiLCJ0aW1lVmFsaWRhdGlvbiIsImZpbmFsQ2x1c3RlcnMiLCJyZW1vdmVkQ2x1c3RlcnMiLCJtb2RlIiwiZmlsdGVyZWQiLCJmaWx0ZXJlZENsdXN0ZXJzIiwibGVuZ3RoIiwic3VtbWFyeSIsInRvdGFsVXNlcnMiLCJncm91cE1lbWJlcnMiLCJzaXplIiwidG90YWxEZXN0aW5hdGlvbnMiLCJ0b3RhbENsdXN0ZXJzIiwidG90YWxSZXF1aXJlZERheXMiLCJyZXF1aXJlZERheXMiLCJmZWFzaWJsZVdpdGhpbkNvbnN0cmFpbnRzIiwidXNlcnMiLCJkYXlzIiwiZmVhc2libGUiLCJ2YWxpZGF0aW9uIiwiZXJyb3IiLCJFcnJvciIsIm1lc3NhZ2UiLCJ1c2VyU3RhdGlzdGljcyIsIk1hcCIsImFuYWx5c2lzIiwiYXZlcmFnZUNsdXN0ZXJTaXplIiwiaXNvbGF0ZWREZXN0aW5hdGlvbnMiLCJkaXN0YW5jZU1hdHJpeCIsImRhaWx5SG91cnMiLCJnZW5lcmF0ZU9wdGltaXphdGlvblN1bW1hcnkiLCJyZXN1bHQiLCJzdW1tYXJ5VGV4dCIsInRvRGF0ZVN0cmluZyIsImZvckVhY2giLCJjbHVzdGVyIiwiaW5kZXgiLCJ0b3RhbERlc2lyYWJpbGl0eSIsInRvRml4ZWQiLCJhdmVyYWdlU3RheVRpbWUiLCJ3YXJuaW5nIiwiY2FsY3VsYXRlSGF2ZXJzaW5lRGlzdGFuY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./lib/optimization/normalization-clustering.ts\n");

/***/ }),

/***/ "(action-browser)/./lib/optimization/route-optimizer.ts":
/*!*********************************************!*\
  !*** ./lib/optimization/route-optimizer.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   optimizeRoute: () => (/* binding */ optimizeRoute)\n/* harmony export */ });\n/* harmony import */ var _fairness_calculator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./fairness-calculator */ \"(action-browser)/./lib/optimization/fairness-calculator.ts\");\n/* harmony import */ var _transport_calculator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./transport-calculator */ \"(action-browser)/./lib/optimization/transport-calculator.ts\");\n/* harmony import */ var _tsp_optimizer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./tsp-optimizer */ \"(action-browser)/./lib/optimization/tsp-optimizer.ts\");\n// Main route optimization algorithm\n\n\n\n// Default optimization configuration\nconst DEFAULT_CONFIG = {\n    maxIterations: 50,\n    fairnessWeight: 0.6,\n    quantityWeight: 0.4,\n    earlyTerminationThreshold: 0.95,\n    randomExplorations: 15,\n    topCandidatesToImprove: 5\n};\n/**\n * Main optimization function\n * Selects and orders destination clusters to maximize fairness and efficiency\n */ function optimizeRoute(normalizedData, departureLocation, returnLocation, config = {}) {\n    const startTime = Date.now();\n    const finalConfig = {\n        ...DEFAULT_CONFIG,\n        ...config\n    };\n    // Extract data\n    const { clusters } = normalizedData.clustering;\n    const { standardizedPreferences } = normalizedData.normalization;\n    const { timeConstraints } = normalizedData;\n    // Get all user keys\n    const userKeys = new Set(standardizedPreferences.map((p)=>p.userId || p.sessionId || \"unknown\"));\n    // Handle edge cases\n    if (clusters.length === 0) {\n        return createEmptyResult(startTime);\n    }\n    if (clusters.length === 1) {\n        return createSingleClusterResult(clusters[0], departureLocation, returnLocation, standardizedPreferences, userKeys, timeConstraints, startTime);\n    }\n    // Initialize tracking\n    const allSolutions = [];\n    const stats = {\n        candidatesGenerated: 0,\n        feasibleSolutions: 0,\n        infeasibleSolutions: 0,\n        averageFairness: 0,\n        bestFairness: 0,\n        averageQuantity: 0,\n        bestQuantity: 0,\n        twoOptImprovements: 0,\n        cacheHits: 0\n    };\n    // Phase 1: Generate diverse candidate solutions\n    console.log(\"Phase 1: Generating candidate solutions...\");\n    const candidates = generateCandidateSolutions(clusters, departureLocation, returnLocation, standardizedPreferences, userKeys, timeConstraints, finalConfig, stats);\n    allSolutions.push(...candidates);\n    // Check for early termination\n    const bestCandidate = candidates.filter((c)=>c.feasible).sort((a, b)=>b.compositeScore - a.compositeScore)[0];\n    if (bestCandidate && bestCandidate.fairnessScore >= finalConfig.earlyTerminationThreshold) {\n        console.log(`Early termination: Fairness score ${bestCandidate.fairnessScore} exceeds threshold`);\n        return createResult(bestCandidate, allSolutions, startTime, stats.candidatesGenerated, true);\n    }\n    // Phase 2: Apply 2-opt improvement to top candidates\n    console.log(\"Phase 2: Applying 2-opt improvements...\");\n    const improvedSolutions = applyTwoOptImprovements(candidates, departureLocation, returnLocation, standardizedPreferences, userKeys, timeConstraints, finalConfig, stats);\n    allSolutions.push(...improvedSolutions);\n    // Phase 3: Select best solution\n    console.log(\"Phase 3: Selecting best solution...\");\n    const feasibleSolutions = allSolutions.filter((s)=>s.feasible);\n    const bestSolution = feasibleSolutions.length > 0 ? feasibleSolutions.sort((a, b)=>b.compositeScore - a.compositeScore)[0] : allSolutions.sort((a, b)=>b.compositeScore - a.compositeScore)[0];\n    // Update statistics\n    updateStatistics(allSolutions, stats);\n    console.log(`Optimization complete: ${stats.candidatesGenerated} candidates, ${stats.feasibleSolutions} feasible`);\n    console.log(`Best solution: Fairness=${bestSolution.fairnessScore.toFixed(2)}, Clusters=${bestSolution.clusters.length}`);\n    return createResult(bestSolution, allSolutions, startTime, stats.candidatesGenerated, false);\n}\n/**\n * Generate diverse candidate solutions using multiple strategies\n */ function generateCandidateSolutions(clusters, departureLocation, returnLocation, preferences, userKeys, timeConstraints, config, stats) {\n    const candidates = [];\n    // Strategy 1: Desirability-greedy from top clusters\n    const topClusters = [\n        ...clusters\n    ].sort((a, b)=>b.totalDesirability - a.totalDesirability).slice(0, 3);\n    for (const startCluster of topClusters){\n        const route = generateDesirabilityGreedyRoute([\n            startCluster\n        ], clusters.filter((c)=>c.id !== startCluster.id), departureLocation, returnLocation, preferences, userKeys, timeConstraints);\n        candidates.push(route);\n        stats.candidatesGenerated++;\n    }\n    // Strategy 2: Quantity-maximizing routes\n    for(let i = 0; i < 3; i++){\n        const route = generateQuantityMaximizingRoute(clusters, departureLocation, returnLocation, preferences, userKeys, timeConstraints);\n        candidates.push(route);\n        stats.candidatesGenerated++;\n    }\n    // Strategy 3: Nearest neighbor TSP\n    const nnRoute = createRouteSolution((0,_tsp_optimizer__WEBPACK_IMPORTED_MODULE_2__.nearestNeighborTSP)(departureLocation, clusters, returnLocation), departureLocation, returnLocation, preferences, userKeys, timeConstraints);\n    candidates.push(nnRoute);\n    stats.candidatesGenerated++;\n    // Strategy 4: Random exploration\n    for(let i = 0; i < config.randomExplorations && stats.candidatesGenerated < config.maxIterations; i++){\n        const randomRoute = createRouteSolution((0,_tsp_optimizer__WEBPACK_IMPORTED_MODULE_2__.generateRandomRoute)(clusters), departureLocation, returnLocation, preferences, userKeys, timeConstraints);\n        candidates.push(randomRoute);\n        stats.candidatesGenerated++;\n    }\n    return candidates;\n}\n/**\n * Generate desirability-greedy route\n */ function generateDesirabilityGreedyRoute(startClusters, remainingClusters, departureLocation, returnLocation, preferences, userKeys, timeConstraints) {\n    const route = (0,_tsp_optimizer__WEBPACK_IMPORTED_MODULE_2__.generateRouteWithStart)(startClusters, remainingClusters, departureLocation);\n    // Trim route to fit time constraints if needed\n    const trimmedRoute = trimRouteToTimeConstraint(route, departureLocation, returnLocation, timeConstraints);\n    return createRouteSolution(trimmedRoute, departureLocation, returnLocation, preferences, userKeys, timeConstraints);\n}\n/**\n * Generate quantity-maximizing route\n */ function generateQuantityMaximizingRoute(clusters, departureLocation, returnLocation, preferences, userKeys, timeConstraints) {\n    // Sort by stay time (shortest first) to maximize quantity\n    const sortedClusters = [\n        ...clusters\n    ].sort((a, b)=>a.averageStayTime - b.averageStayTime);\n    // Build route using nearest neighbor on sorted clusters\n    const route = (0,_tsp_optimizer__WEBPACK_IMPORTED_MODULE_2__.nearestNeighborTSP)(departureLocation, sortedClusters, returnLocation);\n    // Trim to fit constraints\n    const trimmedRoute = trimRouteToTimeConstraint(route, departureLocation, returnLocation, timeConstraints);\n    return createRouteSolution(trimmedRoute, departureLocation, returnLocation, preferences, userKeys, timeConstraints);\n}\n/**\n * Apply 2-opt improvements to top candidates\n */ function applyTwoOptImprovements(candidates, departureLocation, returnLocation, preferences, userKeys, timeConstraints, config, stats) {\n    const improved = [];\n    // Select top candidates for improvement\n    const topCandidates = candidates.filter((c)=>c.feasible).sort((a, b)=>b.compositeScore - a.compositeScore).slice(0, config.topCandidatesToImprove);\n    for (const candidate of topCandidates){\n        const { improvedRoute, result } = (0,_tsp_optimizer__WEBPACK_IMPORTED_MODULE_2__.twoOptImprovement)(candidate.clusters, departureLocation, returnLocation);\n        if (result.improved) {\n            stats.twoOptImprovements++;\n            const improvedSolution = createRouteSolution(improvedRoute, departureLocation, returnLocation, preferences, userKeys, timeConstraints);\n            improved.push(improvedSolution);\n            stats.candidatesGenerated++;\n        }\n    }\n    return improved;\n}\n/**\n * Create a route solution with all metrics\n */ function createRouteSolution(clusters, departureLocation, returnLocation, preferences, userKeys, timeConstraints) {\n    // Calculate route metrics\n    const routeMetrics = (0,_transport_calculator__WEBPACK_IMPORTED_MODULE_1__.calculateRouteMetrics)(departureLocation, clusters, returnLocation);\n    // Calculate fairness\n    const fairnessResult = (0,_fairness_calculator__WEBPACK_IMPORTED_MODULE_0__.calculateFairness)(clusters, preferences, userKeys);\n    // Calculate quantity score\n    const totalClusters = preferences.length > 0 ? new Set(preferences.map((p)=>p.destinationId)).size : 1;\n    const quantityScore = totalClusters > 0 ? clusters.length / totalClusters : 0;\n    // Calculate composite score\n    const compositeScore = fairnessResult.fairnessScore * 0.6 + quantityScore * 0.4;\n    // Validate feasibility\n    const feasibilityCheck = (0,_transport_calculator__WEBPACK_IMPORTED_MODULE_1__.validateRouteFeasibility)(routeMetrics.totalTimeHours, timeConstraints.totalAvailableHours, routeMetrics.transportModes);\n    // Create member satisfaction map\n    const memberSatisfaction = new Map();\n    fairnessResult.userSatisfactions.forEach((us)=>{\n        memberSatisfaction.set(us.userKey, us.satisfactionScore);\n    });\n    return {\n        clusters,\n        segments: routeMetrics.segments,\n        totalDistanceKm: routeMetrics.totalDistanceKm,\n        totalTimeHours: routeMetrics.totalTimeHours,\n        fairnessScore: fairnessResult.fairnessScore,\n        quantityScore,\n        compositeScore,\n        memberSatisfaction,\n        feasible: feasibilityCheck.feasible,\n        issues: feasibilityCheck.issues\n    };\n}\n/**\n * Trim route to fit within time constraints\n */ function trimRouteToTimeConstraint(route, departureLocation, returnLocation, timeConstraints) {\n    if (timeConstraints.mode === \"auto\" || !timeConstraints.totalAvailableHours) {\n        return route;\n    }\n    const trimmedRoute = [];\n    let currentTime = 0;\n    for (const cluster of route){\n        const testRoute = [\n            ...trimmedRoute,\n            cluster\n        ];\n        const metrics = (0,_transport_calculator__WEBPACK_IMPORTED_MODULE_1__.calculateRouteMetrics)(departureLocation, testRoute, returnLocation);\n        if (metrics.totalTimeHours <= timeConstraints.totalAvailableHours) {\n            trimmedRoute.push(cluster);\n            currentTime = metrics.totalTimeHours;\n        } else {\n            break; // Stop adding clusters\n        }\n    }\n    return trimmedRoute;\n}\n/**\n * Update algorithm statistics\n */ function updateStatistics(solutions, stats) {\n    const feasible = solutions.filter((s)=>s.feasible);\n    stats.feasibleSolutions = feasible.length;\n    stats.infeasibleSolutions = solutions.length - feasible.length;\n    if (solutions.length > 0) {\n        const fairnessScores = solutions.map((s)=>s.fairnessScore);\n        const quantityScores = solutions.map((s)=>s.quantityScore);\n        stats.averageFairness = fairnessScores.reduce((a, b)=>a + b, 0) / fairnessScores.length;\n        stats.bestFairness = Math.max(...fairnessScores);\n        stats.averageQuantity = quantityScores.reduce((a, b)=>a + b, 0) / quantityScores.length;\n        stats.bestQuantity = Math.max(...quantityScores);\n    }\n}\n/**\n * Create empty result\n */ function createEmptyResult(startTime) {\n    const emptySolution = {\n        clusters: [],\n        segments: [],\n        totalDistanceKm: 0,\n        totalTimeHours: 0,\n        fairnessScore: 1,\n        quantityScore: 0,\n        compositeScore: 0.6,\n        memberSatisfaction: new Map(),\n        feasible: true,\n        issues: []\n    };\n    return {\n        bestSolution: emptySolution,\n        allSolutions: [\n            emptySolution\n        ],\n        executionTimeMs: Date.now() - startTime,\n        iterationsPerformed: 0,\n        earlyTermination: false\n    };\n}\n/**\n * Create single cluster result\n */ function createSingleClusterResult(cluster, departureLocation, returnLocation, preferences, userKeys, timeConstraints, startTime) {\n    const solution = createRouteSolution([\n        cluster\n    ], departureLocation, returnLocation, preferences, userKeys, timeConstraints);\n    return {\n        bestSolution: solution,\n        allSolutions: [\n            solution\n        ],\n        executionTimeMs: Date.now() - startTime,\n        iterationsPerformed: 1,\n        earlyTermination: false\n    };\n}\n/**\n * Create optimization result\n */ function createResult(bestSolution, allSolutions, startTime, iterations, earlyTermination) {\n    return {\n        bestSolution,\n        allSolutions,\n        executionTimeMs: Date.now() - startTime,\n        iterationsPerformed: iterations,\n        earlyTermination\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL2xpYi9vcHRpbWl6YXRpb24vcm91dGUtb3B0aW1pemVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxvQ0FBb0M7QUFrQnFCO0FBQytCO0FBT2hFO0FBRXhCLHFDQUFxQztBQUNyQyxNQUFNTyxpQkFBcUM7SUFDekNDLGVBQWU7SUFDZkMsZ0JBQWdCO0lBQ2hCQyxnQkFBZ0I7SUFDaEJDLDJCQUEyQjtJQUMzQkMsb0JBQW9CO0lBQ3BCQyx3QkFBd0I7QUFDMUI7QUFFQTs7O0NBR0MsR0FDTSxTQUFTQyxjQUNkQyxjQUF1QyxFQUN2Q0MsaUJBQTJCLEVBQzNCQyxjQUErQixFQUMvQkMsU0FBc0MsQ0FBQyxDQUFDO0lBRXhDLE1BQU1DLFlBQVlDLEtBQUtDLEdBQUc7SUFDMUIsTUFBTUMsY0FBYztRQUFFLEdBQUdmLGNBQWM7UUFBRSxHQUFHVyxNQUFNO0lBQUM7SUFFbkQsZUFBZTtJQUNmLE1BQU0sRUFBRUssUUFBUSxFQUFFLEdBQUdSLGVBQWVTLFVBQVU7SUFDOUMsTUFBTSxFQUFFQyx1QkFBdUIsRUFBRSxHQUFHVixlQUFlVyxhQUFhO0lBQ2hFLE1BQU0sRUFBRUMsZUFBZSxFQUFFLEdBQUdaO0lBRTVCLG9CQUFvQjtJQUNwQixNQUFNYSxXQUFXLElBQUlDLElBQ25CSix3QkFBd0JLLEdBQUcsQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRUMsTUFBTSxJQUFJRCxFQUFFRSxTQUFTLElBQUk7SUFHOUQsb0JBQW9CO0lBQ3BCLElBQUlWLFNBQVNXLE1BQU0sS0FBSyxHQUFHO1FBQ3pCLE9BQU9DLGtCQUFrQmhCO0lBQzNCO0lBRUEsSUFBSUksU0FBU1csTUFBTSxLQUFLLEdBQUc7UUFDekIsT0FBT0UsMEJBQ0xiLFFBQVEsQ0FBQyxFQUFFLEVBQ1hQLG1CQUNBQyxnQkFDQVEseUJBQ0FHLFVBQ0FELGlCQUNBUjtJQUVKO0lBRUEsc0JBQXNCO0lBQ3RCLE1BQU1rQixlQUFnQyxFQUFFO0lBQ3hDLE1BQU1DLFFBQXdCO1FBQzVCQyxx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LEVBQ1RyRyxtQkFDQUMsZ0JBQ0FvRCxhQUNBekMsVUFDQUQ7SUFHRixPQUFPO1FBQ0x1QyxjQUFjZ0U7UUFDZDdGLGNBQWM7WUFBQzZGO1NBQVM7UUFDeEJILGlCQUFpQjNHLEtBQUtDLEdBQUcsS0FBS0Y7UUFDOUI2RyxxQkFBcUI7UUFDckJDLGtCQUFrQjtJQUNwQjtBQUNGO0FBRUE7O0NBRUMsR0FDRCxTQUFTbkUsYUFDUEksWUFBMkIsRUFDM0I3QixZQUE2QixFQUM3QmxCLFNBQWlCLEVBQ2pCZ0gsVUFBa0IsRUFDbEJGLGdCQUF5QjtJQUV6QixPQUFPO1FBQ0wvRDtRQUNBN0I7UUFDQTBGLGlCQUFpQjNHLEtBQUtDLEdBQUcsS0FBS0Y7UUFDOUI2RyxxQkFBcUJHO1FBQ3JCRjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMvLi9saWIvb3B0aW1pemF0aW9uL3JvdXRlLW9wdGltaXplci50cz82MjlhIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIE1haW4gcm91dGUgb3B0aW1pemF0aW9uIGFsZ29yaXRobVxuXG5pbXBvcnQgdHlwZSB7IFxuICBEZXN0aW5hdGlvbkNsdXN0ZXIsIFxuICBTdGFuZGFyZGl6ZWRQcmVmZXJlbmNlLFxuICBUaW1lQ29uc3RyYWludHNcbn0gZnJvbSAnLi9ub3JtYWxpemF0aW9uLXR5cGVzJ1xuaW1wb3J0IHR5cGUgeyBcbiAgTm9ybWFsaXplZENsdXN0ZXJlZERhdGFcbn0gZnJvbSAnLi9ub3JtYWxpemF0aW9uLWNsdXN0ZXJpbmcnXG5pbXBvcnQgdHlwZSB7IFxuICBSb3V0ZVNvbHV0aW9uLFxuICBPcHRpbWl6YXRpb25Db25maWcsXG4gIE9wdGltaXphdGlvblJlc3VsdCxcbiAgR2VuZXJhdGlvblN0cmF0ZWd5LFxuICBBbGdvcml0aG1TdGF0c1xufSBmcm9tICcuL2FsZ29yaXRobS10eXBlcydcbmltcG9ydCB0eXBlIHsgTG9jYXRpb24gfSBmcm9tICcuL3R5cGVzJ1xuaW1wb3J0IHsgY2FsY3VsYXRlRmFpcm5lc3MgfSBmcm9tICcuL2ZhaXJuZXNzLWNhbGN1bGF0b3InXG5pbXBvcnQgeyBjYWxjdWxhdGVSb3V0ZU1ldHJpY3MsIHZhbGlkYXRlUm91dGVGZWFzaWJpbGl0eSB9IGZyb20gJy4vdHJhbnNwb3J0LWNhbGN1bGF0b3InXG5pbXBvcnQgeyBcbiAgbmVhcmVzdE5laWdoYm9yVFNQLCBcbiAgdHdvT3B0SW1wcm92ZW1lbnQsXG4gIGdlbmVyYXRlUmFuZG9tUm91dGUsXG4gIGdlbmVyYXRlUm91dGVXaXRoU3RhcnQsXG4gIGNhbGN1bGF0ZVRvdGFsRGlzdGFuY2Vcbn0gZnJvbSAnLi90c3Atb3B0aW1pemVyJ1xuXG4vLyBEZWZhdWx0IG9wdGltaXphdGlvbiBjb25maWd1cmF0aW9uXG5jb25zdCBERUZBVUxUX0NPTkZJRzogT3B0aW1pemF0aW9uQ29uZmlnID0ge1xuICBtYXhJdGVyYXRpb25zOiA1MCxcbiAgZmFpcm5lc3NXZWlnaHQ6IDAuNixcbiAgcXVhbnRpdHlXZWlnaHQ6IDAuNCxcbiAgZWFybHlUZXJtaW5hdGlvblRocmVzaG9sZDogMC45NSxcbiAgcmFuZG9tRXhwbG9yYXRpb25zOiAxNSxcbiAgdG9wQ2FuZGlkYXRlc1RvSW1wcm92ZTogNVxufVxuXG4vKipcbiAqIE1haW4gb3B0aW1pemF0aW9uIGZ1bmN0aW9uXG4gKiBTZWxlY3RzIGFuZCBvcmRlcnMgZGVzdGluYXRpb24gY2x1c3RlcnMgdG8gbWF4aW1pemUgZmFpcm5lc3MgYW5kIGVmZmljaWVuY3lcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9wdGltaXplUm91dGUoXG4gIG5vcm1hbGl6ZWREYXRhOiBOb3JtYWxpemVkQ2x1c3RlcmVkRGF0YSxcbiAgZGVwYXJ0dXJlTG9jYXRpb246IExvY2F0aW9uLFxuICByZXR1cm5Mb2NhdGlvbjogTG9jYXRpb24gfCBudWxsLFxuICBjb25maWc6IFBhcnRpYWw8T3B0aW1pemF0aW9uQ29uZmlnPiA9IHt9XG4pOiBPcHRpbWl6YXRpb25SZXN1bHQge1xuICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpXG4gIGNvbnN0IGZpbmFsQ29uZmlnID0geyAuLi5ERUZBVUxUX0NPTkZJRywgLi4uY29uZmlnIH1cbiAgXG4gIC8vIEV4dHJhY3QgZGF0YVxuICBjb25zdCB7IGNsdXN0ZXJzIH0gPSBub3JtYWxpemVkRGF0YS5jbHVzdGVyaW5nXG4gIGNvbnN0IHsgc3RhbmRhcmRpemVkUHJlZmVyZW5jZXMgfSA9IG5vcm1hbGl6ZWREYXRhLm5vcm1hbGl6YXRpb25cbiAgY29uc3QgeyB0aW1lQ29uc3RyYWludHMgfSA9IG5vcm1hbGl6ZWREYXRhXG4gIFxuICAvLyBHZXQgYWxsIHVzZXIga2V5c1xuICBjb25zdCB1c2VyS2V5cyA9IG5ldyBTZXQoXG4gICAgc3RhbmRhcmRpemVkUHJlZmVyZW5jZXMubWFwKHAgPT4gcC51c2VySWQgfHwgcC5zZXNzaW9uSWQgfHwgJ3Vua25vd24nKVxuICApXG4gIFxuICAvLyBIYW5kbGUgZWRnZSBjYXNlc1xuICBpZiAoY2x1c3RlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUVtcHR5UmVzdWx0KHN0YXJ0VGltZSlcbiAgfVxuICBcbiAgaWYgKGNsdXN0ZXJzLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiBjcmVhdGVTaW5nbGVDbHVzdGVyUmVzdWx0KFxuICAgICAgY2x1c3RlcnNbMF0sXG4gICAgICBkZXBhcnR1cmVMb2NhdGlvbixcbiAgICAgIHJldHVybkxvY2F0aW9uLFxuICAgICAgc3RhbmRhcmRpemVkUHJlZmVyZW5jZXMsXG4gICAgICB1c2VyS2V5cyxcbiAgICAgIHRpbWVDb25zdHJhaW50cyxcbiAgICAgIHN0YXJ0VGltZVxuICAgIClcbiAgfVxuICBcbiAgLy8gSW5pdGlhbGl6ZSB0cmFja2luZ1xuICBjb25zdCBhbGxTb2x1dGlvbnM6IFJvdXRlU29sdXRpb25bXSA9IFtdXG4gIGNvbnN0IHN0YXRzOiBBbGdvcml0aG1TdGF0cyA9IHtcbiAgICBjYW5kaWRhdGVzR2VuZXJhdGVkOiAwLFxuICAgIGZlYXNpYmxlU29sdXRpb25zOiAwLFxuICAgIGluZmVhc2libGVTb2x1dGlvbnM6IDAsXG4gICAgYXZlcmFnZUZhaXJuZXNzOiAwLFxuICAgIGJlc3RGYWlybmVzczogMCxcbiAgICBhdmVyYWdlUXVhbnRpdHk6IDAsXG4gICAgYmVzdFF1YW50aXR5OiAwLFxuICAgIHR3b09wdEltcHJvdmVtZW50czogMCxcbiAgICBjYWNoZUhpdHM6IDBcbiAgfVxuICBcbiAgLy8gUGhhc2UgMTogR2VuZXJhdGUgZGl2ZXJzZSBjYW5kaWRhdGUgc29sdXRpb25zXG4gIGNvbnNvbGUubG9nKCdQaGFzZSAxOiBHZW5lcmF0aW5nIGNhbmRpZGF0ZSBzb2x1dGlvbnMuLi4nKVxuICBjb25zdCBjYW5kaWRhdGVzID0gZ2VuZXJhdGVDYW5kaWRhdGVTb2x1dGlvbnMoXG4gICAgY2x1c3RlcnMsXG4gICAgZGVwYXJ0dXJlTG9jYXRpb24sXG4gICAgcmV0dXJuTG9jYXRpb24sXG4gICAgc3RhbmRhcmRpemVkUHJlZmVyZW5jZXMsXG4gICAgdXNlcktleXMsXG4gICAgdGltZUNvbnN0cmFpbnRzLFxuICAgIGZpbmFsQ29uZmlnLFxuICAgIHN0YXRzXG4gIClcbiAgYWxsU29sdXRpb25zLnB1c2goLi4uY2FuZGlkYXRlcylcbiAgXG4gIC8vIENoZWNrIGZvciBlYXJseSB0ZXJtaW5hdGlvblxuICBjb25zdCBiZXN0Q2FuZGlkYXRlID0gY2FuZGlkYXRlc1xuICAgIC5maWx0ZXIoYyA9PiBjLmZlYXNpYmxlKVxuICAgIC5zb3J0KChhLCBiKSA9PiBiLmNvbXBvc2l0ZVNjb3JlIC0gYS5jb21wb3NpdGVTY29yZSlbMF1cbiAgXG4gIGlmIChiZXN0Q2FuZGlkYXRlICYmIGJlc3RDYW5kaWRhdGUuZmFpcm5lc3NTY29yZSA+PSBmaW5hbENvbmZpZy5lYXJseVRlcm1pbmF0aW9uVGhyZXNob2xkKSB7XG4gICAgY29uc29sZS5sb2coYEVhcmx5IHRlcm1pbmF0aW9uOiBGYWlybmVzcyBzY29yZSAke2Jlc3RDYW5kaWRhdGUuZmFpcm5lc3NTY29yZX0gZXhjZWVkcyB0aHJlc2hvbGRgKVxuICAgIHJldHVybiBjcmVhdGVSZXN1bHQoYmVzdENhbmRpZGF0ZSwgYWxsU29sdXRpb25zLCBzdGFydFRpbWUsIHN0YXRzLmNhbmRpZGF0ZXNHZW5lcmF0ZWQsIHRydWUpXG4gIH1cbiAgXG4gIC8vIFBoYXNlIDI6IEFwcGx5IDItb3B0IGltcHJvdmVtZW50IHRvIHRvcCBjYW5kaWRhdGVzXG4gIGNvbnNvbGUubG9nKCdQaGFzZSAyOiBBcHBseWluZyAyLW9wdCBpbXByb3ZlbWVudHMuLi4nKVxuICBjb25zdCBpbXByb3ZlZFNvbHV0aW9ucyA9IGFwcGx5VHdvT3B0SW1wcm92ZW1lbnRzKFxuICAgIGNhbmRpZGF0ZXMsXG4gICAgZGVwYXJ0dXJlTG9jYXRpb24sXG4gICAgcmV0dXJuTG9jYXRpb24sXG4gICAgc3RhbmRhcmRpemVkUHJlZmVyZW5jZXMsXG4gICAgdXNlcktleXMsXG4gICAgdGltZUNvbnN0cmFpbnRzLFxuICAgIGZpbmFsQ29uZmlnLFxuICAgIHN0YXRzXG4gIClcbiAgYWxsU29sdXRpb25zLnB1c2goLi4uaW1wcm92ZWRTb2x1dGlvbnMpXG4gIFxuICAvLyBQaGFzZSAzOiBTZWxlY3QgYmVzdCBzb2x1dGlvblxuICBjb25zb2xlLmxvZygnUGhhc2UgMzogU2VsZWN0aW5nIGJlc3Qgc29sdXRpb24uLi4nKVxuICBjb25zdCBmZWFzaWJsZVNvbHV0aW9ucyA9IGFsbFNvbHV0aW9ucy5maWx0ZXIocyA9PiBzLmZlYXNpYmxlKVxuICBjb25zdCBiZXN0U29sdXRpb24gPSBmZWFzaWJsZVNvbHV0aW9ucy5sZW5ndGggPiAwXG4gICAgPyBmZWFzaWJsZVNvbHV0aW9ucy5zb3J0KChhLCBiKSA9PiBiLmNvbXBvc2l0ZVNjb3JlIC0gYS5jb21wb3NpdGVTY29yZSlbMF1cbiAgICA6IGFsbFNvbHV0aW9ucy5zb3J0KChhLCBiKSA9PiBiLmNvbXBvc2l0ZVNjb3JlIC0gYS5jb21wb3NpdGVTY29yZSlbMF1cbiAgXG4gIC8vIFVwZGF0ZSBzdGF0aXN0aWNzXG4gIHVwZGF0ZVN0YXRpc3RpY3MoYWxsU29sdXRpb25zLCBzdGF0cylcbiAgXG4gIGNvbnNvbGUubG9nKGBPcHRpbWl6YXRpb24gY29tcGxldGU6ICR7c3RhdHMuY2FuZGlkYXRlc0dlbmVyYXRlZH0gY2FuZGlkYXRlcywgJHtzdGF0cy5mZWFzaWJsZVNvbHV0aW9uc30gZmVhc2libGVgKVxuICBjb25zb2xlLmxvZyhgQmVzdCBzb2x1dGlvbjogRmFpcm5lc3M9JHtiZXN0U29sdXRpb24uZmFpcm5lc3NTY29yZS50b0ZpeGVkKDIpfSwgQ2x1c3RlcnM9JHtiZXN0U29sdXRpb24uY2x1c3RlcnMubGVuZ3RofWApXG4gIFxuICByZXR1cm4gY3JlYXRlUmVzdWx0KGJlc3RTb2x1dGlvbiwgYWxsU29sdXRpb25zLCBzdGFydFRpbWUsIHN0YXRzLmNhbmRpZGF0ZXNHZW5lcmF0ZWQsIGZhbHNlKVxufVxuXG4vKipcbiAqIEdlbmVyYXRlIGRpdmVyc2UgY2FuZGlkYXRlIHNvbHV0aW9ucyB1c2luZyBtdWx0aXBsZSBzdHJhdGVnaWVzXG4gKi9cbmZ1bmN0aW9uIGdlbmVyYXRlQ2FuZGlkYXRlU29sdXRpb25zKFxuICBjbHVzdGVyczogRGVzdGluYXRpb25DbHVzdGVyW10sXG4gIGRlcGFydHVyZUxvY2F0aW9uOiBMb2NhdGlvbixcbiAgcmV0dXJuTG9jYXRpb246IExvY2F0aW9uIHwgbnVsbCxcbiAgcHJlZmVyZW5jZXM6IFN0YW5kYXJkaXplZFByZWZlcmVuY2VbXSxcbiAgdXNlcktleXM6IFNldDxzdHJpbmc+LFxuICB0aW1lQ29uc3RyYWludHM6IFRpbWVDb25zdHJhaW50cyxcbiAgY29uZmlnOiBPcHRpbWl6YXRpb25Db25maWcsXG4gIHN0YXRzOiBBbGdvcml0aG1TdGF0c1xuKTogUm91dGVTb2x1dGlvbltdIHtcbiAgY29uc3QgY2FuZGlkYXRlczogUm91dGVTb2x1dGlvbltdID0gW11cbiAgXG4gIC8vIFN0cmF0ZWd5IDE6IERlc2lyYWJpbGl0eS1ncmVlZHkgZnJvbSB0b3AgY2x1c3RlcnNcbiAgY29uc3QgdG9wQ2x1c3RlcnMgPSBbLi4uY2x1c3RlcnNdXG4gICAgLnNvcnQoKGEsIGIpID0+IGIudG90YWxEZXNpcmFiaWxpdHkgLSBhLnRvdGFsRGVzaXJhYmlsaXR5KVxuICAgIC5zbGljZSgwLCAzKVxuICBcbiAgZm9yIChjb25zdCBzdGFydENsdXN0ZXIgb2YgdG9wQ2x1c3RlcnMpIHtcbiAgICBjb25zdCByb3V0ZSA9IGdlbmVyYXRlRGVzaXJhYmlsaXR5R3JlZWR5Um91dGUoXG4gICAgICBbc3RhcnRDbHVzdGVyXSxcbiAgICAgIGNsdXN0ZXJzLmZpbHRlcihjID0+IGMuaWQgIT09IHN0YXJ0Q2x1c3Rlci5pZCksXG4gICAgICBkZXBhcnR1cmVMb2NhdGlvbixcbiAgICAgIHJldHVybkxvY2F0aW9uLFxuICAgICAgcHJlZmVyZW5jZXMsXG4gICAgICB1c2VyS2V5cyxcbiAgICAgIHRpbWVDb25zdHJhaW50c1xuICAgIClcbiAgICBjYW5kaWRhdGVzLnB1c2gocm91dGUpXG4gICAgc3RhdHMuY2FuZGlkYXRlc0dlbmVyYXRlZCsrXG4gIH1cbiAgXG4gIC8vIFN0cmF0ZWd5IDI6IFF1YW50aXR5LW1heGltaXppbmcgcm91dGVzXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgY29uc3Qgcm91dGUgPSBnZW5lcmF0ZVF1YW50aXR5TWF4aW1pemluZ1JvdXRlKFxuICAgICAgY2x1c3RlcnMsXG4gICAgICBkZXBhcnR1cmVMb2NhdGlvbixcbiAgICAgIHJldHVybkxvY2F0aW9uLFxuICAgICAgcHJlZmVyZW5jZXMsXG4gICAgICB1c2VyS2V5cyxcbiAgICAgIHRpbWVDb25zdHJhaW50c1xuICAgIClcbiAgICBjYW5kaWRhdGVzLnB1c2gocm91dGUpXG4gICAgc3RhdHMuY2FuZGlkYXRlc0dlbmVyYXRlZCsrXG4gIH1cbiAgXG4gIC8vIFN0cmF0ZWd5IDM6IE5lYXJlc3QgbmVpZ2hib3IgVFNQXG4gIGNvbnN0IG5uUm91dGUgPSBjcmVhdGVSb3V0ZVNvbHV0aW9uKFxuICAgIG5lYXJlc3ROZWlnaGJvclRTUChkZXBhcnR1cmVMb2NhdGlvbiwgY2x1c3RlcnMsIHJldHVybkxvY2F0aW9uKSxcbiAgICBkZXBhcnR1cmVMb2NhdGlvbixcbiAgICByZXR1cm5Mb2NhdGlvbixcbiAgICBwcmVmZXJlbmNlcyxcbiAgICB1c2VyS2V5cyxcbiAgICB0aW1lQ29uc3RyYWludHNcbiAgKVxuICBjYW5kaWRhdGVzLnB1c2gobm5Sb3V0ZSlcbiAgc3RhdHMuY2FuZGlkYXRlc0dlbmVyYXRlZCsrXG4gIFxuICAvLyBTdHJhdGVneSA0OiBSYW5kb20gZXhwbG9yYXRpb25cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb25maWcucmFuZG9tRXhwbG9yYXRpb25zICYmIHN0YXRzLmNhbmRpZGF0ZXNHZW5lcmF0ZWQgPCBjb25maWcubWF4SXRlcmF0aW9uczsgaSsrKSB7XG4gICAgY29uc3QgcmFuZG9tUm91dGUgPSBjcmVhdGVSb3V0ZVNvbHV0aW9uKFxuICAgICAgZ2VuZXJhdGVSYW5kb21Sb3V0ZShjbHVzdGVycyksXG4gICAgICBkZXBhcnR1cmVMb2NhdGlvbixcbiAgICAgIHJldHVybkxvY2F0aW9uLFxuICAgICAgcHJlZmVyZW5jZXMsXG4gICAgICB1c2VyS2V5cyxcbiAgICAgIHRpbWVDb25zdHJhaW50c1xuICAgIClcbiAgICBjYW5kaWRhdGVzLnB1c2gocmFuZG9tUm91dGUpXG4gICAgc3RhdHMuY2FuZGlkYXRlc0dlbmVyYXRlZCsrXG4gIH1cbiAgXG4gIHJldHVybiBjYW5kaWRhdGVzXG59XG5cbi8qKlxuICogR2VuZXJhdGUgZGVzaXJhYmlsaXR5LWdyZWVkeSByb3V0ZVxuICovXG5mdW5jdGlvbiBnZW5lcmF0ZURlc2lyYWJpbGl0eUdyZWVkeVJvdXRlKFxuICBzdGFydENsdXN0ZXJzOiBEZXN0aW5hdGlvbkNsdXN0ZXJbXSxcbiAgcmVtYWluaW5nQ2x1c3RlcnM6IERlc3RpbmF0aW9uQ2x1c3RlcltdLFxuICBkZXBhcnR1cmVMb2NhdGlvbjogTG9jYXRpb24sXG4gIHJldHVybkxvY2F0aW9uOiBMb2NhdGlvbiB8IG51bGwsXG4gIHByZWZlcmVuY2VzOiBTdGFuZGFyZGl6ZWRQcmVmZXJlbmNlW10sXG4gIHVzZXJLZXlzOiBTZXQ8c3RyaW5nPixcbiAgdGltZUNvbnN0cmFpbnRzOiBUaW1lQ29uc3RyYWludHNcbik6IFJvdXRlU29sdXRpb24ge1xuICBjb25zdCByb3V0ZSA9IGdlbmVyYXRlUm91dGVXaXRoU3RhcnQoc3RhcnRDbHVzdGVycywgcmVtYWluaW5nQ2x1c3RlcnMsIGRlcGFydHVyZUxvY2F0aW9uKVxuICBcbiAgLy8gVHJpbSByb3V0ZSB0byBmaXQgdGltZSBjb25zdHJhaW50cyBpZiBuZWVkZWRcbiAgY29uc3QgdHJpbW1lZFJvdXRlID0gdHJpbVJvdXRlVG9UaW1lQ29uc3RyYWludChcbiAgICByb3V0ZSxcbiAgICBkZXBhcnR1cmVMb2NhdGlvbixcbiAgICByZXR1cm5Mb2NhdGlvbixcbiAgICB0aW1lQ29uc3RyYWludHNcbiAgKVxuICBcbiAgcmV0dXJuIGNyZWF0ZVJvdXRlU29sdXRpb24oXG4gICAgdHJpbW1lZFJvdXRlLFxuICAgIGRlcGFydHVyZUxvY2F0aW9uLFxuICAgIHJldHVybkxvY2F0aW9uLFxuICAgIHByZWZlcmVuY2VzLFxuICAgIHVzZXJLZXlzLFxuICAgIHRpbWVDb25zdHJhaW50c1xuICApXG59XG5cbi8qKlxuICogR2VuZXJhdGUgcXVhbnRpdHktbWF4aW1pemluZyByb3V0ZVxuICovXG5mdW5jdGlvbiBnZW5lcmF0ZVF1YW50aXR5TWF4aW1pemluZ1JvdXRlKFxuICBjbHVzdGVyczogRGVzdGluYXRpb25DbHVzdGVyW10sXG4gIGRlcGFydHVyZUxvY2F0aW9uOiBMb2NhdGlvbixcbiAgcmV0dXJuTG9jYXRpb246IExvY2F0aW9uIHwgbnVsbCxcbiAgcHJlZmVyZW5jZXM6IFN0YW5kYXJkaXplZFByZWZlcmVuY2VbXSxcbiAgdXNlcktleXM6IFNldDxzdHJpbmc+LFxuICB0aW1lQ29uc3RyYWludHM6IFRpbWVDb25zdHJhaW50c1xuKTogUm91dGVTb2x1dGlvbiB7XG4gIC8vIFNvcnQgYnkgc3RheSB0aW1lIChzaG9ydGVzdCBmaXJzdCkgdG8gbWF4aW1pemUgcXVhbnRpdHlcbiAgY29uc3Qgc29ydGVkQ2x1c3RlcnMgPSBbLi4uY2x1c3RlcnNdLnNvcnQoXG4gICAgKGEsIGIpID0+IGEuYXZlcmFnZVN0YXlUaW1lIC0gYi5hdmVyYWdlU3RheVRpbWVcbiAgKVxuICBcbiAgLy8gQnVpbGQgcm91dGUgdXNpbmcgbmVhcmVzdCBuZWlnaGJvciBvbiBzb3J0ZWQgY2x1c3RlcnNcbiAgY29uc3Qgcm91dGUgPSBuZWFyZXN0TmVpZ2hib3JUU1AoZGVwYXJ0dXJlTG9jYXRpb24sIHNvcnRlZENsdXN0ZXJzLCByZXR1cm5Mb2NhdGlvbilcbiAgXG4gIC8vIFRyaW0gdG8gZml0IGNvbnN0cmFpbnRzXG4gIGNvbnN0IHRyaW1tZWRSb3V0ZSA9IHRyaW1Sb3V0ZVRvVGltZUNvbnN0cmFpbnQoXG4gICAgcm91dGUsXG4gICAgZGVwYXJ0dXJlTG9jYXRpb24sXG4gICAgcmV0dXJuTG9jYXRpb24sXG4gICAgdGltZUNvbnN0cmFpbnRzXG4gIClcbiAgXG4gIHJldHVybiBjcmVhdGVSb3V0ZVNvbHV0aW9uKFxuICAgIHRyaW1tZWRSb3V0ZSxcbiAgICBkZXBhcnR1cmVMb2NhdGlvbixcbiAgICByZXR1cm5Mb2NhdGlvbixcbiAgICBwcmVmZXJlbmNlcyxcbiAgICB1c2VyS2V5cyxcbiAgICB0aW1lQ29uc3RyYWludHNcbiAgKVxufVxuXG4vKipcbiAqIEFwcGx5IDItb3B0IGltcHJvdmVtZW50cyB0byB0b3AgY2FuZGlkYXRlc1xuICovXG5mdW5jdGlvbiBhcHBseVR3b09wdEltcHJvdmVtZW50cyhcbiAgY2FuZGlkYXRlczogUm91dGVTb2x1dGlvbltdLFxuICBkZXBhcnR1cmVMb2NhdGlvbjogTG9jYXRpb24sXG4gIHJldHVybkxvY2F0aW9uOiBMb2NhdGlvbiB8IG51bGwsXG4gIHByZWZlcmVuY2VzOiBTdGFuZGFyZGl6ZWRQcmVmZXJlbmNlW10sXG4gIHVzZXJLZXlzOiBTZXQ8c3RyaW5nPixcbiAgdGltZUNvbnN0cmFpbnRzOiBUaW1lQ29uc3RyYWludHMsXG4gIGNvbmZpZzogT3B0aW1pemF0aW9uQ29uZmlnLFxuICBzdGF0czogQWxnb3JpdGhtU3RhdHNcbik6IFJvdXRlU29sdXRpb25bXSB7XG4gIGNvbnN0IGltcHJvdmVkOiBSb3V0ZVNvbHV0aW9uW10gPSBbXVxuICBcbiAgLy8gU2VsZWN0IHRvcCBjYW5kaWRhdGVzIGZvciBpbXByb3ZlbWVudFxuICBjb25zdCB0b3BDYW5kaWRhdGVzID0gY2FuZGlkYXRlc1xuICAgIC5maWx0ZXIoYyA9PiBjLmZlYXNpYmxlKVxuICAgIC5zb3J0KChhLCBiKSA9PiBiLmNvbXBvc2l0ZVNjb3JlIC0gYS5jb21wb3NpdGVTY29yZSlcbiAgICAuc2xpY2UoMCwgY29uZmlnLnRvcENhbmRpZGF0ZXNUb0ltcHJvdmUpXG4gIFxuICBmb3IgKGNvbnN0IGNhbmRpZGF0ZSBvZiB0b3BDYW5kaWRhdGVzKSB7XG4gICAgY29uc3QgeyBpbXByb3ZlZFJvdXRlLCByZXN1bHQgfSA9IHR3b09wdEltcHJvdmVtZW50KFxuICAgICAgY2FuZGlkYXRlLmNsdXN0ZXJzLFxuICAgICAgZGVwYXJ0dXJlTG9jYXRpb24sXG4gICAgICByZXR1cm5Mb2NhdGlvblxuICAgIClcbiAgICBcbiAgICBpZiAocmVzdWx0LmltcHJvdmVkKSB7XG4gICAgICBzdGF0cy50d29PcHRJbXByb3ZlbWVudHMrK1xuICAgICAgY29uc3QgaW1wcm92ZWRTb2x1dGlvbiA9IGNyZWF0ZVJvdXRlU29sdXRpb24oXG4gICAgICAgIGltcHJvdmVkUm91dGUsXG4gICAgICAgIGRlcGFydHVyZUxvY2F0aW9uLFxuICAgICAgICByZXR1cm5Mb2NhdGlvbixcbiAgICAgICAgcHJlZmVyZW5jZXMsXG4gICAgICAgIHVzZXJLZXlzLFxuICAgICAgICB0aW1lQ29uc3RyYWludHNcbiAgICAgIClcbiAgICAgIGltcHJvdmVkLnB1c2goaW1wcm92ZWRTb2x1dGlvbilcbiAgICAgIHN0YXRzLmNhbmRpZGF0ZXNHZW5lcmF0ZWQrK1xuICAgIH1cbiAgfVxuICBcbiAgcmV0dXJuIGltcHJvdmVkXG59XG5cbi8qKlxuICogQ3JlYXRlIGEgcm91dGUgc29sdXRpb24gd2l0aCBhbGwgbWV0cmljc1xuICovXG5mdW5jdGlvbiBjcmVhdGVSb3V0ZVNvbHV0aW9uKFxuICBjbHVzdGVyczogRGVzdGluYXRpb25DbHVzdGVyW10sXG4gIGRlcGFydHVyZUxvY2F0aW9uOiBMb2NhdGlvbixcbiAgcmV0dXJuTG9jYXRpb246IExvY2F0aW9uIHwgbnVsbCxcbiAgcHJlZmVyZW5jZXM6IFN0YW5kYXJkaXplZFByZWZlcmVuY2VbXSxcbiAgdXNlcktleXM6IFNldDxzdHJpbmc+LFxuICB0aW1lQ29uc3RyYWludHM6IFRpbWVDb25zdHJhaW50c1xuKTogUm91dGVTb2x1dGlvbiB7XG4gIC8vIENhbGN1bGF0ZSByb3V0ZSBtZXRyaWNzXG4gIGNvbnN0IHJvdXRlTWV0cmljcyA9IGNhbGN1bGF0ZVJvdXRlTWV0cmljcyhcbiAgICBkZXBhcnR1cmVMb2NhdGlvbixcbiAgICBjbHVzdGVycyxcbiAgICByZXR1cm5Mb2NhdGlvblxuICApXG4gIFxuICAvLyBDYWxjdWxhdGUgZmFpcm5lc3NcbiAgY29uc3QgZmFpcm5lc3NSZXN1bHQgPSBjYWxjdWxhdGVGYWlybmVzcyhjbHVzdGVycywgcHJlZmVyZW5jZXMsIHVzZXJLZXlzKVxuICBcbiAgLy8gQ2FsY3VsYXRlIHF1YW50aXR5IHNjb3JlXG4gIGNvbnN0IHRvdGFsQ2x1c3RlcnMgPSBwcmVmZXJlbmNlcy5sZW5ndGggPiAwIFxuICAgID8gbmV3IFNldChwcmVmZXJlbmNlcy5tYXAocCA9PiBwLmRlc3RpbmF0aW9uSWQpKS5zaXplIFxuICAgIDogMVxuICBjb25zdCBxdWFudGl0eVNjb3JlID0gdG90YWxDbHVzdGVycyA+IDAgPyBjbHVzdGVycy5sZW5ndGggLyB0b3RhbENsdXN0ZXJzIDogMFxuICBcbiAgLy8gQ2FsY3VsYXRlIGNvbXBvc2l0ZSBzY29yZVxuICBjb25zdCBjb21wb3NpdGVTY29yZSA9IFxuICAgIGZhaXJuZXNzUmVzdWx0LmZhaXJuZXNzU2NvcmUgKiAwLjYgKyBcbiAgICBxdWFudGl0eVNjb3JlICogMC40XG4gIFxuICAvLyBWYWxpZGF0ZSBmZWFzaWJpbGl0eVxuICBjb25zdCBmZWFzaWJpbGl0eUNoZWNrID0gdmFsaWRhdGVSb3V0ZUZlYXNpYmlsaXR5KFxuICAgIHJvdXRlTWV0cmljcy50b3RhbFRpbWVIb3VycyxcbiAgICB0aW1lQ29uc3RyYWludHMudG90YWxBdmFpbGFibGVIb3VycyxcbiAgICByb3V0ZU1ldHJpY3MudHJhbnNwb3J0TW9kZXNcbiAgKVxuICBcbiAgLy8gQ3JlYXRlIG1lbWJlciBzYXRpc2ZhY3Rpb24gbWFwXG4gIGNvbnN0IG1lbWJlclNhdGlzZmFjdGlvbiA9IG5ldyBNYXA8c3RyaW5nLCBudW1iZXI+KClcbiAgZmFpcm5lc3NSZXN1bHQudXNlclNhdGlzZmFjdGlvbnMuZm9yRWFjaCh1cyA9PiB7XG4gICAgbWVtYmVyU2F0aXNmYWN0aW9uLnNldCh1cy51c2VyS2V5LCB1cy5zYXRpc2ZhY3Rpb25TY29yZSlcbiAgfSlcbiAgXG4gIHJldHVybiB7XG4gICAgY2x1c3RlcnMsXG4gICAgc2VnbWVudHM6IHJvdXRlTWV0cmljcy5zZWdtZW50cyxcbiAgICB0b3RhbERpc3RhbmNlS206IHJvdXRlTWV0cmljcy50b3RhbERpc3RhbmNlS20sXG4gICAgdG90YWxUaW1lSG91cnM6IHJvdXRlTWV0cmljcy50b3RhbFRpbWVIb3VycyxcbiAgICBmYWlybmVzc1Njb3JlOiBmYWlybmVzc1Jlc3VsdC5mYWlybmVzc1Njb3JlLFxuICAgIHF1YW50aXR5U2NvcmUsXG4gICAgY29tcG9zaXRlU2NvcmUsXG4gICAgbWVtYmVyU2F0aXNmYWN0aW9uLFxuICAgIGZlYXNpYmxlOiBmZWFzaWJpbGl0eUNoZWNrLmZlYXNpYmxlLFxuICAgIGlzc3VlczogZmVhc2liaWxpdHlDaGVjay5pc3N1ZXNcbiAgfVxufVxuXG4vKipcbiAqIFRyaW0gcm91dGUgdG8gZml0IHdpdGhpbiB0aW1lIGNvbnN0cmFpbnRzXG4gKi9cbmZ1bmN0aW9uIHRyaW1Sb3V0ZVRvVGltZUNvbnN0cmFpbnQoXG4gIHJvdXRlOiBEZXN0aW5hdGlvbkNsdXN0ZXJbXSxcbiAgZGVwYXJ0dXJlTG9jYXRpb246IExvY2F0aW9uLFxuICByZXR1cm5Mb2NhdGlvbjogTG9jYXRpb24gfCBudWxsLFxuICB0aW1lQ29uc3RyYWludHM6IFRpbWVDb25zdHJhaW50c1xuKTogRGVzdGluYXRpb25DbHVzdGVyW10ge1xuICBpZiAodGltZUNvbnN0cmFpbnRzLm1vZGUgPT09ICdhdXRvJyB8fCAhdGltZUNvbnN0cmFpbnRzLnRvdGFsQXZhaWxhYmxlSG91cnMpIHtcbiAgICByZXR1cm4gcm91dGVcbiAgfVxuICBcbiAgY29uc3QgdHJpbW1lZFJvdXRlOiBEZXN0aW5hdGlvbkNsdXN0ZXJbXSA9IFtdXG4gIGxldCBjdXJyZW50VGltZSA9IDBcbiAgXG4gIGZvciAoY29uc3QgY2x1c3RlciBvZiByb3V0ZSkge1xuICAgIGNvbnN0IHRlc3RSb3V0ZSA9IFsuLi50cmltbWVkUm91dGUsIGNsdXN0ZXJdXG4gICAgY29uc3QgbWV0cmljcyA9IGNhbGN1bGF0ZVJvdXRlTWV0cmljcyhcbiAgICAgIGRlcGFydHVyZUxvY2F0aW9uLFxuICAgICAgdGVzdFJvdXRlLFxuICAgICAgcmV0dXJuTG9jYXRpb25cbiAgICApXG4gICAgXG4gICAgaWYgKG1ldHJpY3MudG90YWxUaW1lSG91cnMgPD0gdGltZUNvbnN0cmFpbnRzLnRvdGFsQXZhaWxhYmxlSG91cnMpIHtcbiAgICAgIHRyaW1tZWRSb3V0ZS5wdXNoKGNsdXN0ZXIpXG4gICAgICBjdXJyZW50VGltZSA9IG1ldHJpY3MudG90YWxUaW1lSG91cnNcbiAgICB9IGVsc2Uge1xuICAgICAgYnJlYWsgLy8gU3RvcCBhZGRpbmcgY2x1c3RlcnNcbiAgICB9XG4gIH1cbiAgXG4gIHJldHVybiB0cmltbWVkUm91dGVcbn1cblxuLyoqXG4gKiBVcGRhdGUgYWxnb3JpdGhtIHN0YXRpc3RpY3NcbiAqL1xuZnVuY3Rpb24gdXBkYXRlU3RhdGlzdGljcyhzb2x1dGlvbnM6IFJvdXRlU29sdXRpb25bXSwgc3RhdHM6IEFsZ29yaXRobVN0YXRzKTogdm9pZCB7XG4gIGNvbnN0IGZlYXNpYmxlID0gc29sdXRpb25zLmZpbHRlcihzID0+IHMuZmVhc2libGUpXG4gIHN0YXRzLmZlYXNpYmxlU29sdXRpb25zID0gZmVhc2libGUubGVuZ3RoXG4gIHN0YXRzLmluZmVhc2libGVTb2x1dGlvbnMgPSBzb2x1dGlvbnMubGVuZ3RoIC0gZmVhc2libGUubGVuZ3RoXG4gIFxuICBpZiAoc29sdXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICBjb25zdCBmYWlybmVzc1Njb3JlcyA9IHNvbHV0aW9ucy5tYXAocyA9PiBzLmZhaXJuZXNzU2NvcmUpXG4gICAgY29uc3QgcXVhbnRpdHlTY29yZXMgPSBzb2x1dGlvbnMubWFwKHMgPT4gcy5xdWFudGl0eVNjb3JlKVxuICAgIFxuICAgIHN0YXRzLmF2ZXJhZ2VGYWlybmVzcyA9IGZhaXJuZXNzU2NvcmVzLnJlZHVjZSgoYSwgYikgPT4gYSArIGIsIDApIC8gZmFpcm5lc3NTY29yZXMubGVuZ3RoXG4gICAgc3RhdHMuYmVzdEZhaXJuZXNzID0gTWF0aC5tYXgoLi4uZmFpcm5lc3NTY29yZXMpXG4gICAgc3RhdHMuYXZlcmFnZVF1YW50aXR5ID0gcXVhbnRpdHlTY29yZXMucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCkgLyBxdWFudGl0eVNjb3Jlcy5sZW5ndGhcbiAgICBzdGF0cy5iZXN0UXVhbnRpdHkgPSBNYXRoLm1heCguLi5xdWFudGl0eVNjb3JlcylcbiAgfVxufVxuXG4vKipcbiAqIENyZWF0ZSBlbXB0eSByZXN1bHRcbiAqL1xuZnVuY3Rpb24gY3JlYXRlRW1wdHlSZXN1bHQoc3RhcnRUaW1lOiBudW1iZXIpOiBPcHRpbWl6YXRpb25SZXN1bHQge1xuICBjb25zdCBlbXB0eVNvbHV0aW9uOiBSb3V0ZVNvbHV0aW9uID0ge1xuICAgIGNsdXN0ZXJzOiBbXSxcbiAgICBzZWdtZW50czogW10sXG4gICAgdG90YWxEaXN0YW5jZUttOiAwLFxuICAgIHRvdGFsVGltZUhvdXJzOiAwLFxuICAgIGZhaXJuZXNzU2NvcmU6IDEsXG4gICAgcXVhbnRpdHlTY29yZTogMCxcbiAgICBjb21wb3NpdGVTY29yZTogMC42LFxuICAgIG1lbWJlclNhdGlzZmFjdGlvbjogbmV3IE1hcCgpLFxuICAgIGZlYXNpYmxlOiB0cnVlLFxuICAgIGlzc3VlczogW11cbiAgfVxuICBcbiAgcmV0dXJuIHtcbiAgICBiZXN0U29sdXRpb246IGVtcHR5U29sdXRpb24sXG4gICAgYWxsU29sdXRpb25zOiBbZW1wdHlTb2x1dGlvbl0sXG4gICAgZXhlY3V0aW9uVGltZU1zOiBEYXRlLm5vdygpIC0gc3RhcnRUaW1lLFxuICAgIGl0ZXJhdGlvbnNQZXJmb3JtZWQ6IDAsXG4gICAgZWFybHlUZXJtaW5hdGlvbjogZmFsc2VcbiAgfVxufVxuXG4vKipcbiAqIENyZWF0ZSBzaW5nbGUgY2x1c3RlciByZXN1bHRcbiAqL1xuZnVuY3Rpb24gY3JlYXRlU2luZ2xlQ2x1c3RlclJlc3VsdChcbiAgY2x1c3RlcjogRGVzdGluYXRpb25DbHVzdGVyLFxuICBkZXBhcnR1cmVMb2NhdGlvbjogTG9jYXRpb24sXG4gIHJldHVybkxvY2F0aW9uOiBMb2NhdGlvbiB8IG51bGwsXG4gIHByZWZlcmVuY2VzOiBTdGFuZGFyZGl6ZWRQcmVmZXJlbmNlW10sXG4gIHVzZXJLZXlzOiBTZXQ8c3RyaW5nPixcbiAgdGltZUNvbnN0cmFpbnRzOiBUaW1lQ29uc3RyYWludHMsXG4gIHN0YXJ0VGltZTogbnVtYmVyXG4pOiBPcHRpbWl6YXRpb25SZXN1bHQge1xuICBjb25zdCBzb2x1dGlvbiA9IGNyZWF0ZVJvdXRlU29sdXRpb24oXG4gICAgW2NsdXN0ZXJdLFxuICAgIGRlcGFydHVyZUxvY2F0aW9uLFxuICAgIHJldHVybkxvY2F0aW9uLFxuICAgIHByZWZlcmVuY2VzLFxuICAgIHVzZXJLZXlzLFxuICAgIHRpbWVDb25zdHJhaW50c1xuICApXG4gIFxuICByZXR1cm4ge1xuICAgIGJlc3RTb2x1dGlvbjogc29sdXRpb24sXG4gICAgYWxsU29sdXRpb25zOiBbc29sdXRpb25dLFxuICAgIGV4ZWN1dGlvblRpbWVNczogRGF0ZS5ub3coKSAtIHN0YXJ0VGltZSxcbiAgICBpdGVyYXRpb25zUGVyZm9ybWVkOiAxLFxuICAgIGVhcmx5VGVybWluYXRpb246IGZhbHNlXG4gIH1cbn1cblxuLyoqXG4gKiBDcmVhdGUgb3B0aW1pemF0aW9uIHJlc3VsdFxuICovXG5mdW5jdGlvbiBjcmVhdGVSZXN1bHQoXG4gIGJlc3RTb2x1dGlvbjogUm91dGVTb2x1dGlvbixcbiAgYWxsU29sdXRpb25zOiBSb3V0ZVNvbHV0aW9uW10sXG4gIHN0YXJ0VGltZTogbnVtYmVyLFxuICBpdGVyYXRpb25zOiBudW1iZXIsXG4gIGVhcmx5VGVybWluYXRpb246IGJvb2xlYW5cbik6IE9wdGltaXphdGlvblJlc3VsdCB7XG4gIHJldHVybiB7XG4gICAgYmVzdFNvbHV0aW9uLFxuICAgIGFsbFNvbHV0aW9ucyxcbiAgICBleGVjdXRpb25UaW1lTXM6IERhdGUubm93KCkgLSBzdGFydFRpbWUsXG4gICAgaXRlcmF0aW9uc1BlcmZvcm1lZDogaXRlcmF0aW9ucyxcbiAgICBlYXJseVRlcm1pbmF0aW9uXG4gIH1cbn0iXSwibmFtZXMiOlsiY2FsY3VsYXRlRmFpcm5lc3MiLCJjYWxjdWxhdGVSb3V0ZU1ldHJpY3MiLCJ2YWxpZGF0ZVJvdXRlRmVhc2liaWxpdHkiLCJuZWFyZXN0TmVpZ2hib3JUU1AiLCJ0d29PcHRJbXByb3ZlbWVudCIsImdlbmVyYXRlUmFuZG9tUm91dGUiLCJnZW5lcmF0ZVJvdXRlV2l0aFN0YXJ0IiwiREVGQVVMVF9DT05GSUciLCJtYXhJdGVyYXRpb25zIiwiZmFpcm5lc3NXZWlnaHQiLCJxdWFudGl0eVdlaWdodCIsImVhcmx5VGVybWluYXRpb25UaHJlc2hvbGQiLCJyYW5kb21FeHBsb3JhdGlvbnMiLCJ0b3BDYW5kaWRhdGVzVG9JbXByb3ZlIiwib3B0aW1pemVSb3V0ZSIsIm5vcm1hbGl6ZWREYXRhIiwiZGVwYXJ0dXJlTG9jYXRpb24iLCJyZXR1cm5Mb2NhdGlvbiIsImNvbmZpZyIsInN0YXJ0VGltZSIsIkRhdGUiLCJub3ciLCJmaW5hbENvbmZpZyIsImNsdXN0ZXJzIiwiY2x1c3RlcmluZyIsInN0YW5kYXJkaXplZFByZWZlcmVuY2VzIiwibm9ybWFsaXphdGlvbiIsInRpbWVDb25zdHJhaW50cyIsInVzZXJLZXlzIiwiU2V0IiwibWFwIiwicCIsInVzZXJJZCIsInNlc3Npb25JZCIsImxlbmd0aCIsImNyZWF0ZUVtcHR5UmVzdWx0IiwiY3JlYXRlU2luZ2xlQ2x1c3RlclJlc3VsdCIsImFsbFNvbHV0aW9ucyIsInN0YXRzIiwiY2FuZGlkYXRlc0dlbmVyYXRlZCIsImZlYXNpYmxlU29sdXRpb25zIiwiaW5mZWFzaWJsZVNvbHV0aW9ucyIsImF2ZXJhZ2VGYWlybmVzcyIsImJlc3RGYWlybmVzcyIsImF2ZXJhZ2VRdWFudGl0eSIsImJlc3RRdWFudGl0eSIsInR3b09wdEltcHJvdmVtZW50cyIsImNhY2hlSGl0cyIsImNvbnNvbGUiLCJsb2ciLCJjYW5kaWRhdGVzIiwiZ2VuZXJhdGVDYW5kaWRhdGVTb2x1dGlvbnMiLCJwdXNoIiwiYmVzdENhbmRpZGF0ZSIsImZpbHRlciIsImMiLCJmZWFzaWJsZSIsInNvcnQiLCJhIiwiYiIsImNvbXBvc2l0ZVNjb3JlIiwiZmFpcm5lc3NTY29yZSIsImNyZWF0ZVJlc3VsdCIsImltcHJvdmVkU29sdXRpb25zIiwiYXBwbHlUd29PcHRJbXByb3ZlbWVudHMiLCJzIiwiYmVzdFNvbHV0aW9uIiwidXBkYXRlU3RhdGlzdGljcyIsInRvRml4ZWQiLCJwcmVmZXJlbmNlcyIsInRvcENsdXN0ZXJzIiwidG90YWxEZXNpcmFiaWxpdHkiLCJzbGljZSIsInN0YXJ0Q2x1c3RlciIsInJvdXRlIiwiZ2VuZXJhdGVEZXNpcmFiaWxpdHlHcmVlZHlSb3V0ZSIsImlkIiwiaSIsImdlbmVyYXRlUXVhbnRpdHlNYXhpbWl6aW5nUm91dGUiLCJublJvdXRlIiwiY3JlYXRlUm91dGVTb2x1dGlvbiIsInJhbmRvbVJvdXRlIiwic3RhcnRDbHVzdGVycyIsInJlbWFpbmluZ0NsdXN0ZXJzIiwidHJpbW1lZFJvdXRlIiwidHJpbVJvdXRlVG9UaW1lQ29uc3RyYWludCIsInNvcnRlZENsdXN0ZXJzIiwiYXZlcmFnZVN0YXlUaW1lIiwiaW1wcm92ZWQiLCJ0b3BDYW5kaWRhdGVzIiwiY2FuZGlkYXRlIiwiaW1wcm92ZWRSb3V0ZSIsInJlc3VsdCIsImltcHJvdmVkU29sdXRpb24iLCJyb3V0ZU1ldHJpY3MiLCJmYWlybmVzc1Jlc3VsdCIsInRvdGFsQ2x1c3RlcnMiLCJkZXN0aW5hdGlvbklkIiwic2l6ZSIsInF1YW50aXR5U2NvcmUiLCJmZWFzaWJpbGl0eUNoZWNrIiwidG90YWxUaW1lSG91cnMiLCJ0b3RhbEF2YWlsYWJsZUhvdXJzIiwidHJhbnNwb3J0TW9kZXMiLCJtZW1iZXJTYXRpc2ZhY3Rpb24iLCJNYXAiLCJ1c2VyU2F0aXNmYWN0aW9ucyIsImZvckVhY2giLCJ1cyIsInNldCIsInVzZXJLZXkiLCJzYXRpc2ZhY3Rpb25TY29yZSIsInNlZ21lbnRzIiwidG90YWxEaXN0YW5jZUttIiwiaXNzdWVzIiwibW9kZSIsImN1cnJlbnRUaW1lIiwiY2x1c3RlciIsInRlc3RSb3V0ZSIsIm1ldHJpY3MiLCJzb2x1dGlvbnMiLCJmYWlybmVzc1Njb3JlcyIsInF1YW50aXR5U2NvcmVzIiwicmVkdWNlIiwiTWF0aCIsIm1heCIsImVtcHR5U29sdXRpb24iLCJleGVjdXRpb25UaW1lTXMiLCJpdGVyYXRpb25zUGVyZm9ybWVkIiwiZWFybHlUZXJtaW5hdGlvbiIsInNvbHV0aW9uIiwiaXRlcmF0aW9ucyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./lib/optimization/route-optimizer.ts\n");

/***/ }),

/***/ "(action-browser)/./lib/optimization/route-visualizer.ts":
/*!**********************************************!*\
  !*** ./lib/optimization/route-visualizer.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   formatItineraryAsText: () => (/* binding */ formatItineraryAsText),\n/* harmony export */   formatItineraryForCalendar: () => (/* binding */ formatItineraryForCalendar),\n/* harmony export */   generateMapData: () => (/* binding */ generateMapData)\n/* harmony export */ });\n// Route visualization and formatting helpers\n/**\n * Format detailed itinerary as human-readable text\n */ function formatItineraryAsText(itinerary) {\n    let output = \"## \\uD83D\\uDDFA️ Detailed Trip Itinerary\\n\\n\";\n    // Trip overview\n    output += \"### \\uD83D\\uDCCA Trip Overview\\n\";\n    output += `- **Duration**: ${itinerary.summary.totalDays} days\\n`;\n    output += `- **Start**: ${formatDate(itinerary.startDate)}\\n`;\n    output += `- **End**: ${formatDate(itinerary.endDate)}\\n`;\n    output += `- **Destinations**: ${itinerary.summary.totalDestinations} locations across ${itinerary.summary.totalClusters} regions\\n`;\n    output += `- **Total Distance**: ${itinerary.summary.totalDistanceKm.toFixed(0)} km\\n`;\n    output += `- **Travel Time**: ${itinerary.summary.totalTravelTimeHours.toFixed(1)} hours\\n`;\n    output += `- **Visit Time**: ${itinerary.summary.totalVisitTimeHours.toFixed(1)} hours\\n\\n`;\n    // Transport summary\n    output += \"### \\uD83D\\uDE80 Transportation\\n\";\n    const modes = itinerary.summary.transportModes;\n    if (modes.walkingSegments > 0) {\n        output += `- 🚶 Walking: ${modes.walkingSegments} segments (${modes.walkingDistanceKm.toFixed(1)} km)\\n`;\n    }\n    if (modes.drivingSegments > 0) {\n        output += `- 🚗 Driving: ${modes.drivingSegments} segments (${modes.drivingDistanceKm.toFixed(0)} km)\\n`;\n    }\n    if (modes.flyingSegments > 0) {\n        output += `- ✈️ Flying: ${modes.flyingSegments} segments (${modes.flyingDistanceKm.toFixed(0)} km)\\n`;\n    }\n    output += \"\\n\";\n    // User satisfaction\n    output += \"### \\uD83D\\uDC65 Group Satisfaction\\n\";\n    for (const userStat of itinerary.summary.userSatisfactionSummary){\n        const emoji = userStat.satisfactionPercentage >= 70 ? \"\\uD83D\\uDE0A\" : userStat.satisfactionPercentage >= 40 ? \"\\uD83D\\uDE10\" : \"\\uD83D\\uDE15\";\n        output += `- ${emoji} **${userStat.member.display_name}**: ${userStat.visitedWishlistCount}/${userStat.totalWishlistCount} wishes (${userStat.satisfactionPercentage.toFixed(0)}%)\\n`;\n    }\n    output += \"\\n\";\n    // Daily breakdown\n    output += \"### \\uD83D\\uDCC5 Day-by-Day Itinerary\\n\\n\";\n    output += formatDailyItinerary(itinerary.destinationVisits, itinerary.transportSegments);\n    // Warnings\n    if (itinerary.validation.warnings.length > 0) {\n        output += \"\\n### ⚠️ Notes and Warnings\\n\";\n        for (const warning of itinerary.validation.warnings){\n            output += `- ${warning.message}\\n`;\n        }\n    }\n    return output;\n}\n/**\n * Format daily itinerary breakdown\n */ function formatDailyItinerary(visits, segments) {\n    let output = \"\";\n    let currentDay = 1;\n    let currentDate = null;\n    // Create segment lookup map\n    const segmentsByArrival = new Map();\n    for (const segment of segments){\n        const key = `${segment.toLocation.latitude},${segment.toLocation.longitude}`;\n        segmentsByArrival.set(key, segment);\n    }\n    for (const visit of visits){\n        const visitDate = visit.arrivalTime.toDateString();\n        // Start new day section if needed\n        if (visitDate !== currentDate) {\n            currentDate = visitDate;\n            output += `#### Day ${currentDay} - ${formatDate(visit.arrivalTime)}\\n\\n`;\n            currentDay++;\n        }\n        // Find transport to this destination\n        const arrivalKey = `${visit.location.latitude},${visit.location.longitude}`;\n        const transportSegment = segmentsByArrival.get(arrivalKey);\n        // Transport info\n        if (transportSegment) {\n            output += `${transportSegment.transportIcon} **${formatTime(transportSegment.departureTime)}** - Depart from ${transportSegment.fromName}\\n`;\n            output += `   → ${transportSegment.distanceKm.toFixed(0)}km ${transportSegment.transportMode} (${formatDuration(transportSegment.estimatedTimeHours)})\\n\\n`;\n        }\n        // Destination info\n        output += `📍 **${formatTime(visit.arrivalTime)} - ${formatTime(visit.departureTime)}** ${visit.destinationName}\\n`;\n        output += `   ⏱️ ${formatDuration(visit.allocatedHours)} visit\\n`;\n        // Show who wanted this destination\n        if (visit.wishfulUsers.length > 0) {\n            const users = visit.wishfulUsers.map((wu)=>`${wu.member.display_name} (${wu.originalRating}⭐)`).join(\", \");\n            output += `   👥 Wished by: ${users}\\n`;\n        }\n        output += \"\\n\";\n    }\n    // Add final return segment\n    const lastSegment = segments[segments.length - 1];\n    if (lastSegment && lastSegment.toName === \"Return\") {\n        output += `${lastSegment.transportIcon} **${formatTime(lastSegment.departureTime)}** - Return journey\\n`;\n        output += `   → ${lastSegment.distanceKm.toFixed(0)}km ${lastSegment.transportMode} (${formatDuration(lastSegment.estimatedTimeHours)})\\n`;\n        output += `   Arrive at ${formatTime(lastSegment.arrivalTime)}\\n`;\n    }\n    return output;\n}\n/**\n * Format itinerary for calendar view\n */ function formatItineraryForCalendar(itinerary) {\n    const events = [];\n    // Add destination visits as events\n    for (const visit of itinerary.destinationVisits){\n        events.push({\n            id: `visit-${visit.destinationId}`,\n            title: visit.destinationName,\n            start: visit.arrivalTime,\n            end: visit.departureTime,\n            type: \"visit\",\n            location: visit.location,\n            description: `Stay for ${formatDuration(visit.allocatedHours)}`,\n            color: visit.wishfulUsers[0]?.assignedColor || \"#6B7280\",\n            users: visit.wishfulUsers.map((wu)=>wu.member.display_name)\n        });\n    }\n    // Add transport segments as events\n    for (const segment of itinerary.transportSegments){\n        events.push({\n            id: `transport-${segment.segmentId}`,\n            title: `${segment.transportIcon} ${segment.fromName} → ${segment.toName}`,\n            start: segment.departureTime,\n            end: segment.arrivalTime,\n            type: \"transport\",\n            location: null,\n            description: `${segment.distanceKm.toFixed(0)}km by ${segment.transportMode}`,\n            color: \"#9CA3AF\",\n            users: []\n        });\n    }\n    return {\n        events,\n        dateRange: {\n            start: itinerary.startDate,\n            end: itinerary.endDate\n        }\n    };\n}\n/**\n * Format date for display\n */ function formatDate(date) {\n    const options = {\n        weekday: \"short\",\n        month: \"short\",\n        day: \"numeric\",\n        year: \"numeric\"\n    };\n    return date.toLocaleDateString(\"en-US\", options);\n}\n/**\n * Format time for display\n */ function formatTime(date) {\n    return date.toLocaleTimeString(\"en-US\", {\n        hour: \"numeric\",\n        minute: \"2-digit\",\n        hour12: true\n    });\n}\n/**\n * Format duration in hours\n */ function formatDuration(hours) {\n    if (hours < 1) {\n        return `${Math.round(hours * 60)} min`;\n    } else if (hours === 1) {\n        return \"1 hour\";\n    } else if (Math.floor(hours) === hours) {\n        return `${hours} hours`;\n    } else {\n        const wholeHours = Math.floor(hours);\n        const minutes = Math.round((hours - wholeHours) * 60);\n        return `${wholeHours}h ${minutes}m`;\n    }\n}\n/**\n * Generate map data for visualization\n */ function generateMapData(itinerary) {\n    const destinations = [];\n    const routes = [];\n    // Add all destination visits\n    for (const visit of itinerary.destinationVisits){\n        destinations.push({\n            id: visit.destinationId,\n            name: visit.destinationName,\n            location: visit.location,\n            arrivalTime: visit.arrivalTime,\n            departureTime: visit.departureTime,\n            duration: visit.allocatedHours,\n            userColors: visit.wishfulUsers.map((wu)=>wu.assignedColor),\n            isClusterEntry: visit.isClusterEntry,\n            visitOrder: visit.visitOrder\n        });\n    }\n    // Add all transport routes\n    for (const segment of itinerary.transportSegments){\n        routes.push({\n            id: segment.segmentId,\n            from: segment.fromLocation,\n            to: segment.toLocation,\n            mode: segment.transportMode,\n            icon: segment.transportIcon,\n            distance: segment.distanceKm,\n            duration: segment.estimatedTimeHours\n        });\n    }\n    // Calculate bounds\n    const allLocations = [\n        ...destinations.map((d)=>d.location),\n        itinerary.departureLocation,\n        itinerary.returnLocation || itinerary.departureLocation\n    ];\n    const bounds = calculateGeographicBounds(allLocations);\n    return {\n        destinations,\n        routes,\n        bounds\n    };\n}\nfunction calculateGeographicBounds(locations) {\n    if (locations.length === 0) {\n        return {\n            north: 0,\n            south: 0,\n            east: 0,\n            west: 0,\n            center: {\n                latitude: 0,\n                longitude: 0\n            }\n        };\n    }\n    let north = -90;\n    let south = 90;\n    let east = -180;\n    let west = 180;\n    for (const loc of locations){\n        north = Math.max(north, loc.latitude);\n        south = Math.min(south, loc.latitude);\n        east = Math.max(east, loc.longitude);\n        west = Math.min(west, loc.longitude);\n    }\n    return {\n        north,\n        south,\n        east,\n        west,\n        center: {\n            latitude: (north + south) / 2,\n            longitude: (east + west) / 2\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL2xpYi9vcHRpbWl6YXRpb24vcm91dGUtdmlzdWFsaXplci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSw2Q0FBNkM7QUFZN0M7O0NBRUMsR0FDTSxTQUFTQSxzQkFBc0JDLFNBQTRCO0lBQ2hFLElBQUlDLFNBQVM7SUFFYixnQkFBZ0I7SUFDaEJBLFVBQVU7SUFDVkEsVUFBVSxDQUFDLGdCQUFnQixFQUFFRCxVQUFVRSxPQUFPLENBQUNDLFNBQVMsQ0FBQyxPQUFPLENBQUM7SUFDakVGLFVBQVUsQ0FBQyxhQUFhLEVBQUVHLFdBQVdKLFVBQVVLLFNBQVMsRUFBRSxFQUFFLENBQUM7SUFDN0RKLFVBQVUsQ0FBQyxXQUFXLEVBQUVHLFdBQVdKLFVBQVVNLE9BQU8sRUFBRSxFQUFFLENBQUM7SUFDekRMLFVBQVUsQ0FBQyxvQkFBb0IsRUFBRUQsVUFBVUUsT0FBTyxDQUFDSyxpQkFBaUIsQ0FBQyxrQkFBa0IsRUFBRVAsVUFBVUUsT0FBTyxDQUFDTSxhQUFhLENBQUMsVUFBVSxDQUFDO0lBQ3BJUCxVQUFVLENBQUMsc0JBQXNCLEVBQUVELFVBQVVFLE9BQU8sQ0FBQ08sZUFBZSxDQUFDQyxPQUFPLENBQUMsR0FBRyxLQUFLLENBQUM7SUFDdEZULFVBQVUsQ0FBQyxtQkFBbUIsRUFBRUQsVUFBVUUsT0FBTyxDQUFDUyxvQkFBb0IsQ0FBQ0QsT0FBTyxDQUFDLEdBQUcsUUFBUSxDQUFDO0lBQzNGVCxVQUFVLENBQUMsa0JBQWtCLEVBQUVELFVBQVVFLE9BQU8sQ0FBQ1UsbUJBQW1CLENBQUNGLE9BQU8sQ0FBQyxHQUFHLFVBQVUsQ0FBQztJQUUzRixvQkFBb0I7SUFDcEJULFVBQVU7SUFDVixNQUFNWSxRQUFRYixVQUFVRSxPQUFPLENBQUNZLGNBQWM7SUFDOUMsSUFBSUQsTUFBTUUsZUFBZSxHQUFHLEdBQUc7UUFDN0JkLFVBQVUsQ0FBQyxjQUFjLEVBQUVZLE1BQU1FLGVBQWUsQ0FBQyxXQUFXLEVBQUVGLE1BQU1HLGlCQUFpQixDQUFDTixPQUFPLENBQUMsR0FBRyxNQUFNLENBQUM7SUFDMUc7SUFDQSxJQUFJRyxNQUFNSSxlQUFlLEdBQUcsR0FBRztRQUM3QmhCLFVBQVUsQ0FBQyxjQUFjLEVBQUVZLE1BQU1JLGVBQWUsQ0FBQyxXQUFXLEVBQUVKLE1BQU1LLGlCQUFpQixDQUFDUixPQUFPLENBQUMsR0FBRyxNQUFNLENBQUM7SUFDMUc7SUFDQSxJQUFJRyxNQUFNTSxjQUFjLEdBQUcsR0FBRztRQUM1QmxCLFVBQVUsQ0FBQyxhQUFhLEVBQUVZLE1BQU1NLGNBQWMsQ0FBQyxXQUFXLEVBQUVOLE1BQU1PLGdCQUFnQixDQUFDVixPQUFPLENBQUMsR0FBRyxNQUFNLENBQUM7SUFDdkc7SUFDQVQsVUFBVTtJQUVWLG9CQUFvQjtJQUNwQkEsVUFBVTtJQUNWLEtBQUssTUFBTW9CLFlBQVlyQixVQUFVRSxPQUFPLENBQUNvQix1QkFBdUIsQ0FBRTtRQUNoRSxNQUFNQyxRQUFRRixTQUFTRyxzQkFBc0IsSUFBSSxLQUFLLGlCQUN4Q0gsU0FBU0csc0JBQXNCLElBQUksS0FBSyxpQkFBTztRQUM3RHZCLFVBQVUsQ0FBQyxFQUFFLEVBQUVzQixNQUFNLEdBQUcsRUFBRUYsU0FBU0ksTUFBTSxDQUFDQyxZQUFZLENBQUMsSUFBSSxFQUFFTCxTQUFTTSxvQkFBb0IsQ0FBQyxDQUFDLEVBQUVOLFNBQVNPLGtCQUFrQixDQUFDLFNBQVMsRUFBRVAsU0FBU0csc0JBQXNCLENBQUNkLE9BQU8sQ0FBQyxHQUFHLElBQUksQ0FBQztJQUN2TDtJQUNBVCxVQUFVO0lBRVYsa0JBQWtCO0lBQ2xCQSxVQUFVO0lBQ1ZBLFVBQVU0QixxQkFBcUI3QixVQUFVOEIsaUJBQWlCLEVBQUU5QixVQUFVK0IsaUJBQWlCO0lBRXZGLFdBQVc7SUFDWCxJQUFJL0IsVUFBVWdDLFVBQVUsQ0FBQ0MsUUFBUSxDQUFDQyxNQUFNLEdBQUcsR0FBRztRQUM1Q2pDLFVBQVU7UUFDVixLQUFLLE1BQU1rQyxXQUFXbkMsVUFBVWdDLFVBQVUsQ0FBQ0MsUUFBUSxDQUFFO1lBQ25EaEMsVUFBVSxDQUFDLEVBQUUsRUFBRWtDLFFBQVFDLE9BQU8sQ0FBQyxFQUFFLENBQUM7UUFDcEM7SUFDRjtJQUVBLE9BQU9uQztBQUNUO0FBRUE7O0NBRUMsR0FDRCxTQUFTNEIscUJBQ1BRLE1BQTBCLEVBQzFCQyxRQUFvQztJQUVwQyxJQUFJckMsU0FBUztJQUNiLElBQUlzQyxhQUFhO0lBQ2pCLElBQUlDLGNBQTZCO0lBRWpDLDRCQUE0QjtJQUM1QixNQUFNQyxvQkFBb0IsSUFBSUM7SUFDOUIsS0FBSyxNQUFNQyxXQUFXTCxTQUFVO1FBQzlCLE1BQU1NLE1BQU0sQ0FBQyxFQUFFRCxRQUFRRSxVQUFVLENBQUNDLFFBQVEsQ0FBQyxDQUFDLEVBQUVILFFBQVFFLFVBQVUsQ0FBQ0UsU0FBUyxDQUFDLENBQUM7UUFDNUVOLGtCQUFrQk8sR0FBRyxDQUFDSixLQUFLRDtJQUM3QjtJQUVBLEtBQUssTUFBTU0sU0FBU1osT0FBUTtRQUMxQixNQUFNYSxZQUFZRCxNQUFNRSxXQUFXLENBQUNDLFlBQVk7UUFFaEQsa0NBQWtDO1FBQ2xDLElBQUlGLGNBQWNWLGFBQWE7WUFDN0JBLGNBQWNVO1lBQ2RqRCxVQUFVLENBQUMsU0FBUyxFQUFFc0MsV0FBVyxHQUFHLEVBQUVuQyxXQUFXNkMsTUFBTUUsV0FBVyxFQUFFLElBQUksQ0FBQztZQUN6RVo7UUFDRjtRQUVBLHFDQUFxQztRQUNyQyxNQUFNYyxhQUFhLENBQUMsRUFBRUosTUFBTUssUUFBUSxDQUFDUixRQUFRLENBQUMsQ0FBQyxFQUFFRyxNQUFNSyxRQUFRLENBQUNQLFNBQVMsQ0FBQyxDQUFDO1FBQzNFLE1BQU1RLG1CQUFtQmQsa0JBQWtCZSxHQUFHLENBQUNIO1FBRS9DLGlCQUFpQjtRQUNqQixJQUFJRSxrQkFBa0I7WUFDcEJ0RCxVQUFVLENBQUMsRUFBRXNELGlCQUFpQkUsYUFBYSxDQUFDLEdBQUcsRUFBRUMsV0FBV0gsaUJBQWlCSSxhQUFhLEVBQUUsaUJBQWlCLEVBQUVKLGlCQUFpQkssUUFBUSxDQUFDLEVBQUUsQ0FBQztZQUM1STNELFVBQVUsQ0FBQyxLQUFLLEVBQUVzRCxpQkFBaUJNLFVBQVUsQ0FBQ25ELE9BQU8sQ0FBQyxHQUFHLEdBQUcsRUFBRTZDLGlCQUFpQk8sYUFBYSxDQUFDLEVBQUUsRUFBRUMsZUFBZVIsaUJBQWlCUyxrQkFBa0IsRUFBRSxLQUFLLENBQUM7UUFDN0o7UUFFQSxtQkFBbUI7UUFDbkIvRCxVQUFVLENBQUMsS0FBSyxFQUFFeUQsV0FBV1QsTUFBTUUsV0FBVyxFQUFFLEdBQUcsRUFBRU8sV0FBV1QsTUFBTVUsYUFBYSxFQUFFLEdBQUcsRUFBRVYsTUFBTWdCLGVBQWUsQ0FBQyxFQUFFLENBQUM7UUFDbkhoRSxVQUFVLENBQUMsTUFBTSxFQUFFOEQsZUFBZWQsTUFBTWlCLGNBQWMsRUFBRSxRQUFRLENBQUM7UUFFakUsbUNBQW1DO1FBQ25DLElBQUlqQixNQUFNa0IsWUFBWSxDQUFDakMsTUFBTSxHQUFHLEdBQUc7WUFDakMsTUFBTWtDLFFBQVFuQixNQUFNa0IsWUFBWSxDQUFDRSxHQUFHLENBQUNDLENBQUFBLEtBQ25DLENBQUMsRUFBRUEsR0FBRzdDLE1BQU0sQ0FBQ0MsWUFBWSxDQUFDLEVBQUUsRUFBRTRDLEdBQUdDLGNBQWMsQ0FBQyxFQUFFLENBQUMsRUFDbkRDLElBQUksQ0FBQztZQUNQdkUsVUFBVSxDQUFDLGlCQUFpQixFQUFFbUUsTUFBTSxFQUFFLENBQUM7UUFDekM7UUFFQW5FLFVBQVU7SUFDWjtJQUVBLDJCQUEyQjtJQUMzQixNQUFNd0UsY0FBY25DLFFBQVEsQ0FBQ0EsU0FBU0osTUFBTSxHQUFHLEVBQUU7SUFDakQsSUFBSXVDLGVBQWVBLFlBQVlDLE1BQU0sS0FBSyxVQUFVO1FBQ2xEekUsVUFBVSxDQUFDLEVBQUV3RSxZQUFZaEIsYUFBYSxDQUFDLEdBQUcsRUFBRUMsV0FBV2UsWUFBWWQsYUFBYSxFQUFFLHFCQUFxQixDQUFDO1FBQ3hHMUQsVUFBVSxDQUFDLEtBQUssRUFBRXdFLFlBQVlaLFVBQVUsQ0FBQ25ELE9BQU8sQ0FBQyxHQUFHLEdBQUcsRUFBRStELFlBQVlYLGFBQWEsQ0FBQyxFQUFFLEVBQUVDLGVBQWVVLFlBQVlULGtCQUFrQixFQUFFLEdBQUcsQ0FBQztRQUMxSS9ELFVBQVUsQ0FBQyxhQUFhLEVBQUV5RCxXQUFXZSxZQUFZdEIsV0FBVyxFQUFFLEVBQUUsQ0FBQztJQUNuRTtJQUVBLE9BQU9sRDtBQUNUO0FBRUE7O0NBRUMsR0FDTSxTQUFTMEUsMkJBQTJCM0UsU0FBNEI7SUFJckUsTUFBTTRFLFNBQTBCLEVBQUU7SUFFbEMsbUNBQW1DO0lBQ25DLEtBQUssTUFBTTNCLFNBQVNqRCxVQUFVOEIsaUJBQWlCLENBQUU7UUFDL0M4QyxPQUFPQyxJQUFJLENBQUM7WUFDVkMsSUFBSSxDQUFDLE1BQU0sRUFBRTdCLE1BQU04QixhQUFhLENBQUMsQ0FBQztZQUNsQ0MsT0FBTy9CLE1BQU1nQixlQUFlO1lBQzVCZ0IsT0FBT2hDLE1BQU1FLFdBQVc7WUFDeEIrQixLQUFLakMsTUFBTVUsYUFBYTtZQUN4QndCLE1BQU07WUFDTjdCLFVBQVVMLE1BQU1LLFFBQVE7WUFDeEI4QixhQUFhLENBQUMsU0FBUyxFQUFFckIsZUFBZWQsTUFBTWlCLGNBQWMsRUFBRSxDQUFDO1lBQy9EbUIsT0FBT3BDLE1BQU1rQixZQUFZLENBQUMsRUFBRSxFQUFFbUIsaUJBQWlCO1lBQy9DbEIsT0FBT25CLE1BQU1rQixZQUFZLENBQUNFLEdBQUcsQ0FBQ0MsQ0FBQUEsS0FBTUEsR0FBRzdDLE1BQU0sQ0FBQ0MsWUFBWTtRQUM1RDtJQUNGO0lBRUEsbUNBQW1DO0lBQ25DLEtBQUssTUFBTWlCLFdBQVczQyxVQUFVK0IsaUJBQWlCLENBQUU7UUFDakQ2QyxPQUFPQyxJQUFJLENBQUM7WUFDVkMsSUFBSSxDQUFDLFVBQVUsRUFBRW5DLFFBQVE0QyxTQUFTLENBQUMsQ0FBQztZQUNwQ1AsT0FBTyxDQUFDLEVBQUVyQyxRQUFRYyxhQUFhLENBQUMsQ0FBQyxFQUFFZCxRQUFRaUIsUUFBUSxDQUFDLEdBQUcsRUFBRWpCLFFBQVErQixNQUFNLENBQUMsQ0FBQztZQUN6RU8sT0FBT3RDLFFBQVFnQixhQUFhO1lBQzVCdUIsS0FBS3ZDLFFBQVFRLFdBQVc7WUFDeEJnQyxNQUFNO1lBQ043QixVQUFVO1lBQ1Y4QixhQUFhLENBQUMsRUFBRXpDLFFBQVFrQixVQUFVLENBQUNuRCxPQUFPLENBQUMsR0FBRyxNQUFNLEVBQUVpQyxRQUFRbUIsYUFBYSxDQUFDLENBQUM7WUFDN0V1QixPQUFPO1lBQ1BqQixPQUFPLEVBQUU7UUFDWDtJQUNGO0lBRUEsT0FBTztRQUNMUTtRQUNBWSxXQUFXO1lBQ1RQLE9BQU9qRixVQUFVSyxTQUFTO1lBQzFCNkUsS0FBS2xGLFVBQVVNLE9BQU87UUFDeEI7SUFDRjtBQUNGO0FBY0E7O0NBRUMsR0FDRCxTQUFTRixXQUFXcUYsSUFBVTtJQUM1QixNQUFNQyxVQUFzQztRQUMxQ0MsU0FBUztRQUNUQyxPQUFPO1FBQ1BDLEtBQUs7UUFDTEMsTUFBTTtJQUNSO0lBQ0EsT0FBT0wsS0FBS00sa0JBQWtCLENBQUMsU0FBU0w7QUFDMUM7QUFFQTs7Q0FFQyxHQUNELFNBQVNoQyxXQUFXK0IsSUFBVTtJQUM1QixPQUFPQSxLQUFLTyxrQkFBa0IsQ0FBQyxTQUFTO1FBQ3RDQyxNQUFNO1FBQ05DLFFBQVE7UUFDUkMsUUFBUTtJQUNWO0FBQ0Y7QUFFQTs7Q0FFQyxHQUNELFNBQVNwQyxlQUFlcUMsS0FBYTtJQUNuQyxJQUFJQSxRQUFRLEdBQUc7UUFDYixPQUFPLENBQUMsRUFBRUMsS0FBS0MsS0FBSyxDQUFDRixRQUFRLElBQUksSUFBSSxDQUFDO0lBQ3hDLE9BQU8sSUFBSUEsVUFBVSxHQUFHO1FBQ3RCLE9BQU87SUFDVCxPQUFPLElBQUlDLEtBQUtFLEtBQUssQ0FBQ0gsV0FBV0EsT0FBTztRQUN0QyxPQUFPLENBQUMsRUFBRUEsTUFBTSxNQUFNLENBQUM7SUFDekIsT0FBTztRQUNMLE1BQU1JLGFBQWFILEtBQUtFLEtBQUssQ0FBQ0g7UUFDOUIsTUFBTUssVUFBVUosS0FBS0MsS0FBSyxDQUFDLENBQUNGLFFBQVFJLFVBQVMsSUFBSztRQUNsRCxPQUFPLENBQUMsRUFBRUEsV0FBVyxFQUFFLEVBQUVDLFFBQVEsQ0FBQyxDQUFDO0lBQ3JDO0FBQ0Y7QUFFQTs7Q0FFQyxHQUNNLFNBQVNDLGdCQUFnQjFHLFNBQTRCO0lBSzFELE1BQU0yRyxlQUFpQyxFQUFFO0lBQ3pDLE1BQU1DLFNBQXFCLEVBQUU7SUFFN0IsNkJBQTZCO0lBQzdCLEtBQUssTUFBTTNELFNBQVNqRCxVQUFVOEIsaUJBQWlCLENBQUU7UUFDL0M2RSxhQUFhOUIsSUFBSSxDQUFDO1lBQ2hCQyxJQUFJN0IsTUFBTThCLGFBQWE7WUFDdkI4QixNQUFNNUQsTUFBTWdCLGVBQWU7WUFDM0JYLFVBQVVMLE1BQU1LLFFBQVE7WUFDeEJILGFBQWFGLE1BQU1FLFdBQVc7WUFDOUJRLGVBQWVWLE1BQU1VLGFBQWE7WUFDbENtRCxVQUFVN0QsTUFBTWlCLGNBQWM7WUFDOUI2QyxZQUFZOUQsTUFBTWtCLFlBQVksQ0FBQ0UsR0FBRyxDQUFDQyxDQUFBQSxLQUFNQSxHQUFHZ0IsYUFBYTtZQUN6RDBCLGdCQUFnQi9ELE1BQU0rRCxjQUFjO1lBQ3BDQyxZQUFZaEUsTUFBTWdFLFVBQVU7UUFDOUI7SUFDRjtJQUVBLDJCQUEyQjtJQUMzQixLQUFLLE1BQU10RSxXQUFXM0MsVUFBVStCLGlCQUFpQixDQUFFO1FBQ2pENkUsT0FBTy9CLElBQUksQ0FBQztZQUNWQyxJQUFJbkMsUUFBUTRDLFNBQVM7WUFDckIyQixNQUFNdkUsUUFBUXdFLFlBQVk7WUFDMUJDLElBQUl6RSxRQUFRRSxVQUFVO1lBQ3RCd0UsTUFBTTFFLFFBQVFtQixhQUFhO1lBQzNCd0QsTUFBTTNFLFFBQVFjLGFBQWE7WUFDM0I4RCxVQUFVNUUsUUFBUWtCLFVBQVU7WUFDNUJpRCxVQUFVbkUsUUFBUXFCLGtCQUFrQjtRQUN0QztJQUNGO0lBRUEsbUJBQW1CO0lBQ25CLE1BQU13RCxlQUFlO1dBQ2hCYixhQUFhdEMsR0FBRyxDQUFDb0QsQ0FBQUEsSUFBS0EsRUFBRW5FLFFBQVE7UUFDbkN0RCxVQUFVMEgsaUJBQWlCO1FBQzNCMUgsVUFBVTJILGNBQWMsSUFBSTNILFVBQVUwSCxpQkFBaUI7S0FDeEQ7SUFFRCxNQUFNRSxTQUFTQywwQkFBMEJMO0lBRXpDLE9BQU87UUFBRWI7UUFBY0M7UUFBUWdCO0lBQU87QUFDeEM7QUFnQ0EsU0FBU0MsMEJBQTBCQyxTQUFpQztJQUNsRSxJQUFJQSxVQUFVNUYsTUFBTSxLQUFLLEdBQUc7UUFDMUIsT0FBTztZQUNMNkYsT0FBTztZQUNQQyxPQUFPO1lBQ1BDLE1BQU07WUFDTkMsTUFBTTtZQUNOQyxRQUFRO2dCQUFFckYsVUFBVTtnQkFBR0MsV0FBVztZQUFFO1FBQ3RDO0lBQ0Y7SUFFQSxJQUFJZ0YsUUFBUSxDQUFDO0lBQ2IsSUFBSUMsUUFBUTtJQUNaLElBQUlDLE9BQU8sQ0FBQztJQUNaLElBQUlDLE9BQU87SUFFWCxLQUFLLE1BQU1FLE9BQU9OLFVBQVc7UUFDM0JDLFFBQVExQixLQUFLZ0MsR0FBRyxDQUFDTixPQUFPSyxJQUFJdEYsUUFBUTtRQUNwQ2tGLFFBQVEzQixLQUFLaUMsR0FBRyxDQUFDTixPQUFPSSxJQUFJdEYsUUFBUTtRQUNwQ21GLE9BQU81QixLQUFLZ0MsR0FBRyxDQUFDSixNQUFNRyxJQUFJckYsU0FBUztRQUNuQ21GLE9BQU83QixLQUFLaUMsR0FBRyxDQUFDSixNQUFNRSxJQUFJckYsU0FBUztJQUNyQztJQUVBLE9BQU87UUFDTGdGO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDLFFBQVE7WUFDTnJGLFVBQVUsQ0FBQ2lGLFFBQVFDLEtBQUksSUFBSztZQUM1QmpGLFdBQVcsQ0FBQ2tGLE9BQU9DLElBQUcsSUFBSztRQUM3QjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMvLi9saWIvb3B0aW1pemF0aW9uL3JvdXRlLXZpc3VhbGl6ZXIudHM/YmJlZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBSb3V0ZSB2aXN1YWxpemF0aW9uIGFuZCBmb3JtYXR0aW5nIGhlbHBlcnNcblxuaW1wb3J0IHR5cGUgeyBcbiAgRGV0YWlsZWRJdGluZXJhcnksXG4gIERlc3RpbmF0aW9uVmlzaXQsXG4gIERldGFpbGVkVHJhbnNwb3J0U2VnbWVudFxufSBmcm9tICcuL2RldGFpbGVkLXJvdXRlLXR5cGVzJ1xuaW1wb3J0IHR5cGUgeyBMb2NhdGlvbiBhcyBPcHRpbWl6YXRpb25Mb2NhdGlvbiB9IGZyb20gJy4vdHlwZXMnXG5cbi8vIEFsaWFzIGZvciBicm93c2VyIExvY2F0aW9uIHRvIGF2b2lkIGNvbmZsaWN0c1xudHlwZSBCcm93c2VyTG9jYXRpb24gPSBhbnlcblxuLyoqXG4gKiBGb3JtYXQgZGV0YWlsZWQgaXRpbmVyYXJ5IGFzIGh1bWFuLXJlYWRhYmxlIHRleHRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdEl0aW5lcmFyeUFzVGV4dChpdGluZXJhcnk6IERldGFpbGVkSXRpbmVyYXJ5KTogc3RyaW5nIHtcbiAgbGV0IG91dHB1dCA9ICcjIyDwn5e677iPIERldGFpbGVkIFRyaXAgSXRpbmVyYXJ5XFxuXFxuJ1xuICBcbiAgLy8gVHJpcCBvdmVydmlld1xuICBvdXRwdXQgKz0gJyMjIyDwn5OKIFRyaXAgT3ZlcnZpZXdcXG4nXG4gIG91dHB1dCArPSBgLSAqKkR1cmF0aW9uKio6ICR7aXRpbmVyYXJ5LnN1bW1hcnkudG90YWxEYXlzfSBkYXlzXFxuYFxuICBvdXRwdXQgKz0gYC0gKipTdGFydCoqOiAke2Zvcm1hdERhdGUoaXRpbmVyYXJ5LnN0YXJ0RGF0ZSl9XFxuYFxuICBvdXRwdXQgKz0gYC0gKipFbmQqKjogJHtmb3JtYXREYXRlKGl0aW5lcmFyeS5lbmREYXRlKX1cXG5gXG4gIG91dHB1dCArPSBgLSAqKkRlc3RpbmF0aW9ucyoqOiAke2l0aW5lcmFyeS5zdW1tYXJ5LnRvdGFsRGVzdGluYXRpb25zfSBsb2NhdGlvbnMgYWNyb3NzICR7aXRpbmVyYXJ5LnN1bW1hcnkudG90YWxDbHVzdGVyc30gcmVnaW9uc1xcbmBcbiAgb3V0cHV0ICs9IGAtICoqVG90YWwgRGlzdGFuY2UqKjogJHtpdGluZXJhcnkuc3VtbWFyeS50b3RhbERpc3RhbmNlS20udG9GaXhlZCgwKX0ga21cXG5gXG4gIG91dHB1dCArPSBgLSAqKlRyYXZlbCBUaW1lKio6ICR7aXRpbmVyYXJ5LnN1bW1hcnkudG90YWxUcmF2ZWxUaW1lSG91cnMudG9GaXhlZCgxKX0gaG91cnNcXG5gXG4gIG91dHB1dCArPSBgLSAqKlZpc2l0IFRpbWUqKjogJHtpdGluZXJhcnkuc3VtbWFyeS50b3RhbFZpc2l0VGltZUhvdXJzLnRvRml4ZWQoMSl9IGhvdXJzXFxuXFxuYFxuICBcbiAgLy8gVHJhbnNwb3J0IHN1bW1hcnlcbiAgb3V0cHV0ICs9ICcjIyMg8J+agCBUcmFuc3BvcnRhdGlvblxcbidcbiAgY29uc3QgbW9kZXMgPSBpdGluZXJhcnkuc3VtbWFyeS50cmFuc3BvcnRNb2Rlc1xuICBpZiAobW9kZXMud2Fsa2luZ1NlZ21lbnRzID4gMCkge1xuICAgIG91dHB1dCArPSBgLSDwn5q2IFdhbGtpbmc6ICR7bW9kZXMud2Fsa2luZ1NlZ21lbnRzfSBzZWdtZW50cyAoJHttb2Rlcy53YWxraW5nRGlzdGFuY2VLbS50b0ZpeGVkKDEpfSBrbSlcXG5gXG4gIH1cbiAgaWYgKG1vZGVzLmRyaXZpbmdTZWdtZW50cyA+IDApIHtcbiAgICBvdXRwdXQgKz0gYC0g8J+alyBEcml2aW5nOiAke21vZGVzLmRyaXZpbmdTZWdtZW50c30gc2VnbWVudHMgKCR7bW9kZXMuZHJpdmluZ0Rpc3RhbmNlS20udG9GaXhlZCgwKX0ga20pXFxuYFxuICB9XG4gIGlmIChtb2Rlcy5mbHlpbmdTZWdtZW50cyA+IDApIHtcbiAgICBvdXRwdXQgKz0gYC0g4pyI77iPIEZseWluZzogJHttb2Rlcy5mbHlpbmdTZWdtZW50c30gc2VnbWVudHMgKCR7bW9kZXMuZmx5aW5nRGlzdGFuY2VLbS50b0ZpeGVkKDApfSBrbSlcXG5gXG4gIH1cbiAgb3V0cHV0ICs9ICdcXG4nXG4gIFxuICAvLyBVc2VyIHNhdGlzZmFjdGlvblxuICBvdXRwdXQgKz0gJyMjIyDwn5GlIEdyb3VwIFNhdGlzZmFjdGlvblxcbidcbiAgZm9yIChjb25zdCB1c2VyU3RhdCBvZiBpdGluZXJhcnkuc3VtbWFyeS51c2VyU2F0aXNmYWN0aW9uU3VtbWFyeSkge1xuICAgIGNvbnN0IGVtb2ppID0gdXNlclN0YXQuc2F0aXNmYWN0aW9uUGVyY2VudGFnZSA+PSA3MCA/ICfwn5iKJyA6IFxuICAgICAgICAgICAgICAgICAgdXNlclN0YXQuc2F0aXNmYWN0aW9uUGVyY2VudGFnZSA+PSA0MCA/ICfwn5iQJyA6ICfwn5iVJ1xuICAgIG91dHB1dCArPSBgLSAke2Vtb2ppfSAqKiR7dXNlclN0YXQubWVtYmVyLmRpc3BsYXlfbmFtZX0qKjogJHt1c2VyU3RhdC52aXNpdGVkV2lzaGxpc3RDb3VudH0vJHt1c2VyU3RhdC50b3RhbFdpc2hsaXN0Q291bnR9IHdpc2hlcyAoJHt1c2VyU3RhdC5zYXRpc2ZhY3Rpb25QZXJjZW50YWdlLnRvRml4ZWQoMCl9JSlcXG5gXG4gIH1cbiAgb3V0cHV0ICs9ICdcXG4nXG4gIFxuICAvLyBEYWlseSBicmVha2Rvd25cbiAgb3V0cHV0ICs9ICcjIyMg8J+ThSBEYXktYnktRGF5IEl0aW5lcmFyeVxcblxcbidcbiAgb3V0cHV0ICs9IGZvcm1hdERhaWx5SXRpbmVyYXJ5KGl0aW5lcmFyeS5kZXN0aW5hdGlvblZpc2l0cywgaXRpbmVyYXJ5LnRyYW5zcG9ydFNlZ21lbnRzKVxuICBcbiAgLy8gV2FybmluZ3NcbiAgaWYgKGl0aW5lcmFyeS52YWxpZGF0aW9uLndhcm5pbmdzLmxlbmd0aCA+IDApIHtcbiAgICBvdXRwdXQgKz0gJ1xcbiMjIyDimqDvuI8gTm90ZXMgYW5kIFdhcm5pbmdzXFxuJ1xuICAgIGZvciAoY29uc3Qgd2FybmluZyBvZiBpdGluZXJhcnkudmFsaWRhdGlvbi53YXJuaW5ncykge1xuICAgICAgb3V0cHV0ICs9IGAtICR7d2FybmluZy5tZXNzYWdlfVxcbmBcbiAgICB9XG4gIH1cbiAgXG4gIHJldHVybiBvdXRwdXRcbn1cblxuLyoqXG4gKiBGb3JtYXQgZGFpbHkgaXRpbmVyYXJ5IGJyZWFrZG93blxuICovXG5mdW5jdGlvbiBmb3JtYXREYWlseUl0aW5lcmFyeShcbiAgdmlzaXRzOiBEZXN0aW5hdGlvblZpc2l0W10sXG4gIHNlZ21lbnRzOiBEZXRhaWxlZFRyYW5zcG9ydFNlZ21lbnRbXVxuKTogc3RyaW5nIHtcbiAgbGV0IG91dHB1dCA9ICcnXG4gIGxldCBjdXJyZW50RGF5ID0gMVxuICBsZXQgY3VycmVudERhdGU6IHN0cmluZyB8IG51bGwgPSBudWxsXG4gIFxuICAvLyBDcmVhdGUgc2VnbWVudCBsb29rdXAgbWFwXG4gIGNvbnN0IHNlZ21lbnRzQnlBcnJpdmFsID0gbmV3IE1hcDxzdHJpbmcsIERldGFpbGVkVHJhbnNwb3J0U2VnbWVudD4oKVxuICBmb3IgKGNvbnN0IHNlZ21lbnQgb2Ygc2VnbWVudHMpIHtcbiAgICBjb25zdCBrZXkgPSBgJHtzZWdtZW50LnRvTG9jYXRpb24ubGF0aXR1ZGV9LCR7c2VnbWVudC50b0xvY2F0aW9uLmxvbmdpdHVkZX1gXG4gICAgc2VnbWVudHNCeUFycml2YWwuc2V0KGtleSwgc2VnbWVudClcbiAgfVxuICBcbiAgZm9yIChjb25zdCB2aXNpdCBvZiB2aXNpdHMpIHtcbiAgICBjb25zdCB2aXNpdERhdGUgPSB2aXNpdC5hcnJpdmFsVGltZS50b0RhdGVTdHJpbmcoKVxuICAgIFxuICAgIC8vIFN0YXJ0IG5ldyBkYXkgc2VjdGlvbiBpZiBuZWVkZWRcbiAgICBpZiAodmlzaXREYXRlICE9PSBjdXJyZW50RGF0ZSkge1xuICAgICAgY3VycmVudERhdGUgPSB2aXNpdERhdGVcbiAgICAgIG91dHB1dCArPSBgIyMjIyBEYXkgJHtjdXJyZW50RGF5fSAtICR7Zm9ybWF0RGF0ZSh2aXNpdC5hcnJpdmFsVGltZSl9XFxuXFxuYFxuICAgICAgY3VycmVudERheSsrXG4gICAgfVxuICAgIFxuICAgIC8vIEZpbmQgdHJhbnNwb3J0IHRvIHRoaXMgZGVzdGluYXRpb25cbiAgICBjb25zdCBhcnJpdmFsS2V5ID0gYCR7dmlzaXQubG9jYXRpb24ubGF0aXR1ZGV9LCR7dmlzaXQubG9jYXRpb24ubG9uZ2l0dWRlfWBcbiAgICBjb25zdCB0cmFuc3BvcnRTZWdtZW50ID0gc2VnbWVudHNCeUFycml2YWwuZ2V0KGFycml2YWxLZXkpXG4gICAgXG4gICAgLy8gVHJhbnNwb3J0IGluZm9cbiAgICBpZiAodHJhbnNwb3J0U2VnbWVudCkge1xuICAgICAgb3V0cHV0ICs9IGAke3RyYW5zcG9ydFNlZ21lbnQudHJhbnNwb3J0SWNvbn0gKioke2Zvcm1hdFRpbWUodHJhbnNwb3J0U2VnbWVudC5kZXBhcnR1cmVUaW1lKX0qKiAtIERlcGFydCBmcm9tICR7dHJhbnNwb3J0U2VnbWVudC5mcm9tTmFtZX1cXG5gXG4gICAgICBvdXRwdXQgKz0gYCAgIOKGkiAke3RyYW5zcG9ydFNlZ21lbnQuZGlzdGFuY2VLbS50b0ZpeGVkKDApfWttICR7dHJhbnNwb3J0U2VnbWVudC50cmFuc3BvcnRNb2RlfSAoJHtmb3JtYXREdXJhdGlvbih0cmFuc3BvcnRTZWdtZW50LmVzdGltYXRlZFRpbWVIb3Vycyl9KVxcblxcbmBcbiAgICB9XG4gICAgXG4gICAgLy8gRGVzdGluYXRpb24gaW5mb1xuICAgIG91dHB1dCArPSBg8J+TjSAqKiR7Zm9ybWF0VGltZSh2aXNpdC5hcnJpdmFsVGltZSl9IC0gJHtmb3JtYXRUaW1lKHZpc2l0LmRlcGFydHVyZVRpbWUpfSoqICR7dmlzaXQuZGVzdGluYXRpb25OYW1lfVxcbmBcbiAgICBvdXRwdXQgKz0gYCAgIOKPse+4jyAke2Zvcm1hdER1cmF0aW9uKHZpc2l0LmFsbG9jYXRlZEhvdXJzKX0gdmlzaXRcXG5gXG4gICAgXG4gICAgLy8gU2hvdyB3aG8gd2FudGVkIHRoaXMgZGVzdGluYXRpb25cbiAgICBpZiAodmlzaXQud2lzaGZ1bFVzZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHVzZXJzID0gdmlzaXQud2lzaGZ1bFVzZXJzLm1hcCh3dSA9PiBcbiAgICAgICAgYCR7d3UubWVtYmVyLmRpc3BsYXlfbmFtZX0gKCR7d3Uub3JpZ2luYWxSYXRpbmd94q2QKWBcbiAgICAgICkuam9pbignLCAnKVxuICAgICAgb3V0cHV0ICs9IGAgICDwn5GlIFdpc2hlZCBieTogJHt1c2Vyc31cXG5gXG4gICAgfVxuICAgIFxuICAgIG91dHB1dCArPSAnXFxuJ1xuICB9XG4gIFxuICAvLyBBZGQgZmluYWwgcmV0dXJuIHNlZ21lbnRcbiAgY29uc3QgbGFzdFNlZ21lbnQgPSBzZWdtZW50c1tzZWdtZW50cy5sZW5ndGggLSAxXVxuICBpZiAobGFzdFNlZ21lbnQgJiYgbGFzdFNlZ21lbnQudG9OYW1lID09PSAnUmV0dXJuJykge1xuICAgIG91dHB1dCArPSBgJHtsYXN0U2VnbWVudC50cmFuc3BvcnRJY29ufSAqKiR7Zm9ybWF0VGltZShsYXN0U2VnbWVudC5kZXBhcnR1cmVUaW1lKX0qKiAtIFJldHVybiBqb3VybmV5XFxuYFxuICAgIG91dHB1dCArPSBgICAg4oaSICR7bGFzdFNlZ21lbnQuZGlzdGFuY2VLbS50b0ZpeGVkKDApfWttICR7bGFzdFNlZ21lbnQudHJhbnNwb3J0TW9kZX0gKCR7Zm9ybWF0RHVyYXRpb24obGFzdFNlZ21lbnQuZXN0aW1hdGVkVGltZUhvdXJzKX0pXFxuYFxuICAgIG91dHB1dCArPSBgICAgQXJyaXZlIGF0ICR7Zm9ybWF0VGltZShsYXN0U2VnbWVudC5hcnJpdmFsVGltZSl9XFxuYFxuICB9XG4gIFxuICByZXR1cm4gb3V0cHV0XG59XG5cbi8qKlxuICogRm9ybWF0IGl0aW5lcmFyeSBmb3IgY2FsZW5kYXIgdmlld1xuICovXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0SXRpbmVyYXJ5Rm9yQ2FsZW5kYXIoaXRpbmVyYXJ5OiBEZXRhaWxlZEl0aW5lcmFyeSk6IHtcbiAgZXZlbnRzOiBDYWxlbmRhckV2ZW50W11cbiAgZGF0ZVJhbmdlOiB7IHN0YXJ0OiBEYXRlOyBlbmQ6IERhdGUgfVxufSB7XG4gIGNvbnN0IGV2ZW50czogQ2FsZW5kYXJFdmVudFtdID0gW11cbiAgXG4gIC8vIEFkZCBkZXN0aW5hdGlvbiB2aXNpdHMgYXMgZXZlbnRzXG4gIGZvciAoY29uc3QgdmlzaXQgb2YgaXRpbmVyYXJ5LmRlc3RpbmF0aW9uVmlzaXRzKSB7XG4gICAgZXZlbnRzLnB1c2goe1xuICAgICAgaWQ6IGB2aXNpdC0ke3Zpc2l0LmRlc3RpbmF0aW9uSWR9YCxcbiAgICAgIHRpdGxlOiB2aXNpdC5kZXN0aW5hdGlvbk5hbWUsXG4gICAgICBzdGFydDogdmlzaXQuYXJyaXZhbFRpbWUsXG4gICAgICBlbmQ6IHZpc2l0LmRlcGFydHVyZVRpbWUsXG4gICAgICB0eXBlOiAndmlzaXQnLFxuICAgICAgbG9jYXRpb246IHZpc2l0LmxvY2F0aW9uLFxuICAgICAgZGVzY3JpcHRpb246IGBTdGF5IGZvciAke2Zvcm1hdER1cmF0aW9uKHZpc2l0LmFsbG9jYXRlZEhvdXJzKX1gLFxuICAgICAgY29sb3I6IHZpc2l0Lndpc2hmdWxVc2Vyc1swXT8uYXNzaWduZWRDb2xvciB8fCAnIzZCNzI4MCcsXG4gICAgICB1c2VyczogdmlzaXQud2lzaGZ1bFVzZXJzLm1hcCh3dSA9PiB3dS5tZW1iZXIuZGlzcGxheV9uYW1lKVxuICAgIH0pXG4gIH1cbiAgXG4gIC8vIEFkZCB0cmFuc3BvcnQgc2VnbWVudHMgYXMgZXZlbnRzXG4gIGZvciAoY29uc3Qgc2VnbWVudCBvZiBpdGluZXJhcnkudHJhbnNwb3J0U2VnbWVudHMpIHtcbiAgICBldmVudHMucHVzaCh7XG4gICAgICBpZDogYHRyYW5zcG9ydC0ke3NlZ21lbnQuc2VnbWVudElkfWAsXG4gICAgICB0aXRsZTogYCR7c2VnbWVudC50cmFuc3BvcnRJY29ufSAke3NlZ21lbnQuZnJvbU5hbWV9IOKGkiAke3NlZ21lbnQudG9OYW1lfWAsXG4gICAgICBzdGFydDogc2VnbWVudC5kZXBhcnR1cmVUaW1lLFxuICAgICAgZW5kOiBzZWdtZW50LmFycml2YWxUaW1lLFxuICAgICAgdHlwZTogJ3RyYW5zcG9ydCcsXG4gICAgICBsb2NhdGlvbjogbnVsbCxcbiAgICAgIGRlc2NyaXB0aW9uOiBgJHtzZWdtZW50LmRpc3RhbmNlS20udG9GaXhlZCgwKX1rbSBieSAke3NlZ21lbnQudHJhbnNwb3J0TW9kZX1gLFxuICAgICAgY29sb3I6ICcjOUNBM0FGJyxcbiAgICAgIHVzZXJzOiBbXVxuICAgIH0pXG4gIH1cbiAgXG4gIHJldHVybiB7XG4gICAgZXZlbnRzLFxuICAgIGRhdGVSYW5nZToge1xuICAgICAgc3RhcnQ6IGl0aW5lcmFyeS5zdGFydERhdGUsXG4gICAgICBlbmQ6IGl0aW5lcmFyeS5lbmREYXRlXG4gICAgfVxuICB9XG59XG5cbmludGVyZmFjZSBDYWxlbmRhckV2ZW50IHtcbiAgaWQ6IHN0cmluZ1xuICB0aXRsZTogc3RyaW5nXG4gIHN0YXJ0OiBEYXRlXG4gIGVuZDogRGF0ZVxuICB0eXBlOiAndmlzaXQnIHwgJ3RyYW5zcG9ydCdcbiAgbG9jYXRpb246IE9wdGltaXphdGlvbkxvY2F0aW9uIHwgbnVsbFxuICBkZXNjcmlwdGlvbjogc3RyaW5nXG4gIGNvbG9yOiBzdHJpbmdcbiAgdXNlcnM6IHN0cmluZ1tdXG59XG5cbi8qKlxuICogRm9ybWF0IGRhdGUgZm9yIGRpc3BsYXlcbiAqL1xuZnVuY3Rpb24gZm9ybWF0RGF0ZShkYXRlOiBEYXRlKTogc3RyaW5nIHtcbiAgY29uc3Qgb3B0aW9uczogSW50bC5EYXRlVGltZUZvcm1hdE9wdGlvbnMgPSB7XG4gICAgd2Vla2RheTogJ3Nob3J0JyxcbiAgICBtb250aDogJ3Nob3J0JyxcbiAgICBkYXk6ICdudW1lcmljJyxcbiAgICB5ZWFyOiAnbnVtZXJpYydcbiAgfVxuICByZXR1cm4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLVVTJywgb3B0aW9ucylcbn1cblxuLyoqXG4gKiBGb3JtYXQgdGltZSBmb3IgZGlzcGxheVxuICovXG5mdW5jdGlvbiBmb3JtYXRUaW1lKGRhdGU6IERhdGUpOiBzdHJpbmcge1xuICByZXR1cm4gZGF0ZS50b0xvY2FsZVRpbWVTdHJpbmcoJ2VuLVVTJywge1xuICAgIGhvdXI6ICdudW1lcmljJyxcbiAgICBtaW51dGU6ICcyLWRpZ2l0JyxcbiAgICBob3VyMTI6IHRydWVcbiAgfSlcbn1cblxuLyoqXG4gKiBGb3JtYXQgZHVyYXRpb24gaW4gaG91cnNcbiAqL1xuZnVuY3Rpb24gZm9ybWF0RHVyYXRpb24oaG91cnM6IG51bWJlcik6IHN0cmluZyB7XG4gIGlmIChob3VycyA8IDEpIHtcbiAgICByZXR1cm4gYCR7TWF0aC5yb3VuZChob3VycyAqIDYwKX0gbWluYFxuICB9IGVsc2UgaWYgKGhvdXJzID09PSAxKSB7XG4gICAgcmV0dXJuICcxIGhvdXInXG4gIH0gZWxzZSBpZiAoTWF0aC5mbG9vcihob3VycykgPT09IGhvdXJzKSB7XG4gICAgcmV0dXJuIGAke2hvdXJzfSBob3Vyc2BcbiAgfSBlbHNlIHtcbiAgICBjb25zdCB3aG9sZUhvdXJzID0gTWF0aC5mbG9vcihob3VycylcbiAgICBjb25zdCBtaW51dGVzID0gTWF0aC5yb3VuZCgoaG91cnMgLSB3aG9sZUhvdXJzKSAqIDYwKVxuICAgIHJldHVybiBgJHt3aG9sZUhvdXJzfWggJHttaW51dGVzfW1gXG4gIH1cbn1cblxuLyoqXG4gKiBHZW5lcmF0ZSBtYXAgZGF0YSBmb3IgdmlzdWFsaXphdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVNYXBEYXRhKGl0aW5lcmFyeTogRGV0YWlsZWRJdGluZXJhcnkpOiB7XG4gIGRlc3RpbmF0aW9uczogTWFwRGVzdGluYXRpb25bXVxuICByb3V0ZXM6IE1hcFJvdXRlW11cbiAgYm91bmRzOiBHZW9ncmFwaGljQm91bmRzXG59IHtcbiAgY29uc3QgZGVzdGluYXRpb25zOiBNYXBEZXN0aW5hdGlvbltdID0gW11cbiAgY29uc3Qgcm91dGVzOiBNYXBSb3V0ZVtdID0gW11cbiAgXG4gIC8vIEFkZCBhbGwgZGVzdGluYXRpb24gdmlzaXRzXG4gIGZvciAoY29uc3QgdmlzaXQgb2YgaXRpbmVyYXJ5LmRlc3RpbmF0aW9uVmlzaXRzKSB7XG4gICAgZGVzdGluYXRpb25zLnB1c2goe1xuICAgICAgaWQ6IHZpc2l0LmRlc3RpbmF0aW9uSWQsXG4gICAgICBuYW1lOiB2aXNpdC5kZXN0aW5hdGlvbk5hbWUsXG4gICAgICBsb2NhdGlvbjogdmlzaXQubG9jYXRpb24sXG4gICAgICBhcnJpdmFsVGltZTogdmlzaXQuYXJyaXZhbFRpbWUsXG4gICAgICBkZXBhcnR1cmVUaW1lOiB2aXNpdC5kZXBhcnR1cmVUaW1lLFxuICAgICAgZHVyYXRpb246IHZpc2l0LmFsbG9jYXRlZEhvdXJzLFxuICAgICAgdXNlckNvbG9yczogdmlzaXQud2lzaGZ1bFVzZXJzLm1hcCh3dSA9PiB3dS5hc3NpZ25lZENvbG9yKSxcbiAgICAgIGlzQ2x1c3RlckVudHJ5OiB2aXNpdC5pc0NsdXN0ZXJFbnRyeSxcbiAgICAgIHZpc2l0T3JkZXI6IHZpc2l0LnZpc2l0T3JkZXJcbiAgICB9KVxuICB9XG4gIFxuICAvLyBBZGQgYWxsIHRyYW5zcG9ydCByb3V0ZXNcbiAgZm9yIChjb25zdCBzZWdtZW50IG9mIGl0aW5lcmFyeS50cmFuc3BvcnRTZWdtZW50cykge1xuICAgIHJvdXRlcy5wdXNoKHtcbiAgICAgIGlkOiBzZWdtZW50LnNlZ21lbnRJZCxcbiAgICAgIGZyb206IHNlZ21lbnQuZnJvbUxvY2F0aW9uLFxuICAgICAgdG86IHNlZ21lbnQudG9Mb2NhdGlvbixcbiAgICAgIG1vZGU6IHNlZ21lbnQudHJhbnNwb3J0TW9kZSxcbiAgICAgIGljb246IHNlZ21lbnQudHJhbnNwb3J0SWNvbixcbiAgICAgIGRpc3RhbmNlOiBzZWdtZW50LmRpc3RhbmNlS20sXG4gICAgICBkdXJhdGlvbjogc2VnbWVudC5lc3RpbWF0ZWRUaW1lSG91cnNcbiAgICB9KVxuICB9XG4gIFxuICAvLyBDYWxjdWxhdGUgYm91bmRzXG4gIGNvbnN0IGFsbExvY2F0aW9ucyA9IFtcbiAgICAuLi5kZXN0aW5hdGlvbnMubWFwKGQgPT4gZC5sb2NhdGlvbiksXG4gICAgaXRpbmVyYXJ5LmRlcGFydHVyZUxvY2F0aW9uLFxuICAgIGl0aW5lcmFyeS5yZXR1cm5Mb2NhdGlvbiB8fCBpdGluZXJhcnkuZGVwYXJ0dXJlTG9jYXRpb25cbiAgXVxuICBcbiAgY29uc3QgYm91bmRzID0gY2FsY3VsYXRlR2VvZ3JhcGhpY0JvdW5kcyhhbGxMb2NhdGlvbnMpXG4gIFxuICByZXR1cm4geyBkZXN0aW5hdGlvbnMsIHJvdXRlcywgYm91bmRzIH1cbn1cblxuaW50ZXJmYWNlIE1hcERlc3RpbmF0aW9uIHtcbiAgaWQ6IHN0cmluZ1xuICBuYW1lOiBzdHJpbmdcbiAgbG9jYXRpb246IE9wdGltaXphdGlvbkxvY2F0aW9uXG4gIGFycml2YWxUaW1lOiBEYXRlXG4gIGRlcGFydHVyZVRpbWU6IERhdGVcbiAgZHVyYXRpb246IG51bWJlclxuICB1c2VyQ29sb3JzOiBzdHJpbmdbXVxuICBpc0NsdXN0ZXJFbnRyeTogYm9vbGVhblxuICB2aXNpdE9yZGVyOiBudW1iZXJcbn1cblxuaW50ZXJmYWNlIE1hcFJvdXRlIHtcbiAgaWQ6IHN0cmluZ1xuICBmcm9tOiBPcHRpbWl6YXRpb25Mb2NhdGlvblxuICB0bzogT3B0aW1pemF0aW9uTG9jYXRpb25cbiAgbW9kZTogc3RyaW5nXG4gIGljb246IHN0cmluZ1xuICBkaXN0YW5jZTogbnVtYmVyXG4gIGR1cmF0aW9uOiBudW1iZXJcbn1cblxuaW50ZXJmYWNlIEdlb2dyYXBoaWNCb3VuZHMge1xuICBub3J0aDogbnVtYmVyXG4gIHNvdXRoOiBudW1iZXJcbiAgZWFzdDogbnVtYmVyXG4gIHdlc3Q6IG51bWJlclxuICBjZW50ZXI6IHsgbGF0aXR1ZGU6IG51bWJlcjsgbG9uZ2l0dWRlOiBudW1iZXIgfVxufVxuXG5mdW5jdGlvbiBjYWxjdWxhdGVHZW9ncmFwaGljQm91bmRzKGxvY2F0aW9uczogT3B0aW1pemF0aW9uTG9jYXRpb25bXSk6IEdlb2dyYXBoaWNCb3VuZHMge1xuICBpZiAobG9jYXRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB7XG4gICAgICBub3J0aDogMCxcbiAgICAgIHNvdXRoOiAwLFxuICAgICAgZWFzdDogMCxcbiAgICAgIHdlc3Q6IDAsXG4gICAgICBjZW50ZXI6IHsgbGF0aXR1ZGU6IDAsIGxvbmdpdHVkZTogMCB9XG4gICAgfVxuICB9XG4gIFxuICBsZXQgbm9ydGggPSAtOTBcbiAgbGV0IHNvdXRoID0gOTBcbiAgbGV0IGVhc3QgPSAtMTgwXG4gIGxldCB3ZXN0ID0gMTgwXG4gIFxuICBmb3IgKGNvbnN0IGxvYyBvZiBsb2NhdGlvbnMpIHtcbiAgICBub3J0aCA9IE1hdGgubWF4KG5vcnRoLCBsb2MubGF0aXR1ZGUpXG4gICAgc291dGggPSBNYXRoLm1pbihzb3V0aCwgbG9jLmxhdGl0dWRlKVxuICAgIGVhc3QgPSBNYXRoLm1heChlYXN0LCBsb2MubG9uZ2l0dWRlKVxuICAgIHdlc3QgPSBNYXRoLm1pbih3ZXN0LCBsb2MubG9uZ2l0dWRlKVxuICB9XG4gIFxuICByZXR1cm4ge1xuICAgIG5vcnRoLFxuICAgIHNvdXRoLFxuICAgIGVhc3QsXG4gICAgd2VzdCxcbiAgICBjZW50ZXI6IHtcbiAgICAgIGxhdGl0dWRlOiAobm9ydGggKyBzb3V0aCkgLyAyLFxuICAgICAgbG9uZ2l0dWRlOiAoZWFzdCArIHdlc3QpIC8gMlxuICAgIH1cbiAgfVxufSJdLCJuYW1lcyI6WyJmb3JtYXRJdGluZXJhcnlBc1RleHQiLCJpdGluZXJhcnkiLCJvdXRwdXQiLCJzdW1tYXJ5IiwidG90YWxEYXlzIiwiZm9ybWF0RGF0ZSIsInN0YXJ0RGF0ZSIsImVuZERhdGUiLCJ0b3RhbERlc3RpbmF0aW9ucyIsInRvdGFsQ2x1c3RlcnMiLCJ0b3RhbERpc3RhbmNlS20iLCJ0b0ZpeGVkIiwidG90YWxUcmF2ZWxUaW1lSG91cnMiLCJ0b3RhbFZpc2l0VGltZUhvdXJzIiwibW9kZXMiLCJ0cmFuc3BvcnRNb2RlcyIsIndhbGtpbmdTZWdtZW50cyIsIndhbGtpbmdEaXN0YW5jZUttIiwiZHJpdmluZ1NlZ21lbnRzIiwiZHJpdmluZ0Rpc3RhbmNlS20iLCJmbHlpbmdTZWdtZW50cyIsImZseWluZ0Rpc3RhbmNlS20iLCJ1c2VyU3RhdCIsInVzZXJTYXRpc2ZhY3Rpb25TdW1tYXJ5IiwiZW1vamkiLCJzYXRpc2ZhY3Rpb25QZXJjZW50YWdlIiwibWVtYmVyIiwiZGlzcGxheV9uYW1lIiwidmlzaXRlZFdpc2hsaXN0Q291bnQiLCJ0b3RhbFdpc2hsaXN0Q291bnQiLCJmb3JtYXREYWlseUl0aW5lcmFyeSIsImRlc3RpbmF0aW9uVmlzaXRzIiwidHJhbnNwb3J0U2VnbWVudHMiLCJ2YWxpZGF0aW9uIiwid2FybmluZ3MiLCJsZW5ndGgiLCJ3YXJuaW5nIiwibWVzc2FnZSIsInZpc2l0cyIsInNlZ21lbnRzIiwiY3VycmVudERheSIsImN1cnJlbnREYXRlIiwic2VnbWVudHNCeUFycml2YWwiLCJNYXAiLCJzZWdtZW50Iiwia2V5IiwidG9Mb2NhdGlvbiIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwic2V0IiwidmlzaXQiLCJ2aXNpdERhdGUiLCJhcnJpdmFsVGltZSIsInRvRGF0ZVN0cmluZyIsImFycml2YWxLZXkiLCJsb2NhdGlvbiIsInRyYW5zcG9ydFNlZ21lbnQiLCJnZXQiLCJ0cmFuc3BvcnRJY29uIiwiZm9ybWF0VGltZSIsImRlcGFydHVyZVRpbWUiLCJmcm9tTmFtZSIsImRpc3RhbmNlS20iLCJ0cmFuc3BvcnRNb2RlIiwiZm9ybWF0RHVyYXRpb24iLCJlc3RpbWF0ZWRUaW1lSG91cnMiLCJkZXN0aW5hdGlvbk5hbWUiLCJhbGxvY2F0ZWRIb3VycyIsIndpc2hmdWxVc2VycyIsInVzZXJzIiwibWFwIiwid3UiLCJvcmlnaW5hbFJhdGluZyIsImpvaW4iLCJsYXN0U2VnbWVudCIsInRvTmFtZSIsImZvcm1hdEl0aW5lcmFyeUZvckNhbGVuZGFyIiwiZXZlbnRzIiwicHVzaCIsImlkIiwiZGVzdGluYXRpb25JZCIsInRpdGxlIiwic3RhcnQiLCJlbmQiLCJ0eXBlIiwiZGVzY3JpcHRpb24iLCJjb2xvciIsImFzc2lnbmVkQ29sb3IiLCJzZWdtZW50SWQiLCJkYXRlUmFuZ2UiLCJkYXRlIiwib3B0aW9ucyIsIndlZWtkYXkiLCJtb250aCIsImRheSIsInllYXIiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJob3VyIiwibWludXRlIiwiaG91cjEyIiwiaG91cnMiLCJNYXRoIiwicm91bmQiLCJmbG9vciIsIndob2xlSG91cnMiLCJtaW51dGVzIiwiZ2VuZXJhdGVNYXBEYXRhIiwiZGVzdGluYXRpb25zIiwicm91dGVzIiwibmFtZSIsImR1cmF0aW9uIiwidXNlckNvbG9ycyIsImlzQ2x1c3RlckVudHJ5IiwidmlzaXRPcmRlciIsImZyb20iLCJmcm9tTG9jYXRpb24iLCJ0byIsIm1vZGUiLCJpY29uIiwiZGlzdGFuY2UiLCJhbGxMb2NhdGlvbnMiLCJkIiwiZGVwYXJ0dXJlTG9jYXRpb24iLCJyZXR1cm5Mb2NhdGlvbiIsImJvdW5kcyIsImNhbGN1bGF0ZUdlb2dyYXBoaWNCb3VuZHMiLCJsb2NhdGlvbnMiLCJub3J0aCIsInNvdXRoIiwiZWFzdCIsIndlc3QiLCJjZW50ZXIiLCJsb2MiLCJtYXgiLCJtaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./lib/optimization/route-visualizer.ts\n");

/***/ }),

/***/ "(action-browser)/./lib/optimization/time-allocator.ts":
/*!********************************************!*\
  !*** ./lib/optimization/time-allocator.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_TIME_CONFIG: () => (/* binding */ DEFAULT_TIME_CONFIG),\n/* harmony export */   adjustTimeAllocationsForDailyLimit: () => (/* binding */ adjustTimeAllocationsForDailyLimit),\n/* harmony export */   allocateClusterTime: () => (/* binding */ allocateClusterTime),\n/* harmony export */   allocateDestinationTime: () => (/* binding */ allocateDestinationTime),\n/* harmony export */   validateTimeAllocation: () => (/* binding */ validateTimeAllocation)\n/* harmony export */ });\n// Time allocation for destinations based on user preferences\n// Default configuration for time allocation\nconst DEFAULT_TIME_CONFIG = {\n    minDestinationHours: 0.5,\n    maxDestinationHours: 8.0,\n    defaultDestinationHours: 2.0 // 2 hours default\n};\n/**\n * Allocate time for a destination based on user preferences\n * Takes the average of all user preferred durations\n */ function allocateDestinationTime(destinationId, userPreferences, config = {}) {\n    const finalConfig = {\n        ...DEFAULT_TIME_CONFIG,\n        ...config\n    };\n    // Find all preferences for this destination\n    const relevantPrefs = userPreferences.filter((pref)=>pref.destinationId === destinationId);\n    // If no preferences, use default\n    if (relevantPrefs.length === 0) {\n        return {\n            allocatedHours: finalConfig.defaultDestinationHours,\n            contributingUsers: [],\n            isDefault: true\n        };\n    }\n    // Calculate average preferred duration\n    const totalDuration = relevantPrefs.reduce((sum, pref)=>sum + pref.preferredDuration, 0);\n    const averageDuration = totalDuration / relevantPrefs.length;\n    // Apply bounds\n    const boundedDuration = Math.max(finalConfig.minDestinationHours, Math.min(finalConfig.maxDestinationHours, averageDuration));\n    // Get contributing user IDs\n    const contributingUsers = relevantPrefs.map((pref)=>pref.userId || pref.sessionId || \"unknown\");\n    return {\n        allocatedHours: boundedDuration,\n        contributingUsers,\n        isDefault: false\n    };\n}\n/**\n * Calculate time allocation for all destinations in a cluster\n */ function allocateClusterTime(destinationIds, userPreferences, config = {}) {\n    const destinationAllocations = new Map();\n    let totalHours = 0;\n    for (const destinationId of destinationIds){\n        const allocation = allocateDestinationTime(destinationId, userPreferences, config);\n        destinationAllocations.set(destinationId, allocation.allocatedHours);\n        totalHours += allocation.allocatedHours;\n    }\n    const averageHoursPerDestination = destinationIds.length > 0 ? totalHours / destinationIds.length : 0;\n    return {\n        totalHours,\n        destinationAllocations,\n        averageHoursPerDestination\n    };\n}\n/**\n * Validate time allocation results\n */ function validateTimeAllocation(allocatedHours, config = {}) {\n    const finalConfig = {\n        ...DEFAULT_TIME_CONFIG,\n        ...config\n    };\n    const issues = [];\n    // Check bounds\n    if (allocatedHours < finalConfig.minDestinationHours) {\n        issues.push(`Allocated time ${allocatedHours}h is below minimum ${finalConfig.minDestinationHours}h`);\n    }\n    if (allocatedHours > finalConfig.maxDestinationHours) {\n        issues.push(`Allocated time ${allocatedHours}h exceeds maximum ${finalConfig.maxDestinationHours}h`);\n    }\n    // Check for invalid values\n    if (isNaN(allocatedHours) || !isFinite(allocatedHours)) {\n        issues.push(\"Allocated time is not a valid number\");\n    }\n    if (allocatedHours < 0) {\n        issues.push(\"Allocated time cannot be negative\");\n    }\n    return {\n        isValid: issues.length === 0,\n        issues\n    };\n}\n/**\n * Adjust time allocations to fit within daily constraints\n */ function adjustTimeAllocationsForDailyLimit(destinationAllocations, dailyHours, travelTimeHours) {\n    const availableVisitHours = dailyHours - travelTimeHours;\n    // If allocations fit, return as-is\n    const totalAllocated = Array.from(destinationAllocations.values()).reduce((sum, hours)=>sum + hours, 0);\n    if (totalAllocated <= availableVisitHours) {\n        return destinationAllocations;\n    }\n    // Scale down proportionally\n    const scaleFactor = availableVisitHours / totalAllocated;\n    const adjusted = new Map();\n    for (const [destinationId, hours] of Array.from(destinationAllocations.entries())){\n        // Maintain minimum time even after scaling\n        const scaledHours = Math.max(DEFAULT_TIME_CONFIG.minDestinationHours, hours * scaleFactor);\n        adjusted.set(destinationId, scaledHours);\n    }\n    return adjusted;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL2xpYi9vcHRpbWl6YXRpb24vdGltZS1hbGxvY2F0b3IudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSw2REFBNkQ7QUFLN0QsNENBQTRDO0FBQ3JDLE1BQU1BLHNCQUdUO0lBQ0ZDLHFCQUFxQjtJQUNyQkMscUJBQXFCO0lBQ3JCQyx5QkFBeUIsSUFBSSxrQkFBa0I7QUFDakQsRUFBQztBQUVEOzs7Q0FHQyxHQUNNLFNBQVNDLHdCQUNkQyxhQUFxQixFQUNyQkMsZUFBeUMsRUFDekNDLFNBQXlDLENBQUMsQ0FBQztJQU0zQyxNQUFNQyxjQUFjO1FBQUUsR0FBR1IsbUJBQW1CO1FBQUUsR0FBR08sTUFBTTtJQUFDO0lBRXhELDRDQUE0QztJQUM1QyxNQUFNRSxnQkFBZ0JILGdCQUFnQkksTUFBTSxDQUMxQ0MsQ0FBQUEsT0FBUUEsS0FBS04sYUFBYSxLQUFLQTtJQUdqQyxpQ0FBaUM7SUFDakMsSUFBSUksY0FBY0csTUFBTSxLQUFLLEdBQUc7UUFDOUIsT0FBTztZQUNMQyxnQkFBZ0JMLFlBQVlMLHVCQUF1QjtZQUNuRFcsbUJBQW1CLEVBQUU7WUFDckJDLFdBQVc7UUFDYjtJQUNGO0lBRUEsdUNBQXVDO0lBQ3ZDLE1BQU1DLGdCQUFnQlAsY0FBY1EsTUFBTSxDQUN4QyxDQUFDQyxLQUFLUCxPQUFTTyxNQUFNUCxLQUFLUSxpQkFBaUIsRUFDM0M7SUFFRixNQUFNQyxrQkFBa0JKLGdCQUFnQlAsY0FBY0csTUFBTTtJQUU1RCxlQUFlO0lBQ2YsTUFBTVMsa0JBQWtCQyxLQUFLQyxHQUFHLENBQzlCZixZQUFZUCxtQkFBbUIsRUFDL0JxQixLQUFLRSxHQUFHLENBQUNoQixZQUFZTixtQkFBbUIsRUFBRWtCO0lBRzVDLDRCQUE0QjtJQUM1QixNQUFNTixvQkFBb0JMLGNBQWNnQixHQUFHLENBQ3pDZCxDQUFBQSxPQUFRQSxLQUFLZSxNQUFNLElBQUlmLEtBQUtnQixTQUFTLElBQUk7SUFHM0MsT0FBTztRQUNMZCxnQkFBZ0JRO1FBQ2hCUDtRQUNBQyxXQUFXO0lBQ2I7QUFDRjtBQUVBOztDQUVDLEdBQ00sU0FBU2Esb0JBQ2RDLGNBQXdCLEVBQ3hCdkIsZUFBeUMsRUFDekNDLFNBQXlDLENBQUMsQ0FBQztJQU0zQyxNQUFNdUIseUJBQXlCLElBQUlDO0lBQ25DLElBQUlDLGFBQWE7SUFFakIsS0FBSyxNQUFNM0IsaUJBQWlCd0IsZUFBZ0I7UUFDMUMsTUFBTUksYUFBYTdCLHdCQUNqQkMsZUFDQUMsaUJBQ0FDO1FBRUZ1Qix1QkFBdUJJLEdBQUcsQ0FBQzdCLGVBQWU0QixXQUFXcEIsY0FBYztRQUNuRW1CLGNBQWNDLFdBQVdwQixjQUFjO0lBQ3pDO0lBRUEsTUFBTXNCLDZCQUNKTixlQUFlakIsTUFBTSxHQUFHLElBQUlvQixhQUFhSCxlQUFlakIsTUFBTSxHQUFHO0lBRW5FLE9BQU87UUFDTG9CO1FBQ0FGO1FBQ0FLO0lBQ0Y7QUFDRjtBQUVBOztDQUVDLEdBQ00sU0FBU0MsdUJBQ2R2QixjQUFzQixFQUN0Qk4sU0FBeUMsQ0FBQyxDQUFDO0lBSzNDLE1BQU1DLGNBQWM7UUFBRSxHQUFHUixtQkFBbUI7UUFBRSxHQUFHTyxNQUFNO0lBQUM7SUFDeEQsTUFBTThCLFNBQW1CLEVBQUU7SUFFM0IsZUFBZTtJQUNmLElBQUl4QixpQkFBaUJMLFlBQVlQLG1CQUFtQixFQUFFO1FBQ3BEb0MsT0FBT0MsSUFBSSxDQUNULENBQUMsZUFBZSxFQUFFekIsZUFBZSxtQkFBbUIsRUFBRUwsWUFBWVAsbUJBQW1CLENBQUMsQ0FBQyxDQUFDO0lBRTVGO0lBRUEsSUFBSVksaUJBQWlCTCxZQUFZTixtQkFBbUIsRUFBRTtRQUNwRG1DLE9BQU9DLElBQUksQ0FDVCxDQUFDLGVBQWUsRUFBRXpCLGVBQWUsa0JBQWtCLEVBQUVMLFlBQVlOLG1CQUFtQixDQUFDLENBQUMsQ0FBQztJQUUzRjtJQUVBLDJCQUEyQjtJQUMzQixJQUFJcUMsTUFBTTFCLG1CQUFtQixDQUFDMkIsU0FBUzNCLGlCQUFpQjtRQUN0RHdCLE9BQU9DLElBQUksQ0FBQztJQUNkO0lBRUEsSUFBSXpCLGlCQUFpQixHQUFHO1FBQ3RCd0IsT0FBT0MsSUFBSSxDQUFDO0lBQ2Q7SUFFQSxPQUFPO1FBQ0xHLFNBQVNKLE9BQU96QixNQUFNLEtBQUs7UUFDM0J5QjtJQUNGO0FBQ0Y7QUFFQTs7Q0FFQyxHQUNNLFNBQVNLLG1DQUNkWixzQkFBMkMsRUFDM0NhLFVBQWtCLEVBQ2xCQyxlQUF1QjtJQUV2QixNQUFNQyxzQkFBc0JGLGFBQWFDO0lBRXpDLG1DQUFtQztJQUNuQyxNQUFNRSxpQkFBaUJDLE1BQU1DLElBQUksQ0FBQ2xCLHVCQUF1Qm1CLE1BQU0sSUFBSWhDLE1BQU0sQ0FDdkUsQ0FBQ0MsS0FBS2dDLFFBQVVoQyxNQUFNZ0MsT0FDdEI7SUFHRixJQUFJSixrQkFBa0JELHFCQUFxQjtRQUN6QyxPQUFPZjtJQUNUO0lBRUEsNEJBQTRCO0lBQzVCLE1BQU1xQixjQUFjTixzQkFBc0JDO0lBQzFDLE1BQU1NLFdBQVcsSUFBSXJCO0lBRXJCLEtBQUssTUFBTSxDQUFDMUIsZUFBZTZDLE1BQU0sSUFBSUgsTUFBTUMsSUFBSSxDQUFDbEIsdUJBQXVCdUIsT0FBTyxJQUFLO1FBQ2pGLDJDQUEyQztRQUMzQyxNQUFNQyxjQUFjaEMsS0FBS0MsR0FBRyxDQUMxQnZCLG9CQUFvQkMsbUJBQW1CLEVBQ3ZDaUQsUUFBUUM7UUFFVkMsU0FBU2xCLEdBQUcsQ0FBQzdCLGVBQWVpRDtJQUM5QjtJQUVBLE9BQU9GO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMvLi9saWIvb3B0aW1pemF0aW9uL3RpbWUtYWxsb2NhdG9yLnRzPzY1YTkiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGltZSBhbGxvY2F0aW9uIGZvciBkZXN0aW5hdGlvbnMgYmFzZWQgb24gdXNlciBwcmVmZXJlbmNlc1xuXG5pbXBvcnQgdHlwZSB7IFN0YW5kYXJkaXplZFByZWZlcmVuY2UgfSBmcm9tICcuL25vcm1hbGl6YXRpb24tdHlwZXMnXG5pbXBvcnQgdHlwZSB7IFJvdXRlR2VuZXJhdGlvbkNvbmZpZyB9IGZyb20gJy4vZGV0YWlsZWQtcm91dGUtdHlwZXMnXG5cbi8vIERlZmF1bHQgY29uZmlndXJhdGlvbiBmb3IgdGltZSBhbGxvY2F0aW9uXG5leHBvcnQgY29uc3QgREVGQVVMVF9USU1FX0NPTkZJRzogUGljazxcbiAgUm91dGVHZW5lcmF0aW9uQ29uZmlnLFxuICAnbWluRGVzdGluYXRpb25Ib3VycycgfCAnbWF4RGVzdGluYXRpb25Ib3VycycgfCAnZGVmYXVsdERlc3RpbmF0aW9uSG91cnMnXG4+ID0ge1xuICBtaW5EZXN0aW5hdGlvbkhvdXJzOiAwLjUsIC8vIDMwIG1pbnV0ZXMgbWluaW11bVxuICBtYXhEZXN0aW5hdGlvbkhvdXJzOiA4LjAsIC8vIDggaG91cnMgbWF4aW11bVxuICBkZWZhdWx0RGVzdGluYXRpb25Ib3VyczogMi4wIC8vIDIgaG91cnMgZGVmYXVsdFxufVxuXG4vKipcbiAqIEFsbG9jYXRlIHRpbWUgZm9yIGEgZGVzdGluYXRpb24gYmFzZWQgb24gdXNlciBwcmVmZXJlbmNlc1xuICogVGFrZXMgdGhlIGF2ZXJhZ2Ugb2YgYWxsIHVzZXIgcHJlZmVycmVkIGR1cmF0aW9uc1xuICovXG5leHBvcnQgZnVuY3Rpb24gYWxsb2NhdGVEZXN0aW5hdGlvblRpbWUoXG4gIGRlc3RpbmF0aW9uSWQ6IHN0cmluZyxcbiAgdXNlclByZWZlcmVuY2VzOiBTdGFuZGFyZGl6ZWRQcmVmZXJlbmNlW10sXG4gIGNvbmZpZzogUGFydGlhbDxSb3V0ZUdlbmVyYXRpb25Db25maWc+ID0ge31cbik6IHtcbiAgYWxsb2NhdGVkSG91cnM6IG51bWJlclxuICBjb250cmlidXRpbmdVc2Vyczogc3RyaW5nW11cbiAgaXNEZWZhdWx0OiBib29sZWFuXG59IHtcbiAgY29uc3QgZmluYWxDb25maWcgPSB7IC4uLkRFRkFVTFRfVElNRV9DT05GSUcsIC4uLmNvbmZpZyB9XG4gIFxuICAvLyBGaW5kIGFsbCBwcmVmZXJlbmNlcyBmb3IgdGhpcyBkZXN0aW5hdGlvblxuICBjb25zdCByZWxldmFudFByZWZzID0gdXNlclByZWZlcmVuY2VzLmZpbHRlcihcbiAgICBwcmVmID0+IHByZWYuZGVzdGluYXRpb25JZCA9PT0gZGVzdGluYXRpb25JZFxuICApXG4gIFxuICAvLyBJZiBubyBwcmVmZXJlbmNlcywgdXNlIGRlZmF1bHRcbiAgaWYgKHJlbGV2YW50UHJlZnMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFsbG9jYXRlZEhvdXJzOiBmaW5hbENvbmZpZy5kZWZhdWx0RGVzdGluYXRpb25Ib3VycyxcbiAgICAgIGNvbnRyaWJ1dGluZ1VzZXJzOiBbXSxcbiAgICAgIGlzRGVmYXVsdDogdHJ1ZVxuICAgIH1cbiAgfVxuICBcbiAgLy8gQ2FsY3VsYXRlIGF2ZXJhZ2UgcHJlZmVycmVkIGR1cmF0aW9uXG4gIGNvbnN0IHRvdGFsRHVyYXRpb24gPSByZWxldmFudFByZWZzLnJlZHVjZShcbiAgICAoc3VtLCBwcmVmKSA9PiBzdW0gKyBwcmVmLnByZWZlcnJlZER1cmF0aW9uLFxuICAgIDBcbiAgKVxuICBjb25zdCBhdmVyYWdlRHVyYXRpb24gPSB0b3RhbER1cmF0aW9uIC8gcmVsZXZhbnRQcmVmcy5sZW5ndGhcbiAgXG4gIC8vIEFwcGx5IGJvdW5kc1xuICBjb25zdCBib3VuZGVkRHVyYXRpb24gPSBNYXRoLm1heChcbiAgICBmaW5hbENvbmZpZy5taW5EZXN0aW5hdGlvbkhvdXJzLFxuICAgIE1hdGgubWluKGZpbmFsQ29uZmlnLm1heERlc3RpbmF0aW9uSG91cnMsIGF2ZXJhZ2VEdXJhdGlvbilcbiAgKVxuICBcbiAgLy8gR2V0IGNvbnRyaWJ1dGluZyB1c2VyIElEc1xuICBjb25zdCBjb250cmlidXRpbmdVc2VycyA9IHJlbGV2YW50UHJlZnMubWFwKFxuICAgIHByZWYgPT4gcHJlZi51c2VySWQgfHwgcHJlZi5zZXNzaW9uSWQgfHwgJ3Vua25vd24nXG4gIClcbiAgXG4gIHJldHVybiB7XG4gICAgYWxsb2NhdGVkSG91cnM6IGJvdW5kZWREdXJhdGlvbixcbiAgICBjb250cmlidXRpbmdVc2VycyxcbiAgICBpc0RlZmF1bHQ6IGZhbHNlXG4gIH1cbn1cblxuLyoqXG4gKiBDYWxjdWxhdGUgdGltZSBhbGxvY2F0aW9uIGZvciBhbGwgZGVzdGluYXRpb25zIGluIGEgY2x1c3RlclxuICovXG5leHBvcnQgZnVuY3Rpb24gYWxsb2NhdGVDbHVzdGVyVGltZShcbiAgZGVzdGluYXRpb25JZHM6IHN0cmluZ1tdLFxuICB1c2VyUHJlZmVyZW5jZXM6IFN0YW5kYXJkaXplZFByZWZlcmVuY2VbXSxcbiAgY29uZmlnOiBQYXJ0aWFsPFJvdXRlR2VuZXJhdGlvbkNvbmZpZz4gPSB7fVxuKToge1xuICB0b3RhbEhvdXJzOiBudW1iZXJcbiAgZGVzdGluYXRpb25BbGxvY2F0aW9uczogTWFwPHN0cmluZywgbnVtYmVyPlxuICBhdmVyYWdlSG91cnNQZXJEZXN0aW5hdGlvbjogbnVtYmVyXG59IHtcbiAgY29uc3QgZGVzdGluYXRpb25BbGxvY2F0aW9ucyA9IG5ldyBNYXA8c3RyaW5nLCBudW1iZXI+KClcbiAgbGV0IHRvdGFsSG91cnMgPSAwXG4gIFxuICBmb3IgKGNvbnN0IGRlc3RpbmF0aW9uSWQgb2YgZGVzdGluYXRpb25JZHMpIHtcbiAgICBjb25zdCBhbGxvY2F0aW9uID0gYWxsb2NhdGVEZXN0aW5hdGlvblRpbWUoXG4gICAgICBkZXN0aW5hdGlvbklkLFxuICAgICAgdXNlclByZWZlcmVuY2VzLFxuICAgICAgY29uZmlnXG4gICAgKVxuICAgIGRlc3RpbmF0aW9uQWxsb2NhdGlvbnMuc2V0KGRlc3RpbmF0aW9uSWQsIGFsbG9jYXRpb24uYWxsb2NhdGVkSG91cnMpXG4gICAgdG90YWxIb3VycyArPSBhbGxvY2F0aW9uLmFsbG9jYXRlZEhvdXJzXG4gIH1cbiAgXG4gIGNvbnN0IGF2ZXJhZ2VIb3Vyc1BlckRlc3RpbmF0aW9uID0gXG4gICAgZGVzdGluYXRpb25JZHMubGVuZ3RoID4gMCA/IHRvdGFsSG91cnMgLyBkZXN0aW5hdGlvbklkcy5sZW5ndGggOiAwXG4gIFxuICByZXR1cm4ge1xuICAgIHRvdGFsSG91cnMsXG4gICAgZGVzdGluYXRpb25BbGxvY2F0aW9ucyxcbiAgICBhdmVyYWdlSG91cnNQZXJEZXN0aW5hdGlvblxuICB9XG59XG5cbi8qKlxuICogVmFsaWRhdGUgdGltZSBhbGxvY2F0aW9uIHJlc3VsdHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlVGltZUFsbG9jYXRpb24oXG4gIGFsbG9jYXRlZEhvdXJzOiBudW1iZXIsXG4gIGNvbmZpZzogUGFydGlhbDxSb3V0ZUdlbmVyYXRpb25Db25maWc+ID0ge31cbik6IHtcbiAgaXNWYWxpZDogYm9vbGVhblxuICBpc3N1ZXM6IHN0cmluZ1tdXG59IHtcbiAgY29uc3QgZmluYWxDb25maWcgPSB7IC4uLkRFRkFVTFRfVElNRV9DT05GSUcsIC4uLmNvbmZpZyB9XG4gIGNvbnN0IGlzc3Vlczogc3RyaW5nW10gPSBbXVxuICBcbiAgLy8gQ2hlY2sgYm91bmRzXG4gIGlmIChhbGxvY2F0ZWRIb3VycyA8IGZpbmFsQ29uZmlnLm1pbkRlc3RpbmF0aW9uSG91cnMpIHtcbiAgICBpc3N1ZXMucHVzaChcbiAgICAgIGBBbGxvY2F0ZWQgdGltZSAke2FsbG9jYXRlZEhvdXJzfWggaXMgYmVsb3cgbWluaW11bSAke2ZpbmFsQ29uZmlnLm1pbkRlc3RpbmF0aW9uSG91cnN9aGBcbiAgICApXG4gIH1cbiAgXG4gIGlmIChhbGxvY2F0ZWRIb3VycyA+IGZpbmFsQ29uZmlnLm1heERlc3RpbmF0aW9uSG91cnMpIHtcbiAgICBpc3N1ZXMucHVzaChcbiAgICAgIGBBbGxvY2F0ZWQgdGltZSAke2FsbG9jYXRlZEhvdXJzfWggZXhjZWVkcyBtYXhpbXVtICR7ZmluYWxDb25maWcubWF4RGVzdGluYXRpb25Ib3Vyc31oYFxuICAgIClcbiAgfVxuICBcbiAgLy8gQ2hlY2sgZm9yIGludmFsaWQgdmFsdWVzXG4gIGlmIChpc05hTihhbGxvY2F0ZWRIb3VycykgfHwgIWlzRmluaXRlKGFsbG9jYXRlZEhvdXJzKSkge1xuICAgIGlzc3Vlcy5wdXNoKCdBbGxvY2F0ZWQgdGltZSBpcyBub3QgYSB2YWxpZCBudW1iZXInKVxuICB9XG4gIFxuICBpZiAoYWxsb2NhdGVkSG91cnMgPCAwKSB7XG4gICAgaXNzdWVzLnB1c2goJ0FsbG9jYXRlZCB0aW1lIGNhbm5vdCBiZSBuZWdhdGl2ZScpXG4gIH1cbiAgXG4gIHJldHVybiB7XG4gICAgaXNWYWxpZDogaXNzdWVzLmxlbmd0aCA9PT0gMCxcbiAgICBpc3N1ZXNcbiAgfVxufVxuXG4vKipcbiAqIEFkanVzdCB0aW1lIGFsbG9jYXRpb25zIHRvIGZpdCB3aXRoaW4gZGFpbHkgY29uc3RyYWludHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkanVzdFRpbWVBbGxvY2F0aW9uc0ZvckRhaWx5TGltaXQoXG4gIGRlc3RpbmF0aW9uQWxsb2NhdGlvbnM6IE1hcDxzdHJpbmcsIG51bWJlcj4sXG4gIGRhaWx5SG91cnM6IG51bWJlcixcbiAgdHJhdmVsVGltZUhvdXJzOiBudW1iZXJcbik6IE1hcDxzdHJpbmcsIG51bWJlcj4ge1xuICBjb25zdCBhdmFpbGFibGVWaXNpdEhvdXJzID0gZGFpbHlIb3VycyAtIHRyYXZlbFRpbWVIb3Vyc1xuICBcbiAgLy8gSWYgYWxsb2NhdGlvbnMgZml0LCByZXR1cm4gYXMtaXNcbiAgY29uc3QgdG90YWxBbGxvY2F0ZWQgPSBBcnJheS5mcm9tKGRlc3RpbmF0aW9uQWxsb2NhdGlvbnMudmFsdWVzKCkpLnJlZHVjZShcbiAgICAoc3VtLCBob3VycykgPT4gc3VtICsgaG91cnMsXG4gICAgMFxuICApXG4gIFxuICBpZiAodG90YWxBbGxvY2F0ZWQgPD0gYXZhaWxhYmxlVmlzaXRIb3Vycykge1xuICAgIHJldHVybiBkZXN0aW5hdGlvbkFsbG9jYXRpb25zXG4gIH1cbiAgXG4gIC8vIFNjYWxlIGRvd24gcHJvcG9ydGlvbmFsbHlcbiAgY29uc3Qgc2NhbGVGYWN0b3IgPSBhdmFpbGFibGVWaXNpdEhvdXJzIC8gdG90YWxBbGxvY2F0ZWRcbiAgY29uc3QgYWRqdXN0ZWQgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpXG4gIFxuICBmb3IgKGNvbnN0IFtkZXN0aW5hdGlvbklkLCBob3Vyc10gb2YgQXJyYXkuZnJvbShkZXN0aW5hdGlvbkFsbG9jYXRpb25zLmVudHJpZXMoKSkpIHtcbiAgICAvLyBNYWludGFpbiBtaW5pbXVtIHRpbWUgZXZlbiBhZnRlciBzY2FsaW5nXG4gICAgY29uc3Qgc2NhbGVkSG91cnMgPSBNYXRoLm1heChcbiAgICAgIERFRkFVTFRfVElNRV9DT05GSUcubWluRGVzdGluYXRpb25Ib3VycyxcbiAgICAgIGhvdXJzICogc2NhbGVGYWN0b3JcbiAgICApXG4gICAgYWRqdXN0ZWQuc2V0KGRlc3RpbmF0aW9uSWQsIHNjYWxlZEhvdXJzKVxuICB9XG4gIFxuICByZXR1cm4gYWRqdXN0ZWRcbn0iXSwibmFtZXMiOlsiREVGQVVMVF9USU1FX0NPTkZJRyIsIm1pbkRlc3RpbmF0aW9uSG91cnMiLCJtYXhEZXN0aW5hdGlvbkhvdXJzIiwiZGVmYXVsdERlc3RpbmF0aW9uSG91cnMiLCJhbGxvY2F0ZURlc3RpbmF0aW9uVGltZSIsImRlc3RpbmF0aW9uSWQiLCJ1c2VyUHJlZmVyZW5jZXMiLCJjb25maWciLCJmaW5hbENvbmZpZyIsInJlbGV2YW50UHJlZnMiLCJmaWx0ZXIiLCJwcmVmIiwibGVuZ3RoIiwiYWxsb2NhdGVkSG91cnMiLCJjb250cmlidXRpbmdVc2VycyIsImlzRGVmYXVsdCIsInRvdGFsRHVyYXRpb24iLCJyZWR1Y2UiLCJzdW0iLCJwcmVmZXJyZWREdXJhdGlvbiIsImF2ZXJhZ2VEdXJhdGlvbiIsImJvdW5kZWREdXJhdGlvbiIsIk1hdGgiLCJtYXgiLCJtaW4iLCJtYXAiLCJ1c2VySWQiLCJzZXNzaW9uSWQiLCJhbGxvY2F0ZUNsdXN0ZXJUaW1lIiwiZGVzdGluYXRpb25JZHMiLCJkZXN0aW5hdGlvbkFsbG9jYXRpb25zIiwiTWFwIiwidG90YWxIb3VycyIsImFsbG9jYXRpb24iLCJzZXQiLCJhdmVyYWdlSG91cnNQZXJEZXN0aW5hdGlvbiIsInZhbGlkYXRlVGltZUFsbG9jYXRpb24iLCJpc3N1ZXMiLCJwdXNoIiwiaXNOYU4iLCJpc0Zpbml0ZSIsImlzVmFsaWQiLCJhZGp1c3RUaW1lQWxsb2NhdGlvbnNGb3JEYWlseUxpbWl0IiwiZGFpbHlIb3VycyIsInRyYXZlbFRpbWVIb3VycyIsImF2YWlsYWJsZVZpc2l0SG91cnMiLCJ0b3RhbEFsbG9jYXRlZCIsIkFycmF5IiwiZnJvbSIsInZhbHVlcyIsImhvdXJzIiwic2NhbGVGYWN0b3IiLCJhZGp1c3RlZCIsImVudHJpZXMiLCJzY2FsZWRIb3VycyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./lib/optimization/time-allocator.ts\n");

/***/ }),

/***/ "(action-browser)/./lib/optimization/time-constraints.ts":
/*!**********************************************!*\
  !*** ./lib/optimization/time-constraints.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   estimateTravelTime: () => (/* binding */ estimateTravelTime),\n/* harmony export */   filterClustersForTimeConstraints: () => (/* binding */ filterClustersForTimeConstraints),\n/* harmony export */   processTimeConstraints: () => (/* binding */ processTimeConstraints),\n/* harmony export */   suggestEndDate: () => (/* binding */ suggestEndDate),\n/* harmony export */   validateTimeConstraints: () => (/* binding */ validateTimeConstraints)\n/* harmony export */ });\n// Time constraint processing for trip optimization\n// Default daily available hours for sightseeing\nconst DEFAULT_DAILY_HOURS = 9;\n/**\n * Process time constraints from trip group data\n */ function processTimeConstraints(tripGroup) {\n    const startDate = tripGroup.start_date ? new Date(tripGroup.start_date) : null;\n    const endDate = tripGroup.end_date ? new Date(tripGroup.end_date) : null;\n    // If no start date is provided, use a default \"auto\" mode without strict time constraints\n    if (!startDate) {\n        console.warn(\"No start date provided, using flexible time constraint mode\");\n        return {\n            mode: \"auto\",\n            startDate: new Date(),\n            endDate: endDate || undefined,\n            dailyHours: DEFAULT_DAILY_HOURS,\n            totalAvailableHours: undefined\n        };\n    }\n    // Determine constraint mode\n    const mode = tripGroup.auto_calculate_end_date || !endDate ? \"auto\" : \"fixed\";\n    // Calculate total available hours for fixed mode\n    let totalAvailableHours;\n    if (mode === \"fixed\" && endDate) {\n        const days = calculateDaysBetween(startDate, endDate);\n        totalAvailableHours = days * DEFAULT_DAILY_HOURS;\n    }\n    return {\n        mode,\n        startDate,\n        endDate: endDate || undefined,\n        dailyHours: DEFAULT_DAILY_HOURS,\n        totalAvailableHours\n    };\n}\n/**\n * Calculate number of days between two dates (inclusive)\n */ function calculateDaysBetween(start, end) {\n    const startTime = start.getTime();\n    const endTime = end.getTime();\n    const diffTime = Math.abs(endTime - startTime);\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n    return diffDays + 1 // +1 to make it inclusive\n    ;\n}\n/**\n * Check if clusters fit within time constraints\n */ function validateTimeConstraints(clusters, constraints) {\n    // Calculate total required time\n    const totalRequiredHours = clusters.reduce((sum, cluster)=>sum + cluster.averageStayTime, 0);\n    // Add travel time between clusters (rough estimate: 2 hours between clusters)\n    const travelTime = Math.max(0, (clusters.length - 1) * 2);\n    const totalWithTravel = totalRequiredHours + travelTime;\n    // Calculate required days\n    const requiredDays = Math.ceil(totalWithTravel / constraints.dailyHours);\n    const issues = [];\n    let isValid = true;\n    if (constraints.mode === \"fixed\" && constraints.totalAvailableHours) {\n        if (totalWithTravel > constraints.totalAvailableHours) {\n            isValid = false;\n            issues.push(`Trip requires ${totalWithTravel} hours but only ${constraints.totalAvailableHours} hours are available`);\n            issues.push(`Consider removing ${Math.ceil((totalWithTravel - constraints.totalAvailableHours) / clusters[0].averageStayTime)} destinations`);\n        }\n    }\n    return {\n        isValid,\n        totalRequiredHours: totalWithTravel,\n        totalAvailableHours: constraints.totalAvailableHours || null,\n        requiredDays,\n        issues\n    };\n}\n/**\n * Suggest end date for auto-calculate mode\n */ function suggestEndDate(startDate, clusters) {\n    // Calculate total required hours including travel\n    const totalRequiredHours = clusters.reduce((sum, cluster)=>sum + cluster.averageStayTime, 0);\n    const travelTime = Math.max(0, (clusters.length - 1) * 2);\n    const totalWithTravel = totalRequiredHours + travelTime;\n    // Calculate required days\n    const requiredDays = Math.ceil(totalWithTravel / DEFAULT_DAILY_HOURS);\n    // Calculate suggested end date\n    const suggestedEndDate = new Date(startDate);\n    suggestedEndDate.setDate(suggestedEndDate.getDate() + requiredDays - 1);\n    // Create daily schedule\n    const dailySchedule = createDailySchedule(clusters, requiredDays);\n    return {\n        suggestedEndDate,\n        totalDays: requiredDays,\n        dailySchedule\n    };\n}\n/**\n * Create a daily schedule distributing clusters across days\n */ function createDailySchedule(clusters, totalDays) {\n    const schedule = [];\n    const hoursPerDay = DEFAULT_DAILY_HOURS;\n    let currentDay = 1;\n    let currentDayHours = 0;\n    let currentDayClusters = [];\n    for (const cluster of clusters){\n        // Check if adding this cluster exceeds daily limit\n        if (currentDayHours + cluster.averageStayTime > hoursPerDay && currentDayClusters.length > 0) {\n            // Move to next day\n            currentDay++;\n            currentDayHours = 0;\n            currentDayClusters = [];\n        }\n        // Add cluster to current day\n        currentDayClusters.push(cluster);\n        currentDayHours += cluster.averageStayTime;\n        // If this is the last cluster or day is full, save the day\n        if (cluster === clusters[clusters.length - 1] || currentDayHours >= hoursPerDay * 0.8) {\n            schedule.push({\n                day: currentDay,\n                date: new Date(),\n                clusters: [\n                    ...currentDayClusters\n                ],\n                totalHours: currentDayHours\n            });\n            if (cluster !== clusters[clusters.length - 1]) {\n                currentDay++;\n                currentDayHours = 0;\n                currentDayClusters = [];\n            }\n        }\n    }\n    return schedule;\n}\n/**\n * Filter clusters to fit within time constraints\n * Removes lowest desirability clusters until constraints are met\n */ function filterClustersForTimeConstraints(clusters, constraints) {\n    if (constraints.mode === \"auto\") {\n        // No filtering needed for auto mode\n        return {\n            filteredClusters: clusters,\n            removedClusters: [],\n            totalHours: clusters.reduce((sum, c)=>sum + c.averageStayTime, 0)\n        };\n    }\n    const maxHours = constraints.totalAvailableHours || 0;\n    const sortedClusters = [\n        ...clusters\n    ].sort((a, b)=>b.totalDesirability - a.totalDesirability);\n    const filteredClusters = [];\n    const removedClusters = [];\n    let totalHours = 0;\n    for (const cluster of sortedClusters){\n        const clusterTime = cluster.averageStayTime;\n        const travelTime = filteredClusters.length > 0 ? 2 : 0 // Rough travel time estimate\n        ;\n        if (totalHours + clusterTime + travelTime <= maxHours) {\n            filteredClusters.push(cluster);\n            totalHours += clusterTime + travelTime;\n        } else {\n            removedClusters.push(cluster);\n        }\n    }\n    return {\n        filteredClusters,\n        removedClusters,\n        totalHours\n    };\n}\n/**\n * Estimate travel time between clusters\n * For MVP, use simple distance-based estimation\n */ function estimateTravelTime(distanceKm) {\n    if (distanceKm < 50) {\n        return 0.5 // 30 minutes for short distances\n        ;\n    } else if (distanceKm < 200) {\n        return 1.5 // 1.5 hours for medium distances\n        ;\n    } else if (distanceKm < 500) {\n        return 3 // 3 hours for long distances (includes airport time)\n        ;\n    } else {\n        return 4 // 4 hours for very long distances (flight)\n        ;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL2xpYi9vcHRpbWl6YXRpb24vdGltZS1jb25zdHJhaW50cy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLG1EQUFtRDtBQUtuRCxnREFBZ0Q7QUFDaEQsTUFBTUEsc0JBQXNCO0FBRTVCOztDQUVDLEdBQ00sU0FBU0MsdUJBQXVCQyxTQUFxQjtJQUMxRCxNQUFNQyxZQUFZRCxVQUFVRSxVQUFVLEdBQUcsSUFBSUMsS0FBS0gsVUFBVUUsVUFBVSxJQUFJO0lBQzFFLE1BQU1FLFVBQVVKLFVBQVVLLFFBQVEsR0FBRyxJQUFJRixLQUFLSCxVQUFVSyxRQUFRLElBQUk7SUFFcEUsMEZBQTBGO0lBQzFGLElBQUksQ0FBQ0osV0FBVztRQUNkSyxRQUFRQyxJQUFJLENBQUM7UUFDYixPQUFPO1lBQ0xDLE1BQU07WUFDTlAsV0FBVyxJQUFJRTtZQUNmQyxTQUFTQSxXQUFXSztZQUNwQkMsWUFBWVo7WUFDWmEscUJBQXFCRjtRQUN2QjtJQUNGO0lBRUEsNEJBQTRCO0lBQzVCLE1BQU1ELE9BQU9SLFVBQVVZLHVCQUF1QixJQUFJLENBQUNSLFVBQVUsU0FBUztJQUV0RSxpREFBaUQ7SUFDakQsSUFBSU87SUFFSixJQUFJSCxTQUFTLFdBQVdKLFNBQVM7UUFDL0IsTUFBTVMsT0FBT0MscUJBQXFCYixXQUFXRztRQUM3Q08sc0JBQXNCRSxPQUFPZjtJQUMvQjtJQUVBLE9BQU87UUFDTFU7UUFDQVA7UUFDQUcsU0FBU0EsV0FBV0s7UUFDcEJDLFlBQVlaO1FBQ1phO0lBQ0Y7QUFDRjtBQUVBOztDQUVDLEdBQ0QsU0FBU0cscUJBQXFCQyxLQUFXLEVBQUVDLEdBQVM7SUFDbEQsTUFBTUMsWUFBWUYsTUFBTUcsT0FBTztJQUMvQixNQUFNQyxVQUFVSCxJQUFJRSxPQUFPO0lBQzNCLE1BQU1FLFdBQVdDLEtBQUtDLEdBQUcsQ0FBQ0gsVUFBVUY7SUFDcEMsTUFBTU0sV0FBV0YsS0FBS0csSUFBSSxDQUFDSixXQUFZLFFBQU8sS0FBSyxLQUFLLEVB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SUFFQSxPQUFPO1FBQ0wwQjtRQUNBQztRQUNBSDtJQUNGO0FBQ0Y7QUFFQTs7O0NBR0MsR0FDTSxTQUFTWSxtQkFBbUJDLFVBQWtCO0lBQ25ELElBQUlBLGFBQWEsSUFBSTtRQUNuQixPQUFPLElBQUksaUNBQWlDOztJQUM5QyxPQUFPLElBQUlBLGFBQWEsS0FBSztRQUMzQixPQUFPLElBQUksaUNBQWlDOztJQUM5QyxPQUFPLElBQUlBLGFBQWEsS0FBSztRQUMzQixPQUFPLEVBQUUscURBQXFEOztJQUNoRSxPQUFPO1FBQ0wsT0FBTyxFQUFFLDJDQUEyQzs7SUFDdEQ7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy8uL2xpYi9vcHRpbWl6YXRpb24vdGltZS1jb25zdHJhaW50cy50cz8yMDk1Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRpbWUgY29uc3RyYWludCBwcm9jZXNzaW5nIGZvciB0cmlwIG9wdGltaXphdGlvblxuXG5pbXBvcnQgdHlwZSB7IFRpbWVDb25zdHJhaW50cywgRGVzdGluYXRpb25DbHVzdGVyIH0gZnJvbSAnLi9ub3JtYWxpemF0aW9uLXR5cGVzJ1xuaW1wb3J0IHR5cGUgeyBUcmlwR3JvdXBzIH0gZnJvbSAnQC9saWIvZGF0YWJhc2UudHlwZXMnXG5cbi8vIERlZmF1bHQgZGFpbHkgYXZhaWxhYmxlIGhvdXJzIGZvciBzaWdodHNlZWluZ1xuY29uc3QgREVGQVVMVF9EQUlMWV9IT1VSUyA9IDlcblxuLyoqXG4gKiBQcm9jZXNzIHRpbWUgY29uc3RyYWludHMgZnJvbSB0cmlwIGdyb3VwIGRhdGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByb2Nlc3NUaW1lQ29uc3RyYWludHModHJpcEdyb3VwOiBUcmlwR3JvdXBzKTogVGltZUNvbnN0cmFpbnRzIHtcbiAgY29uc3Qgc3RhcnREYXRlID0gdHJpcEdyb3VwLnN0YXJ0X2RhdGUgPyBuZXcgRGF0ZSh0cmlwR3JvdXAuc3RhcnRfZGF0ZSkgOiBudWxsXG4gIGNvbnN0IGVuZERhdGUgPSB0cmlwR3JvdXAuZW5kX2RhdGUgPyBuZXcgRGF0ZSh0cmlwR3JvdXAuZW5kX2RhdGUpIDogbnVsbFxuICBcbiAgLy8gSWYgbm8gc3RhcnQgZGF0ZSBpcyBwcm92aWRlZCwgdXNlIGEgZGVmYXVsdCBcImF1dG9cIiBtb2RlIHdpdGhvdXQgc3RyaWN0IHRpbWUgY29uc3RyYWludHNcbiAgaWYgKCFzdGFydERhdGUpIHtcbiAgICBjb25zb2xlLndhcm4oJ05vIHN0YXJ0IGRhdGUgcHJvdmlkZWQsIHVzaW5nIGZsZXhpYmxlIHRpbWUgY29uc3RyYWludCBtb2RlJylcbiAgICByZXR1cm4ge1xuICAgICAgbW9kZTogJ2F1dG8nLFxuICAgICAgc3RhcnREYXRlOiBuZXcgRGF0ZSgpLCAvLyBVc2UgY3VycmVudCBkYXRlIGFzIGRlZmF1bHRcbiAgICAgIGVuZERhdGU6IGVuZERhdGUgfHwgdW5kZWZpbmVkLFxuICAgICAgZGFpbHlIb3VyczogREVGQVVMVF9EQUlMWV9IT1VSUyxcbiAgICAgIHRvdGFsQXZhaWxhYmxlSG91cnM6IHVuZGVmaW5lZFxuICAgIH1cbiAgfVxuICBcbiAgLy8gRGV0ZXJtaW5lIGNvbnN0cmFpbnQgbW9kZVxuICBjb25zdCBtb2RlID0gdHJpcEdyb3VwLmF1dG9fY2FsY3VsYXRlX2VuZF9kYXRlIHx8ICFlbmREYXRlID8gJ2F1dG8nIDogJ2ZpeGVkJ1xuICBcbiAgLy8gQ2FsY3VsYXRlIHRvdGFsIGF2YWlsYWJsZSBob3VycyBmb3IgZml4ZWQgbW9kZVxuICBsZXQgdG90YWxBdmFpbGFibGVIb3VyczogbnVtYmVyIHwgdW5kZWZpbmVkXG4gIFxuICBpZiAobW9kZSA9PT0gJ2ZpeGVkJyAmJiBlbmREYXRlKSB7XG4gICAgY29uc3QgZGF5cyA9IGNhbGN1bGF0ZURheXNCZXR3ZWVuKHN0YXJ0RGF0ZSwgZW5kRGF0ZSlcbiAgICB0b3RhbEF2YWlsYWJsZUhvdXJzID0gZGF5cyAqIERFRkFVTFRfREFJTFlfSE9VUlNcbiAgfVxuICBcbiAgcmV0dXJuIHtcbiAgICBtb2RlLFxuICAgIHN0YXJ0RGF0ZSxcbiAgICBlbmREYXRlOiBlbmREYXRlIHx8IHVuZGVmaW5lZCxcbiAgICBkYWlseUhvdXJzOiBERUZBVUxUX0RBSUxZX0hPVVJTLFxuICAgIHRvdGFsQXZhaWxhYmxlSG91cnNcbiAgfVxufVxuXG4vKipcbiAqIENhbGN1bGF0ZSBudW1iZXIgb2YgZGF5cyBiZXR3ZWVuIHR3byBkYXRlcyAoaW5jbHVzaXZlKVxuICovXG5mdW5jdGlvbiBjYWxjdWxhdGVEYXlzQmV0d2VlbihzdGFydDogRGF0ZSwgZW5kOiBEYXRlKTogbnVtYmVyIHtcbiAgY29uc3Qgc3RhcnRUaW1lID0gc3RhcnQuZ2V0VGltZSgpXG4gIGNvbnN0IGVuZFRpbWUgPSBlbmQuZ2V0VGltZSgpXG4gIGNvbnN0IGRpZmZUaW1lID0gTWF0aC5hYnMoZW5kVGltZSAtIHN0YXJ0VGltZSlcbiAgY29uc3QgZGlmZkRheXMgPSBNYXRoLmNlaWwoZGlmZlRpbWUgLyAoMTAwMCAqIDYwICogNjAgKiAyNCkpXG4gIHJldHVybiBkaWZmRGF5cyArIDEgLy8gKzEgdG8gbWFrZSBpdCBpbmNsdXNpdmVcbn1cblxuLyoqXG4gKiBDaGVjayBpZiBjbHVzdGVycyBmaXQgd2l0aGluIHRpbWUgY29uc3RyYWludHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlVGltZUNvbnN0cmFpbnRzKFxuICBjbHVzdGVyczogRGVzdGluYXRpb25DbHVzdGVyW10sXG4gIGNvbnN0cmFpbnRzOiBUaW1lQ29uc3RyYWludHNcbik6IHtcbiAgaXNWYWxpZDogYm9vbGVhblxuICB0b3RhbFJlcXVpcmVkSG91cnM6IG51bWJlclxuICB0b3RhbEF2YWlsYWJsZUhvdXJzOiBudW1iZXIgfCBudWxsXG4gIHJlcXVpcmVkRGF5czogbnVtYmVyXG4gIGlzc3Vlczogc3RyaW5nW11cbn0ge1xuICAvLyBDYWxjdWxhdGUgdG90YWwgcmVxdWlyZWQgdGltZVxuICBjb25zdCB0b3RhbFJlcXVpcmVkSG91cnMgPSBjbHVzdGVycy5yZWR1Y2UoXG4gICAgKHN1bSwgY2x1c3RlcikgPT4gc3VtICsgY2x1c3Rlci5hdmVyYWdlU3RheVRpbWUsXG4gICAgMFxuICApXG4gIFxuICAvLyBBZGQgdHJhdmVsIHRpbWUgYmV0d2VlbiBjbHVzdGVycyAocm91Z2ggZXN0aW1hdGU6IDIgaG91cnMgYmV0d2VlbiBjbHVzdGVycylcbiAgY29uc3QgdHJhdmVsVGltZSA9IE1hdGgubWF4KDAsIChjbHVzdGVycy5sZW5ndGggLSAxKSAqIDIpXG4gIGNvbnN0IHRvdGFsV2l0aFRyYXZlbCA9IHRvdGFsUmVxdWlyZWRIb3VycyArIHRyYXZlbFRpbWVcbiAgXG4gIC8vIENhbGN1bGF0ZSByZXF1aXJlZCBkYXlzXG4gIGNvbnN0IHJlcXVpcmVkRGF5cyA9IE1hdGguY2VpbCh0b3RhbFdpdGhUcmF2ZWwgLyBjb25zdHJhaW50cy5kYWlseUhvdXJzKVxuICBcbiAgY29uc3QgaXNzdWVzOiBzdHJpbmdbXSA9IFtdXG4gIGxldCBpc1ZhbGlkID0gdHJ1ZVxuICBcbiAgaWYgKGNvbnN0cmFpbnRzLm1vZGUgPT09ICdmaXhlZCcgJiYgY29uc3RyYWludHMudG90YWxBdmFpbGFibGVIb3Vycykge1xuICAgIGlmICh0b3RhbFdpdGhUcmF2ZWwgPiBjb25zdHJhaW50cy50b3RhbEF2YWlsYWJsZUhvdXJzKSB7XG4gICAgICBpc1ZhbGlkID0gZmFsc2VcbiAgICAgIGlzc3Vlcy5wdXNoKFxuICAgICAgICBgVHJpcCByZXF1aXJlcyAke3RvdGFsV2l0aFRyYXZlbH0gaG91cnMgYnV0IG9ubHkgJHtjb25zdHJhaW50cy50b3RhbEF2YWlsYWJsZUhvdXJzfSBob3VycyBhcmUgYXZhaWxhYmxlYFxuICAgICAgKVxuICAgICAgaXNzdWVzLnB1c2goXG4gICAgICAgIGBDb25zaWRlciByZW1vdmluZyAke01hdGguY2VpbCgodG90YWxXaXRoVHJhdmVsIC0gY29uc3RyYWludHMudG90YWxBdmFpbGFibGVIb3VycykgLyBjbHVzdGVyc1swXS5hdmVyYWdlU3RheVRpbWUpfSBkZXN0aW5hdGlvbnNgXG4gICAgICApXG4gICAgfVxuICB9XG4gIFxuICByZXR1cm4ge1xuICAgIGlzVmFsaWQsXG4gICAgdG90YWxSZXF1aXJlZEhvdXJzOiB0b3RhbFdpdGhUcmF2ZWwsXG4gICAgdG90YWxBdmFpbGFibGVIb3VyczogY29uc3RyYWludHMudG90YWxBdmFpbGFibGVIb3VycyB8fCBudWxsLFxuICAgIHJlcXVpcmVkRGF5cyxcbiAgICBpc3N1ZXNcbiAgfVxufVxuXG4vKipcbiAqIFN1Z2dlc3QgZW5kIGRhdGUgZm9yIGF1dG8tY2FsY3VsYXRlIG1vZGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN1Z2dlc3RFbmREYXRlKFxuICBzdGFydERhdGU6IERhdGUsXG4gIGNsdXN0ZXJzOiBEZXN0aW5hdGlvbkNsdXN0ZXJbXVxuKToge1xuICBzdWdnZXN0ZWRFbmREYXRlOiBEYXRlXG4gIHRvdGFsRGF5czogbnVtYmVyXG4gIGRhaWx5U2NoZWR1bGU6IERhaWx5U2NoZWR1bGVbXVxufSB7XG4gIC8vIENhbGN1bGF0ZSB0b3RhbCByZXF1aXJlZCBob3VycyBpbmNsdWRpbmcgdHJhdmVsXG4gIGNvbnN0IHRvdGFsUmVxdWlyZWRIb3VycyA9IGNsdXN0ZXJzLnJlZHVjZShcbiAgICAoc3VtLCBjbHVzdGVyKSA9PiBzdW0gKyBjbHVzdGVyLmF2ZXJhZ2VTdGF5VGltZSxcbiAgICAwXG4gIClcbiAgY29uc3QgdHJhdmVsVGltZSA9IE1hdGgubWF4KDAsIChjbHVzdGVycy5sZW5ndGggLSAxKSAqIDIpXG4gIGNvbnN0IHRvdGFsV2l0aFRyYXZlbCA9IHRvdGFsUmVxdWlyZWRIb3VycyArIHRyYXZlbFRpbWVcbiAgXG4gIC8vIENhbGN1bGF0ZSByZXF1aXJlZCBkYXlzXG4gIGNvbnN0IHJlcXVpcmVkRGF5cyA9IE1hdGguY2VpbCh0b3RhbFdpdGhUcmF2ZWwgLyBERUZBVUxUX0RBSUxZX0hPVVJTKVxuICBcbiAgLy8gQ2FsY3VsYXRlIHN1Z2dlc3RlZCBlbmQgZGF0ZVxuICBjb25zdCBzdWdnZXN0ZWRFbmREYXRlID0gbmV3IERhdGUoc3RhcnREYXRlKVxuICBzdWdnZXN0ZWRFbmREYXRlLnNldERhdGUoc3VnZ2VzdGVkRW5kRGF0ZS5nZXREYXRlKCkgKyByZXF1aXJlZERheXMgLSAxKVxuICBcbiAgLy8gQ3JlYXRlIGRhaWx5IHNjaGVkdWxlXG4gIGNvbnN0IGRhaWx5U2NoZWR1bGUgPSBjcmVhdGVEYWlseVNjaGVkdWxlKGNsdXN0ZXJzLCByZXF1aXJlZERheXMpXG4gIFxuICByZXR1cm4ge1xuICAgIHN1Z2dlc3RlZEVuZERhdGUsXG4gICAgdG90YWxEYXlzOiByZXF1aXJlZERheXMsXG4gICAgZGFpbHlTY2hlZHVsZVxuICB9XG59XG5cbi8vIERhaWx5IHNjaGVkdWxlIHN0cnVjdHVyZVxuaW50ZXJmYWNlIERhaWx5U2NoZWR1bGUge1xuICBkYXk6IG51bWJlclxuICBkYXRlOiBEYXRlXG4gIGNsdXN0ZXJzOiBEZXN0aW5hdGlvbkNsdXN0ZXJbXVxuICB0b3RhbEhvdXJzOiBudW1iZXJcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBkYWlseSBzY2hlZHVsZSBkaXN0cmlidXRpbmcgY2x1c3RlcnMgYWNyb3NzIGRheXNcbiAqL1xuZnVuY3Rpb24gY3JlYXRlRGFpbHlTY2hlZHVsZShcbiAgY2x1c3RlcnM6IERlc3RpbmF0aW9uQ2x1c3RlcltdLFxuICB0b3RhbERheXM6IG51bWJlclxuKTogRGFpbHlTY2hlZHVsZVtdIHtcbiAgY29uc3Qgc2NoZWR1bGU6IERhaWx5U2NoZWR1bGVbXSA9IFtdXG4gIGNvbnN0IGhvdXJzUGVyRGF5ID0gREVGQVVMVF9EQUlMWV9IT1VSU1xuICBcbiAgbGV0IGN1cnJlbnREYXkgPSAxXG4gIGxldCBjdXJyZW50RGF5SG91cnMgPSAwXG4gIGxldCBjdXJyZW50RGF5Q2x1c3RlcnM6IERlc3RpbmF0aW9uQ2x1c3RlcltdID0gW11cbiAgXG4gIGZvciAoY29uc3QgY2x1c3RlciBvZiBjbHVzdGVycykge1xuICAgIC8vIENoZWNrIGlmIGFkZGluZyB0aGlzIGNsdXN0ZXIgZXhjZWVkcyBkYWlseSBsaW1pdFxuICAgIGlmIChjdXJyZW50RGF5SG91cnMgKyBjbHVzdGVyLmF2ZXJhZ2VTdGF5VGltZSA+IGhvdXJzUGVyRGF5ICYmIGN1cnJlbnREYXlDbHVzdGVycy5sZW5ndGggPiAwKSB7XG4gICAgICAvLyBNb3ZlIHRvIG5leHQgZGF5XG4gICAgICBjdXJyZW50RGF5KytcbiAgICAgIGN1cnJlbnREYXlIb3VycyA9IDBcbiAgICAgIGN1cnJlbnREYXlDbHVzdGVycyA9IFtdXG4gICAgfVxuICAgIFxuICAgIC8vIEFkZCBjbHVzdGVyIHRvIGN1cnJlbnQgZGF5XG4gICAgY3VycmVudERheUNsdXN0ZXJzLnB1c2goY2x1c3RlcilcbiAgICBjdXJyZW50RGF5SG91cnMgKz0gY2x1c3Rlci5hdmVyYWdlU3RheVRpbWVcbiAgICBcbiAgICAvLyBJZiB0aGlzIGlzIHRoZSBsYXN0IGNsdXN0ZXIgb3IgZGF5IGlzIGZ1bGwsIHNhdmUgdGhlIGRheVxuICAgIGlmIChjbHVzdGVyID09PSBjbHVzdGVyc1tjbHVzdGVycy5sZW5ndGggLSAxXSB8fCBjdXJyZW50RGF5SG91cnMgPj0gaG91cnNQZXJEYXkgKiAwLjgpIHtcbiAgICAgIHNjaGVkdWxlLnB1c2goe1xuICAgICAgICBkYXk6IGN1cnJlbnREYXksXG4gICAgICAgIGRhdGU6IG5ldyBEYXRlKCksIC8vIFdpbGwgYmUgdXBkYXRlZCB3aXRoIGFjdHVhbCBkYXRlc1xuICAgICAgICBjbHVzdGVyczogWy4uLmN1cnJlbnREYXlDbHVzdGVyc10sXG4gICAgICAgIHRvdGFsSG91cnM6IGN1cnJlbnREYXlIb3Vyc1xuICAgICAgfSlcbiAgICAgIFxuICAgICAgaWYgKGNsdXN0ZXIgIT09IGNsdXN0ZXJzW2NsdXN0ZXJzLmxlbmd0aCAtIDFdKSB7XG4gICAgICAgIGN1cnJlbnREYXkrK1xuICAgICAgICBjdXJyZW50RGF5SG91cnMgPSAwXG4gICAgICAgIGN1cnJlbnREYXlDbHVzdGVycyA9IFtdXG4gICAgICB9XG4gICAgfVxuICB9XG4gIFxuICByZXR1cm4gc2NoZWR1bGVcbn1cblxuLyoqXG4gKiBGaWx0ZXIgY2x1c3RlcnMgdG8gZml0IHdpdGhpbiB0aW1lIGNvbnN0cmFpbnRzXG4gKiBSZW1vdmVzIGxvd2VzdCBkZXNpcmFiaWxpdHkgY2x1c3RlcnMgdW50aWwgY29uc3RyYWludHMgYXJlIG1ldFxuICovXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyQ2x1c3RlcnNGb3JUaW1lQ29uc3RyYWludHMoXG4gIGNsdXN0ZXJzOiBEZXN0aW5hdGlvbkNsdXN0ZXJbXSxcbiAgY29uc3RyYWludHM6IFRpbWVDb25zdHJhaW50c1xuKToge1xuICBmaWx0ZXJlZENsdXN0ZXJzOiBEZXN0aW5hdGlvbkNsdXN0ZXJbXVxuICByZW1vdmVkQ2x1c3RlcnM6IERlc3RpbmF0aW9uQ2x1c3RlcltdXG4gIHRvdGFsSG91cnM6IG51bWJlclxufSB7XG4gIGlmIChjb25zdHJhaW50cy5tb2RlID09PSAnYXV0bycpIHtcbiAgICAvLyBObyBmaWx0ZXJpbmcgbmVlZGVkIGZvciBhdXRvIG1vZGVcbiAgICByZXR1cm4ge1xuICAgICAgZmlsdGVyZWRDbHVzdGVyczogY2x1c3RlcnMsXG4gICAgICByZW1vdmVkQ2x1c3RlcnM6IFtdLFxuICAgICAgdG90YWxIb3VyczogY2x1c3RlcnMucmVkdWNlKChzdW0sIGMpID0+IHN1bSArIGMuYXZlcmFnZVN0YXlUaW1lLCAwKVxuICAgIH1cbiAgfVxuICBcbiAgY29uc3QgbWF4SG91cnMgPSBjb25zdHJhaW50cy50b3RhbEF2YWlsYWJsZUhvdXJzIHx8IDBcbiAgY29uc3Qgc29ydGVkQ2x1c3RlcnMgPSBbLi4uY2x1c3RlcnNdLnNvcnQoKGEsIGIpID0+IGIudG90YWxEZXNpcmFiaWxpdHkgLSBhLnRvdGFsRGVzaXJhYmlsaXR5KVxuICBcbiAgY29uc3QgZmlsdGVyZWRDbHVzdGVyczogRGVzdGluYXRpb25DbHVzdGVyW10gPSBbXVxuICBjb25zdCByZW1vdmVkQ2x1c3RlcnM6IERlc3RpbmF0aW9uQ2x1c3RlcltdID0gW11cbiAgbGV0IHRvdGFsSG91cnMgPSAwXG4gIFxuICBmb3IgKGNvbnN0IGNsdXN0ZXIgb2Ygc29ydGVkQ2x1c3RlcnMpIHtcbiAgICBjb25zdCBjbHVzdGVyVGltZSA9IGNsdXN0ZXIuYXZlcmFnZVN0YXlUaW1lXG4gICAgY29uc3QgdHJhdmVsVGltZSA9IGZpbHRlcmVkQ2x1c3RlcnMubGVuZ3RoID4gMCA/IDIgOiAwIC8vIFJvdWdoIHRyYXZlbCB0aW1lIGVzdGltYXRlXG4gICAgXG4gICAgaWYgKHRvdGFsSG91cnMgKyBjbHVzdGVyVGltZSArIHRyYXZlbFRpbWUgPD0gbWF4SG91cnMpIHtcbiAgICAgIGZpbHRlcmVkQ2x1c3RlcnMucHVzaChjbHVzdGVyKVxuICAgICAgdG90YWxIb3VycyArPSBjbHVzdGVyVGltZSArIHRyYXZlbFRpbWVcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlZENsdXN0ZXJzLnB1c2goY2x1c3RlcilcbiAgICB9XG4gIH1cbiAgXG4gIHJldHVybiB7XG4gICAgZmlsdGVyZWRDbHVzdGVycyxcbiAgICByZW1vdmVkQ2x1c3RlcnMsXG4gICAgdG90YWxIb3Vyc1xuICB9XG59XG5cbi8qKlxuICogRXN0aW1hdGUgdHJhdmVsIHRpbWUgYmV0d2VlbiBjbHVzdGVyc1xuICogRm9yIE1WUCwgdXNlIHNpbXBsZSBkaXN0YW5jZS1iYXNlZCBlc3RpbWF0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlc3RpbWF0ZVRyYXZlbFRpbWUoZGlzdGFuY2VLbTogbnVtYmVyKTogbnVtYmVyIHtcbiAgaWYgKGRpc3RhbmNlS20gPCA1MCkge1xuICAgIHJldHVybiAwLjUgLy8gMzAgbWludXRlcyBmb3Igc2hvcnQgZGlzdGFuY2VzXG4gIH0gZWxzZSBpZiAoZGlzdGFuY2VLbSA8IDIwMCkge1xuICAgIHJldHVybiAxLjUgLy8gMS41IGhvdXJzIGZvciBtZWRpdW0gZGlzdGFuY2VzXG4gIH0gZWxzZSBpZiAoZGlzdGFuY2VLbSA8IDUwMCkge1xuICAgIHJldHVybiAzIC8vIDMgaG91cnMgZm9yIGxvbmcgZGlzdGFuY2VzIChpbmNsdWRlcyBhaXJwb3J0IHRpbWUpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIDQgLy8gNCBob3VycyBmb3IgdmVyeSBsb25nIGRpc3RhbmNlcyAoZmxpZ2h0KVxuICB9XG59Il0sIm5hbWVzIjpbIkRFRkFVTFRfREFJTFlfSE9VUlMiLCJwcm9jZXNzVGltZUNvbnN0cmFpbnRzIiwidHJpcEdyb3VwIiwic3RhcnREYXRlIiwic3RhcnRfZGF0ZSIsIkRhdGUiLCJlbmREYXRlIiwiZW5kX2RhdGUiLCJjb25zb2xlIiwid2FybiIsIm1vZGUiLCJ1bmRlZmluZWQiLCJkYWlseUhvdXJzIiwidG90YWxBdmFpbGFibGVIb3VycyIsImF1dG9fY2FsY3VsYXRlX2VuZF9kYXRlIiwiZGF5cyIsImNhbGN1bGF0ZURheXNCZXR3ZWVuIiwic3RhcnQiLCJlbmQiLCJzdGFydFRpbWUiLCJnZXRUaW1lIiwiZW5kVGltZSIsImRpZmZUaW1lIiwiTWF0aCIsImFicyIsImRpZmZEYXlzIiwiY2VpbCIsInZhbGlkYXRlVGltZUNvbnN0cmFpbnRzIiwiY2x1c3RlcnMiLCJjb25zdHJhaW50cyIsInRvdGFsUmVxdWlyZWRIb3VycyIsInJlZHVjZSIsInN1bSIsImNsdXN0ZXIiLCJhdmVyYWdlU3RheVRpbWUiLCJ0cmF2ZWxUaW1lIiwibWF4IiwibGVuZ3RoIiwidG90YWxXaXRoVHJhdmVsIiwicmVxdWlyZWREYXlzIiwiaXNzdWVzIiwiaXNWYWxpZCIsInB1c2giLCJzdWdnZXN0RW5kRGF0ZSIsInN1Z2dlc3RlZEVuZERhdGUiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsImRhaWx5U2NoZWR1bGUiLCJjcmVhdGVEYWlseVNjaGVkdWxlIiwidG90YWxEYXlzIiwic2NoZWR1bGUiLCJob3Vyc1BlckRheSIsImN1cnJlbnREYXkiLCJjdXJyZW50RGF5SG91cnMiLCJjdXJyZW50RGF5Q2x1c3RlcnMiLCJkYXkiLCJkYXRlIiwidG90YWxIb3VycyIsImZpbHRlckNsdXN0ZXJzRm9yVGltZUNvbnN0cmFpbnRzIiwiZmlsdGVyZWRDbHVzdGVycyIsInJlbW92ZWRDbHVzdGVycyIsImMiLCJtYXhIb3VycyIsInNvcnRlZENsdXN0ZXJzIiwic29ydCIsImEiLCJiIiwidG90YWxEZXNpcmFiaWxpdHkiLCJjbHVzdGVyVGltZSIsImVzdGltYXRlVHJhdmVsVGltZSIsImRpc3RhbmNlS20iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./lib/optimization/time-constraints.ts\n");

/***/ }),

/***/ "(action-browser)/./lib/optimization/transport-calculator.ts":
/*!**************************************************!*\
  !*** ./lib/optimization/transport-calculator.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculateRouteMetrics: () => (/* binding */ calculateRouteMetrics),\n/* harmony export */   calculateRouteSegment: () => (/* binding */ calculateRouteSegment),\n/* harmony export */   determineTransportMode: () => (/* binding */ determineTransportMode),\n/* harmony export */   estimateTravelTime: () => (/* binding */ estimateTravelTime),\n/* harmony export */   getTransportStats: () => (/* binding */ getTransportStats),\n/* harmony export */   optimizeTransportModes: () => (/* binding */ optimizeTransportModes),\n/* harmony export */   validateRouteFeasibility: () => (/* binding */ validateRouteFeasibility)\n/* harmony export */ });\n/* harmony import */ var _geographical_clustering__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./geographical-clustering */ \"(action-browser)/./lib/optimization/geographical-clustering.ts\");\n/* harmony import */ var _distance_cache__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./distance-cache */ \"(action-browser)/./lib/optimization/distance-cache.ts\");\n// Transportation mode and travel time calculations\n\n\n// Default transport configuration\nconst DEFAULT_TRANSPORT_CONFIG = {\n    walkingSpeedKmh: 5,\n    walkingMaxDistanceKm: 2,\n    drivingSpeedKmh: 60,\n    drivingMaxDistanceKm: 300,\n    flyingSpeedKmh: 500\n};\n/**\n * Determine transport mode based on distance\n */ function determineTransportMode(distanceKm, config = DEFAULT_TRANSPORT_CONFIG) {\n    if (distanceKm <= config.walkingMaxDistanceKm) {\n        return \"walking\";\n    } else if (distanceKm <= config.drivingMaxDistanceKm) {\n        return \"driving\";\n    } else {\n        return \"flying\";\n    }\n}\n/**\n * Estimate travel time based on distance and transport mode\n */ function estimateTravelTime(distanceKm, mode, config = DEFAULT_TRANSPORT_CONFIG) {\n    switch(mode){\n        case \"walking\":\n            return distanceKm / config.walkingSpeedKmh;\n        case \"driving\":\n            // Add buffer for parking, traffic, etc.\n            const drivingTime = distanceKm / config.drivingSpeedKmh;\n            return drivingTime * 1.2 // 20% buffer\n            ;\n        case \"flying\":\n            // Add fixed time for airport procedures\n            const flyingTime = distanceKm / config.flyingSpeedKmh;\n            const airportTime = 3 // 3 hours for check-in, security, boarding, baggage\n            ;\n            return flyingTime + airportTime;\n        default:\n            throw new Error(`Unknown transport mode: ${mode}`);\n    }\n}\n/**\n * Calculate route segment between two locations\n */ function calculateRouteSegment(from, to, config = DEFAULT_TRANSPORT_CONFIG) {\n    // Extract locations\n    const fromLocation = \"centerLocation\" in from ? from.centerLocation : from;\n    const toLocation = \"centerLocation\" in to ? to.centerLocation : to;\n    // Calculate distance with caching\n    const distanceKm = (0,_distance_cache__WEBPACK_IMPORTED_MODULE_1__.calculateCachedDistance)(fromLocation, toLocation, (from, to)=>(0,_geographical_clustering__WEBPACK_IMPORTED_MODULE_0__.calculateHaversineDistance)(from.latitude, from.longitude, to.latitude, to.longitude));\n    // Determine transport mode\n    const transportMode = determineTransportMode(distanceKm, config);\n    // Estimate travel time\n    const estimatedTimeHours = estimateTravelTime(distanceKm, transportMode, config);\n    return {\n        fromCluster: \"centerLocation\" in from ? from : null,\n        toCluster: \"centerLocation\" in to ? to : null,\n        distanceKm,\n        transportMode,\n        estimatedTimeHours\n    };\n}\n/**\n * Calculate total route distance and time\n */ function calculateRouteMetrics(departureLocation, clusters, returnLocation, config = DEFAULT_TRANSPORT_CONFIG) {\n    const segments = [];\n    let totalDistanceKm = 0;\n    let totalTimeHours = 0;\n    const transportModes = new Set();\n    // Handle empty route\n    if (clusters.length === 0) {\n        if (returnLocation && returnLocation.id !== departureLocation.id) {\n            const segment = calculateRouteSegment(departureLocation, returnLocation, config);\n            segments.push(segment);\n            totalDistanceKm += segment.distanceKm;\n            totalTimeHours += segment.estimatedTimeHours;\n            transportModes.add(segment.transportMode);\n        }\n        return {\n            segments,\n            totalDistanceKm,\n            totalTimeHours,\n            transportModes\n        };\n    }\n    // Departure to first cluster\n    const firstSegment = calculateRouteSegment(departureLocation, clusters[0], config);\n    segments.push(firstSegment);\n    totalDistanceKm += firstSegment.distanceKm;\n    totalTimeHours += firstSegment.estimatedTimeHours;\n    transportModes.add(firstSegment.transportMode);\n    // Between clusters\n    for(let i = 0; i < clusters.length - 1; i++){\n        const segment = calculateRouteSegment(clusters[i], clusters[i + 1], config);\n        segments.push(segment);\n        totalDistanceKm += segment.distanceKm;\n        totalTimeHours += segment.estimatedTimeHours;\n        transportModes.add(segment.transportMode);\n    }\n    // Last cluster to return location\n    const finalLocation = returnLocation || departureLocation;\n    const lastSegment = calculateRouteSegment(clusters[clusters.length - 1], finalLocation, config);\n    segments.push(lastSegment);\n    totalDistanceKm += lastSegment.distanceKm;\n    totalTimeHours += lastSegment.estimatedTimeHours;\n    transportModes.add(lastSegment.transportMode);\n    // Add time for visiting destinations\n    const visitTimeHours = clusters.reduce((sum, cluster)=>sum + cluster.averageStayTime, 0);\n    totalTimeHours += visitTimeHours;\n    return {\n        segments,\n        totalDistanceKm,\n        totalTimeHours,\n        transportModes\n    };\n}\n/**\n * Validate route feasibility\n */ function validateRouteFeasibility(totalTimeHours, availableTimeHours, transportModes) {\n    const issues = [];\n    // Check time constraint\n    if (availableTimeHours !== undefined && totalTimeHours > availableTimeHours) {\n        issues.push(`Route requires ${totalTimeHours.toFixed(1)} hours but only ${availableTimeHours.toFixed(1)} hours available`);\n    }\n    // Check for practical constraints\n    if (transportModes.has(\"flying\") && transportModes.size > 2) {\n        issues.push(\"Route involves multiple transport mode changes including flights\");\n    }\n    return {\n        feasible: issues.length === 0,\n        issues\n    };\n}\n/**\n * Optimize transport modes for a route\n * Sometimes driving might be better than a short flight\n */ function optimizeTransportModes(segments, config = DEFAULT_TRANSPORT_CONFIG) {\n    return segments.map((segment)=>{\n        // Skip if not flying\n        if (segment.transportMode !== \"flying\") {\n            return segment;\n        }\n        // Check if driving would be reasonable\n        const drivingTime = estimateTravelTime(segment.distanceKm, \"driving\", config);\n        const flyingTime = segment.estimatedTimeHours;\n        // If driving is less than 5 hours and not much slower than flying, prefer driving\n        if (drivingTime < 5 && drivingTime < flyingTime * 1.5) {\n            return {\n                ...segment,\n                transportMode: \"driving\",\n                estimatedTimeHours: drivingTime\n            };\n        }\n        return segment;\n    });\n}\n/**\n * Get transport mode statistics for display\n */ function getTransportStats(segments) {\n    const stats = {\n        walkingSegments: 0,\n        walkingDistanceKm: 0,\n        drivingSegments: 0,\n        drivingDistanceKm: 0,\n        flyingSegments: 0,\n        flyingDistanceKm: 0,\n        modeChanges: 0\n    };\n    let previousMode = null;\n    for (const segment of segments){\n        switch(segment.transportMode){\n            case \"walking\":\n                stats.walkingSegments++;\n                stats.walkingDistanceKm += segment.distanceKm;\n                break;\n            case \"driving\":\n                stats.drivingSegments++;\n                stats.drivingDistanceKm += segment.distanceKm;\n                break;\n            case \"flying\":\n                stats.flyingSegments++;\n                stats.flyingDistanceKm += segment.distanceKm;\n                break;\n        }\n        if (previousMode && previousMode !== segment.transportMode) {\n            stats.modeChanges++;\n        }\n        previousMode = segment.transportMode;\n    }\n    return stats;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL2xpYi9vcHRpbWl6YXRpb24vdHJhbnNwb3J0LWNhbGN1bGF0b3IudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUEsbURBQW1EO0FBU21CO0FBQ1o7QUFFMUQsa0NBQWtDO0FBQ2xDLE1BQU1FLDJCQUE0QztJQUNoREMsaUJBQWlCO0lBQ2pCQyxzQkFBc0I7SUFDdEJDLGlCQUFpQjtJQUNqQkMsc0JBQXNCO0lBQ3RCQyxnQkFBZ0I7QUFDbEI7QUFFQTs7Q0FFQyxHQUNNLFNBQVNDLHVCQUNkQyxVQUFrQixFQUNsQkMsU0FBMEJSLHdCQUF3QjtJQUVsRCxJQUFJTyxjQUFjQyxPQUFPTixvQkFBb0IsRUFBRTtRQUM3QyxPQUFPO0lBQ1QsT0FBTyxJQUFJSyxjQUFjQyxPQUFPSixvQkFBb0IsRUFBRTtRQUNwRCxPQUFPO0lBQ1QsT0FBTztRQUNMLE9BQU87SUFDVDtBQUNGO0FBRUE7O0NBRUMsR0FDTSxTQUFTSyxtQkFDZEYsVUFBa0IsRUFDbEJHLElBQW1CLEVBQ25CRixTQUEwQlIsd0JBQXdCO0lBRWxELE9BQVFVO1FBQ04sS0FBSztZQUNILE9BQU9ILGFBQWFDLE9BQU9QLGVBQWU7UUFFNUMsS0FBSztZQUNILHdDQUF3QztZQUN4QyxNQUFNVSxjQUFjSixhQUFhQyxPQUFPTCxlQUFlO1lBQ3ZELE9BQU9RLGNBQWMsSUFBSSxhQUFhOztRQUV4QyxLQUFLO1lBQ0gsd0NBQXdDO1lBQ3hDLE1BQU1DLGFBQWFMLGFBQWFDLE9BQU9ILGNBQWM7WUFDckQsTUFBTVEsY0FBYyxFQUFFLG9EQUFvRDs7WUFDMUUsT0FBT0QsYUFBYUM7UUFFdEI7WUFDRSxNQUFNLElBQUlDLE1BQU0sQ0FBQyx3QkFBd0IsRUFBRUosS0FBSyxDQUFDO0lBQ3JEO0FBQ0Y7QUFFQTs7Q0FFQyxHQUNNLFNBQVNLLHNCQUNkQyxJQUFtQyxFQUNuQ0MsRUFBaUMsRUFDakNULFNBQTBCUix3QkFBd0I7SUFFbEQsb0JBQW9CO0lBQ3BCLE1BQU1rQixlQUFlLG9C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QUFnQjtRQUNoQkMsa0JBQWtCO1FBQ2xCQyxhQUFhO0lBQ2Y7SUFFQSxJQUFJQyxlQUFxQztJQUV6QyxLQUFLLE1BQU0vQixXQUFXUCxTQUFVO1FBQzlCLE9BQVFPLFFBQVFmLGFBQWE7WUFDM0IsS0FBSztnQkFDSHNDLE1BQU1DLGVBQWU7Z0JBQ3JCRCxNQUFNRSxpQkFBaUIsSUFBSXpCLFFBQVEvQixVQUFVO2dCQUM3QztZQUNGLEtBQUs7Z0JBQ0hzRCxNQUFNRyxlQUFlO2dCQUNyQkgsTUFBTUksaUJBQWlCLElBQUkzQixRQUFRL0IsVUFBVTtnQkFDN0M7WUFDRixLQUFLO2dCQUNIc0QsTUFBTUssY0FBYztnQkFDcEJMLE1BQU1NLGdCQUFnQixJQUFJN0IsUUFBUS9CLFVBQVU7Z0JBQzVDO1FBQ0o7UUFFQSxJQUFJOEQsZ0JBQWdCQSxpQkFBaUIvQixRQUFRZixhQUFhLEVBQUU7WUFDMURzQyxNQUFNTyxXQUFXO1FBQ25CO1FBQ0FDLGVBQWUvQixRQUFRZixhQUFhO0lBQ3RDO0lBRUEsT0FBT3NDO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMvLi9saWIvb3B0aW1pemF0aW9uL3RyYW5zcG9ydC1jYWxjdWxhdG9yLnRzP2FmOGMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVHJhbnNwb3J0YXRpb24gbW9kZSBhbmQgdHJhdmVsIHRpbWUgY2FsY3VsYXRpb25zXG5cbmltcG9ydCB0eXBlIHsgXG4gIFRyYW5zcG9ydE1vZGUsIFxuICBUcmFuc3BvcnRDb25maWcsIFxuICBSb3V0ZVNlZ21lbnQgXG59IGZyb20gJy4vYWxnb3JpdGhtLXR5cGVzJ1xuaW1wb3J0IHR5cGUgeyBMb2NhdGlvbiB9IGZyb20gJy4vdHlwZXMnXG5pbXBvcnQgdHlwZSB7IERlc3RpbmF0aW9uQ2x1c3RlciB9IGZyb20gJy4vbm9ybWFsaXphdGlvbi10eXBlcydcbmltcG9ydCB7IGNhbGN1bGF0ZUhhdmVyc2luZURpc3RhbmNlIH0gZnJvbSAnLi9nZW9ncmFwaGljYWwtY2x1c3RlcmluZydcbmltcG9ydCB7IGNhbGN1bGF0ZUNhY2hlZERpc3RhbmNlIH0gZnJvbSAnLi9kaXN0YW5jZS1jYWNoZSdcblxuLy8gRGVmYXVsdCB0cmFuc3BvcnQgY29uZmlndXJhdGlvblxuY29uc3QgREVGQVVMVF9UUkFOU1BPUlRfQ09ORklHOiBUcmFuc3BvcnRDb25maWcgPSB7XG4gIHdhbGtpbmdTcGVlZEttaDogNSxcbiAgd2Fsa2luZ01heERpc3RhbmNlS206IDIsXG4gIGRyaXZpbmdTcGVlZEttaDogNjAsXG4gIGRyaXZpbmdNYXhEaXN0YW5jZUttOiAzMDAsXG4gIGZseWluZ1NwZWVkS21oOiA1MDBcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgdHJhbnNwb3J0IG1vZGUgYmFzZWQgb24gZGlzdGFuY2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRldGVybWluZVRyYW5zcG9ydE1vZGUoXG4gIGRpc3RhbmNlS206IG51bWJlcixcbiAgY29uZmlnOiBUcmFuc3BvcnRDb25maWcgPSBERUZBVUxUX1RSQU5TUE9SVF9DT05GSUdcbik6IFRyYW5zcG9ydE1vZGUge1xuICBpZiAoZGlzdGFuY2VLbSA8PSBjb25maWcud2Fsa2luZ01heERpc3RhbmNlS20pIHtcbiAgICByZXR1cm4gJ3dhbGtpbmcnXG4gIH0gZWxzZSBpZiAoZGlzdGFuY2VLbSA8PSBjb25maWcuZHJpdmluZ01heERpc3RhbmNlS20pIHtcbiAgICByZXR1cm4gJ2RyaXZpbmcnXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuICdmbHlpbmcnXG4gIH1cbn1cblxuLyoqXG4gKiBFc3RpbWF0ZSB0cmF2ZWwgdGltZSBiYXNlZCBvbiBkaXN0YW5jZSBhbmQgdHJhbnNwb3J0IG1vZGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVzdGltYXRlVHJhdmVsVGltZShcbiAgZGlzdGFuY2VLbTogbnVtYmVyLFxuICBtb2RlOiBUcmFuc3BvcnRNb2RlLFxuICBjb25maWc6IFRyYW5zcG9ydENvbmZpZyA9IERFRkFVTFRfVFJBTlNQT1JUX0NPTkZJR1xuKTogbnVtYmVyIHtcbiAgc3dpdGNoIChtb2RlKSB7XG4gICAgY2FzZSAnd2Fsa2luZyc6XG4gICAgICByZXR1cm4gZGlzdGFuY2VLbSAvIGNvbmZpZy53YWxraW5nU3BlZWRLbWhcbiAgICAgIFxuICAgIGNhc2UgJ2RyaXZpbmcnOlxuICAgICAgLy8gQWRkIGJ1ZmZlciBmb3IgcGFya2luZywgdHJhZmZpYywgZXRjLlxuICAgICAgY29uc3QgZHJpdmluZ1RpbWUgPSBkaXN0YW5jZUttIC8gY29uZmlnLmRyaXZpbmdTcGVlZEttaFxuICAgICAgcmV0dXJuIGRyaXZpbmdUaW1lICogMS4yIC8vIDIwJSBidWZmZXJcbiAgICAgIFxuICAgIGNhc2UgJ2ZseWluZyc6XG4gICAgICAvLyBBZGQgZml4ZWQgdGltZSBmb3IgYWlycG9ydCBwcm9jZWR1cmVzXG4gICAgICBjb25zdCBmbHlpbmdUaW1lID0gZGlzdGFuY2VLbSAvIGNvbmZpZy5mbHlpbmdTcGVlZEttaFxuICAgICAgY29uc3QgYWlycG9ydFRpbWUgPSAzIC8vIDMgaG91cnMgZm9yIGNoZWNrLWluLCBzZWN1cml0eSwgYm9hcmRpbmcsIGJhZ2dhZ2VcbiAgICAgIHJldHVybiBmbHlpbmdUaW1lICsgYWlycG9ydFRpbWVcbiAgICAgIFxuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gdHJhbnNwb3J0IG1vZGU6ICR7bW9kZX1gKVxuICB9XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlIHJvdXRlIHNlZ21lbnQgYmV0d2VlbiB0d28gbG9jYXRpb25zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVSb3V0ZVNlZ21lbnQoXG4gIGZyb206IExvY2F0aW9uIHwgRGVzdGluYXRpb25DbHVzdGVyLFxuICB0bzogTG9jYXRpb24gfCBEZXN0aW5hdGlvbkNsdXN0ZXIsXG4gIGNvbmZpZzogVHJhbnNwb3J0Q29uZmlnID0gREVGQVVMVF9UUkFOU1BPUlRfQ09ORklHXG4pOiBSb3V0ZVNlZ21lbnQge1xuICAvLyBFeHRyYWN0IGxvY2F0aW9uc1xuICBjb25zdCBmcm9tTG9jYXRpb24gPSAnY2VudGVyTG9jYXRpb24nIGluIGZyb20gPyBmcm9tLmNlbnRlckxvY2F0aW9uIDogZnJvbVxuICBjb25zdCB0b0xvY2F0aW9uID0gJ2NlbnRlckxvY2F0aW9uJyBpbiB0byA/IHRvLmNlbnRlckxvY2F0aW9uIDogdG9cbiAgXG4gIC8vIENhbGN1bGF0ZSBkaXN0YW5jZSB3aXRoIGNhY2hpbmdcbiAgY29uc3QgZGlzdGFuY2VLbSA9IGNhbGN1bGF0ZUNhY2hlZERpc3RhbmNlKFxuICAgIGZyb21Mb2NhdGlvbixcbiAgICB0b0xvY2F0aW9uLFxuICAgIChmcm9tLCB0bykgPT4gY2FsY3VsYXRlSGF2ZXJzaW5lRGlzdGFuY2UoXG4gICAgICBmcm9tLmxhdGl0dWRlLFxuICAgICAgZnJvbS5sb25naXR1ZGUsXG4gICAgICB0by5sYXRpdHVkZSxcbiAgICAgIHRvLmxvbmdpdHVkZVxuICAgIClcbiAgKVxuICBcbiAgLy8gRGV0ZXJtaW5lIHRyYW5zcG9ydCBtb2RlXG4gIGNvbnN0IHRyYW5zcG9ydE1vZGUgPSBkZXRlcm1pbmVUcmFuc3BvcnRNb2RlKGRpc3RhbmNlS20sIGNvbmZpZylcbiAgXG4gIC8vIEVzdGltYXRlIHRyYXZlbCB0aW1lXG4gIGNvbnN0IGVzdGltYXRlZFRpbWVIb3VycyA9IGVzdGltYXRlVHJhdmVsVGltZShkaXN0YW5jZUttLCB0cmFuc3BvcnRNb2RlLCBjb25maWcpXG4gIFxuICByZXR1cm4ge1xuICAgIGZyb21DbHVzdGVyOiAnY2VudGVyTG9jYXRpb24nIGluIGZyb20gPyBmcm9tIDogbnVsbCxcbiAgICB0b0NsdXN0ZXI6ICdjZW50ZXJMb2NhdGlvbicgaW4gdG8gPyB0byA6IG51bGwsXG4gICAgZGlzdGFuY2VLbSxcbiAgICB0cmFuc3BvcnRNb2RlLFxuICAgIGVzdGltYXRlZFRpbWVIb3Vyc1xuICB9XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlIHRvdGFsIHJvdXRlIGRpc3RhbmNlIGFuZCB0aW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVSb3V0ZU1ldHJpY3MoXG4gIGRlcGFydHVyZUxvY2F0aW9uOiBMb2NhdGlvbixcbiAgY2x1c3RlcnM6IERlc3RpbmF0aW9uQ2x1c3RlcltdLFxuICByZXR1cm5Mb2NhdGlvbjogTG9jYXRpb24gfCBudWxsLFxuICBjb25maWc6IFRyYW5zcG9ydENvbmZpZyA9IERFRkFVTFRfVFJBTlNQT1JUX0NPTkZJR1xuKToge1xuICBzZWdtZW50czogUm91dGVTZWdtZW50W11cbiAgdG90YWxEaXN0YW5jZUttOiBudW1iZXJcbiAgdG90YWxUaW1lSG91cnM6IG51bWJlclxuICB0cmFuc3BvcnRNb2RlczogU2V0PFRyYW5zcG9ydE1vZGU+XG59IHtcbiAgY29uc3Qgc2VnbWVudHM6IFJvdXRlU2VnbWVudFtdID0gW11cbiAgbGV0IHRvdGFsRGlzdGFuY2VLbSA9IDBcbiAgbGV0IHRvdGFsVGltZUhvdXJzID0gMFxuICBjb25zdCB0cmFuc3BvcnRNb2RlcyA9IG5ldyBTZXQ8VHJhbnNwb3J0TW9kZT4oKVxuICBcbiAgLy8gSGFuZGxlIGVtcHR5IHJvdXRlXG4gIGlmIChjbHVzdGVycy5sZW5ndGggPT09IDApIHtcbiAgICBpZiAocmV0dXJuTG9jYXRpb24gJiYgcmV0dXJuTG9jYXRpb24uaWQgIT09IGRlcGFydHVyZUxvY2F0aW9uLmlkKSB7XG4gICAgICBjb25zdCBzZWdtZW50ID0gY2FsY3VsYXRlUm91dGVTZWdtZW50KGRlcGFydHVyZUxvY2F0aW9uLCByZXR1cm5Mb2NhdGlvbiwgY29uZmlnKVxuICAgICAgc2VnbWVudHMucHVzaChzZWdtZW50KVxuICAgICAgdG90YWxEaXN0YW5jZUttICs9IHNlZ21lbnQuZGlzdGFuY2VLbVxuICAgICAgdG90YWxUaW1lSG91cnMgKz0gc2VnbWVudC5lc3RpbWF0ZWRUaW1lSG91cnNcbiAgICAgIHRyYW5zcG9ydE1vZGVzLmFkZChzZWdtZW50LnRyYW5zcG9ydE1vZGUpXG4gICAgfVxuICAgIFxuICAgIHJldHVybiB7IHNlZ21lbnRzLCB0b3RhbERpc3RhbmNlS20sIHRvdGFsVGltZUhvdXJzLCB0cmFuc3BvcnRNb2RlcyB9XG4gIH1cbiAgXG4gIC8vIERlcGFydHVyZSB0byBmaXJzdCBjbHVzdGVyXG4gIGNvbnN0IGZpcnN0U2VnbWVudCA9IGNhbGN1bGF0ZVJvdXRlU2VnbWVudChkZXBhcnR1cmVMb2NhdGlvbiwgY2x1c3RlcnNbMF0sIGNvbmZpZylcbiAgc2VnbWVudHMucHVzaChmaXJzdFNlZ21lbnQpXG4gIHRvdGFsRGlzdGFuY2VLbSArPSBmaXJzdFNlZ21lbnQuZGlzdGFuY2VLbVxuICB0b3RhbFRpbWVIb3VycyArPSBmaXJzdFNlZ21lbnQuZXN0aW1hdGVkVGltZUhvdXJzXG4gIHRyYW5zcG9ydE1vZGVzLmFkZChmaXJzdFNlZ21lbnQudHJhbnNwb3J0TW9kZSlcbiAgXG4gIC8vIEJldHdlZW4gY2x1c3RlcnNcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjbHVzdGVycy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICBjb25zdCBzZWdtZW50ID0gY2FsY3VsYXRlUm91dGVTZWdtZW50KGNsdXN0ZXJzW2ldLCBjbHVzdGVyc1tpICsgMV0sIGNvbmZpZylcbiAgICBzZWdtZW50cy5wdXNoKHNlZ21lbnQpXG4gICAgdG90YWxEaXN0YW5jZUttICs9IHNlZ21lbnQuZGlzdGFuY2VLbVxuICAgIHRvdGFsVGltZUhvdXJzICs9IHNlZ21lbnQuZXN0aW1hdGVkVGltZUhvdXJzXG4gICAgdHJhbnNwb3J0TW9kZXMuYWRkKHNlZ21lbnQudHJhbnNwb3J0TW9kZSlcbiAgfVxuICBcbiAgLy8gTGFzdCBjbHVzdGVyIHRvIHJldHVybiBsb2NhdGlvblxuICBjb25zdCBmaW5hbExvY2F0aW9uID0gcmV0dXJuTG9jYXRpb24gfHwgZGVwYXJ0dXJlTG9jYXRpb25cbiAgY29uc3QgbGFzdFNlZ21lbnQgPSBjYWxjdWxhdGVSb3V0ZVNlZ21lbnQoXG4gICAgY2x1c3RlcnNbY2x1c3RlcnMubGVuZ3RoIC0gMV0sXG4gICAgZmluYWxMb2NhdGlvbixcbiAgICBjb25maWdcbiAgKVxuICBzZWdtZW50cy5wdXNoKGxhc3RTZWdtZW50KVxuICB0b3RhbERpc3RhbmNlS20gKz0gbGFzdFNlZ21lbnQuZGlzdGFuY2VLbVxuICB0b3RhbFRpbWVIb3VycyArPSBsYXN0U2VnbWVudC5lc3RpbWF0ZWRUaW1lSG91cnNcbiAgdHJhbnNwb3J0TW9kZXMuYWRkKGxhc3RTZWdtZW50LnRyYW5zcG9ydE1vZGUpXG4gIFxuICAvLyBBZGQgdGltZSBmb3IgdmlzaXRpbmcgZGVzdGluYXRpb25zXG4gIGNvbnN0IHZpc2l0VGltZUhvdXJzID0gY2x1c3RlcnMucmVkdWNlKFxuICAgIChzdW0sIGNsdXN0ZXIpID0+IHN1bSArIGNsdXN0ZXIuYXZlcmFnZVN0YXlUaW1lLFxuICAgIDBcbiAgKVxuICB0b3RhbFRpbWVIb3VycyArPSB2aXNpdFRpbWVIb3Vyc1xuICBcbiAgcmV0dXJuIHtcbiAgICBzZWdtZW50cyxcbiAgICB0b3RhbERpc3RhbmNlS20sXG4gICAgdG90YWxUaW1lSG91cnMsXG4gICAgdHJhbnNwb3J0TW9kZXNcbiAgfVxufVxuXG4vKipcbiAqIFZhbGlkYXRlIHJvdXRlIGZlYXNpYmlsaXR5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVJvdXRlRmVhc2liaWxpdHkoXG4gIHRvdGFsVGltZUhvdXJzOiBudW1iZXIsXG4gIGF2YWlsYWJsZVRpbWVIb3VyczogbnVtYmVyIHwgdW5kZWZpbmVkLFxuICB0cmFuc3BvcnRNb2RlczogU2V0PFRyYW5zcG9ydE1vZGU+XG4pOiB7XG4gIGZlYXNpYmxlOiBib29sZWFuXG4gIGlzc3Vlczogc3RyaW5nW11cbn0ge1xuICBjb25zdCBpc3N1ZXM6IHN0cmluZ1tdID0gW11cbiAgXG4gIC8vIENoZWNrIHRpbWUgY29uc3RyYWludFxuICBpZiAoYXZhaWxhYmxlVGltZUhvdXJzICE9PSB1bmRlZmluZWQgJiYgdG90YWxUaW1lSG91cnMgPiBhdmFpbGFibGVUaW1lSG91cnMpIHtcbiAgICBpc3N1ZXMucHVzaChcbiAgICAgIGBSb3V0ZSByZXF1aXJlcyAke3RvdGFsVGltZUhvdXJzLnRvRml4ZWQoMSl9IGhvdXJzIGJ1dCBvbmx5ICR7YXZhaWxhYmxlVGltZUhvdXJzLnRvRml4ZWQoMSl9IGhvdXJzIGF2YWlsYWJsZWBcbiAgICApXG4gIH1cbiAgXG4gIC8vIENoZWNrIGZvciBwcmFjdGljYWwgY29uc3RyYWludHNcbiAgaWYgKHRyYW5zcG9ydE1vZGVzLmhhcygnZmx5aW5nJykgJiYgdHJhbnNwb3J0TW9kZXMuc2l6ZSA+IDIpIHtcbiAgICBpc3N1ZXMucHVzaChcbiAgICAgICdSb3V0ZSBpbnZvbHZlcyBtdWx0aXBsZSB0cmFuc3BvcnQgbW9kZSBjaGFuZ2VzIGluY2x1ZGluZyBmbGlnaHRzJ1xuICAgIClcbiAgfVxuICBcbiAgcmV0dXJuIHtcbiAgICBmZWFzaWJsZTogaXNzdWVzLmxlbmd0aCA9PT0gMCxcbiAgICBpc3N1ZXNcbiAgfVxufVxuXG4vKipcbiAqIE9wdGltaXplIHRyYW5zcG9ydCBtb2RlcyBmb3IgYSByb3V0ZVxuICogU29tZXRpbWVzIGRyaXZpbmcgbWlnaHQgYmUgYmV0dGVyIHRoYW4gYSBzaG9ydCBmbGlnaHRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9wdGltaXplVHJhbnNwb3J0TW9kZXMoXG4gIHNlZ21lbnRzOiBSb3V0ZVNlZ21lbnRbXSxcbiAgY29uZmlnOiBUcmFuc3BvcnRDb25maWcgPSBERUZBVUxUX1RSQU5TUE9SVF9DT05GSUdcbik6IFJvdXRlU2VnbWVudFtdIHtcbiAgcmV0dXJuIHNlZ21lbnRzLm1hcChzZWdtZW50ID0+IHtcbiAgICAvLyBTa2lwIGlmIG5vdCBmbHlpbmdcbiAgICBpZiAoc2VnbWVudC50cmFuc3BvcnRNb2RlICE9PSAnZmx5aW5nJykge1xuICAgICAgcmV0dXJuIHNlZ21lbnRcbiAgICB9XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgZHJpdmluZyB3b3VsZCBiZSByZWFzb25hYmxlXG4gICAgY29uc3QgZHJpdmluZ1RpbWUgPSBlc3RpbWF0ZVRyYXZlbFRpbWUoXG4gICAgICBzZWdtZW50LmRpc3RhbmNlS20sXG4gICAgICAnZHJpdmluZycsXG4gICAgICBjb25maWdcbiAgICApXG4gICAgY29uc3QgZmx5aW5nVGltZSA9IHNlZ21lbnQuZXN0aW1hdGVkVGltZUhvdXJzXG4gICAgXG4gICAgLy8gSWYgZHJpdmluZyBpcyBsZXNzIHRoYW4gNSBob3VycyBhbmQgbm90IG11Y2ggc2xvd2VyIHRoYW4gZmx5aW5nLCBwcmVmZXIgZHJpdmluZ1xuICAgIGlmIChkcml2aW5nVGltZSA8IDUgJiYgZHJpdmluZ1RpbWUgPCBmbHlpbmdUaW1lICogMS41KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zZWdtZW50LFxuICAgICAgICB0cmFuc3BvcnRNb2RlOiAnZHJpdmluZycsXG4gICAgICAgIGVzdGltYXRlZFRpbWVIb3VyczogZHJpdmluZ1RpbWVcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHNlZ21lbnRcbiAgfSlcbn1cblxuLyoqXG4gKiBHZXQgdHJhbnNwb3J0IG1vZGUgc3RhdGlzdGljcyBmb3IgZGlzcGxheVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJhbnNwb3J0U3RhdHMoc2VnbWVudHM6IFJvdXRlU2VnbWVudFtdKToge1xuICB3YWxraW5nU2VnbWVudHM6IG51bWJlclxuICB3YWxraW5nRGlzdGFuY2VLbTogbnVtYmVyXG4gIGRyaXZpbmdTZWdtZW50czogbnVtYmVyXG4gIGRyaXZpbmdEaXN0YW5jZUttOiBudW1iZXJcbiAgZmx5aW5nU2VnbWVudHM6IG51bWJlclxuICBmbHlpbmdEaXN0YW5jZUttOiBudW1iZXJcbiAgbW9kZUNoYW5nZXM6IG51bWJlclxufSB7XG4gIGNvbnN0IHN0YXRzID0ge1xuICAgIHdhbGtpbmdTZWdtZW50czogMCxcbiAgICB3YWxraW5nRGlzdGFuY2VLbTogMCxcbiAgICBkcml2aW5nU2VnbWVudHM6IDAsXG4gICAgZHJpdmluZ0Rpc3RhbmNlS206IDAsXG4gICAgZmx5aW5nU2VnbWVudHM6IDAsXG4gICAgZmx5aW5nRGlzdGFuY2VLbTogMCxcbiAgICBtb2RlQ2hhbmdlczogMFxuICB9XG4gIFxuICBsZXQgcHJldmlvdXNNb2RlOiBUcmFuc3BvcnRNb2RlIHwgbnVsbCA9IG51bGxcbiAgXG4gIGZvciAoY29uc3Qgc2VnbWVudCBvZiBzZWdtZW50cykge1xuICAgIHN3aXRjaCAoc2VnbWVudC50cmFuc3BvcnRNb2RlKSB7XG4gICAgICBjYXNlICd3YWxraW5nJzpcbiAgICAgICAgc3RhdHMud2Fsa2luZ1NlZ21lbnRzKytcbiAgICAgICAgc3RhdHMud2Fsa2luZ0Rpc3RhbmNlS20gKz0gc2VnbWVudC5kaXN0YW5jZUttXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdkcml2aW5nJzpcbiAgICAgICAgc3RhdHMuZHJpdmluZ1NlZ21lbnRzKytcbiAgICAgICAgc3RhdHMuZHJpdmluZ0Rpc3RhbmNlS20gKz0gc2VnbWVudC5kaXN0YW5jZUttXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdmbHlpbmcnOlxuICAgICAgICBzdGF0cy5mbHlpbmdTZWdtZW50cysrXG4gICAgICAgIHN0YXRzLmZseWluZ0Rpc3RhbmNlS20gKz0gc2VnbWVudC5kaXN0YW5jZUttXG4gICAgICAgIGJyZWFrXG4gICAgfVxuICAgIFxuICAgIGlmIChwcmV2aW91c01vZGUgJiYgcHJldmlvdXNNb2RlICE9PSBzZWdtZW50LnRyYW5zcG9ydE1vZGUpIHtcbiAgICAgIHN0YXRzLm1vZGVDaGFuZ2VzKytcbiAgICB9XG4gICAgcHJldmlvdXNNb2RlID0gc2VnbWVudC50cmFuc3BvcnRNb2RlXG4gIH1cbiAgXG4gIHJldHVybiBzdGF0c1xufSJdLCJuYW1lcyI6WyJjYWxjdWxhdGVIYXZlcnNpbmVEaXN0YW5jZSIsImNhbGN1bGF0ZUNhY2hlZERpc3RhbmNlIiwiREVGQVVMVF9UUkFOU1BPUlRfQ09ORklHIiwid2Fsa2luZ1NwZWVkS21oIiwid2Fsa2luZ01heERpc3RhbmNlS20iLCJkcml2aW5nU3BlZWRLbWgiLCJkcml2aW5nTWF4RGlzdGFuY2VLbSIsImZseWluZ1NwZWVkS21oIiwiZGV0ZXJtaW5lVHJhbnNwb3J0TW9kZSIsImRpc3RhbmNlS20iLCJjb25maWciLCJlc3RpbWF0ZVRyYXZlbFRpbWUiLCJtb2RlIiwiZHJpdmluZ1RpbWUiLCJmbHlpbmdUaW1lIiwiYWlycG9ydFRpbWUiLCJFcnJvciIsImNhbGN1bGF0ZVJvdXRlU2VnbWVudCIsImZyb20iLCJ0byIsImZyb21Mb2NhdGlvbiIsImNlbnRlckxvY2F0aW9uIiwidG9Mb2NhdGlvbiIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwidHJhbnNwb3J0TW9kZSIsImVzdGltYXRlZFRpbWVIb3VycyIsImZyb21DbHVzdGVyIiwidG9DbHVzdGVyIiwiY2FsY3VsYXRlUm91dGVNZXRyaWNzIiwiZGVwYXJ0dXJlTG9jYXRpb24iLCJjbHVzdGVycyIsInJldHVybkxvY2F0aW9uIiwic2VnbWVudHMiLCJ0b3RhbERpc3RhbmNlS20iLCJ0b3RhbFRpbWVIb3VycyIsInRyYW5zcG9ydE1vZGVzIiwiU2V0IiwibGVuZ3RoIiwiaWQiLCJzZWdtZW50IiwicHVzaCIsImFkZCIsImZpcnN0U2VnbWVudCIsImkiLCJmaW5hbExvY2F0aW9uIiwibGFzdFNlZ21lbnQiLCJ2aXNpdFRpbWVIb3VycyIsInJlZHVjZSIsInN1bSIsImNsdXN0ZXIiLCJhdmVyYWdlU3RheVRpbWUiLCJ2YWxpZGF0ZVJvdXRlRmVhc2liaWxpdHkiLCJhdmFpbGFibGVUaW1lSG91cnMiLCJpc3N1ZXMiLCJ1bmRlZmluZWQiLCJ0b0ZpeGVkIiwiaGFzIiwic2l6ZSIsImZlYXNpYmxlIiwib3B0aW1pemVUcmFuc3BvcnRNb2RlcyIsIm1hcCIsImdldFRyYW5zcG9ydFN0YXRzIiwic3RhdHMiLCJ3YWxraW5nU2VnbWVudHMiLCJ3YWxraW5nRGlzdGFuY2VLbSIsImRyaXZpbmdTZWdtZW50cyIsImRyaXZpbmdEaXN0YW5jZUttIiwiZmx5aW5nU2VnbWVudHMiLCJmbHlpbmdEaXN0YW5jZUttIiwibW9kZUNoYW5nZXMiLCJwcmV2aW91c01vZGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./lib/optimization/transport-calculator.ts\n");

/***/ }),

/***/ "(action-browser)/./lib/optimization/transport-mode-selector.ts":
/*!*****************************************************!*\
  !*** ./lib/optimization/transport-mode-selector.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_TRANSPORT_CONFIG: () => (/* binding */ DEFAULT_TRANSPORT_CONFIG),\n/* harmony export */   TRANSPORT_MODES: () => (/* binding */ TRANSPORT_MODES),\n/* harmony export */   calculateTransportStats: () => (/* binding */ calculateTransportStats),\n/* harmony export */   calculateTravelTime: () => (/* binding */ calculateTravelTime),\n/* harmony export */   determineTransportMode: () => (/* binding */ determineTransportMode),\n/* harmony export */   validateTransportMode: () => (/* binding */ validateTransportMode)\n/* harmony export */ });\n/* harmony import */ var _geographical_clustering__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./geographical-clustering */ \"(action-browser)/./lib/optimization/geographical-clustering.ts\");\n// Transport mode selection based on distance\n\n// Default transport configuration\nconst DEFAULT_TRANSPORT_CONFIG = {\n    walkingSpeedKmh: 5,\n    walkingMaxDistanceKm: 2,\n    drivingSpeedKmh: 60,\n    drivingMaxDistanceKm: 300,\n    flyingSpeedKmh: 500\n};\n// Transport mode definitions\nconst TRANSPORT_MODES = [\n    {\n        mode: \"walking\",\n        icon: \"\\uD83D\\uDEB6\",\n        speedKmh: DEFAULT_TRANSPORT_CONFIG.walkingSpeedKmh,\n        minDistanceKm: 0,\n        maxDistanceKm: DEFAULT_TRANSPORT_CONFIG.walkingMaxDistanceKm\n    },\n    {\n        mode: \"driving\",\n        icon: \"\\uD83D\\uDE97\",\n        speedKmh: DEFAULT_TRANSPORT_CONFIG.drivingSpeedKmh,\n        minDistanceKm: DEFAULT_TRANSPORT_CONFIG.walkingMaxDistanceKm,\n        maxDistanceKm: DEFAULT_TRANSPORT_CONFIG.drivingMaxDistanceKm\n    },\n    {\n        mode: \"flying\",\n        icon: \"✈️\",\n        speedKmh: DEFAULT_TRANSPORT_CONFIG.flyingSpeedKmh,\n        minDistanceKm: DEFAULT_TRANSPORT_CONFIG.drivingMaxDistanceKm,\n        maxDistanceKm: Infinity\n    }\n];\n/**\n * Determine transport mode based on distance\n */ function determineTransportMode(fromLocation, toLocation, config = {}) {\n    const finalConfig = {\n        ...DEFAULT_TRANSPORT_CONFIG,\n        ...config\n    };\n    // Calculate distance\n    const distanceKm = (0,_geographical_clustering__WEBPACK_IMPORTED_MODULE_0__.calculateHaversineDistance)(fromLocation.latitude, fromLocation.longitude, toLocation.latitude, toLocation.longitude);\n    // Select transport mode based on distance\n    let selectedMode;\n    if (distanceKm <= finalConfig.walkingMaxDistanceKm) {\n        selectedMode = TRANSPORT_MODES.find((m)=>m.mode === \"walking\");\n    } else if (distanceKm <= finalConfig.drivingMaxDistanceKm) {\n        selectedMode = TRANSPORT_MODES.find((m)=>m.mode === \"driving\");\n    } else {\n        selectedMode = TRANSPORT_MODES.find((m)=>m.mode === \"flying\");\n    }\n    // Update speed from config if provided\n    if (config.walkingSpeedKmh && selectedMode.mode === \"walking\") {\n        selectedMode = {\n            ...selectedMode,\n            speedKmh: config.walkingSpeedKmh\n        };\n    } else if (config.drivingSpeedKmh && selectedMode.mode === \"driving\") {\n        selectedMode = {\n            ...selectedMode,\n            speedKmh: config.drivingSpeedKmh\n        };\n    } else if (config.flyingSpeedKmh && selectedMode.mode === \"flying\") {\n        selectedMode = {\n            ...selectedMode,\n            speedKmh: config.flyingSpeedKmh\n        };\n    }\n    // Calculate travel time\n    const estimatedTimeHours = calculateTravelTime(distanceKm, selectedMode.mode, selectedMode.speedKmh);\n    return {\n        mode: selectedMode.mode,\n        icon: selectedMode.icon,\n        distanceKm,\n        estimatedTimeHours,\n        speedKmh: selectedMode.speedKmh\n    };\n}\n/**\n * Calculate realistic travel time including overhead\n */ function calculateTravelTime(distanceKm, mode, speedKmh) {\n    const baseTime = distanceKm / speedKmh;\n    switch(mode){\n        case \"walking\":\n            // Add small buffer for rest stops, traffic lights\n            return baseTime * 1.1;\n        case \"driving\":\n            // Add 20% buffer for traffic, parking, rest stops\n            return baseTime * 1.2;\n        case \"flying\":\n            // Add 3 hours for airport procedures\n            return baseTime + 3.0;\n        default:\n            return baseTime;\n    }\n}\n/**\n * Validate transport mode selection\n */ function validateTransportMode(mode, distanceKm, config = {}) {\n    const finalConfig = {\n        ...DEFAULT_TRANSPORT_CONFIG,\n        ...config\n    };\n    const warnings = [];\n    // Check for very short flights\n    if (mode === \"flying\" && distanceKm < 100) {\n        warnings.push(`Flight selected for short distance (${distanceKm.toFixed(0)}km). Consider driving instead.`);\n    }\n    // Check for very long walks\n    if (mode === \"walking\" && distanceKm > 5) {\n        warnings.push(`Walking selected for long distance (${distanceKm.toFixed(1)}km). This may be impractical.`);\n    }\n    // Check for inconsistent mode selection\n    if (mode === \"walking\" && distanceKm > finalConfig.walkingMaxDistanceKm) {\n        warnings.push(`Walking selected but distance exceeds typical walking range`);\n    }\n    if (mode === \"driving\" && distanceKm > finalConfig.drivingMaxDistanceKm) {\n        warnings.push(`Driving selected but distance exceeds typical driving range`);\n    }\n    return {\n        isValid: warnings.length === 0,\n        warnings\n    };\n}\n/**\n * Get transport mode statistics for a journey\n */ function calculateTransportStats(segments) {\n    const modeBreakdown = new Map();\n    // Initialize breakdown\n    for (const mode of [\n        \"walking\",\n        \"driving\",\n        \"flying\"\n    ]){\n        modeBreakdown.set(mode, {\n            count: 0,\n            totalDistanceKm: 0\n        });\n    }\n    // Calculate statistics\n    let previousMode = null;\n    let modeChanges = 0;\n    for (const segment of segments){\n        const stats = modeBreakdown.get(segment.mode);\n        stats.count++;\n        stats.totalDistanceKm += segment.distanceKm;\n        if (previousMode && previousMode !== segment.mode) {\n            modeChanges++;\n        }\n        previousMode = segment.mode;\n    }\n    // Find dominant mode by distance\n    let dominantMode = null;\n    let maxDistance = 0;\n    for (const [mode, stats] of Array.from(modeBreakdown.entries())){\n        if (stats.totalDistanceKm > maxDistance) {\n            maxDistance = stats.totalDistanceKm;\n            dominantMode = mode;\n        }\n    }\n    return {\n        totalSegments: segments.length,\n        modeBreakdown,\n        modeChanges,\n        dominantMode\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL2xpYi9vcHRpbWl6YXRpb24vdHJhbnNwb3J0LW1vZGUtc2VsZWN0b3IudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLDZDQUE2QztBQUt5QjtBQVd0RSxrQ0FBa0M7QUFDM0IsTUFBTUMsMkJBSVQ7SUFDRkMsaUJBQWlCO0lBQ2pCQyxzQkFBc0I7SUFDdEJDLGlCQUFpQjtJQUNqQkMsc0JBQXNCO0lBQ3RCQyxnQkFBZ0I7QUFDbEIsRUFBQztBQUVELDZCQUE2QjtBQUN0QixNQUFNQyxrQkFBMEM7SUFDckQ7UUFDRUMsTUFBTTtRQUNOQyxNQUFNO1FBQ05DLFVBQVVULHlCQUF5QkMsZUFBZTtRQUNsRFMsZUFBZTtRQUNmQyxlQUFlWCx5QkFBeUJFLG9CQUFvQjtJQUM5RDtJQUNBO1FBQ0VLLE1BQU07UUFDTkMsTUFBTTtRQUNOQyxVQUFVVCx5QkFBeUJHLGVBQWU7UUFDbERPLGVBQWVWLHlCQUF5QkUsb0JBQW9CO1FBQzVEUyxlQUFlWCx5QkFBeUJJLG9CQUFvQjtJQUM5RDtJQUNBO1FBQ0VHLE1BQU07UUFDTkMsTUFBTTtRQUNOQyxVQUFVVCx5QkFBeUJLLGNBQWM7UUFDakRLLGVBQWVWLHlCQUF5Qkksb0JBQW9CO1FBQzVETyxlQUFlQztJQUNqQjtDQUNEO0FBRUQ7O0NBRUMsR0FDTSxTQUFTQyx1QkFDZEMsWUFBc0IsRUFDdEJDLFVBQW9CLEVBQ3BCQyxTQUF5QyxDQUFDLENBQUM7SUFRM0MsTUFBTUMsY0FBYztRQUFFLEdBQUdqQix3QkFBd0I7UUFBRSxHQUFHZ0IsTUFBTTtJQUFDO0lBRTdELHFCQUFxQjtJQUNyQixNQUFNRSxhQUFhbkIsb0ZBQTBCQSxDQUMzQ2UsYUFBYUssUUFBUSxFQUNyQkwsYUFBYU0sU0FBUyxFQUN0QkwsV0FBV0ksUUFBUSxFQUNuQkosV0FBV0ssU0FBUztJQUd0QiwwQ0FBMEM7SUFDMUMsSUFBSUM7SUFFSixJQUFJSCxjQUFjRCxZQUFZZixvQkFBb0IsRUFBRTtRQUNsRG1CLGVBQWVmLGdC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Y0UsR0FBRyxDQUFDOUIsTUFBTTtZQUFFK0IsT0FBTztZQUFHQyxpQkFBaUI7UUFBRTtJQUN6RDtJQUVBLHVCQUF1QjtJQUN2QixJQUFJQyxlQUFxQztJQUN6QyxJQUFJQyxjQUFjO0lBRWxCLEtBQUssTUFBTUMsV0FBV1IsU0FBVTtRQUM5QixNQUFNUyxRQUFRUixjQUFjUyxHQUFHLENBQUNGLFFBQVFuQyxJQUFJO1FBQzVDb0MsTUFBTUwsS0FBSztRQUNYSyxNQUFNSixlQUFlLElBQUlHLFFBQVF4QixVQUFVO1FBRTNDLElBQUlzQixnQkFBZ0JBLGlCQUFpQkUsUUFBUW5DLElBQUksRUFBRTtZQUNqRGtDO1FBQ0Y7UUFDQUQsZUFBZUUsUUFBUW5DLElBQUk7SUFDN0I7SUFFQSxpQ0FBaUM7SUFDakMsSUFBSXNDLGVBQXFDO0lBQ3pDLElBQUlDLGNBQWM7SUFFbEIsS0FBSyxNQUFNLENBQUN2QyxNQUFNb0MsTUFBTSxJQUFJSSxNQUFNQyxJQUFJLENBQUNiLGNBQWNjLE9BQU8sSUFBSztRQUMvRCxJQUFJTixNQUFNSixlQUFlLEdBQUdPLGFBQWE7WUFDdkNBLGNBQWNILE1BQU1KLGVBQWU7WUFDbkNNLGVBQWV0QztRQUNqQjtJQUNGO0lBRUEsT0FBTztRQUNMMkMsZUFBZWhCLFNBQVNGLE1BQU07UUFDOUJHO1FBQ0FNO1FBQ0FJO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy8uL2xpYi9vcHRpbWl6YXRpb24vdHJhbnNwb3J0LW1vZGUtc2VsZWN0b3IudHM/ZTdmOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUcmFuc3BvcnQgbW9kZSBzZWxlY3Rpb24gYmFzZWQgb24gZGlzdGFuY2VcblxuaW1wb3J0IHR5cGUgeyBMb2NhdGlvbiB9IGZyb20gJy4vdHlwZXMnXG5pbXBvcnQgdHlwZSB7IFRyYW5zcG9ydE1vZGUgfSBmcm9tICcuL2FsZ29yaXRobS10eXBlcydcbmltcG9ydCB0eXBlIHsgUm91dGVHZW5lcmF0aW9uQ29uZmlnIH0gZnJvbSAnLi9kZXRhaWxlZC1yb3V0ZS10eXBlcydcbmltcG9ydCB7IGNhbGN1bGF0ZUhhdmVyc2luZURpc3RhbmNlIH0gZnJvbSAnLi9nZW9ncmFwaGljYWwtY2x1c3RlcmluZydcblxuLy8gVHJhbnNwb3J0IG1vZGUgZGV0YWlsc1xuZXhwb3J0IGludGVyZmFjZSBUcmFuc3BvcnRNb2RlRGV0YWlscyB7XG4gIG1vZGU6IFRyYW5zcG9ydE1vZGVcbiAgaWNvbjogc3RyaW5nXG4gIHNwZWVkS21oOiBudW1iZXJcbiAgbWluRGlzdGFuY2VLbTogbnVtYmVyXG4gIG1heERpc3RhbmNlS206IG51bWJlclxufVxuXG4vLyBEZWZhdWx0IHRyYW5zcG9ydCBjb25maWd1cmF0aW9uXG5leHBvcnQgY29uc3QgREVGQVVMVF9UUkFOU1BPUlRfQ09ORklHOiBQaWNrPFxuICBSb3V0ZUdlbmVyYXRpb25Db25maWcsXG4gICd3YWxraW5nU3BlZWRLbWgnIHwgJ2RyaXZpbmdTcGVlZEttaCcgfCAnZmx5aW5nU3BlZWRLbWgnIHwgXG4gICd3YWxraW5nTWF4RGlzdGFuY2VLbScgfCAnZHJpdmluZ01heERpc3RhbmNlS20nXG4+ID0ge1xuICB3YWxraW5nU3BlZWRLbWg6IDUsXG4gIHdhbGtpbmdNYXhEaXN0YW5jZUttOiAyLFxuICBkcml2aW5nU3BlZWRLbWg6IDYwLFxuICBkcml2aW5nTWF4RGlzdGFuY2VLbTogMzAwLFxuICBmbHlpbmdTcGVlZEttaDogNTAwXG59XG5cbi8vIFRyYW5zcG9ydCBtb2RlIGRlZmluaXRpb25zXG5leHBvcnQgY29uc3QgVFJBTlNQT1JUX01PREVTOiBUcmFuc3BvcnRNb2RlRGV0YWlsc1tdID0gW1xuICB7XG4gICAgbW9kZTogJ3dhbGtpbmcnLFxuICAgIGljb246ICfwn5q2JyxcbiAgICBzcGVlZEttaDogREVGQVVMVF9UUkFOU1BPUlRfQ09ORklHLndhbGtpbmdTcGVlZEttaCxcbiAgICBtaW5EaXN0YW5jZUttOiAwLFxuICAgIG1heERpc3RhbmNlS206IERFRkFVTFRfVFJBTlNQT1JUX0NPTkZJRy53YWxraW5nTWF4RGlzdGFuY2VLbVxuICB9LFxuICB7XG4gICAgbW9kZTogJ2RyaXZpbmcnLFxuICAgIGljb246ICfwn5qXJyxcbiAgICBzcGVlZEttaDogREVGQVVMVF9UUkFOU1BPUlRfQ09ORklHLmRyaXZpbmdTcGVlZEttaCxcbiAgICBtaW5EaXN0YW5jZUttOiBERUZBVUxUX1RSQU5TUE9SVF9DT05GSUcud2Fsa2luZ01heERpc3RhbmNlS20sXG4gICAgbWF4RGlzdGFuY2VLbTogREVGQVVMVF9UUkFOU1BPUlRfQ09ORklHLmRyaXZpbmdNYXhEaXN0YW5jZUttXG4gIH0sXG4gIHtcbiAgICBtb2RlOiAnZmx5aW5nJyxcbiAgICBpY29uOiAn4pyI77iPJyxcbiAgICBzcGVlZEttaDogREVGQVVMVF9UUkFOU1BPUlRfQ09ORklHLmZseWluZ1NwZWVkS21oLFxuICAgIG1pbkRpc3RhbmNlS206IERFRkFVTFRfVFJBTlNQT1JUX0NPTkZJRy5kcml2aW5nTWF4RGlzdGFuY2VLbSxcbiAgICBtYXhEaXN0YW5jZUttOiBJbmZpbml0eVxuICB9XG5dXG5cbi8qKlxuICogRGV0ZXJtaW5lIHRyYW5zcG9ydCBtb2RlIGJhc2VkIG9uIGRpc3RhbmNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXRlcm1pbmVUcmFuc3BvcnRNb2RlKFxuICBmcm9tTG9jYXRpb246IExvY2F0aW9uLFxuICB0b0xvY2F0aW9uOiBMb2NhdGlvbixcbiAgY29uZmlnOiBQYXJ0aWFsPFJvdXRlR2VuZXJhdGlvbkNvbmZpZz4gPSB7fVxuKToge1xuICBtb2RlOiBUcmFuc3BvcnRNb2RlXG4gIGljb246IHN0cmluZ1xuICBkaXN0YW5jZUttOiBudW1iZXJcbiAgZXN0aW1hdGVkVGltZUhvdXJzOiBudW1iZXJcbiAgc3BlZWRLbWg6IG51bWJlclxufSB7XG4gIGNvbnN0IGZpbmFsQ29uZmlnID0geyAuLi5ERUZBVUxUX1RSQU5TUE9SVF9DT05GSUcsIC4uLmNvbmZpZyB9XG4gIFxuICAvLyBDYWxjdWxhdGUgZGlzdGFuY2VcbiAgY29uc3QgZGlzdGFuY2VLbSA9IGNhbGN1bGF0ZUhhdmVyc2luZURpc3RhbmNlKFxuICAgIGZyb21Mb2NhdGlvbi5sYXRpdHVkZSxcbiAgICBmcm9tTG9jYXRpb24ubG9uZ2l0dWRlLFxuICAgIHRvTG9jYXRpb24ubGF0aXR1ZGUsXG4gICAgdG9Mb2NhdGlvbi5sb25naXR1ZGVcbiAgKVxuICBcbiAgLy8gU2VsZWN0IHRyYW5zcG9ydCBtb2RlIGJhc2VkIG9uIGRpc3RhbmNlXG4gIGxldCBzZWxlY3RlZE1vZGU6IFRyYW5zcG9ydE1vZGVEZXRhaWxzXG4gIFxuICBpZiAoZGlzdGFuY2VLbSA8PSBmaW5hbENvbmZpZy53YWxraW5nTWF4RGlzdGFuY2VLbSkge1xuICAgIHNlbGVjdGVkTW9kZSA9IFRSQU5TUE9SVF9NT0RFUy5maW5kKG0gPT4gbS5tb2RlID09PSAnd2Fsa2luZycpIVxuICB9IGVsc2UgaWYgKGRpc3RhbmNlS20gPD0gZmluYWxDb25maWcuZHJpdmluZ01heERpc3RhbmNlS20pIHtcbiAgICBzZWxlY3RlZE1vZGUgPSBUUkFOU1BPUlRfTU9ERVMuZmluZChtID0+IG0ubW9kZSA9PT0gJ2RyaXZpbmcnKSFcbiAgfSBlbHNlIHtcbiAgICBzZWxlY3RlZE1vZGUgPSBUUkFOU1BPUlRfTU9ERVMuZmluZChtID0+IG0ubW9kZSA9PT0gJ2ZseWluZycpIVxuICB9XG4gIFxuICAvLyBVcGRhdGUgc3BlZWQgZnJvbSBjb25maWcgaWYgcHJvdmlkZWRcbiAgaWYgKGNvbmZpZy53YWxraW5nU3BlZWRLbWggJiYgc2VsZWN0ZWRNb2RlLm1vZGUgPT09ICd3YWxraW5nJykge1xuICAgIHNlbGVjdGVkTW9kZSA9IHsgLi4uc2VsZWN0ZWRNb2RlLCBzcGVlZEttaDogY29uZmlnLndhbGtpbmdTcGVlZEttaCB9XG4gIH0gZWxzZSBpZiAoY29uZmlnLmRyaXZpbmdTcGVlZEttaCAmJiBzZWxlY3RlZE1vZGUubW9kZSA9PT0gJ2RyaXZpbmcnKSB7XG4gICAgc2VsZWN0ZWRNb2RlID0geyAuLi5zZWxlY3RlZE1vZGUsIHNwZWVkS21oOiBjb25maWcuZHJpdmluZ1NwZWVkS21oIH1cbiAgfSBlbHNlIGlmIChjb25maWcuZmx5aW5nU3BlZWRLbWggJiYgc2VsZWN0ZWRNb2RlLm1vZGUgPT09ICdmbHlpbmcnKSB7XG4gICAgc2VsZWN0ZWRNb2RlID0geyAuLi5zZWxlY3RlZE1vZGUsIHNwZWVkS21oOiBjb25maWcuZmx5aW5nU3BlZWRLbWggfVxuICB9XG4gIFxuICAvLyBDYWxjdWxhdGUgdHJhdmVsIHRpbWVcbiAgY29uc3QgZXN0aW1hdGVkVGltZUhvdXJzID0gY2FsY3VsYXRlVHJhdmVsVGltZShcbiAgICBkaXN0YW5jZUttLFxuICAgIHNlbGVjdGVkTW9kZS5tb2RlLFxuICAgIHNlbGVjdGVkTW9kZS5zcGVlZEttaFxuICApXG4gIFxuICByZXR1cm4ge1xuICAgIG1vZGU6IHNlbGVjdGVkTW9kZS5tb2RlLFxuICAgIGljb246IHNlbGVjdGVkTW9kZS5pY29uLFxuICAgIGRpc3RhbmNlS20sXG4gICAgZXN0aW1hdGVkVGltZUhvdXJzLFxuICAgIHNwZWVkS21oOiBzZWxlY3RlZE1vZGUuc3BlZWRLbWhcbiAgfVxufVxuXG4vKipcbiAqIENhbGN1bGF0ZSByZWFsaXN0aWMgdHJhdmVsIHRpbWUgaW5jbHVkaW5nIG92ZXJoZWFkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVUcmF2ZWxUaW1lKFxuICBkaXN0YW5jZUttOiBudW1iZXIsXG4gIG1vZGU6IFRyYW5zcG9ydE1vZGUsXG4gIHNwZWVkS21oOiBudW1iZXJcbik6IG51bWJlciB7XG4gIGNvbnN0IGJhc2VUaW1lID0gZGlzdGFuY2VLbSAvIHNwZWVkS21oXG4gIFxuICBzd2l0Y2ggKG1vZGUpIHtcbiAgICBjYXNlICd3YWxraW5nJzpcbiAgICAgIC8vIEFkZCBzbWFsbCBidWZmZXIgZm9yIHJlc3Qgc3RvcHMsIHRyYWZmaWMgbGlnaHRzXG4gICAgICByZXR1cm4gYmFzZVRpbWUgKiAxLjFcbiAgICAgIFxuICAgIGNhc2UgJ2RyaXZpbmcnOlxuICAgICAgLy8gQWRkIDIwJSBidWZmZXIgZm9yIHRyYWZmaWMsIHBhcmtpbmcsIHJlc3Qgc3RvcHNcbiAgICAgIHJldHVybiBiYXNlVGltZSAqIDEuMlxuICAgICAgXG4gICAgY2FzZSAnZmx5aW5nJzpcbiAgICAgIC8vIEFkZCAzIGhvdXJzIGZvciBhaXJwb3J0IHByb2NlZHVyZXNcbiAgICAgIHJldHVybiBiYXNlVGltZSArIDMuMFxuICAgICAgXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBiYXNlVGltZVxuICB9XG59XG5cbi8qKlxuICogVmFsaWRhdGUgdHJhbnNwb3J0IG1vZGUgc2VsZWN0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVRyYW5zcG9ydE1vZGUoXG4gIG1vZGU6IFRyYW5zcG9ydE1vZGUsXG4gIGRpc3RhbmNlS206IG51bWJlcixcbiAgY29uZmlnOiBQYXJ0aWFsPFJvdXRlR2VuZXJhdGlvbkNvbmZpZz4gPSB7fVxuKToge1xuICBpc1ZhbGlkOiBib29sZWFuXG4gIHdhcm5pbmdzOiBzdHJpbmdbXVxufSB7XG4gIGNvbnN0IGZpbmFsQ29uZmlnID0geyAuLi5ERUZBVUxUX1RSQU5TUE9SVF9DT05GSUcsIC4uLmNvbmZpZyB9XG4gIGNvbnN0IHdhcm5pbmdzOiBzdHJpbmdbXSA9IFtdXG4gIFxuICAvLyBDaGVjayBmb3IgdmVyeSBzaG9ydCBmbGlnaHRzXG4gIGlmIChtb2RlID09PSAnZmx5aW5nJyAmJiBkaXN0YW5jZUttIDwgMTAwKSB7XG4gICAgd2FybmluZ3MucHVzaChcbiAgICAgIGBGbGlnaHQgc2VsZWN0ZWQgZm9yIHNob3J0IGRpc3RhbmNlICgke2Rpc3RhbmNlS20udG9GaXhlZCgwKX1rbSkuIENvbnNpZGVyIGRyaXZpbmcgaW5zdGVhZC5gXG4gICAgKVxuICB9XG4gIFxuICAvLyBDaGVjayBmb3IgdmVyeSBsb25nIHdhbGtzXG4gIGlmIChtb2RlID09PSAnd2Fsa2luZycgJiYgZGlzdGFuY2VLbSA+IDUpIHtcbiAgICB3YXJuaW5ncy5wdXNoKFxuICAgICAgYFdhbGtpbmcgc2VsZWN0ZWQgZm9yIGxvbmcgZGlzdGFuY2UgKCR7ZGlzdGFuY2VLbS50b0ZpeGVkKDEpfWttKS4gVGhpcyBtYXkgYmUgaW1wcmFjdGljYWwuYFxuICAgIClcbiAgfVxuICBcbiAgLy8gQ2hlY2sgZm9yIGluY29uc2lzdGVudCBtb2RlIHNlbGVjdGlvblxuICBpZiAobW9kZSA9PT0gJ3dhbGtpbmcnICYmIGRpc3RhbmNlS20gPiBmaW5hbENvbmZpZy53YWxraW5nTWF4RGlzdGFuY2VLbSkge1xuICAgIHdhcm5pbmdzLnB1c2goXG4gICAgICBgV2Fsa2luZyBzZWxlY3RlZCBidXQgZGlzdGFuY2UgZXhjZWVkcyB0eXBpY2FsIHdhbGtpbmcgcmFuZ2VgXG4gICAgKVxuICB9XG4gIFxuICBpZiAobW9kZSA9PT0gJ2RyaXZpbmcnICYmIGRpc3RhbmNlS20gPiBmaW5hbENvbmZpZy5kcml2aW5nTWF4RGlzdGFuY2VLbSkge1xuICAgIHdhcm5pbmdzLnB1c2goXG4gICAgICBgRHJpdmluZyBzZWxlY3RlZCBidXQgZGlzdGFuY2UgZXhjZWVkcyB0eXBpY2FsIGRyaXZpbmcgcmFuZ2VgXG4gICAgKVxuICB9XG4gIFxuICByZXR1cm4ge1xuICAgIGlzVmFsaWQ6IHdhcm5pbmdzLmxlbmd0aCA9PT0gMCxcbiAgICB3YXJuaW5nc1xuICB9XG59XG5cbi8qKlxuICogR2V0IHRyYW5zcG9ydCBtb2RlIHN0YXRpc3RpY3MgZm9yIGEgam91cm5leVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlVHJhbnNwb3J0U3RhdHMoXG4gIHNlZ21lbnRzOiBBcnJheTx7IG1vZGU6IFRyYW5zcG9ydE1vZGU7IGRpc3RhbmNlS206IG51bWJlciB9PlxuKToge1xuICB0b3RhbFNlZ21lbnRzOiBudW1iZXJcbiAgbW9kZUJyZWFrZG93bjogTWFwPFRyYW5zcG9ydE1vZGUsIHsgY291bnQ6IG51bWJlcjsgdG90YWxEaXN0YW5jZUttOiBudW1iZXIgfT5cbiAgbW9kZUNoYW5nZXM6IG51bWJlclxuICBkb21pbmFudE1vZGU6IFRyYW5zcG9ydE1vZGUgfCBudWxsXG59IHtcbiAgY29uc3QgbW9kZUJyZWFrZG93biA9IG5ldyBNYXA8XG4gICAgVHJhbnNwb3J0TW9kZSxcbiAgICB7IGNvdW50OiBudW1iZXI7IHRvdGFsRGlzdGFuY2VLbTogbnVtYmVyIH1cbiAgPigpXG4gIFxuICAvLyBJbml0aWFsaXplIGJyZWFrZG93blxuICBmb3IgKGNvbnN0IG1vZGUgb2YgWyd3YWxraW5nJywgJ2RyaXZpbmcnLCAnZmx5aW5nJ10gYXMgVHJhbnNwb3J0TW9kZVtdKSB7XG4gICAgbW9kZUJyZWFrZG93bi5zZXQobW9kZSwgeyBjb3VudDogMCwgdG90YWxEaXN0YW5jZUttOiAwIH0pXG4gIH1cbiAgXG4gIC8vIENhbGN1bGF0ZSBzdGF0aXN0aWNzXG4gIGxldCBwcmV2aW91c01vZGU6IFRyYW5zcG9ydE1vZGUgfCBudWxsID0gbnVsbFxuICBsZXQgbW9kZUNoYW5nZXMgPSAwXG4gIFxuICBmb3IgKGNvbnN0IHNlZ21lbnQgb2Ygc2VnbWVudHMpIHtcbiAgICBjb25zdCBzdGF0cyA9IG1vZGVCcmVha2Rvd24uZ2V0KHNlZ21lbnQubW9kZSkhXG4gICAgc3RhdHMuY291bnQrK1xuICAgIHN0YXRzLnRvdGFsRGlzdGFuY2VLbSArPSBzZWdtZW50LmRpc3RhbmNlS21cbiAgICBcbiAgICBpZiAocHJldmlvdXNNb2RlICYmIHByZXZpb3VzTW9kZSAhPT0gc2VnbWVudC5tb2RlKSB7XG4gICAgICBtb2RlQ2hhbmdlcysrXG4gICAgfVxuICAgIHByZXZpb3VzTW9kZSA9IHNlZ21lbnQubW9kZVxuICB9XG4gIFxuICAvLyBGaW5kIGRvbWluYW50IG1vZGUgYnkgZGlzdGFuY2VcbiAgbGV0IGRvbWluYW50TW9kZTogVHJhbnNwb3J0TW9kZSB8IG51bGwgPSBudWxsXG4gIGxldCBtYXhEaXN0YW5jZSA9IDBcbiAgXG4gIGZvciAoY29uc3QgW21vZGUsIHN0YXRzXSBvZiBBcnJheS5mcm9tKG1vZGVCcmVha2Rvd24uZW50cmllcygpKSkge1xuICAgIGlmIChzdGF0cy50b3RhbERpc3RhbmNlS20gPiBtYXhEaXN0YW5jZSkge1xuICAgICAgbWF4RGlzdGFuY2UgPSBzdGF0cy50b3RhbERpc3RhbmNlS21cbiAgICAgIGRvbWluYW50TW9kZSA9IG1vZGVcbiAgICB9XG4gIH1cbiAgXG4gIHJldHVybiB7XG4gICAgdG90YWxTZWdtZW50czogc2VnbWVudHMubGVuZ3RoLFxuICAgIG1vZGVCcmVha2Rvd24sXG4gICAgbW9kZUNoYW5nZXMsXG4gICAgZG9taW5hbnRNb2RlXG4gIH1cbn0iXSwibmFtZXMiOlsiY2FsY3VsYXRlSGF2ZXJzaW5lRGlzdGFuY2UiLCJERUZBVUxUX1RSQU5TUE9SVF9DT05GSUciLCJ3YWxraW5nU3BlZWRLbWgiLCJ3YWxraW5nTWF4RGlzdGFuY2VLbSIsImRyaXZpbmdTcGVlZEttaCIsImRyaXZpbmdNYXhEaXN0YW5jZUttIiwiZmx5aW5nU3BlZWRLbWgiLCJUUkFOU1BPUlRfTU9ERVMiLCJtb2RlIiwiaWNvbiIsInNwZWVkS21oIiwibWluRGlzdGFuY2VLbSIsIm1heERpc3RhbmNlS20iLCJJbmZpbml0eSIsImRldGVybWluZVRyYW5zcG9ydE1vZGUiLCJmcm9tTG9jYXRpb24iLCJ0b0xvY2F0aW9uIiwiY29uZmlnIiwiZmluYWxDb25maWciLCJkaXN0YW5jZUttIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJzZWxlY3RlZE1vZGUiLCJmaW5kIiwibSIsImVzdGltYXRlZFRpbWVIb3VycyIsImNhbGN1bGF0ZVRyYXZlbFRpbWUiLCJiYXNlVGltZSIsInZhbGlkYXRlVHJhbnNwb3J0TW9kZSIsIndhcm5pbmdzIiwicHVzaCIsInRvRml4ZWQiLCJpc1ZhbGlkIiwibGVuZ3RoIiwiY2FsY3VsYXRlVHJhbnNwb3J0U3RhdHMiLCJzZWdtZW50cyIsIm1vZGVCcmVha2Rvd24iLCJNYXAiLCJzZXQiLCJjb3VudCIsInRvdGFsRGlzdGFuY2VLbSIsInByZXZpb3VzTW9kZSIsIm1vZGVDaGFuZ2VzIiwic2VnbWVudCIsInN0YXRzIiwiZ2V0IiwiZG9taW5hbnRNb2RlIiwibWF4RGlzdGFuY2UiLCJBcnJheSIsImZyb20iLCJlbnRyaWVzIiwidG90YWxTZWdtZW50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./lib/optimization/transport-mode-selector.ts\n");

/***/ }),

/***/ "(action-browser)/./lib/optimization/tsp-optimizer.ts":
/*!*******************************************!*\
  !*** ./lib/optimization/tsp-optimizer.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculateTotalDistance: () => (/* binding */ calculateTotalDistance),\n/* harmony export */   generateRandomRoute: () => (/* binding */ generateRandomRoute),\n/* harmony export */   generateRouteWithStart: () => (/* binding */ generateRouteWithStart),\n/* harmony export */   nearestNeighborTSP: () => (/* binding */ nearestNeighborTSP),\n/* harmony export */   twoOptImprovement: () => (/* binding */ twoOptImprovement)\n/* harmony export */ });\n/* harmony import */ var _geographical_clustering__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./geographical-clustering */ \"(action-browser)/./lib/optimization/geographical-clustering.ts\");\n/* harmony import */ var _distance_cache__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./distance-cache */ \"(action-browser)/./lib/optimization/distance-cache.ts\");\n// TSP-based route optimization algorithms\n\n\n/**\n * Nearest Neighbor TSP heuristic\n * Builds a route by always visiting the nearest unvisited cluster\n */ function nearestNeighborTSP(departureLocation, clusters, returnLocation) {\n    if (clusters.length <= 1) return clusters;\n    const unvisited = new Set(clusters.map((_, index)=>index));\n    const route = [];\n    let currentLocation = departureLocation;\n    // Build route by selecting nearest neighbor\n    while(unvisited.size > 0){\n        let nearestIndex = -1;\n        let minDistance = Infinity;\n        // Find nearest unvisited cluster\n        for (const index of Array.from(unvisited)){\n            const cluster = clusters[index];\n            const distance = (0,_distance_cache__WEBPACK_IMPORTED_MODULE_1__.calculateCachedDistance)(currentLocation, cluster.centerLocation, (from, to)=>(0,_geographical_clustering__WEBPACK_IMPORTED_MODULE_0__.calculateHaversineDistance)(from.latitude, from.longitude, to.latitude, to.longitude));\n            if (distance < minDistance) {\n                minDistance = distance;\n                nearestIndex = index;\n            }\n        }\n        // Add nearest cluster to route\n        if (nearestIndex !== -1) {\n            route.push(clusters[nearestIndex]);\n            unvisited.delete(nearestIndex);\n            currentLocation = clusters[nearestIndex].centerLocation;\n        }\n    }\n    return route;\n}\n/**\n * 2-opt improvement algorithm\n * Improves existing route by swapping segments\n */ function twoOptImprovement(route, departureLocation, returnLocation) {\n    if (route.length < 4) {\n        // Too few clusters to improve\n        return {\n            improvedRoute: route,\n            result: {\n                improved: false,\n                originalDistance: calculateTotalDistance(route, departureLocation, returnLocation),\n                newDistance: calculateTotalDistance(route, departureLocation, returnLocation),\n                improvementPercent: 0,\n                swapsPerformed: 0\n            }\n        };\n    }\n    let currentRoute = [\n        ...route\n    ];\n    let improved = true;\n    let swapsPerformed = 0;\n    const originalDistance = calculateTotalDistance(route, departureLocation, returnLocation);\n    // Keep improving until no more improvements found\n    while(improved){\n        improved = false;\n        // Try all possible 2-opt swaps\n        for(let i = 0; i < currentRoute.length - 1; i++){\n            for(let j = i + 2; j < currentRoute.length; j++){\n                // Calculate current segment distances\n                const currentSegmentDistance = calculateSegmentDistance(currentRoute, i, j, departureLocation, returnLocation);\n                // Create new route with reversed segment\n                const newRoute = twoOptSwap(currentRoute, i, j);\n                // Calculate new segment distances\n                const newSegmentDistance = calculateSegmentDistance(newRoute, i, j, departureLocation, returnLocation);\n                // Accept improvement\n                if (newSegmentDistance < currentSegmentDistance) {\n                    currentRoute = newRoute;\n                    improved = true;\n                    swapsPerformed++;\n                    break; // Start over with new route\n                }\n            }\n            if (improved) break;\n        }\n    }\n    const newDistance = calculateTotalDistance(currentRoute, departureLocation, returnLocation);\n    const improvementPercent = (originalDistance - newDistance) / originalDistance * 100;\n    return {\n        improvedRoute: currentRoute,\n        result: {\n            improved: swapsPerformed > 0,\n            originalDistance,\n            newDistance,\n            improvementPercent,\n            swapsPerformed\n        }\n    };\n}\n/**\n * Perform 2-opt swap on route\n */ function twoOptSwap(route, i, j) {\n    const newRoute = [\n        ...route\n    ];\n    // Reverse the segment between i+1 and j\n    let left = i + 1;\n    let right = j;\n    while(left < right){\n        const temp = newRoute[left];\n        newRoute[left] = newRoute[right];\n        newRoute[right] = temp;\n        left++;\n        right--;\n    }\n    return newRoute;\n}\n/**\n * Calculate distance for a segment of the route\n */ function calculateSegmentDistance(route, i, j, departureLocation, returnLocation) {\n    let distance = 0;\n    // Handle edge from i to i+1\n    if (i === -1) {\n        // From departure to first cluster\n        distance += getDistance(departureLocation, route[0].centerLocation);\n    } else if (i < route.length - 1) {\n        distance += getDistance(route[i].centerLocation, route[i + 1].centerLocation);\n    }\n    // Handle edge from j to j+1\n    if (j === route.length - 1) {\n        // From last cluster to return\n        const finalLocation = returnLocation || departureLocation;\n        distance += getDistance(route[j].centerLocation, finalLocation);\n    } else if (j < route.length - 1) {\n        distance += getDistance(route[j].centerLocation, route[j + 1].centerLocation);\n    }\n    return distance;\n}\n/**\n * Calculate total distance of a route\n */ function calculateTotalDistance(route, departureLocation, returnLocation) {\n    if (route.length === 0) return 0;\n    let totalDistance = 0;\n    const finalLocation = returnLocation || departureLocation;\n    // Departure to first cluster\n    totalDistance += getDistance(departureLocation, route[0].centerLocation);\n    // Between clusters\n    for(let i = 0; i < route.length - 1; i++){\n        totalDistance += getDistance(route[i].centerLocation, route[i + 1].centerLocation);\n    }\n    // Last cluster to return\n    totalDistance += getDistance(route[route.length - 1].centerLocation, finalLocation);\n    return totalDistance;\n}\n/**\n * Helper function to get cached distance\n */ function getDistance(from, to) {\n    return (0,_distance_cache__WEBPACK_IMPORTED_MODULE_1__.calculateCachedDistance)(from, to, (f, t)=>(0,_geographical_clustering__WEBPACK_IMPORTED_MODULE_0__.calculateHaversineDistance)(f.latitude, f.longitude, t.latitude, t.longitude));\n}\n/**\n * Generate a random route permutation\n */ function generateRandomRoute(clusters) {\n    const route = [\n        ...clusters\n    ];\n    // Fisher-Yates shuffle\n    for(let i = route.length - 1; i > 0; i--){\n        const j = Math.floor(Math.random() * (i + 1));\n        const temp = route[i];\n        route[i] = route[j];\n        route[j] = temp;\n    }\n    return route;\n}\n/**\n * Generate route starting with specific clusters\n */ function generateRouteWithStart(startClusters, remainingClusters, departureLocation) {\n    // Start with specified clusters\n    const route = [\n        ...startClusters\n    ];\n    // Add remaining clusters using nearest neighbor\n    const unvisited = new Set(remainingClusters);\n    let currentLocation = startClusters.length > 0 ? startClusters[startClusters.length - 1].centerLocation : departureLocation;\n    while(unvisited.size > 0){\n        let nearest = null;\n        let minDistance = Infinity;\n        for (const cluster of Array.from(unvisited)){\n            const distance = getDistance(currentLocation, cluster.centerLocation);\n            if (distance < minDistance) {\n                minDistance = distance;\n                nearest = cluster;\n            }\n        }\n        if (nearest) {\n            route.push(nearest);\n            unvisited.delete(nearest);\n            currentLocation = nearest.centerLocation;\n        }\n    }\n    return route;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL2xpYi9vcHRpbWl6YXRpb24vdHNwLW9wdGltaXplci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsMENBQTBDO0FBSzRCO0FBQ1o7QUFFMUQ7OztDQUdDLEdBQ00sU0FBU0UsbUJBQ2RDLGlCQUEyQixFQUMzQkMsUUFBOEIsRUFDOUJDLGNBQStCO0lBRS9CLElBQUlELFNBQVNFLE1BQU0sSUFBSSxHQUFHLE9BQU9GO0lBRWpDLE1BQU1HLFlBQVksSUFBSUMsSUFBSUosU0FBU0ssR0FBRyxDQUFDLENBQUNDLEdBQUdDLFFBQVVBO0lBQ3JELE1BQU1DLFFBQThCLEVBQUU7SUFDdEMsSUFBSUMsa0JBQWtCVjtJQUV0Qiw0Q0FBNEM7SUFDNUMsTUFBT0ksVUFBVU8sSUFBSSxHQUFHLEVBQUc7UUFDekIsSUFBSUMsZUFBZSxDQUFDO1FBQ3BCLElBQUlDLGNBQWNDO1FBRWxCLGlDQUFpQztRQUNqQyxLQUFLLE1BQU1OLFNBQVNPLE1BQU1DLElBQUksQ0FBQ1osV0FBWTtZQUN6QyxNQUFNYSxVQUFVaEIsUUFBUSxDQUFDTyxNQUFNO1lBQy9CLE1BQU1VLFdBQVdwQix3RUFBdUJBLENBQ3RDWSxpQkFDQU8sUUFBUUUsY0FBYyxFQUN0QixDQUFDSCxNQUFNSSxLQUFPdkIsb0ZBQTBCQSxDQUN0Q21CLEtBQUtLLFFBQVEsRUFDYkwsS0FBS00sU0FBUyxFQUNkRixHQUFHQyxRQUFRLEVBQ1hELEdBQUdFLFNBQVM7WUFJaEIsSUFBSUosV0FBV0wsYUFBYTtnQkFDMUJBLGNBQWNLO2dCQUNkTixlQUFlSjtZQUNqQjtRQUNGO1FBRUEsK0JBQStCO1FBQy9CLElBQUlJLGlCQUFpQixDQUFDLEdBQUc7WUFDdkJILE1BQU1jLElBQUksQ0FBQ3RCLFFBQVEsQ0FBQ1csYUFBYTtZQUNqQ1IsVUFBVW9CLE1BQU0sQ0FBQ1o7WUFDakJGLGtCQUFrQlQsUUFBUSxDQUFDVyxhQUFhLENBQUNPLGNBQWM7UUFDekQ7SUFDRjtJQUVBLE9BQU9WO0FBQ1Q7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a0M7WUFDWHJELFVBQVVvQixNQUFNLENBQUNpQztZQUNqQi9DLGtCQUFrQitDLFFBQVF0QyxjQUFjO1FBQzFDO0lBQ0Y7SUFFQSxPQUFPVjtBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLy4vbGliL29wdGltaXphdGlvbi90c3Atb3B0aW1pemVyLnRzPzZjNDQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVFNQLWJhc2VkIHJvdXRlIG9wdGltaXphdGlvbiBhbGdvcml0aG1zXG5cbmltcG9ydCB0eXBlIHsgRGVzdGluYXRpb25DbHVzdGVyIH0gZnJvbSAnLi9ub3JtYWxpemF0aW9uLXR5cGVzJ1xuaW1wb3J0IHR5cGUgeyBMb2NhdGlvbiB9IGZyb20gJy4vdHlwZXMnXG5pbXBvcnQgdHlwZSB7IFR3b09wdFJlc3VsdCB9IGZyb20gJy4vYWxnb3JpdGhtLXR5cGVzJ1xuaW1wb3J0IHsgY2FsY3VsYXRlSGF2ZXJzaW5lRGlzdGFuY2UgfSBmcm9tICcuL2dlb2dyYXBoaWNhbC1jbHVzdGVyaW5nJ1xuaW1wb3J0IHsgY2FsY3VsYXRlQ2FjaGVkRGlzdGFuY2UgfSBmcm9tICcuL2Rpc3RhbmNlLWNhY2hlJ1xuXG4vKipcbiAqIE5lYXJlc3QgTmVpZ2hib3IgVFNQIGhldXJpc3RpY1xuICogQnVpbGRzIGEgcm91dGUgYnkgYWx3YXlzIHZpc2l0aW5nIHRoZSBuZWFyZXN0IHVudmlzaXRlZCBjbHVzdGVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBuZWFyZXN0TmVpZ2hib3JUU1AoXG4gIGRlcGFydHVyZUxvY2F0aW9uOiBMb2NhdGlvbixcbiAgY2x1c3RlcnM6IERlc3RpbmF0aW9uQ2x1c3RlcltdLFxuICByZXR1cm5Mb2NhdGlvbjogTG9jYXRpb24gfCBudWxsXG4pOiBEZXN0aW5hdGlvbkNsdXN0ZXJbXSB7XG4gIGlmIChjbHVzdGVycy5sZW5ndGggPD0gMSkgcmV0dXJuIGNsdXN0ZXJzXG4gIFxuICBjb25zdCB1bnZpc2l0ZWQgPSBuZXcgU2V0KGNsdXN0ZXJzLm1hcCgoXywgaW5kZXgpID0+IGluZGV4KSlcbiAgY29uc3Qgcm91dGU6IERlc3RpbmF0aW9uQ2x1c3RlcltdID0gW11cbiAgbGV0IGN1cnJlbnRMb2NhdGlvbiA9IGRlcGFydHVyZUxvY2F0aW9uXG4gIFxuICAvLyBCdWlsZCByb3V0ZSBieSBzZWxlY3RpbmcgbmVhcmVzdCBuZWlnaGJvclxuICB3aGlsZSAodW52aXNpdGVkLnNpemUgPiAwKSB7XG4gICAgbGV0IG5lYXJlc3RJbmRleCA9IC0xXG4gICAgbGV0IG1pbkRpc3RhbmNlID0gSW5maW5pdHlcbiAgICBcbiAgICAvLyBGaW5kIG5lYXJlc3QgdW52aXNpdGVkIGNsdXN0ZXJcbiAgICBmb3IgKGNvbnN0IGluZGV4IG9mIEFycmF5LmZyb20odW52aXNpdGVkKSkge1xuICAgICAgY29uc3QgY2x1c3RlciA9IGNsdXN0ZXJzW2luZGV4XVxuICAgICAgY29uc3QgZGlzdGFuY2UgPSBjYWxjdWxhdGVDYWNoZWREaXN0YW5jZShcbiAgICAgICAgY3VycmVudExvY2F0aW9uLFxuICAgICAgICBjbHVzdGVyLmNlbnRlckxvY2F0aW9uLFxuICAgICAgICAoZnJvbSwgdG8pID0+IGNhbGN1bGF0ZUhhdmVyc2luZURpc3RhbmNlKFxuICAgICAgICAgIGZyb20ubGF0aXR1ZGUsXG4gICAgICAgICAgZnJvbS5sb25naXR1ZGUsXG4gICAgICAgICAgdG8ubGF0aXR1ZGUsXG4gICAgICAgICAgdG8ubG9uZ2l0dWRlXG4gICAgICAgIClcbiAgICAgIClcbiAgICAgIFxuICAgICAgaWYgKGRpc3RhbmNlIDwgbWluRGlzdGFuY2UpIHtcbiAgICAgICAgbWluRGlzdGFuY2UgPSBkaXN0YW5jZVxuICAgICAgICBuZWFyZXN0SW5kZXggPSBpbmRleFxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBBZGQgbmVhcmVzdCBjbHVzdGVyIHRvIHJvdXRlXG4gICAgaWYgKG5lYXJlc3RJbmRleCAhPT0gLTEpIHtcbiAgICAgIHJvdXRlLnB1c2goY2x1c3RlcnNbbmVhcmVzdEluZGV4XSlcbiAgICAgIHVudmlzaXRlZC5kZWxldGUobmVhcmVzdEluZGV4KVxuICAgICAgY3VycmVudExvY2F0aW9uID0gY2x1c3RlcnNbbmVhcmVzdEluZGV4XS5jZW50ZXJMb2NhdGlvblxuICAgIH1cbiAgfVxuICBcbiAgcmV0dXJuIHJvdXRlXG59XG5cbi8qKlxuICogMi1vcHQgaW1wcm92ZW1lbnQgYWxnb3JpdGhtXG4gKiBJbXByb3ZlcyBleGlzdGluZyByb3V0ZSBieSBzd2FwcGluZyBzZWdtZW50c1xuICovXG5leHBvcnQgZnVuY3Rpb24gdHdvT3B0SW1wcm92ZW1lbnQoXG4gIHJvdXRlOiBEZXN0aW5hdGlvbkNsdXN0ZXJbXSxcbiAgZGVwYXJ0dXJlTG9jYXRpb246IExvY2F0aW9uLFxuICByZXR1cm5Mb2NhdGlvbjogTG9jYXRpb24gfCBudWxsXG4pOiB7IGltcHJvdmVkUm91dGU6IERlc3RpbmF0aW9uQ2x1c3RlcltdOyByZXN1bHQ6IFR3b09wdFJlc3VsdCB9IHtcbiAgaWYgKHJvdXRlLmxlbmd0aCA8IDQpIHtcbiAgICAvLyBUb28gZmV3IGNsdXN0ZXJzIHRvIGltcHJvdmVcbiAgICByZXR1cm4ge1xuICAgICAgaW1wcm92ZWRSb3V0ZTogcm91dGUsXG4gICAgICByZXN1bHQ6IHtcbiAgICAgICAgaW1wcm92ZWQ6IGZhbHNlLFxuICAgICAgICBvcmlnaW5hbERpc3RhbmNlOiBjYWxjdWxhdGVUb3RhbERpc3RhbmNlKHJvdXRlLCBkZXBhcnR1cmVMb2NhdGlvbiwgcmV0dXJuTG9jYXRpb24pLFxuICAgICAgICBuZXdEaXN0YW5jZTogY2FsY3VsYXRlVG90YWxEaXN0YW5jZShyb3V0ZSwgZGVwYXJ0dXJlTG9jYXRpb24sIHJldHVybkxvY2F0aW9uKSxcbiAgICAgICAgaW1wcm92ZW1lbnRQZXJjZW50OiAwLFxuICAgICAgICBzd2Fwc1BlcmZvcm1lZDogMFxuICAgICAgfVxuICAgIH1cbiAgfVxuICBcbiAgbGV0IGN1cnJlbnRSb3V0ZSA9IFsuLi5yb3V0ZV1cbiAgbGV0IGltcHJvdmVkID0gdHJ1ZVxuICBsZXQgc3dhcHNQZXJmb3JtZWQgPSAwXG4gIGNvbnN0IG9yaWdpbmFsRGlzdGFuY2UgPSBjYWxjdWxhdGVUb3RhbERpc3RhbmNlKHJvdXRlLCBkZXBhcnR1cmVMb2NhdGlvbiwgcmV0dXJuTG9jYXRpb24pXG4gIFxuICAvLyBLZWVwIGltcHJvdmluZyB1bnRpbCBubyBtb3JlIGltcHJvdmVtZW50cyBmb3VuZFxuICB3aGlsZSAoaW1wcm92ZWQpIHtcbiAgICBpbXByb3ZlZCA9IGZhbHNlXG4gICAgXG4gICAgLy8gVHJ5IGFsbCBwb3NzaWJsZSAyLW9wdCBzd2Fwc1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3VycmVudFJvdXRlLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgZm9yIChsZXQgaiA9IGkgKyAyOyBqIDwgY3VycmVudFJvdXRlLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIC8vIENhbGN1bGF0ZSBjdXJyZW50IHNlZ21lbnQgZGlzdGFuY2VzXG4gICAgICAgIGNvbnN0IGN1cnJlbnRTZWdtZW50RGlzdGFuY2UgPSBjYWxjdWxhdGVTZWdtZW50RGlzdGFuY2UoXG4gICAgICAgICAgY3VycmVudFJvdXRlLFxuICAgICAgICAgIGksXG4gICAgICAgICAgaixcbiAgICAgICAgICBkZXBhcnR1cmVMb2NhdGlvbixcbiAgICAgICAgICByZXR1cm5Mb2NhdGlvblxuICAgICAgICApXG4gICAgICAgIFxuICAgICAgICAvLyBDcmVhdGUgbmV3IHJvdXRlIHdpdGggcmV2ZXJzZWQgc2VnbWVudFxuICAgICAgICBjb25zdCBuZXdSb3V0ZSA9IHR3b09wdFN3YXAoY3VycmVudFJvdXRlLCBpLCBqKVxuICAgICAgICBcbiAgICAgICAgLy8gQ2FsY3VsYXRlIG5ldyBzZWdtZW50IGRpc3RhbmNlc1xuICAgICAgICBjb25zdCBuZXdTZWdtZW50RGlzdGFuY2UgPSBjYWxjdWxhdGVTZWdtZW50RGlzdGFuY2UoXG4gICAgICAgICAgbmV3Um91dGUsXG4gICAgICAgICAgaSxcbiAgICAgICAgICBqLFxuICAgICAgICAgIGRlcGFydHVyZUxvY2F0aW9uLFxuICAgICAgICAgIHJldHVybkxvY2F0aW9uXG4gICAgICAgIClcbiAgICAgICAgXG4gICAgICAgIC8vIEFjY2VwdCBpbXByb3ZlbWVudFxuICAgICAgICBpZiAobmV3U2VnbWVudERpc3RhbmNlIDwgY3VycmVudFNlZ21lbnREaXN0YW5jZSkge1xuICAgICAgICAgIGN1cnJlbnRSb3V0ZSA9IG5ld1JvdXRlXG4gICAgICAgICAgaW1wcm92ZWQgPSB0cnVlXG4gICAgICAgICAgc3dhcHNQZXJmb3JtZWQrK1xuICAgICAgICAgIGJyZWFrIC8vIFN0YXJ0IG92ZXIgd2l0aCBuZXcgcm91dGVcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoaW1wcm92ZWQpIGJyZWFrXG4gICAgfVxuICB9XG4gIFxuICBjb25zdCBuZXdEaXN0YW5jZSA9IGNhbGN1bGF0ZVRvdGFsRGlzdGFuY2UoY3VycmVudFJvdXRlLCBkZXBhcnR1cmVMb2NhdGlvbiwgcmV0dXJuTG9jYXRpb24pXG4gIGNvbnN0IGltcHJvdmVtZW50UGVyY2VudCA9ICgob3JpZ2luYWxEaXN0YW5jZSAtIG5ld0Rpc3RhbmNlKSAvIG9yaWdpbmFsRGlzdGFuY2UpICogMTAwXG4gIFxuICByZXR1cm4ge1xuICAgIGltcHJvdmVkUm91dGU6IGN1cnJlbnRSb3V0ZSxcbiAgICByZXN1bHQ6IHtcbiAgICAgIGltcHJvdmVkOiBzd2Fwc1BlcmZvcm1lZCA+IDAsXG4gICAgICBvcmlnaW5hbERpc3RhbmNlLFxuICAgICAgbmV3RGlzdGFuY2UsXG4gICAgICBpbXByb3ZlbWVudFBlcmNlbnQsXG4gICAgICBzd2Fwc1BlcmZvcm1lZFxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFBlcmZvcm0gMi1vcHQgc3dhcCBvbiByb3V0ZVxuICovXG5mdW5jdGlvbiB0d29PcHRTd2FwKFxuICByb3V0ZTogRGVzdGluYXRpb25DbHVzdGVyW10sXG4gIGk6IG51bWJlcixcbiAgajogbnVtYmVyXG4pOiBEZXN0aW5hdGlvbkNsdXN0ZXJbXSB7XG4gIGNvbnN0IG5ld1JvdXRlID0gWy4uLnJvdXRlXVxuICBcbiAgLy8gUmV2ZXJzZSB0aGUgc2VnbWVudCBiZXR3ZWVuIGkrMSBhbmQgalxuICBsZXQgbGVmdCA9IGkgKyAxXG4gIGxldCByaWdodCA9IGpcbiAgXG4gIHdoaWxlIChsZWZ0IDwgcmlnaHQpIHtcbiAgICBjb25zdCB0ZW1wID0gbmV3Um91dGVbbGVmdF1cbiAgICBuZXdSb3V0ZVtsZWZ0XSA9IG5ld1JvdXRlW3JpZ2h0XVxuICAgIG5ld1JvdXRlW3JpZ2h0XSA9IHRlbXBcbiAgICBsZWZ0KytcbiAgICByaWdodC0tXG4gIH1cbiAgXG4gIHJldHVybiBuZXdSb3V0ZVxufVxuXG4vKipcbiAqIENhbGN1bGF0ZSBkaXN0YW5jZSBmb3IgYSBzZWdtZW50IG9mIHRoZSByb3V0ZVxuICovXG5mdW5jdGlvbiBjYWxjdWxhdGVTZWdtZW50RGlzdGFuY2UoXG4gIHJvdXRlOiBEZXN0aW5hdGlvbkNsdXN0ZXJbXSxcbiAgaTogbnVtYmVyLFxuICBqOiBudW1iZXIsXG4gIGRlcGFydHVyZUxvY2F0aW9uOiBMb2NhdGlvbixcbiAgcmV0dXJuTG9jYXRpb246IExvY2F0aW9uIHwgbnVsbFxuKTogbnVtYmVyIHtcbiAgbGV0IGRpc3RhbmNlID0gMFxuICBcbiAgLy8gSGFuZGxlIGVkZ2UgZnJvbSBpIHRvIGkrMVxuICBpZiAoaSA9PT0gLTEpIHtcbiAgICAvLyBGcm9tIGRlcGFydHVyZSB0byBmaXJzdCBjbHVzdGVyXG4gICAgZGlzdGFuY2UgKz0gZ2V0RGlzdGFuY2UoZGVwYXJ0dXJlTG9jYXRpb24sIHJvdXRlWzBdLmNlbnRlckxvY2F0aW9uKVxuICB9IGVsc2UgaWYgKGkgPCByb3V0ZS5sZW5ndGggLSAxKSB7XG4gICAgZGlzdGFuY2UgKz0gZ2V0RGlzdGFuY2UoXG4gICAgICByb3V0ZVtpXS5jZW50ZXJMb2NhdGlvbixcbiAgICAgIHJvdXRlW2kgKyAxXS5jZW50ZXJMb2NhdGlvblxuICAgIClcbiAgfVxuICBcbiAgLy8gSGFuZGxlIGVkZ2UgZnJvbSBqIHRvIGorMVxuICBpZiAoaiA9PT0gcm91dGUubGVuZ3RoIC0gMSkge1xuICAgIC8vIEZyb20gbGFzdCBjbHVzdGVyIHRvIHJldHVyblxuICAgIGNvbnN0IGZpbmFsTG9jYXRpb24gPSByZXR1cm5Mb2NhdGlvbiB8fCBkZXBhcnR1cmVMb2NhdGlvblxuICAgIGRpc3RhbmNlICs9IGdldERpc3RhbmNlKHJvdXRlW2pdLmNlbnRlckxvY2F0aW9uLCBmaW5hbExvY2F0aW9uKVxuICB9IGVsc2UgaWYgKGogPCByb3V0ZS5sZW5ndGggLSAxKSB7XG4gICAgZGlzdGFuY2UgKz0gZ2V0RGlzdGFuY2UoXG4gICAgICByb3V0ZVtqXS5jZW50ZXJMb2NhdGlvbixcbiAgICAgIHJvdXRlW2ogKyAxXS5jZW50ZXJMb2NhdGlvblxuICAgIClcbiAgfVxuICBcbiAgcmV0dXJuIGRpc3RhbmNlXG59XG5cbi8qKlxuICogQ2FsY3VsYXRlIHRvdGFsIGRpc3RhbmNlIG9mIGEgcm91dGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZVRvdGFsRGlzdGFuY2UoXG4gIHJvdXRlOiBEZXN0aW5hdGlvbkNsdXN0ZXJbXSxcbiAgZGVwYXJ0dXJlTG9jYXRpb246IExvY2F0aW9uLFxuICByZXR1cm5Mb2NhdGlvbjogTG9jYXRpb24gfCBudWxsXG4pOiBudW1iZXIge1xuICBpZiAocm91dGUubGVuZ3RoID09PSAwKSByZXR1cm4gMFxuICBcbiAgbGV0IHRvdGFsRGlzdGFuY2UgPSAwXG4gIGNvbnN0IGZpbmFsTG9jYXRpb24gPSByZXR1cm5Mb2NhdGlvbiB8fCBkZXBhcnR1cmVMb2NhdGlvblxuICBcbiAgLy8gRGVwYXJ0dXJlIHRvIGZpcnN0IGNsdXN0ZXJcbiAgdG90YWxEaXN0YW5jZSArPSBnZXREaXN0YW5jZShkZXBhcnR1cmVMb2NhdGlvbiwgcm91dGVbMF0uY2VudGVyTG9jYXRpb24pXG4gIFxuICAvLyBCZXR3ZWVuIGNsdXN0ZXJzXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcm91dGUubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgdG90YWxEaXN0YW5jZSArPSBnZXREaXN0YW5jZShcbiAgICAgIHJvdXRlW2ldLmNlbnRlckxvY2F0aW9uLFxuICAgICAgcm91dGVbaSArIDFdLmNlbnRlckxvY2F0aW9uXG4gICAgKVxuICB9XG4gIFxuICAvLyBMYXN0IGNsdXN0ZXIgdG8gcmV0dXJuXG4gIHRvdGFsRGlzdGFuY2UgKz0gZ2V0RGlzdGFuY2UoXG4gICAgcm91dGVbcm91dGUubGVuZ3RoIC0gMV0uY2VudGVyTG9jYXRpb24sXG4gICAgZmluYWxMb2NhdGlvblxuICApXG4gIFxuICByZXR1cm4gdG90YWxEaXN0YW5jZVxufVxuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgY2FjaGVkIGRpc3RhbmNlXG4gKi9cbmZ1bmN0aW9uIGdldERpc3RhbmNlKGZyb206IExvY2F0aW9uLCB0bzogTG9jYXRpb24pOiBudW1iZXIge1xuICByZXR1cm4gY2FsY3VsYXRlQ2FjaGVkRGlzdGFuY2UoXG4gICAgZnJvbSxcbiAgICB0byxcbiAgICAoZiwgdCkgPT4gY2FsY3VsYXRlSGF2ZXJzaW5lRGlzdGFuY2UoXG4gICAgICBmLmxhdGl0dWRlLFxuICAgICAgZi5sb25naXR1ZGUsXG4gICAgICB0LmxhdGl0dWRlLFxuICAgICAgdC5sb25naXR1ZGVcbiAgICApXG4gIClcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZSBhIHJhbmRvbSByb3V0ZSBwZXJtdXRhdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVSYW5kb21Sb3V0ZShcbiAgY2x1c3RlcnM6IERlc3RpbmF0aW9uQ2x1c3RlcltdXG4pOiBEZXN0aW5hdGlvbkNsdXN0ZXJbXSB7XG4gIGNvbnN0IHJvdXRlID0gWy4uLmNsdXN0ZXJzXVxuICBcbiAgLy8gRmlzaGVyLVlhdGVzIHNodWZmbGVcbiAgZm9yIChsZXQgaSA9IHJvdXRlLmxlbmd0aCAtIDE7IGkgPiAwOyBpLS0pIHtcbiAgICBjb25zdCBqID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGkgKyAxKSlcbiAgICBjb25zdCB0ZW1wID0gcm91dGVbaV1cbiAgICByb3V0ZVtpXSA9IHJvdXRlW2pdXG4gICAgcm91dGVbal0gPSB0ZW1wXG4gIH1cbiAgXG4gIHJldHVybiByb3V0ZVxufVxuXG4vKipcbiAqIEdlbmVyYXRlIHJvdXRlIHN0YXJ0aW5nIHdpdGggc3BlY2lmaWMgY2x1c3RlcnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlUm91dGVXaXRoU3RhcnQoXG4gIHN0YXJ0Q2x1c3RlcnM6IERlc3RpbmF0aW9uQ2x1c3RlcltdLFxuICByZW1haW5pbmdDbHVzdGVyczogRGVzdGluYXRpb25DbHVzdGVyW10sXG4gIGRlcGFydHVyZUxvY2F0aW9uOiBMb2NhdGlvblxuKTogRGVzdGluYXRpb25DbHVzdGVyW10ge1xuICAvLyBTdGFydCB3aXRoIHNwZWNpZmllZCBjbHVzdGVyc1xuICBjb25zdCByb3V0ZSA9IFsuLi5zdGFydENsdXN0ZXJzXVxuICBcbiAgLy8gQWRkIHJlbWFpbmluZyBjbHVzdGVycyB1c2luZyBuZWFyZXN0IG5laWdoYm9yXG4gIGNvbnN0IHVudmlzaXRlZCA9IG5ldyBTZXQocmVtYWluaW5nQ2x1c3RlcnMpXG4gIGxldCBjdXJyZW50TG9jYXRpb24gPSBzdGFydENsdXN0ZXJzLmxlbmd0aCA+IDBcbiAgICA/IHN0YXJ0Q2x1c3RlcnNbc3RhcnRDbHVzdGVycy5sZW5ndGggLSAxXS5jZW50ZXJMb2NhdGlvblxuICAgIDogZGVwYXJ0dXJlTG9jYXRpb25cbiAgXG4gIHdoaWxlICh1bnZpc2l0ZWQuc2l6ZSA+IDApIHtcbiAgICBsZXQgbmVhcmVzdDogRGVzdGluYXRpb25DbHVzdGVyIHwgbnVsbCA9IG51bGxcbiAgICBsZXQgbWluRGlzdGFuY2UgPSBJbmZpbml0eVxuICAgIFxuICAgIGZvciAoY29uc3QgY2x1c3RlciBvZiBBcnJheS5mcm9tKHVudmlzaXRlZCkpIHtcbiAgICAgIGNvbnN0IGRpc3RhbmNlID0gZ2V0RGlzdGFuY2UoY3VycmVudExvY2F0aW9uLCBjbHVzdGVyLmNlbnRlckxvY2F0aW9uKVxuICAgICAgaWYgKGRpc3RhbmNlIDwgbWluRGlzdGFuY2UpIHtcbiAgICAgICAgbWluRGlzdGFuY2UgPSBkaXN0YW5jZVxuICAgICAgICBuZWFyZXN0ID0gY2x1c3RlclxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBpZiAobmVhcmVzdCkge1xuICAgICAgcm91dGUucHVzaChuZWFyZXN0KVxuICAgICAgdW52aXNpdGVkLmRlbGV0ZShuZWFyZXN0KVxuICAgICAgY3VycmVudExvY2F0aW9uID0gbmVhcmVzdC5jZW50ZXJMb2NhdGlvblxuICAgIH1cbiAgfVxuICBcbiAgcmV0dXJuIHJvdXRlXG59Il0sIm5hbWVzIjpbImNhbGN1bGF0ZUhhdmVyc2luZURpc3RhbmNlIiwiY2FsY3VsYXRlQ2FjaGVkRGlzdGFuY2UiLCJuZWFyZXN0TmVpZ2hib3JUU1AiLCJkZXBhcnR1cmVMb2NhdGlvbiIsImNsdXN0ZXJzIiwicmV0dXJuTG9jYXRpb24iLCJsZW5ndGgiLCJ1bnZpc2l0ZWQiLCJTZXQiLCJtYXAiLCJfIiwiaW5kZXgiLCJyb3V0ZSIsImN1cnJlbnRMb2NhdGlvbiIsInNpemUiLCJuZWFyZXN0SW5kZXgiLCJtaW5EaXN0YW5jZSIsIkluZmluaXR5IiwiQXJyYXkiLCJmcm9tIiwiY2x1c3RlciIsImRpc3RhbmNlIiwiY2VudGVyTG9jYXRpb24iLCJ0byIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwicHVzaCIsImRlbGV0ZSIsInR3b09wdEltcHJvdmVtZW50IiwiaW1wcm92ZWRSb3V0ZSIsInJlc3VsdCIsImltcHJvdmVkIiwib3JpZ2luYWxEaXN0YW5jZSIsImNhbGN1bGF0ZVRvdGFsRGlzdGFuY2UiLCJuZXdEaXN0YW5jZSIsImltcHJvdmVtZW50UGVyY2VudCIsInN3YXBzUGVyZm9ybWVkIiwiY3VycmVudFJvdXRlIiwiaSIsImoiLCJjdXJyZW50U2VnbWVudERpc3RhbmNlIiwiY2FsY3VsYXRlU2VnbWVudERpc3RhbmNlIiwibmV3Um91dGUiLCJ0d29PcHRTd2FwIiwibmV3U2VnbWVudERpc3RhbmNlIiwibGVmdCIsInJpZ2h0IiwidGVtcCIsImdldERpc3RhbmNlIiwiZmluYWxMb2NhdGlvbiIsInRvdGFsRGlzdGFuY2UiLCJmIiwidCIsImdlbmVyYXRlUmFuZG9tUm91dGUiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJnZW5lcmF0ZVJvdXRlV2l0aFN0YXJ0Iiwic3RhcnRDbHVzdGVycyIsInJlbWFpbmluZ0NsdXN0ZXJzIiwibmVhcmVzdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./lib/optimization/tsp-optimizer.ts\n");

/***/ }),

/***/ "(action-browser)/./lib/optimization/types.ts":
/*!***********************************!*\
  !*** ./lib/optimization/types.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   COORDINATE_RANGES: () => (/* binding */ COORDINATE_RANGES),\n/* harmony export */   PREFERENCE_CONSTRAINTS: () => (/* binding */ PREFERENCE_CONSTRAINTS),\n/* harmony export */   ValidationErrorCode: () => (/* binding */ ValidationErrorCode)\n/* harmony export */ });\n// Types for optimization algorithm data structures\nvar ValidationErrorCode;\n(function(ValidationErrorCode) {\n    ValidationErrorCode[\"MISSING_DEPARTURE_LOCATION\"] = \"MISSING_DEPARTURE_LOCATION\";\n    ValidationErrorCode[\"INVALID_COORDINATES\"] = \"INVALID_COORDINATES\";\n    ValidationErrorCode[\"INVALID_PREFERENCE_SCORE\"] = \"INVALID_PREFERENCE_SCORE\";\n    ValidationErrorCode[\"MISSING_USER_REFERENCE\"] = \"MISSING_USER_REFERENCE\";\n    ValidationErrorCode[\"ORPHANED_PREFERENCE\"] = \"ORPHANED_PREFERENCE\";\n    ValidationErrorCode[\"INVALID_DATE_RANGE\"] = \"INVALID_DATE_RANGE\";\n    ValidationErrorCode[\"MISSING_GROUP_MEMBERS\"] = \"MISSING_GROUP_MEMBERS\";\n    ValidationErrorCode[\"DUPLICATE_DESTINATION\"] = \"DUPLICATE_DESTINATION\";\n})(ValidationErrorCode || (ValidationErrorCode = {}));\n// Coordinate validation ranges\nconst COORDINATE_RANGES = {\n    latitude: {\n        min: -90,\n        max: 90\n    },\n    longitude: {\n        min: -180,\n        max: 180\n    }\n};\n// Preference score constraints\nconst PREFERENCE_CONSTRAINTS = {\n    minScore: 1,\n    maxScore: 5,\n    defaultScore: 3\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL2xpYi9vcHRpbWl6YXRpb24vdHlwZXMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsbURBQW1EO0lBNkY1QztVQUFLQSxtQkFBbUI7SUFBbkJBLG9CQUNWQyxnQ0FBQUE7SUFEVUQsb0JBRVZFLHlCQUFBQTtJQUZVRixvQkFHVkcsOEJBQUFBO0lBSFVILG9CQUlWSSw0QkFBQUE7SUFKVUosb0JBS1ZLLHlCQUFBQTtJQUxVTCxvQkFNVk0sd0JBQUFBO0lBTlVOLG9CQU9WTywyQkFBQUE7SUFQVVAsb0JBUVZRLDJCQUFBQTtHQVJVUix3QkFBQUE7QUErQlosK0JBQStCO0FBQ3hCLE1BQU1TLG9CQUFvQjtJQUMvQkMsVUFBVTtRQUFFQyxLQUFLLENBQUM7UUFBSUMsS0FBSztJQUFHO0lBQzlCQyxXQUFXO1FBQUVGLEtBQUssQ0FBQztRQUFLQyxLQUFLO0lBQUk7QUFDbkMsRUFBVTtBQUVWLCtCQUErQjtBQUN4QixNQUFNRSx5QkFBeUI7SUFDcENDLFVBQVU7SUFDVkMsVUFBVTtJQUNWQyxjQUFjO0FBQ2hCLEVBQVUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMvLi9saWIvb3B0aW1pemF0aW9uL3R5cGVzLnRzP2Y4NmIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVHlwZXMgZm9yIG9wdGltaXphdGlvbiBhbGdvcml0aG0gZGF0YSBzdHJ1Y3R1cmVzXG5cbmltcG9ydCB0eXBlIHsgXG4gIFRyaXBHcm91cHMsIFxuICBEZXN0aW5hdGlvbnMsIFxuICBVc2VyUHJlZmVyZW5jZXMsIFxuICBHcm91cE1lbWJlcnMsXG4gIFBsYWNlcyxcbiAgVXNlcnMgXG59IGZyb20gJ0AvbGliL2RhdGFiYXNlLnR5cGVzJ1xuXG4vLyBDb3JlIGxvY2F0aW9uIGludGVyZmFjZSBmb3Igb3B0aW1pemF0aW9uXG5leHBvcnQgaW50ZXJmYWNlIExvY2F0aW9uIHtcbiAgaWQ6IHN0cmluZ1xuICBsYXRpdHVkZTogbnVtYmVyXG4gIGxvbmdpdHVkZTogbnVtYmVyXG4gIG5hbWU6IHN0cmluZ1xuICBhZGRyZXNzPzogc3RyaW5nXG59XG5cbi8vIFVzZXIgY29udGV4dCBmb3IgaGFuZGxpbmcgYm90aCBndWVzdCBhbmQgYXV0aGVudGljYXRlZCB1c2Vyc1xuZXhwb3J0IGludGVyZmFjZSBVc2VyQ29udGV4dCB7XG4gIGlkOiBzdHJpbmcgfCBudWxsXG4gIHNlc3Npb25JZDogc3RyaW5nIHwgbnVsbFxuICBpc0d1ZXN0OiBib29sZWFuXG4gIGRpc3BsYXlOYW1lPzogc3RyaW5nXG4gIGFzc2lnbmVkQ29sb3I/OiBzdHJpbmdcbn1cblxuLy8gVmFsaWRhdGVkIHByZWZlcmVuY2Ugd2l0aCB1c2VyIGluZm9ybWF0aW9uXG5leHBvcnQgaW50ZXJmYWNlIFZhbGlkYXRlZFByZWZlcmVuY2Uge1xuICB1c2VySWQ6IHN0cmluZyB8IG51bGxcbiAgc2Vzc2lvbklkOiBzdHJpbmcgfCBudWxsXG4gIGRlc3RpbmF0aW9uSWQ6IHN0cmluZ1xuICBwcmVmZXJlbmNlU2NvcmU6IG51bWJlciAvLyAxLTVcbiAgcHJlZmVycmVkRHVyYXRpb246IG51bWJlciAvLyBob3Vyc1xuICB1c2VyRGlzcGxheU5hbWU6IHN0cmluZ1xuICB1c2VyQ29sb3I6IHN0cmluZ1xufVxuXG4vLyBNYWluIGlucHV0IHN0cnVjdHVyZSBmb3Igb3B0aW1pemF0aW9uIGFsZ29yaXRobVxuZXhwb3J0IGludGVyZmFjZSBPcHRpbWl6YXRpb25JbnB1dCB7XG4gIGdyb3VwSWQ6IHN0cmluZ1xuICB0cmlwR3JvdXA6IFRyaXBHcm91cHNcbiAgZGVzdGluYXRpb25zOiBEZXN0aW5hdGlvbnNbXVxuICBwbGFjZXM6IFBsYWNlc1tdIC8vIEZvciB0d28tdGllciBzeXN0ZW1cbiAgdXNlclByZWZlcmVuY2VzOiBVc2VyUHJlZmVyZW5jZXNbXVxuICBncm91cE1lbWJlcnM6IEdyb3VwTWVtYmVyc1tdXG4gIGN1cnJlbnRVc2VyOiBVc2VyQ29udGV4dFxufVxuXG4vLyBQcmVwcm9jZXNzZWQgZGF0YSByZWFkeSBmb3Igb3B0aW1pemF0aW9uXG5leHBvcnQgaW50ZXJmYWNlIFByZXByb2Nlc3NlZERhdGEge1xuICBncm91cElkOiBzdHJpbmdcbiAgZGVwYXJ0dXJlTG9jYXRpb246IExvY2F0aW9uXG4gIHJldHVybkxvY2F0aW9uOiBMb2NhdGlvbiB8IG51bGxcbiAgZGVzdGluYXRpb25zOiBNYXA8c3RyaW5nLCBMb2NhdGlvbj5cbiAgcHJlZmVyZW5jZXM6IFZhbGlkYXRlZFByZWZlcmVuY2VbXVxuICBncm91cE1lbWJlcnM6IE1hcDxzdHJpbmcsIEdyb3VwTWVtYmVycz5cbiAgdHJpcER1cmF0aW9uOiB7XG4gICAgc3RhcnREYXRlOiBEYXRlIHwgbnVsbFxuICAgIGVuZERhdGU6IERhdGUgfCBudWxsXG4gICAgYXV0b0NhbGN1bGF0ZTogYm9vbGVhblxuICB9XG4gIGNvbnN0cmFpbnRzOiB7XG4gICAgYWxsb3dPcmRlckNoYW5nZTogJ2FsbCcgfCAnYWRtaW5fb25seScgfCAnc3BlY2lmaWNfbWVtYmVycydcbiAgICBhbGxvd0Rlc3RpbmF0aW9uQWRkOiAnYWxsJyB8ICdhcHByb3ZhbF9yZXF1aXJlZCdcbiAgICBvcmRlckNoYW5nZU1lbWJlcnM6IHN0cmluZ1tdXG4gIH1cbn1cblxuLy8gVmFsaWRhdGlvbiByZXN1bHQgc3RydWN0dXJlXG5leHBvcnQgaW50ZXJmYWNlIFZhbGlkYXRpb25SZXN1bHQge1xuICBpc1ZhbGlkOiBib29sZWFuXG4gIGVycm9yczogVmFsaWRhdGlvbkVycm9yW11cbiAgd2FybmluZ3M6IFZhbGlkYXRpb25XYXJuaW5nW11cbn1cblxuZXhwb3J0IGludGVyZmFjZSBWYWxpZGF0aW9uRXJyb3Ige1xuICBjb2RlOiBzdHJpbmdcbiAgbWVzc2FnZTogc3RyaW5nXG4gIGZpZWxkPzogc3RyaW5nXG4gIHZhbHVlPzogYW55XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmFsaWRhdGlvbldhcm5pbmcge1xuICBjb2RlOiBzdHJpbmdcbiAgbWVzc2FnZTogc3RyaW5nXG4gIGZpZWxkPzogc3RyaW5nXG4gIHN1Z2dlc3Rpb24/OiBzdHJpbmdcbn1cblxuLy8gRXJyb3IgY29kZXMgZm9yIHZhbGlkYXRpb25cbmV4cG9ydCBlbnVtIFZhbGlkYXRpb25FcnJvckNvZGUge1xuICBNSVNTSU5HX0RFUEFSVFVSRV9MT0NBVElPTiA9ICdNSVNTSU5HX0RFUEFSVFVSRV9MT0NBVElPTicsXG4gIElOVkFMSURfQ09PUkRJTkFURVMgPSAnSU5WQUxJRF9DT09SRElOQVRFUycsXG4gIElOVkFMSURfUFJFRkVSRU5DRV9TQ09SRSA9ICdJTlZBTElEX1BSRUZFUkVOQ0VfU0NPUkUnLFxuICBNSVNTSU5HX1VTRVJfUkVGRVJFTkNFID0gJ01JU1NJTkdfVVNFUl9SRUZFUkVOQ0UnLFxuICBPUlBIQU5FRF9QUkVGRVJFTkNFID0gJ09SUEhBTkVEX1BSRUZFUkVOQ0UnLFxuICBJTlZBTElEX0RBVEVfUkFOR0UgPSAnSU5WQUxJRF9EQVRFX1JBTkdFJyxcbiAgTUlTU0lOR19HUk9VUF9NRU1CRVJTID0gJ01JU1NJTkdfR1JPVVBfTUVNQkVSUycsXG4gIERVUExJQ0FURV9ERVNUSU5BVElPTiA9ICdEVVBMSUNBVEVfREVTVElOQVRJT04nXG59XG5cbi8vIERpc3RhbmNlIGNhbGN1bGF0aW9uIGNhY2hlIGtleVxuZXhwb3J0IGludGVyZmFjZSBEaXN0YW5jZUNhY2hlS2V5IHtcbiAgZnJvbTogeyBsYXQ6IG51bWJlcjsgbG5nOiBudW1iZXIgfVxuICB0bzogeyBsYXQ6IG51bWJlcjsgbG5nOiBudW1iZXIgfVxufVxuXG4vLyBPcHRpbWl6YXRpb24gY29uc3RyYWludHNcbmV4cG9ydCBpbnRlcmZhY2UgT3B0aW1pemF0aW9uQ29uc3RyYWludHMge1xuICBtYXhEYWlseURpc3RhbmNlPzogbnVtYmVyIC8vIGttXG4gIG1heERyaXZpbmdIb3Vycz86IG51bWJlciAvLyBob3VycyBwZXIgZGF5XG4gIHByZWZlcnJlZERhaWx5U3RhcnRUaW1lPzogc3RyaW5nIC8vIEhIOm1tIGZvcm1hdFxuICBwcmVmZXJyZWREYWlseUVuZFRpbWU/OiBzdHJpbmcgLy8gSEg6bW0gZm9ybWF0XG59XG5cbi8vIFJlc3VsdCBvZiBkYXRhIGZldGNoaW5nIG9wZXJhdGlvblxuZXhwb3J0IGludGVyZmFjZSBEYXRhRmV0Y2hSZXN1bHQ8VD4ge1xuICBkYXRhOiBUIHwgbnVsbFxuICBlcnJvcjogRXJyb3IgfCBudWxsXG59XG5cbi8vIENvb3JkaW5hdGUgdmFsaWRhdGlvbiByYW5nZXNcbmV4cG9ydCBjb25zdCBDT09SRElOQVRFX1JBTkdFUyA9IHtcbiAgbGF0aXR1ZGU6IHsgbWluOiAtOTAsIG1heDogOTAgfSxcbiAgbG9uZ2l0dWRlOiB7IG1pbjogLTE4MCwgbWF4OiAxODAgfVxufSBhcyBjb25zdFxuXG4vLyBQcmVmZXJlbmNlIHNjb3JlIGNvbnN0cmFpbnRzXG5leHBvcnQgY29uc3QgUFJFRkVSRU5DRV9DT05TVFJBSU5UUyA9IHtcbiAgbWluU2NvcmU6IDEsXG4gIG1heFNjb3JlOiA1LFxuICBkZWZhdWx0U2NvcmU6IDNcbn0gYXMgY29uc3QiXSwibmFtZXMiOlsiVmFsaWRhdGlvbkVycm9yQ29kZSIsIk1JU1NJTkdfREVQQVJUVVJFX0xPQ0FUSU9OIiwiSU5WQUxJRF9DT09SRElOQVRFUyIsIklOVkFMSURfUFJFRkVSRU5DRV9TQ09SRSIsIk1JU1NJTkdfVVNFUl9SRUZFUkVOQ0UiLCJPUlBIQU5FRF9QUkVGRVJFTkNFIiwiSU5WQUxJRF9EQVRFX1JBTkdFIiwiTUlTU0lOR19HUk9VUF9NRU1CRVJTIiwiRFVQTElDQVRFX0RFU1RJTkFUSU9OIiwiQ09PUkRJTkFURV9SQU5HRVMiLCJsYXRpdHVkZSIsIm1pbiIsIm1heCIsImxvbmdpdHVkZSIsIlBSRUZFUkVOQ0VfQ09OU1RSQUlOVFMiLCJtaW5TY29yZSIsIm1heFNjb3JlIiwiZGVmYXVsdFNjb3JlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./lib/optimization/types.ts\n");

/***/ }),

/***/ "(action-browser)/./lib/optimization/user-association.ts":
/*!**********************************************!*\
  !*** ./lib/optimization/user-association.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculateUserSatisfactionStats: () => (/* binding */ calculateUserSatisfactionStats),\n/* harmony export */   createUserSatisfactionMap: () => (/* binding */ createUserSatisfactionMap),\n/* harmony export */   findWishfulUsers: () => (/* binding */ findWishfulUsers),\n/* harmony export */   validateUserAssociations: () => (/* binding */ validateUserAssociations)\n/* harmony export */ });\n// User association and color mapping for destinations\n// Color palette for user assignment\nconst USER_COLORS = [\n    \"#FF6B6B\",\n    \"#4ECDC4\",\n    \"#45B7D1\",\n    \"#FFA07A\",\n    \"#98D8C8\",\n    \"#F7DC6F\",\n    \"#BB8FCE\",\n    \"#85C1E2\",\n    \"#F8B595\",\n    \"#C7CEEA\" // Lavender\n];\n/**\n * Find all users who expressed interest in a destination\n */ function findWishfulUsers(destinationId, preferences, groupMembers) {\n    // Find all preferences for this destination\n    const destinationPrefs = preferences.filter((pref)=>pref.destinationId === destinationId);\n    // Map preferences to group members\n    const wishfulUsers = [];\n    for (const pref of destinationPrefs){\n        // Find corresponding group member\n        const member = findGroupMembers(pref, groupMembers);\n        if (member) {\n            wishfulUsers.push({\n                member,\n                preference: pref,\n                originalRating: pref.originalScore,\n                assignedColor: member.assigned_color || getUserColor(member, groupMembers)\n            });\n        }\n    }\n    // Sort by rating (highest first) for consistent ordering\n    wishfulUsers.sort((a, b)=>b.originalRating - a.originalRating);\n    return wishfulUsers;\n}\n/**\n * Find group member corresponding to a preference\n */ function findGroupMembers(preference, groupMembers) {\n    // Try to match by user ID first\n    if (preference.userId) {\n        const member = groupMembers.find((m)=>m.user_id === preference.userId);\n        if (member) return member;\n    }\n    // Try to match by session ID for guests\n    if (preference.sessionId) {\n        const member = groupMembers.find((m)=>m.session_id === preference.sessionId);\n        if (member) return member;\n    }\n    // Try to match by name as fallback\n    const member = groupMembers.find((m)=>m.display_name === preference.userName);\n    return member || null;\n}\n/**\n * Get or assign color for a user\n */ function getUserColor(member, allMembers) {\n    // If member already has a color, use it\n    if (member.assigned_color) {\n        return member.assigned_color;\n    }\n    // Find member index for consistent color assignment\n    const memberIndex = allMembers.findIndex((m)=>m.user_id && m.user_id === member.user_id || m.session_id && m.session_id === member.session_id);\n    // Assign color based on index\n    if (memberIndex >= 0) {\n        return USER_COLORS[memberIndex % USER_COLORS.length];\n    }\n    // Default color if not found\n    return USER_COLORS[0];\n}\n/**\n * Create user satisfaction summary for all destinations\n */ function createUserSatisfactionMap(destinationIds, preferences, groupMembers) {\n    const satisfactionMap = new Map();\n    // Initialize map for all members\n    for (const member of groupMembers){\n        const memberKey = member.user_id || member.session_id || member.display_name;\n        satisfactionMap.set(memberKey, new Set());\n    }\n    // Add satisfied destinations for each member\n    for (const destinationId of destinationIds){\n        const destinationPrefs = preferences.filter((pref)=>pref.destinationId === destinationId);\n        for (const pref of destinationPrefs){\n            const memberKey = pref.userId || pref.sessionId || pref.userName;\n            const memberDestinations = satisfactionMap.get(memberKey);\n            if (memberDestinations) {\n                memberDestinations.add(destinationId);\n            }\n        }\n    }\n    return satisfactionMap;\n}\n/**\n * Calculate user satisfaction statistics\n */ function calculateUserSatisfactionStats(visitedDestinationIds, preferences, groupMembers) {\n    const stats = [];\n    for (const member of groupMembers){\n        // Find all preferences for this member\n        const memberPrefs = preferences.filter((pref)=>member.user_id && pref.userId === member.user_id || member.session_id && pref.sessionId === member.session_id || pref.userName === member.display_name);\n        // Find which of their preferences are visited\n        const visitedDestinations = memberPrefs.filter((pref)=>visitedDestinationIds.includes(pref.destinationId)).map((pref)=>pref.destinationId);\n        const missedDestinations = memberPrefs.filter((pref)=>!visitedDestinationIds.includes(pref.destinationId)).map((pref)=>pref.destinationId);\n        const satisfactionPercentage = memberPrefs.length > 0 ? visitedDestinations.length / memberPrefs.length * 100 : 0;\n        stats.push({\n            member,\n            visitedWishlistCount: visitedDestinations.length,\n            totalWishlistCount: memberPrefs.length,\n            satisfactionPercentage,\n            visitedDestinations,\n            missedDestinations\n        });\n    }\n    return stats;\n}\n/**\n * Validate user associations\n */ function validateUserAssociations(wishfulUsers, groupMembers) {\n    const warnings = [];\n    // Check for users without colors\n    const usersWithoutColors = wishfulUsers.filter((wu)=>!wu.assignedColor);\n    if (usersWithoutColors.length > 0) {\n        warnings.push(`${usersWithoutColors.length} users without assigned colors`);\n    }\n    // Check for preferences without matching group members\n    const memberIds = new Set(groupMembers.map((m)=>m.user_id || m.session_id || m.display_name));\n    const unmatchedPrefs = wishfulUsers.filter((wu)=>{\n        const memberId = wu.member.user_id || wu.member.session_id || wu.member.display_name;\n        return !memberIds.has(memberId);\n    });\n    if (unmatchedPrefs.length > 0) {\n        warnings.push(`${unmatchedPrefs.length} preferences without matching group members`);\n    }\n    // Check for duplicate user assignments\n    const userCounts = new Map();\n    for (const wu of wishfulUsers){\n        const key = wu.member.user_id || wu.member.session_id || wu.member.display_name;\n        userCounts.set(key, (userCounts.get(key) || 0) + 1);\n    }\n    const duplicates = Array.from(userCounts.entries()).filter(([_, count])=>count > 1);\n    if (duplicates.length > 0) {\n        warnings.push(`Found duplicate user assignments for destination`);\n    }\n    return {\n        isValid: warnings.length === 0,\n        warnings\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL2xpYi9vcHRpbWl6YXRpb24vdXNlci1hc3NvY2lhdGlvbi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsc0RBQXNEO0FBTXRELG9DQUFvQztBQUNwQyxNQUFNQSxjQUFjO0lBQ2xCO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLFVBQVcsV0FBVztDQUN2QjtBQUVEOztDQUVDLEdBQ00sU0FBU0MsaUJBQ2RDLGFBQXFCLEVBQ3JCQyxXQUFxQyxFQUNyQ0MsWUFBNEI7SUFFNUIsNENBQTRDO0lBQzVDLE1BQU1DLG1CQUFtQkYsWUFBWUcsTUFBTSxDQUN6Q0MsQ0FBQUEsT0FBUUEsS0FBS0wsYUFBYSxLQUFLQTtJQUdqQyxtQ0FBbUM7SUFDbkMsTUFBTU0sZUFBOEIsRUFBRTtJQUV0QyxLQUFLLE1BQU1ELFFBQVFGLGlCQUFrQjtRQUNuQyxrQ0FBa0M7UUFDbEMsTUFBTUksU0FBU0MsaUJBQWlCSCxNQUFNSDtRQUV0QyxJQUFJSyxRQUFRO1lBQ1ZELGFBQWFHLElBQUksQ0FBQztnQkFDaEJGO2dCQUNBRyxZQUFZTDtnQkFDWk0sZ0JBQWdCTixLQUFLTyxhQUFhO2dCQUNsQ0MsZUFBZU4sT0FBT08sY0FBYyxJQUFJQyxhQUFhUixRQUFRTDtZQUMvRDtRQUNGO0lBQ0Y7SUFFQSx5REFBeUQ7SUFDekRJLGFBQWFVLElBQUksQ0FBQyxDQUFDQyxHQUFHQyxJQUFNQSxFQUFFUCxjQUFjLEdBQUdNLEVBQUVOLGNBQWM7SUFFL0QsT0FBT0w7QUFDVDtBQUVBOztDQUVDLEdBQ0QsU0FBU0UsaUJBQ1BFLFVBQWtDLEVBQ2xDUixZQUE0QjtJQUU1QixnQ0FBZ0M7SUFDaEMsSUFBSVEsV0FBV1MsTUFBTSxFQUFFO1FBQ3JCLE1BQU1aLFNBQVNMLGFBQWFrQixJQUFJLENBQUNDLENBQUFBLElBQUtBLEVBQUVDLE9BQU8sS0FBS1osV0FBV1MsTUFBTTtRQUNyRSxJQUFJWixRQUFRLE9BQU9BO0lBQ3JCO0lBRUEs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QUFNLENBQUMsMkNBQTJDLENBQUM7SUFFekU7SUFFQSx1Q0FBdUM7SUFDdkMsTUFBTThCLGFBQWEsSUFBSTFCO0lBQ3ZCLEtBQUssTUFBTXFCLE1BQU1qRCxhQUFjO1FBQzdCLE1BQU11RCxNQUFNTixHQUFHaEQsTUFBTSxDQUFDZSxPQUFPLElBQUlpQyxHQUFHaEQsTUFBTSxDQUFDaUIsVUFBVSxJQUFJK0IsR0FBR2hELE1BQU0sQ0FBQ2tCLFlBQVk7UUFDL0VtQyxXQUFXeEIsR0FBRyxDQUFDeUIsS0FBSyxDQUFDRCxXQUFXckIsR0FBRyxDQUFDc0IsUUFBUSxLQUFLO0lBQ25EO0lBRUEsTUFBTUMsYUFBYUMsTUFBTUMsSUFBSSxDQUFDSixXQUFXSyxPQUFPLElBQUk3RCxNQUFNLENBQUMsQ0FBQyxDQUFDOEQsR0FBR0MsTUFBTSxHQUFLQSxRQUFRO0lBQ25GLElBQUlMLFdBQVdoQyxNQUFNLEdBQUcsR0FBRztRQUN6QnVCLFNBQVM1QyxJQUFJLENBQ1gsQ0FBQyxnREFBZ0QsQ0FBQztJQUV0RDtJQUVBLE9BQU87UUFDTDJELFNBQVNmLFNBQVN2QixNQUFNLEtBQUs7UUFDN0J1QjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMvLi9saWIvb3B0aW1pemF0aW9uL3VzZXItYXNzb2NpYXRpb24udHM/YTYzOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBVc2VyIGFzc29jaWF0aW9uIGFuZCBjb2xvciBtYXBwaW5nIGZvciBkZXN0aW5hdGlvbnNcblxuaW1wb3J0IHR5cGUgeyBHcm91cE1lbWJlcnMgfSBmcm9tICdAL2xpYi9kYXRhYmFzZS50eXBlcydcbmltcG9ydCB0eXBlIHsgU3RhbmRhcmRpemVkUHJlZmVyZW5jZSB9IGZyb20gJy4vbm9ybWFsaXphdGlvbi10eXBlcydcbmltcG9ydCB0eXBlIHsgV2lzaGZ1bFVzZXIgfSBmcm9tICcuL2RldGFpbGVkLXJvdXRlLXR5cGVzJ1xuXG4vLyBDb2xvciBwYWxldHRlIGZvciB1c2VyIGFzc2lnbm1lbnRcbmNvbnN0IFVTRVJfQ09MT1JTID0gW1xuICAnI0ZGNkI2QicsIC8vIFJlZFxuICAnIzRFQ0RDNCcsIC8vIFRlYWxcbiAgJyM0NUI3RDEnLCAvLyBCbHVlXG4gICcjRkZBMDdBJywgLy8gTGlnaHQgU2FsbW9uXG4gICcjOThEOEM4JywgLy8gTWludFxuICAnI0Y3REM2RicsIC8vIFllbGxvd1xuICAnI0JCOEZDRScsIC8vIFB1cnBsZVxuICAnIzg1QzFFMicsIC8vIFNreSBCbHVlXG4gICcjRjhCNTk1JywgLy8gUGVhY2hcbiAgJyNDN0NFRUEnICAvLyBMYXZlbmRlclxuXVxuXG4vKipcbiAqIEZpbmQgYWxsIHVzZXJzIHdobyBleHByZXNzZWQgaW50ZXJlc3QgaW4gYSBkZXN0aW5hdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gZmluZFdpc2hmdWxVc2VycyhcbiAgZGVzdGluYXRpb25JZDogc3RyaW5nLFxuICBwcmVmZXJlbmNlczogU3RhbmRhcmRpemVkUHJlZmVyZW5jZVtdLFxuICBncm91cE1lbWJlcnM6IEdyb3VwTWVtYmVyc1tdXG4pOiBXaXNoZnVsVXNlcltdIHtcbiAgLy8gRmluZCBhbGwgcHJlZmVyZW5jZXMgZm9yIHRoaXMgZGVzdGluYXRpb25cbiAgY29uc3QgZGVzdGluYXRpb25QcmVmcyA9IHByZWZlcmVuY2VzLmZpbHRlcihcbiAgICBwcmVmID0+IHByZWYuZGVzdGluYXRpb25JZCA9PT0gZGVzdGluYXRpb25JZFxuICApXG4gIFxuICAvLyBNYXAgcHJlZmVyZW5jZXMgdG8gZ3JvdXAgbWVtYmVyc1xuICBjb25zdCB3aXNoZnVsVXNlcnM6IFdpc2hmdWxVc2VyW10gPSBbXVxuICBcbiAgZm9yIChjb25zdCBwcmVmIG9mIGRlc3RpbmF0aW9uUHJlZnMpIHtcbiAgICAvLyBGaW5kIGNvcnJlc3BvbmRpbmcgZ3JvdXAgbWVtYmVyXG4gICAgY29uc3QgbWVtYmVyID0gZmluZEdyb3VwTWVtYmVycyhwcmVmLCBncm91cE1lbWJlcnMpXG4gICAgXG4gICAgaWYgKG1lbWJlcikge1xuICAgICAgd2lzaGZ1bFVzZXJzLnB1c2goe1xuICAgICAgICBtZW1iZXIsXG4gICAgICAgIHByZWZlcmVuY2U6IHByZWYsXG4gICAgICAgIG9yaWdpbmFsUmF0aW5nOiBwcmVmLm9yaWdpbmFsU2NvcmUsXG4gICAgICAgIGFzc2lnbmVkQ29sb3I6IG1lbWJlci5hc3NpZ25lZF9jb2xvciB8fCBnZXRVc2VyQ29sb3IobWVtYmVyLCBncm91cE1lbWJlcnMpXG4gICAgICB9KVxuICAgIH1cbiAgfVxuICBcbiAgLy8gU29ydCBieSByYXRpbmcgKGhpZ2hlc3QgZmlyc3QpIGZvciBjb25zaXN0ZW50IG9yZGVyaW5nXG4gIHdpc2hmdWxVc2Vycy5zb3J0KChhLCBiKSA9PiBiLm9yaWdpbmFsUmF0aW5nIC0gYS5vcmlnaW5hbFJhdGluZylcbiAgXG4gIHJldHVybiB3aXNoZnVsVXNlcnNcbn1cblxuLyoqXG4gKiBGaW5kIGdyb3VwIG1lbWJlciBjb3JyZXNwb25kaW5nIHRvIGEgcHJlZmVyZW5jZVxuICovXG5mdW5jdGlvbiBmaW5kR3JvdXBNZW1iZXJzKFxuICBwcmVmZXJlbmNlOiBTdGFuZGFyZGl6ZWRQcmVmZXJlbmNlLFxuICBncm91cE1lbWJlcnM6IEdyb3VwTWVtYmVyc1tdXG4pOiBHcm91cE1lbWJlcnMgfCBudWxsIHtcbiAgLy8gVHJ5IHRvIG1hdGNoIGJ5IHVzZXIgSUQgZmlyc3RcbiAgaWYgKHByZWZlcmVuY2UudXNlcklkKSB7XG4gICAgY29uc3QgbWVtYmVyID0gZ3JvdXBNZW1iZXJzLmZpbmQobSA9PiBtLnVzZXJfaWQgPT09IHByZWZlcmVuY2UudXNlcklkKVxuICAgIGlmIChtZW1iZXIpIHJldHVybiBtZW1iZXJcbiAgfVxuICBcbiAgLy8gVHJ5IHRvIG1hdGNoIGJ5IHNlc3Npb24gSUQgZm9yIGd1ZXN0c1xuICBpZiAocHJlZmVyZW5jZS5zZXNzaW9uSWQpIHtcbiAgICBjb25zdCBtZW1iZXIgPSBncm91cE1lbWJlcnMuZmluZChtID0+IG0uc2Vzc2lvbl9pZCA9PT0gcHJlZmVyZW5jZS5zZXNzaW9uSWQpXG4gICAgaWYgKG1lbWJlcikgcmV0dXJuIG1lbWJlclxuICB9XG4gIFxuICAvLyBUcnkgdG8gbWF0Y2ggYnkgbmFtZSBhcyBmYWxsYmFja1xuICBjb25zdCBtZW1iZXIgPSBncm91cE1lbWJlcnMuZmluZChcbiAgICBtID0+IG0uZGlzcGxheV9uYW1lID09PSBwcmVmZXJlbmNlLnVzZXJOYW1lXG4gIClcbiAgXG4gIHJldHVybiBtZW1iZXIgfHwgbnVsbFxufVxuXG4vKipcbiAqIEdldCBvciBhc3NpZ24gY29sb3IgZm9yIGEgdXNlclxuICovXG5mdW5jdGlvbiBnZXRVc2VyQ29sb3IobWVtYmVyOiBHcm91cE1lbWJlcnMsIGFsbE1lbWJlcnM6IEdyb3VwTWVtYmVyc1tdKTogc3RyaW5nIHtcbiAgLy8gSWYgbWVtYmVyIGFscmVhZHkgaGFzIGEgY29sb3IsIHVzZSBpdFxuICBpZiAobWVtYmVyLmFzc2lnbmVkX2NvbG9yKSB7XG4gICAgcmV0dXJuIG1lbWJlci5hc3NpZ25lZF9jb2xvclxuICB9XG4gIFxuICAvLyBGaW5kIG1lbWJlciBpbmRleCBmb3IgY29uc2lzdGVudCBjb2xvciBhc3NpZ25tZW50XG4gIGNvbnN0IG1lbWJlckluZGV4ID0gYWxsTWVtYmVycy5maW5kSW5kZXgoXG4gICAgbSA9PiAobS51c2VyX2lkICYmIG0udXNlcl9pZCA9PT0gbWVtYmVyLnVzZXJfaWQpIHx8IFxuICAgICAgICAgKG0uc2Vzc2lvbl9pZCAmJiBtLnNlc3Npb25faWQgPT09IG1lbWJlci5zZXNzaW9uX2lkKVxuICApXG4gIFxuICAvLyBBc3NpZ24gY29sb3IgYmFzZWQgb24gaW5kZXhcbiAgaWYgKG1lbWJlckluZGV4ID49IDApIHtcbiAgICByZXR1cm4gVVNFUl9DT0xPUlNbbWVtYmVySW5kZXggJSBVU0VSX0NPTE9SUy5sZW5ndGhdXG4gIH1cbiAgXG4gIC8vIERlZmF1bHQgY29sb3IgaWYgbm90IGZvdW5kXG4gIHJldHVybiBVU0VSX0NPTE9SU1swXVxufVxuXG4vKipcbiAqIENyZWF0ZSB1c2VyIHNhdGlzZmFjdGlvbiBzdW1tYXJ5IGZvciBhbGwgZGVzdGluYXRpb25zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVVc2VyU2F0aXNmYWN0aW9uTWFwKFxuICBkZXN0aW5hdGlvbklkczogc3RyaW5nW10sXG4gIHByZWZlcmVuY2VzOiBTdGFuZGFyZGl6ZWRQcmVmZXJlbmNlW10sXG4gIGdyb3VwTWVtYmVyczogR3JvdXBNZW1iZXJzW11cbik6IE1hcDxzdHJpbmcsIFNldDxzdHJpbmc+PiB7XG4gIGNvbnN0IHNhdGlzZmFjdGlvbk1hcCA9IG5ldyBNYXA8c3RyaW5nLCBTZXQ8c3RyaW5nPj4oKVxuICBcbiAgLy8gSW5pdGlhbGl6ZSBtYXAgZm9yIGFsbCBtZW1iZXJzXG4gIGZvciAoY29uc3QgbWVtYmVyIG9mIGdyb3VwTWVtYmVycykge1xuICAgIGNvbnN0IG1lbWJlcktleSA9IG1lbWJlci51c2VyX2lkIHx8IG1lbWJlci5zZXNzaW9uX2lkIHx8IG1lbWJlci5kaXNwbGF5X25hbWVcbiAgICBzYXRpc2ZhY3Rpb25NYXAuc2V0KG1lbWJlcktleSwgbmV3IFNldCgpKVxuICB9XG4gIFxuICAvLyBBZGQgc2F0aXNmaWVkIGRlc3RpbmF0aW9ucyBmb3IgZWFjaCBtZW1iZXJcbiAgZm9yIChjb25zdCBkZXN0aW5hdGlvbklkIG9mIGRlc3RpbmF0aW9uSWRzKSB7XG4gICAgY29uc3QgZGVzdGluYXRpb25QcmVmcyA9IHByZWZlcmVuY2VzLmZpbHRlcihcbiAgICAgIHByZWYgPT4gcHJlZi5kZXN0aW5hdGlvbklkID09PSBkZXN0aW5hdGlvbklkXG4gICAgKVxuICAgIFxuICAgIGZvciAoY29uc3QgcHJlZiBvZiBkZXN0aW5hdGlvblByZWZzKSB7XG4gICAgICBjb25zdCBtZW1iZXJLZXkgPSBwcmVmLnVzZXJJZCB8fCBwcmVmLnNlc3Npb25JZCB8fCBwcmVmLnVzZXJOYW1lXG4gICAgICBjb25zdCBtZW1iZXJEZXN0aW5hdGlvbnMgPSBzYXRpc2ZhY3Rpb25NYXAuZ2V0KG1lbWJlcktleSlcbiAgICAgIGlmIChtZW1iZXJEZXN0aW5hdGlvbnMpIHtcbiAgICAgICAgbWVtYmVyRGVzdGluYXRpb25zLmFkZChkZXN0aW5hdGlvbklkKVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBcbiAgcmV0dXJuIHNhdGlzZmFjdGlvbk1hcFxufVxuXG4vKipcbiAqIENhbGN1bGF0ZSB1c2VyIHNhdGlzZmFjdGlvbiBzdGF0aXN0aWNzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVVc2VyU2F0aXNmYWN0aW9uU3RhdHMoXG4gIHZpc2l0ZWREZXN0aW5hdGlvbklkczogc3RyaW5nW10sXG4gIHByZWZlcmVuY2VzOiBTdGFuZGFyZGl6ZWRQcmVmZXJlbmNlW10sXG4gIGdyb3VwTWVtYmVyczogR3JvdXBNZW1iZXJzW11cbik6IHtcbiAgbWVtYmVyOiBHcm91cE1lbWJlcnNcbiAgdmlzaXRlZFdpc2hsaXN0Q291bnQ6IG51bWJlclxuICB0b3RhbFdpc2hsaXN0Q291bnQ6IG51bWJlclxuICBzYXRpc2ZhY3Rpb25QZXJjZW50YWdlOiBudW1iZXJcbiAgdmlzaXRlZERlc3RpbmF0aW9uczogc3RyaW5nW11cbiAgbWlzc2VkRGVzdGluYXRpb25zOiBzdHJpbmdbXVxufVtdIHtcbiAgY29uc3Qgc3RhdHMgPSBbXVxuICBcbiAgZm9yIChjb25zdCBtZW1iZXIgb2YgZ3JvdXBNZW1iZXJzKSB7XG4gICAgLy8gRmluZCBhbGwgcHJlZmVyZW5jZXMgZm9yIHRoaXMgbWVtYmVyXG4gICAgY29uc3QgbWVtYmVyUHJlZnMgPSBwcmVmZXJlbmNlcy5maWx0ZXIocHJlZiA9PiBcbiAgICAgIChtZW1iZXIudXNlcl9pZCAmJiBwcmVmLnVzZXJJZCA9PT0gbWVtYmVyLnVzZXJfaWQpIHx8XG4gICAgICAobWVtYmVyLnNlc3Npb25faWQgJiYgcHJlZi5zZXNzaW9uSWQgPT09IG1lbWJlci5zZXNzaW9uX2lkKSB8fFxuICAgICAgKHByZWYudXNlck5hbWUgPT09IG1lbWJlci5kaXNwbGF5X25hbWUpXG4gICAgKVxuICAgIFxuICAgIC8vIEZpbmQgd2hpY2ggb2YgdGhlaXIgcHJlZmVyZW5jZXMgYXJlIHZpc2l0ZWRcbiAgICBjb25zdCB2aXNpdGVkRGVzdGluYXRpb25zID0gbWVtYmVyUHJlZnNcbiAgICAgIC5maWx0ZXIocHJlZiA9PiB2aXNpdGVkRGVzdGluYXRpb25JZHMuaW5jbHVkZXMocHJlZi5kZXN0aW5hdGlvbklkKSlcbiAgICAgIC5tYXAocHJlZiA9PiBwcmVmLmRlc3RpbmF0aW9uSWQpXG4gICAgXG4gICAgY29uc3QgbWlzc2VkRGVzdGluYXRpb25zID0gbWVtYmVyUHJlZnNcbiAgICAgIC5maWx0ZXIocHJlZiA9PiAhdmlzaXRlZERlc3RpbmF0aW9uSWRzLmluY2x1ZGVzKHByZWYuZGVzdGluYXRpb25JZCkpXG4gICAgICAubWFwKHByZWYgPT4gcHJlZi5kZXN0aW5hdGlvbklkKVxuICAgIFxuICAgIGNvbnN0IHNhdGlzZmFjdGlvblBlcmNlbnRhZ2UgPSBtZW1iZXJQcmVmcy5sZW5ndGggPiAwXG4gICAgICA/ICh2aXNpdGVkRGVzdGluYXRpb25zLmxlbmd0aCAvIG1lbWJlclByZWZzLmxlbmd0aCkgKiAxMDBcbiAgICAgIDogMFxuICAgIFxuICAgIHN0YXRzLnB1c2goe1xuICAgICAgbWVtYmVyLFxuICAgICAgdmlzaXRlZFdpc2hsaXN0Q291bnQ6IHZpc2l0ZWREZXN0aW5hdGlvbnMubGVuZ3RoLFxuICAgICAgdG90YWxXaXNobGlzdENvdW50OiBtZW1iZXJQcmVmcy5sZW5ndGgsXG4gICAgICBzYXRpc2ZhY3Rpb25QZXJjZW50YWdlLFxuICAgICAgdmlzaXRlZERlc3RpbmF0aW9ucyxcbiAgICAgIG1pc3NlZERlc3RpbmF0aW9uc1xuICAgIH0pXG4gIH1cbiAgXG4gIHJldHVybiBzdGF0c1xufVxuXG4vKipcbiAqIFZhbGlkYXRlIHVzZXIgYXNzb2NpYXRpb25zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVVzZXJBc3NvY2lhdGlvbnMoXG4gIHdpc2hmdWxVc2VyczogV2lzaGZ1bFVzZXJbXSxcbiAgZ3JvdXBNZW1iZXJzOiBHcm91cE1lbWJlcnNbXVxuKToge1xuICBpc1ZhbGlkOiBib29sZWFuXG4gIHdhcm5pbmdzOiBzdHJpbmdbXVxufSB7XG4gIGNvbnN0IHdhcm5pbmdzOiBzdHJpbmdbXSA9IFtdXG4gIFxuICAvLyBDaGVjayBmb3IgdXNlcnMgd2l0aG91dCBjb2xvcnNcbiAgY29uc3QgdXNlcnNXaXRob3V0Q29sb3JzID0gd2lzaGZ1bFVzZXJzLmZpbHRlcih3dSA9PiAhd3UuYXNzaWduZWRDb2xvcilcbiAgaWYgKHVzZXJzV2l0aG91dENvbG9ycy5sZW5ndGggPiAwKSB7XG4gICAgd2FybmluZ3MucHVzaChcbiAgICAgIGAke3VzZXJzV2l0aG91dENvbG9ycy5sZW5ndGh9IHVzZXJzIHdpdGhvdXQgYXNzaWduZWQgY29sb3JzYFxuICAgIClcbiAgfVxuICBcbiAgLy8gQ2hlY2sgZm9yIHByZWZlcmVuY2VzIHdpdGhvdXQgbWF0Y2hpbmcgZ3JvdXAgbWVtYmVyc1xuICBjb25zdCBtZW1iZXJJZHMgPSBuZXcgU2V0KFxuICAgIGdyb3VwTWVtYmVycy5tYXAobSA9PiBtLnVzZXJfaWQgfHwgbS5zZXNzaW9uX2lkIHx8IG0uZGlzcGxheV9uYW1lKVxuICApXG4gIFxuICBjb25zdCB1bm1hdGNoZWRQcmVmcyA9IHdpc2hmdWxVc2Vycy5maWx0ZXIod3UgPT4ge1xuICAgIGNvbnN0IG1lbWJlcklkID0gd3UubWVtYmVyLnVzZXJfaWQgfHwgd3UubWVtYmVyLnNlc3Npb25faWQgfHwgd3UubWVtYmVyLmRpc3BsYXlfbmFtZVxuICAgIHJldHVybiAhbWVtYmVySWRzLmhhcyhtZW1iZXJJZClcbiAgfSlcbiAgXG4gIGlmICh1bm1hdGNoZWRQcmVmcy5sZW5ndGggPiAwKSB7XG4gICAgd2FybmluZ3MucHVzaChcbiAgICAgIGAke3VubWF0Y2hlZFByZWZzLmxlbmd0aH0gcHJlZmVyZW5jZXMgd2l0aG91dCBtYXRjaGluZyBncm91cCBtZW1iZXJzYFxuICAgIClcbiAgfVxuICBcbiAgLy8gQ2hlY2sgZm9yIGR1cGxpY2F0ZSB1c2VyIGFzc2lnbm1lbnRzXG4gIGNvbnN0IHVzZXJDb3VudHMgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpXG4gIGZvciAoY29uc3Qgd3Ugb2Ygd2lzaGZ1bFVzZXJzKSB7XG4gICAgY29uc3Qga2V5ID0gd3UubWVtYmVyLnVzZXJfaWQgfHwgd3UubWVtYmVyLnNlc3Npb25faWQgfHwgd3UubWVtYmVyLmRpc3BsYXlfbmFtZVxuICAgIHVzZXJDb3VudHMuc2V0KGtleSwgKHVzZXJDb3VudHMuZ2V0KGtleSkgfHwgMCkgKyAxKVxuICB9XG4gIFxuICBjb25zdCBkdXBsaWNhdGVzID0gQXJyYXkuZnJvbSh1c2VyQ291bnRzLmVudHJpZXMoKSkuZmlsdGVyKChbXywgY291bnRdKSA9PiBjb3VudCA+IDEpXG4gIGlmIChkdXBsaWNhdGVzLmxlbmd0aCA+IDApIHtcbiAgICB3YXJuaW5ncy5wdXNoKFxuICAgICAgYEZvdW5kIGR1cGxpY2F0ZSB1c2VyIGFzc2lnbm1lbnRzIGZvciBkZXN0aW5hdGlvbmBcbiAgICApXG4gIH1cbiAgXG4gIHJldHVybiB7XG4gICAgaXNWYWxpZDogd2FybmluZ3MubGVuZ3RoID09PSAwLFxuICAgIHdhcm5pbmdzXG4gIH1cbn0iXSwibmFtZXMiOlsiVVNFUl9DT0xPUlMiLCJmaW5kV2lzaGZ1bFVzZXJzIiwiZGVzdGluYXRpb25JZCIsInByZWZlcmVuY2VzIiwiZ3JvdXBNZW1iZXJzIiwiZGVzdGluYXRpb25QcmVmcyIsImZpbHRlciIsInByZWYiLCJ3aXNoZnVsVXNlcnMiLCJtZW1iZXIiLCJmaW5kR3JvdXBNZW1iZXJzIiwicHVzaCIsInByZWZlcmVuY2UiLCJvcmlnaW5hbFJhdGluZyIsIm9yaWdpbmFsU2NvcmUiLCJhc3NpZ25lZENvbG9yIiwiYXNzaWduZWRfY29sb3IiLCJnZXRVc2VyQ29sb3IiLCJzb3J0IiwiYSIsImIiLCJ1c2VySWQiLCJmaW5kIiwibSIsInVzZXJfaWQiLCJzZXNzaW9uSWQiLCJzZXNzaW9uX2lkIiwiZGlzcGxheV9uYW1lIiwidXNlck5hbWUiLCJhbGxNZW1iZXJzIiwibWVtYmVySW5kZXgiLCJmaW5kSW5kZXgiLCJsZW5ndGgiLCJjcmVhdGVVc2VyU2F0aXNmYWN0aW9uTWFwIiwiZGVzdGluYXRpb25JZHMiLCJzYXRpc2ZhY3Rpb25NYXAiLCJNYXAiLCJtZW1iZXJLZXkiLCJzZXQiLCJTZXQiLCJtZW1iZXJEZXN0aW5hdGlvbnMiLCJnZXQiLCJhZGQiLCJjYWxjdWxhdGVVc2VyU2F0aXNmYWN0aW9uU3RhdHMiLCJ2aXNpdGVkRGVzdGluYXRpb25JZHMiLCJzdGF0cyIsIm1lbWJlclByZWZzIiwidmlzaXRlZERlc3RpbmF0aW9ucyIsImluY2x1ZGVzIiwibWFwIiwibWlzc2VkRGVzdGluYXRpb25zIiwic2F0aXNmYWN0aW9uUGVyY2VudGFnZSIsInZpc2l0ZWRXaXNobGlzdENvdW50IiwidG90YWxXaXNobGlzdENvdW50IiwidmFsaWRhdGVVc2VyQXNzb2NpYXRpb25zIiwid2FybmluZ3MiLCJ1c2Vyc1dpdGhvdXRDb2xvcnMiLCJ3dSIsIm1lbWJlcklkcyIsInVubWF0Y2hlZFByZWZzIiwibWVtYmVySWQiLCJoYXMiLCJ1c2VyQ291bnRzIiwia2V5IiwiZHVwbGljYXRlcyIsIkFycmF5IiwiZnJvbSIsImVudHJpZXMiLCJfIiwiY291bnQiLCJpc1ZhbGlkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./lib/optimization/user-association.ts\n");

/***/ }),

/***/ "(action-browser)/./lib/optimization/z-score-normalization.ts":
/*!***************************************************!*\
  !*** ./lib/optimization/z-score-normalization.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   analyzeNormalizationQuality: () => (/* binding */ analyzeNormalizationQuality),\n/* harmony export */   interpretStandardizedScore: () => (/* binding */ interpretStandardizedScore),\n/* harmony export */   normalizePreferences: () => (/* binding */ normalizePreferences)\n/* harmony export */ });\n// Z-Score Normalization for fair preference comparison\n/**\n * Apply Z-Score normalization to user preferences\n * This ensures fair comparison between users with different rating patterns\n */ function normalizePreferences(preferences) {\n    const warnings = [];\n    // Step 1: Group preferences by user\n    const userPreferencesMap = groupPreferencesByUser(preferences);\n    // Step 2: Calculate statistics for each user\n    const userStatistics = new Map();\n    for (const [userKey, userPrefs] of Array.from(userPreferencesMap.entries())){\n        const stats = calculateUserStatistics(userKey, userPrefs);\n        userStatistics.set(userKey, stats);\n        // Add warning for users with limited ratings\n        if (stats.ratingCount < 3) {\n            warnings.push(`User ${getUserDisplayName(userPrefs[0])} has only ${stats.ratingCount} ratings. Normalization may be less reliable.`);\n        }\n        // Add warning for users with zero standard deviation\n        if (stats.standardDeviation === 0) {\n            warnings.push(`User ${getUserDisplayName(userPrefs[0])} gave the same rating (${stats.mean}) to all destinations.`);\n        }\n    }\n    // Step 3: Apply Z-score transformation\n    const standardizedPreferences = [];\n    for (const preference of preferences){\n        const userKey = getUserKey(preference);\n        const stats = userStatistics.get(userKey);\n        if (!stats) {\n            console.warn(`No statistics found for user ${userKey}`);\n            continue;\n        }\n        const standardizedScore = calculateZScore(preference.preferenceScore, stats.mean, stats.standardDeviation);\n        standardizedPreferences.push({\n            userId: preference.userId,\n            sessionId: preference.sessionId,\n            destinationId: preference.destinationId,\n            originalScore: preference.preferenceScore,\n            standardizedScore,\n            preferredDuration: preference.preferredDuration,\n            userName: preference.userDisplayName,\n            userColor: preference.userColor\n        });\n    }\n    return {\n        standardizedPreferences,\n        userStatistics,\n        warnings\n    };\n}\n/**\n * Group preferences by user (handling both guest and authenticated users)\n */ function groupPreferencesByUser(preferences) {\n    const userPrefsMap = new Map();\n    for (const preference of preferences){\n        const userKey = getUserKey(preference);\n        const userPrefs = userPrefsMap.get(userKey) || [];\n        userPrefs.push(preference);\n        userPrefsMap.set(userKey, userPrefs);\n    }\n    return userPrefsMap;\n}\n/**\n * Get unique user key for grouping\n */ function getUserKey(preference) {\n    return preference.userId || preference.sessionId || \"unknown\";\n}\n/**\n * Get user display name for warnings\n */ function getUserDisplayName(preference) {\n    return preference.userDisplayName || \"Unknown User\";\n}\n/**\n * Calculate statistics for a user's ratings\n */ function calculateUserStatistics(userKey, preferences) {\n    const ratings = preferences.map((p)=>p.preferenceScore);\n    const mean = calculateMean(ratings);\n    const standardDeviation = calculateStandardDeviation(ratings, mean);\n    return {\n        userId: preferences[0].userId,\n        sessionId: preferences[0].sessionId,\n        userKey,\n        ratings,\n        mean,\n        standardDeviation: standardDeviation === 0 ? 1 : standardDeviation,\n        ratingCount: ratings.length\n    };\n}\n/**\n * Calculate mean of an array of numbers\n */ function calculateMean(values) {\n    if (values.length === 0) return 0;\n    const sum = values.reduce((acc, val)=>acc + val, 0);\n    return sum / values.length;\n}\n/**\n * Calculate standard deviation of an array of numbers\n */ function calculateStandardDeviation(values, mean) {\n    if (values.length <= 1) return 0;\n    const squaredDiffs = values.map((val)=>Math.pow(val - mean, 2));\n    const avgSquaredDiff = calculateMean(squaredDiffs);\n    return Math.sqrt(avgSquaredDiff);\n}\n/**\n * Calculate Z-score for a value\n */ function calculateZScore(value, mean, standardDeviation) {\n    if (standardDeviation === 0) return 0;\n    return (value - mean) / standardDeviation;\n}\n/**\n * Analyze normalization results for quality assurance\n */ function analyzeNormalizationQuality(result) {\n    const issues = [];\n    const statsArray = Array.from(result.userStatistics.values());\n    // Calculate overall statistics\n    const means = statsArray.map((s)=>s.mean);\n    const stdDevs = statsArray.map((s)=>s.standardDeviation);\n    const meanOfMeans = calculateMean(means);\n    const meanOfStdDevs = calculateMean(stdDevs);\n    // Check for issues\n    const usersWithSingleRating = statsArray.filter((s)=>s.ratingCount === 1).length;\n    const usersWithIdenticalRatings = statsArray.filter((s)=>s.standardDeviation === 0).length;\n    if (usersWithSingleRating > 0) {\n        issues.push(`${usersWithSingleRating} users have only one rating`);\n    }\n    if (usersWithIdenticalRatings > 0) {\n        issues.push(`${usersWithIdenticalRatings} users gave identical ratings to all destinations`);\n    }\n    // Check if normalization produced reasonable results\n    const normalizedScores = result.standardizedPreferences.map((p)=>p.standardizedScore);\n    const normalizedMean = calculateMean(normalizedScores);\n    const normalizedStdDev = calculateStandardDeviation(normalizedScores, normalizedMean);\n    // Normalized scores should have mean ≈ 0 and stdDev ≈ 1\n    if (Math.abs(normalizedMean) > 0.1) {\n        issues.push(`Normalized scores have non-zero mean: ${normalizedMean.toFixed(3)}`);\n    }\n    if (Math.abs(normalizedStdDev - 1) > 0.2) {\n        issues.push(`Normalized scores have non-unit standard deviation: ${normalizedStdDev.toFixed(3)}`);\n    }\n    return {\n        isValid: issues.length === 0,\n        issues,\n        statistics: {\n            meanOfMeans,\n            meanOfStdDevs,\n            usersWithSingleRating,\n            usersWithIdenticalRatings\n        }\n    };\n}\n/**\n * Convert standardized scores back to interpretable format\n * Useful for displaying results to users\n */ function interpretStandardizedScore(score) {\n    // Based on standard normal distribution\n    if (score < -1.5) {\n        return {\n            level: \"very_low\",\n            description: \"Much lower than user's average preference\",\n            percentile: 7 // Below ~7th percentile\n        };\n    } else if (score < -0.5) {\n        return {\n            level: \"low\",\n            description: \"Below user's average preference\",\n            percentile: 31 // ~31st percentile\n        };\n    } else if (score < 0.5) {\n        return {\n            level: \"neutral\",\n            description: \"Near user's average preference\",\n            percentile: 50 // ~50th percentile\n        };\n    } else if (score < 1.5) {\n        return {\n            level: \"high\",\n            description: \"Above user's average preference\",\n            percentile: 69 // ~69th percentile\n        };\n    } else {\n        return {\n            level: \"very_high\",\n            description: \"Much higher than user's average preference\",\n            percentile: 93 // Above ~93rd percentile\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL2xpYi9vcHRpbWl6YXRpb24vei1zY29yZS1ub3JtYWxpemF0aW9uLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLHVEQUF1RDtBQVd2RDs7O0NBR0MsR0FDTSxTQUFTQSxxQkFDZEMsV0FBa0M7SUFFbEMsTUFBTUMsV0FBcUIsRUFBRTtJQUU3QixvQ0FBb0M7SUFDcEMsTUFBTUMscUJBQXFCQyx1QkFBdUJIO0lBRWxELDZDQUE2QztJQUM3QyxNQUFNSSxpQkFBaUIsSUFBSUM7SUFFM0IsS0FBSyxNQUFNLENBQUNDLFNBQVNDLFVBQVUsSUFBSUMsTUFBTUMsSUFBSSxDQUFDUCxtQkFBbUJRLE9BQU8sSUFBSztRQUMzRSxNQUFNQyxRQUFRQyx3QkFBd0JOLFNBQVNDO1FBQy9DSCxlQUFlUyxHQUFHLENBQUNQLFNBQVNLO1FBRTVCLDZDQUE2QztRQUM3QyxJQUFJQSxNQUFNRyxXQUFXLEdBQUcsR0FBRztZQUN6QmIsU0FBU2MsSUFBSSxDQUNYLENBQUMsS0FBSyxFQUFFQyxtQkFBbUJULFNBQVMsQ0FBQyxFQUFFLEVBQUUsVUFBVSxFQUFFSSxNQUFNRyxXQUFXLENBQUMsNkNBQTZDLENBQUM7UUFFekg7UUFFQSxxREFBcUQ7UUFDckQsSUFBSUgsTUFBTU0saUJBQWlCLEtBQUssR0FBRztZQUNqQ2hCLFNBQVNjLElBQUksQ0FDWCxDQUFDLEtBQUssRUFBRUMsbUJBQW1CVCxTQUFTLENBQUMsRUFBRSxFQUFFLHVCQUF1QixFQUFFSSxNQUFNTyxJQUFJLENBQUMsc0JBQXNCLENBQUM7UUFFeEc7SUFDRjtJQUVBLHVDQUF1QztJQUN2QyxNQUFNQywwQkFBb0QsRUFBRTtJQUU1RCxLQUFLLE1BQU1DLGNBQWNwQixZQUFhO1FBQ3BDLE1BQU1NLFVBQVVlLFdBQVdEO1FBQzNCLE1BQU1ULFFBQVFQLGVBQWVrQixHQUFHLENBQUNoQjtRQUVqQyxJQUFJLENBQUNLLE9BQU87WUFDVlksUUFBUUMsSUFBSSxDQUFDLENBQUMsNkJBQTZCLEVBQUVs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O1FBQ0xDLFNBQVNmLE9BQU9kLE1BQU0sS0FBSztRQUMzQmM7UUFDQWdCLFlBQVk7WUFDVlg7WUFDQUM7WUFDQUM7WUFDQUU7UUFDRjtJQUNGO0FBQ0Y7QUFFQTs7O0NBR0MsR0FDTSxTQUFTUSwyQkFBMkJDLEtBQWE7SUFLdEQsd0NBQXdDO0lBQ3hDLElBQUlBLFFBQVEsQ0FBQyxLQUFLO1FBQ2hCLE9BQU87WUFDTEMsT0FBTztZQUNQQyxhQUFhO1lBQ2JDLFlBQVksRUFBRSx3QkFBd0I7UUFDeEM7SUFDRixPQUFPLElBQUlILFFBQVEsQ0FBQyxLQUFLO1FBQ3ZCLE9BQU87WUFDTEMsT0FBTztZQUNQQyxhQUFhO1lBQ2JDLFlBQVksR0FBRyxtQkFBbUI7UUFDcEM7SUFDRixPQUFPLElBQUlILFFBQVEsS0FBSztRQUN0QixPQUFPO1lBQ0xDLE9BQU87WUFDUEMsYUFBYTtZQUNiQyxZQUFZLEdBQUcsbUJBQW1CO1FBQ3BDO0lBQ0YsT0FBTyxJQUFJSCxRQUFRLEtBQUs7UUFDdEIsT0FBTztZQUNMQyxPQUFPO1lBQ1BDLGFBQWE7WUFDYkMsWUFBWSxHQUFHLG1CQUFtQjtRQUNwQztJQUNGLE9BQU87UUFDTCxPQUFPO1lBQ0xGLE9BQU87WUFDUEMsYUFBYTtZQUNiQyxZQUFZLEdBQUcseUJBQXlCO1FBQzFDO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy8uL2xpYi9vcHRpbWl6YXRpb24vei1zY29yZS1ub3JtYWxpemF0aW9uLnRzPzU4YjEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gWi1TY29yZSBOb3JtYWxpemF0aW9uIGZvciBmYWlyIHByZWZlcmVuY2UgY29tcGFyaXNvblxuXG5pbXBvcnQgdHlwZSB7IFxuICBWYWxpZGF0ZWRQcmVmZXJlbmNlIFxufSBmcm9tICcuL3R5cGVzJ1xuaW1wb3J0IHR5cGUge1xuICBTdGFuZGFyZGl6ZWRQcmVmZXJlbmNlLFxuICBVc2VyU3RhdGlzdGljcyxcbiAgTm9ybWFsaXphdGlvblJlc3VsdFxufSBmcm9tICcuL25vcm1hbGl6YXRpb24tdHlwZXMnXG5cbi8qKlxuICogQXBwbHkgWi1TY29yZSBub3JtYWxpemF0aW9uIHRvIHVzZXIgcHJlZmVyZW5jZXNcbiAqIFRoaXMgZW5zdXJlcyBmYWlyIGNvbXBhcmlzb24gYmV0d2VlbiB1c2VycyB3aXRoIGRpZmZlcmVudCByYXRpbmcgcGF0dGVybnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZVByZWZlcmVuY2VzKFxuICBwcmVmZXJlbmNlczogVmFsaWRhdGVkUHJlZmVyZW5jZVtdXG4pOiBOb3JtYWxpemF0aW9uUmVzdWx0IHtcbiAgY29uc3Qgd2FybmluZ3M6IHN0cmluZ1tdID0gW11cbiAgXG4gIC8vIFN0ZXAgMTogR3JvdXAgcHJlZmVyZW5jZXMgYnkgdXNlclxuICBjb25zdCB1c2VyUHJlZmVyZW5jZXNNYXAgPSBncm91cFByZWZlcmVuY2VzQnlVc2VyKHByZWZlcmVuY2VzKVxuICBcbiAgLy8gU3RlcCAyOiBDYWxjdWxhdGUgc3RhdGlzdGljcyBmb3IgZWFjaCB1c2VyXG4gIGNvbnN0IHVzZXJTdGF0aXN0aWNzID0gbmV3IE1hcDxzdHJpbmcsIFVzZXJTdGF0aXN0aWNzPigpXG4gIFxuICBmb3IgKGNvbnN0IFt1c2VyS2V5LCB1c2VyUHJlZnNdIG9mIEFycmF5LmZyb20odXNlclByZWZlcmVuY2VzTWFwLmVudHJpZXMoKSkpIHtcbiAgICBjb25zdCBzdGF0cyA9IGNhbGN1bGF0ZVVzZXJTdGF0aXN0aWNzKHVzZXJLZXksIHVzZXJQcmVmcylcbiAgICB1c2VyU3RhdGlzdGljcy5zZXQodXNlcktleSwgc3RhdHMpXG4gICAgXG4gICAgLy8gQWRkIHdhcm5pbmcgZm9yIHVzZXJzIHdpdGggbGltaXRlZCByYXRpbmdzXG4gICAgaWYgKHN0YXRzLnJhdGluZ0NvdW50IDwgMykge1xuICAgICAgd2FybmluZ3MucHVzaChcbiAgICAgICAgYFVzZXIgJHtnZXRVc2VyRGlzcGxheU5hbWUodXNlclByZWZzWzBdKX0gaGFzIG9ubHkgJHtzdGF0cy5yYXRpbmdDb3VudH0gcmF0aW5ncy4gTm9ybWFsaXphdGlvbiBtYXkgYmUgbGVzcyByZWxpYWJsZS5gXG4gICAgICApXG4gICAgfVxuICAgIFxuICAgIC8vIEFkZCB3YXJuaW5nIGZvciB1c2VycyB3aXRoIHplcm8gc3RhbmRhcmQgZGV2aWF0aW9uXG4gICAgaWYgKHN0YXRzLnN0YW5kYXJkRGV2aWF0aW9uID09PSAwKSB7XG4gICAgICB3YXJuaW5ncy5wdXNoKFxuICAgICAgICBgVXNlciAke2dldFVzZXJEaXNwbGF5TmFtZSh1c2VyUHJlZnNbMF0pfSBnYXZlIHRoZSBzYW1lIHJhdGluZyAoJHtzdGF0cy5tZWFufSkgdG8gYWxsIGRlc3RpbmF0aW9ucy5gXG4gICAgICApXG4gICAgfVxuICB9XG4gIFxuICAvLyBTdGVwIDM6IEFwcGx5IFotc2NvcmUgdHJhbnNmb3JtYXRpb25cbiAgY29uc3Qgc3RhbmRhcmRpemVkUHJlZmVyZW5jZXM6IFN0YW5kYXJkaXplZFByZWZlcmVuY2VbXSA9IFtdXG4gIFxuICBmb3IgKGNvbnN0IHByZWZlcmVuY2Ugb2YgcHJlZmVyZW5jZXMpIHtcbiAgICBjb25zdCB1c2VyS2V5ID0gZ2V0VXNlcktleShwcmVmZXJlbmNlKVxuICAgIGNvbnN0IHN0YXRzID0gdXNlclN0YXRpc3RpY3MuZ2V0KHVzZXJLZXkpXG4gICAgXG4gICAgaWYgKCFzdGF0cykge1xuICAgICAgY29uc29sZS53YXJuKGBObyBzdGF0aXN0aWNzIGZvdW5kIGZvciB1c2VyICR7dXNlcktleX1gKVxuICAgICAgY29udGludWVcbiAgICB9XG4gICAgXG4gICAgY29uc3Qgc3RhbmRhcmRpemVkU2NvcmUgPSBjYWxjdWxhdGVaU2NvcmUoXG4gICAgICBwcmVmZXJlbmNlLnByZWZlcmVuY2VTY29yZSxcbiAgICAgIHN0YXRzLm1lYW4sXG4gICAgICBzdGF0cy5zdGFuZGFyZERldmlhdGlvblxuICAgIClcbiAgICBcbiAgICBzdGFuZGFyZGl6ZWRQcmVmZXJlbmNlcy5wdXNoKHtcbiAgICAgIHVzZXJJZDogcHJlZmVyZW5jZS51c2VySWQsXG4gICAgICBzZXNzaW9uSWQ6IHByZWZlcmVuY2Uuc2Vzc2lvbklkLFxuICAgICAgZGVzdGluYXRpb25JZDogcHJlZmVyZW5jZS5kZXN0aW5hdGlvbklkLFxuICAgICAgb3JpZ2luYWxTY29yZTogcHJlZmVyZW5jZS5wcmVmZXJlbmNlU2NvcmUsXG4gICAgICBzdGFuZGFyZGl6ZWRTY29yZSxcbiAgICAgIHByZWZlcnJlZER1cmF0aW9uOiBwcmVmZXJlbmNlLnByZWZlcnJlZER1cmF0aW9uLFxuICAgICAgdXNlck5hbWU6IHByZWZlcmVuY2UudXNlckRpc3BsYXlOYW1lLFxuICAgICAgdXNlckNvbG9yOiBwcmVmZXJlbmNlLnVzZXJDb2xvclxuICAgIH0pXG4gIH1cbiAgXG4gIHJldHVybiB7XG4gICAgc3RhbmRhcmRpemVkUHJlZmVyZW5jZXMsXG4gICAgdXNlclN0YXRpc3RpY3MsXG4gICAgd2FybmluZ3NcbiAgfVxufVxuXG4vKipcbiAqIEdyb3VwIHByZWZlcmVuY2VzIGJ5IHVzZXIgKGhhbmRsaW5nIGJvdGggZ3Vlc3QgYW5kIGF1dGhlbnRpY2F0ZWQgdXNlcnMpXG4gKi9cbmZ1bmN0aW9uIGdyb3VwUHJlZmVyZW5jZXNCeVVzZXIoXG4gIHByZWZlcmVuY2VzOiBWYWxpZGF0ZWRQcmVmZXJlbmNlW11cbik6IE1hcDxzdHJpbmcsIFZhbGlkYXRlZFByZWZlcmVuY2VbXT4ge1xuICBjb25zdCB1c2VyUHJlZnNNYXAgPSBuZXcgTWFwPHN0cmluZywgVmFsaWRhdGVkUHJlZmVyZW5jZVtdPigpXG4gIFxuICBmb3IgKGNvbnN0IHByZWZlcmVuY2Ugb2YgcHJlZmVyZW5jZXMpIHtcbiAgICBjb25zdCB1c2VyS2V5ID0gZ2V0VXNlcktleShwcmVmZXJlbmNlKVxuICAgIGNvbnN0IHVzZXJQcmVmcyA9IHVzZXJQcmVmc01hcC5nZXQodXNlcktleSkgfHwgW11cbiAgICB1c2VyUHJlZnMucHVzaChwcmVmZXJlbmNlKVxuICAgIHVzZXJQcmVmc01hcC5zZXQodXNlcktleSwgdXNlclByZWZzKVxuICB9XG4gIFxuICByZXR1cm4gdXNlclByZWZzTWFwXG59XG5cbi8qKlxuICogR2V0IHVuaXF1ZSB1c2VyIGtleSBmb3IgZ3JvdXBpbmdcbiAqL1xuZnVuY3Rpb24gZ2V0VXNlcktleShwcmVmZXJlbmNlOiBWYWxpZGF0ZWRQcmVmZXJlbmNlKTogc3RyaW5nIHtcbiAgcmV0dXJuIHByZWZlcmVuY2UudXNlcklkIHx8IHByZWZlcmVuY2Uuc2Vzc2lvbklkIHx8ICd1bmtub3duJ1xufVxuXG4vKipcbiAqIEdldCB1c2VyIGRpc3BsYXkgbmFtZSBmb3Igd2FybmluZ3NcbiAqL1xuZnVuY3Rpb24gZ2V0VXNlckRpc3BsYXlOYW1lKHByZWZlcmVuY2U6IFZhbGlkYXRlZFByZWZlcmVuY2UpOiBzdHJpbmcge1xuICByZXR1cm4gcHJlZmVyZW5jZS51c2VyRGlzcGxheU5hbWUgfHwgJ1Vua25vd24gVXNlcidcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGUgc3RhdGlzdGljcyBmb3IgYSB1c2VyJ3MgcmF0aW5nc1xuICovXG5mdW5jdGlvbiBjYWxjdWxhdGVVc2VyU3RhdGlzdGljcyhcbiAgdXNlcktleTogc3RyaW5nLFxuICBwcmVmZXJlbmNlczogVmFsaWRhdGVkUHJlZmVyZW5jZVtdXG4pOiBVc2VyU3RhdGlzdGljcyB7XG4gIGNvbnN0IHJhdGluZ3MgPSBwcmVmZXJlbmNlcy5tYXAocCA9PiBwLnByZWZlcmVuY2VTY29yZSlcbiAgY29uc3QgbWVhbiA9IGNhbGN1bGF0ZU1lYW4ocmF0aW5ncylcbiAgY29uc3Qgc3RhbmRhcmREZXZpYXRpb24gPSBjYWxjdWxhdGVTdGFuZGFyZERldmlhdGlvbihyYXRpbmdzLCBtZWFuKVxuICBcbiAgcmV0dXJuIHtcbiAgICB1c2VySWQ6IHByZWZlcmVuY2VzWzBdLnVzZXJJZCxcbiAgICBzZXNzaW9uSWQ6IHByZWZlcmVuY2VzWzBdLnNlc3Npb25JZCxcbiAgICB1c2VyS2V5LFxuICAgIHJhdGluZ3MsXG4gICAgbWVhbixcbiAgICBzdGFuZGFyZERldmlhdGlvbjogc3RhbmRhcmREZXZpYXRpb24gPT09IDAgPyAxIDogc3RhbmRhcmREZXZpYXRpb24sIC8vIEF2b2lkIGRpdmlzaW9uIGJ5IHplcm9cbiAgICByYXRpbmdDb3VudDogcmF0aW5ncy5sZW5ndGhcbiAgfVxufVxuXG4vKipcbiAqIENhbGN1bGF0ZSBtZWFuIG9mIGFuIGFycmF5IG9mIG51bWJlcnNcbiAqL1xuZnVuY3Rpb24gY2FsY3VsYXRlTWVhbih2YWx1ZXM6IG51bWJlcltdKTogbnVtYmVyIHtcbiAgaWYgKHZhbHVlcy5sZW5ndGggPT09IDApIHJldHVybiAwXG4gIGNvbnN0IHN1bSA9IHZhbHVlcy5yZWR1Y2UoKGFjYywgdmFsKSA9PiBhY2MgKyB2YWwsIDApXG4gIHJldHVybiBzdW0gLyB2YWx1ZXMubGVuZ3RoXG59XG5cbi8qKlxuICogQ2FsY3VsYXRlIHN0YW5kYXJkIGRldmlhdGlvbiBvZiBhbiBhcnJheSBvZiBudW1iZXJzXG4gKi9cbmZ1bmN0aW9uIGNhbGN1bGF0ZVN0YW5kYXJkRGV2aWF0aW9uKHZhbHVlczogbnVtYmVyW10sIG1lYW46IG51bWJlcik6IG51bWJlciB7XG4gIGlmICh2YWx1ZXMubGVuZ3RoIDw9IDEpIHJldHVybiAwXG4gIFxuICBjb25zdCBzcXVhcmVkRGlmZnMgPSB2YWx1ZXMubWFwKHZhbCA9PiBNYXRoLnBvdyh2YWwgLSBtZWFuLCAyKSlcbiAgY29uc3QgYXZnU3F1YXJlZERpZmYgPSBjYWxjdWxhdGVNZWFuKHNxdWFyZWREaWZmcylcbiAgcmV0dXJuIE1hdGguc3FydChhdmdTcXVhcmVkRGlmZilcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGUgWi1zY29yZSBmb3IgYSB2YWx1ZVxuICovXG5mdW5jdGlvbiBjYWxjdWxhdGVaU2NvcmUoXG4gIHZhbHVlOiBudW1iZXIsXG4gIG1lYW46IG51bWJlcixcbiAgc3RhbmRhcmREZXZpYXRpb246IG51bWJlclxuKTogbnVtYmVyIHtcbiAgaWYgKHN0YW5kYXJkRGV2aWF0aW9uID09PSAwKSByZXR1cm4gMFxuICByZXR1cm4gKHZhbHVlIC0gbWVhbikgLyBzdGFuZGFyZERldmlhdGlvblxufVxuXG4vKipcbiAqIEFuYWx5emUgbm9ybWFsaXphdGlvbiByZXN1bHRzIGZvciBxdWFsaXR5IGFzc3VyYW5jZVxuICovXG5leHBvcnQgZnVuY3Rpb24gYW5hbHl6ZU5vcm1hbGl6YXRpb25RdWFsaXR5KFxuICByZXN1bHQ6IE5vcm1hbGl6YXRpb25SZXN1bHRcbik6IHtcbiAgaXNWYWxpZDogYm9vbGVhblxuICBpc3N1ZXM6IHN0cmluZ1tdXG4gIHN0YXRpc3RpY3M6IHtcbiAgICBtZWFuT2ZNZWFuczogbnVtYmVyXG4gICAgbWVhbk9mU3RkRGV2czogbnVtYmVyXG4gICAgdXNlcnNXaXRoU2luZ2xlUmF0aW5nOiBudW1iZXJcbiAgICB1c2Vyc1dpdGhJZGVudGljYWxSYXRpbmdzOiBudW1iZXJcbiAgfVxufSB7XG4gIGNvbnN0IGlzc3Vlczogc3RyaW5nW10gPSBbXVxuICBjb25zdCBzdGF0c0FycmF5ID0gQXJyYXkuZnJvbShyZXN1bHQudXNlclN0YXRpc3RpY3MudmFsdWVzKCkpXG4gIFxuICAvLyBDYWxjdWxhdGUgb3ZlcmFsbCBzdGF0aXN0aWNzXG4gIGNvbnN0IG1lYW5zID0gc3RhdHNBcnJheS5tYXAocyA9PiBzLm1lYW4pXG4gIGNvbnN0IHN0ZERldnMgPSBzdGF0c0FycmF5Lm1hcChzID0+IHMuc3RhbmRhcmREZXZpYXRpb24pXG4gIFxuICBjb25zdCBtZWFuT2ZNZWFucyA9IGNhbGN1bGF0ZU1lYW4obWVhbnMpXG4gIGNvbnN0IG1lYW5PZlN0ZERldnMgPSBjYWxjdWxhdGVNZWFuKHN0ZERldnMpXG4gIFxuICAvLyBDaGVjayBmb3IgaXNzdWVzXG4gIGNvbnN0IHVzZXJzV2l0aFNpbmdsZVJhdGluZyA9IHN0YXRzQXJyYXkuZmlsdGVyKHMgPT4gcy5yYXRpbmdDb3VudCA9PT0gMSkubGVuZ3RoXG4gIGNvbnN0IHVzZXJzV2l0aElkZW50aWNhbFJhdGluZ3MgPSBzdGF0c0FycmF5LmZpbHRlcihzID0+IHMuc3RhbmRhcmREZXZpYXRpb24gPT09IDApLmxlbmd0aFxuICBcbiAgaWYgKHVzZXJzV2l0aFNpbmdsZVJhdGluZyA+IDApIHtcbiAgICBpc3N1ZXMucHVzaChgJHt1c2Vyc1dpdGhTaW5nbGVSYXRpbmd9IHVzZXJzIGhhdmUgb25seSBvbmUgcmF0aW5nYClcbiAgfVxuICBcbiAgaWYgKHVzZXJzV2l0aElkZW50aWNhbFJhdGluZ3MgPiAwKSB7XG4gICAgaXNzdWVzLnB1c2goYCR7dXNlcnNXaXRoSWRlbnRpY2FsUmF0aW5nc30gdXNlcnMgZ2F2ZSBpZGVudGljYWwgcmF0aW5ncyB0byBhbGwgZGVzdGluYXRpb25zYClcbiAgfVxuICBcbiAgLy8gQ2hlY2sgaWYgbm9ybWFsaXphdGlvbiBwcm9kdWNlZCByZWFzb25hYmxlIHJlc3VsdHNcbiAgY29uc3Qgbm9ybWFsaXplZFNjb3JlcyA9IHJlc3VsdC5zdGFuZGFyZGl6ZWRQcmVmZXJlbmNlcy5tYXAocCA9PiBwLnN0YW5kYXJkaXplZFNjb3JlKVxuICBjb25zdCBub3JtYWxpemVkTWVhbiA9IGNhbGN1bGF0ZU1lYW4obm9ybWFsaXplZFNjb3JlcylcbiAgY29uc3Qgbm9ybWFsaXplZFN0ZERldiA9IGNhbGN1bGF0ZVN0YW5kYXJkRGV2aWF0aW9uKG5vcm1hbGl6ZWRTY29yZXMsIG5vcm1hbGl6ZWRNZWFuKVxuICBcbiAgLy8gTm9ybWFsaXplZCBzY29yZXMgc2hvdWxkIGhhdmUgbWVhbiDiiYggMCBhbmQgc3RkRGV2IOKJiCAxXG4gIGlmIChNYXRoLmFicyhub3JtYWxpemVkTWVhbikgPiAwLjEpIHtcbiAgICBpc3N1ZXMucHVzaChgTm9ybWFsaXplZCBzY29yZXMgaGF2ZSBub24temVybyBtZWFuOiAke25vcm1hbGl6ZWRNZWFuLnRvRml4ZWQoMyl9YClcbiAgfVxuICBcbiAgaWYgKE1hdGguYWJzKG5vcm1hbGl6ZWRTdGREZXYgLSAxKSA+IDAuMikge1xuICAgIGlzc3Vlcy5wdXNoKGBOb3JtYWxpemVkIHNjb3JlcyBoYXZlIG5vbi11bml0IHN0YW5kYXJkIGRldmlhdGlvbjogJHtub3JtYWxpemVkU3RkRGV2LnRvRml4ZWQoMyl9YClcbiAgfVxuICBcbiAgcmV0dXJuIHtcbiAgICBpc1ZhbGlkOiBpc3N1ZXMubGVuZ3RoID09PSAwLFxuICAgIGlzc3VlcyxcbiAgICBzdGF0aXN0aWNzOiB7XG4gICAgICBtZWFuT2ZNZWFucyxcbiAgICAgIG1lYW5PZlN0ZERldnMsXG4gICAgICB1c2Vyc1dpdGhTaW5nbGVSYXRpbmcsXG4gICAgICB1c2Vyc1dpdGhJZGVudGljYWxSYXRpbmdzXG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQ29udmVydCBzdGFuZGFyZGl6ZWQgc2NvcmVzIGJhY2sgdG8gaW50ZXJwcmV0YWJsZSBmb3JtYXRcbiAqIFVzZWZ1bCBmb3IgZGlzcGxheWluZyByZXN1bHRzIHRvIHVzZXJzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnByZXRTdGFuZGFyZGl6ZWRTY29yZShzY29yZTogbnVtYmVyKToge1xuICBsZXZlbDogJ3ZlcnlfbG93JyB8ICdsb3cnIHwgJ25ldXRyYWwnIHwgJ2hpZ2gnIHwgJ3ZlcnlfaGlnaCdcbiAgZGVzY3JpcHRpb246IHN0cmluZ1xuICBwZXJjZW50aWxlOiBudW1iZXJcbn0ge1xuICAvLyBCYXNlZCBvbiBzdGFuZGFyZCBub3JtYWwgZGlzdHJpYnV0aW9uXG4gIGlmIChzY29yZSA8IC0xLjUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGV2ZWw6ICd2ZXJ5X2xvdycsXG4gICAgICBkZXNjcmlwdGlvbjogJ011Y2ggbG93ZXIgdGhhbiB1c2VyXFwncyBhdmVyYWdlIHByZWZlcmVuY2UnLFxuICAgICAgcGVyY2VudGlsZTogNyAvLyBCZWxvdyB+N3RoIHBlcmNlbnRpbGVcbiAgICB9XG4gIH0gZWxzZSBpZiAoc2NvcmUgPCAtMC41KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxldmVsOiAnbG93JyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnQmVsb3cgdXNlclxcJ3MgYXZlcmFnZSBwcmVmZXJlbmNlJyxcbiAgICAgIHBlcmNlbnRpbGU6IDMxIC8vIH4zMXN0IHBlcmNlbnRpbGVcbiAgICB9XG4gIH0gZWxzZSBpZiAoc2NvcmUgPCAwLjUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGV2ZWw6ICduZXV0cmFsJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnTmVhciB1c2VyXFwncyBhdmVyYWdlIHByZWZlcmVuY2UnLFxuICAgICAgcGVyY2VudGlsZTogNTAgLy8gfjUwdGggcGVyY2VudGlsZVxuICAgIH1cbiAgfSBlbHNlIGlmIChzY29yZSA8IDEuNSkge1xuICAgIHJldHVybiB7XG4gICAgICBsZXZlbDogJ2hpZ2gnLFxuICAgICAgZGVzY3JpcHRpb246ICdBYm92ZSB1c2VyXFwncyBhdmVyYWdlIHByZWZlcmVuY2UnLFxuICAgICAgcGVyY2VudGlsZTogNjkgLy8gfjY5dGggcGVyY2VudGlsZVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGV2ZWw6ICd2ZXJ5X2hpZ2gnLFxuICAgICAgZGVzY3JpcHRpb246ICdNdWNoIGhpZ2hlciB0aGFuIHVzZXJcXCdzIGF2ZXJhZ2UgcHJlZmVyZW5jZScsXG4gICAgICBwZXJjZW50aWxlOiA5MyAvLyBBYm92ZSB+OTNyZCBwZXJjZW50aWxlXG4gICAgfVxuICB9XG59Il0sIm5hbWVzIjpbIm5vcm1hbGl6ZVByZWZlcmVuY2VzIiwicHJlZmVyZW5jZXMiLCJ3YXJuaW5ncyIsInVzZXJQcmVmZXJlbmNlc01hcCIsImdyb3VwUHJlZmVyZW5jZXNCeVVzZXIiLCJ1c2VyU3RhdGlzdGljcyIsIk1hcCIsInVzZXJLZXkiLCJ1c2VyUHJlZnMiLCJBcnJheSIsImZyb20iLCJlbnRyaWVzIiwic3RhdHMiLCJjYWxjdWxhdGVVc2VyU3RhdGlzdGljcyIsInNldCIsInJhdGluZ0NvdW50IiwicHVzaCIsImdldFVzZXJEaXNwbGF5TmFtZSIsInN0YW5kYXJkRGV2aWF0aW9uIiwibWVhbiIsInN0YW5kYXJkaXplZFByZWZlcmVuY2VzIiwicHJlZmVyZW5jZSIsImdldFVzZXJLZXkiLCJnZXQiLCJjb25zb2xlIiwid2FybiIsInN0YW5kYXJkaXplZFNjb3JlIiwiY2FsY3VsYXRlWlNjb3JlIiwicHJlZmVyZW5jZVNjb3JlIiwidXNlcklkIiwic2Vzc2lvbklkIiwiZGVzdGluYXRpb25JZCIsIm9yaWdpbmFsU2NvcmUiLCJwcmVmZXJyZWREdXJhdGlvbiIsInVzZXJOYW1lIiwidXNlckRpc3BsYXlOYW1lIiwidXNlckNvbG9yIiwidXNlclByZWZzTWFwIiwicmF0aW5ncyIsIm1hcCIsInAiLCJjYWxjdWxhdGVNZWFuIiwiY2FsY3VsYXRlU3RhbmRhcmREZXZpYXRpb24iLCJsZW5ndGgiLCJ2YWx1ZXMiLCJzdW0iLCJyZWR1Y2UiLCJhY2MiLCJ2YWwiLCJzcXVhcmVkRGlmZnMiLCJNYXRoIiwicG93IiwiYXZnU3F1YXJlZERpZmYiLCJzcXJ0IiwidmFsdWUiLCJhbmFseXplTm9ybWFsaXphdGlvblF1YWxpdHkiLCJyZXN1bHQiLCJpc3N1ZXMiLCJzdGF0c0FycmF5IiwibWVhbnMiLCJzIiwic3RkRGV2cyIsIm1lYW5PZk1lYW5zIiwibWVhbk9mU3RkRGV2cyIsInVzZXJzV2l0aFNpbmdsZVJhdGluZyIsImZpbHRlciIsInVzZXJzV2l0aElkZW50aWNhbFJhdGluZ3MiLCJub3JtYWxpemVkU2NvcmVzIiwibm9ybWFsaXplZE1lYW4iLCJub3JtYWxpemVkU3RkRGV2IiwiYWJzIiwidG9GaXhlZCIsImlzVmFsaWQiLCJzdGF0aXN0aWNzIiwiaW50ZXJwcmV0U3RhbmRhcmRpemVkU2NvcmUiLCJzY29yZSIsImxldmVsIiwiZGVzY3JpcHRpb24iLCJwZXJjZW50aWxlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./lib/optimization/z-score-normalization.ts\n");

/***/ }),

/***/ "(action-browser)/./lib/services/integrated-route-manager.ts":
/*!**************************************************!*\
  !*** ./lib/services/integrated-route-manager.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IntegratedRouteManager: () => (/* binding */ IntegratedRouteManager),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _route_storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./route-storage */ \"(action-browser)/./lib/services/route-storage.ts\");\n/* harmony import */ var _real_time_sync__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./real-time-sync */ \"(action-browser)/./lib/services/real-time-sync.ts\");\n/* harmony import */ var _route_cache__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./route-cache */ \"(action-browser)/./lib/services/route-cache.ts\");\n// Integrated route management service combining all database integration features\n\n\n\n/**\n * Integrated route management service\n * Combines storage, caching, real-time sync, and conflict resolution\n */ class IntegratedRouteManager {\n    constructor(options){\n        this.subscriptions = new Map();\n        this.options = options;\n        if (options.enableRealtime !== false) {\n            this.setupRealtimeSync();\n        }\n    }\n    /**\n   * Setup real-time synchronization\n   */ async setupRealtimeSync() {\n        try {\n            const realtimeOptions = {\n                groupId: this.options.groupId,\n                userId: this.options.userId,\n                sessionId: this.options.sessionId,\n                onRouteUpdate: (route)=>{\n                    // Update cache when route is updated via real-time\n                    if (this.options.enableCaching !== false) {\n                        _route_cache__WEBPACK_IMPORTED_MODULE_2__.routeDataCache.setRoute(this.options.groupId, route.route_data, route.version);\n                    }\n                    this.options.onRouteUpdate?.(route);\n                },\n                onRouteDeleted: (groupId)=>{\n                    // Clear cache when route is deleted\n                    if (this.options.enableCaching !== false) {\n                        _route_cache__WEBPACK_IMPORTED_MODULE_2__.routeDataCache.invalidateCache(groupId);\n                    }\n                },\n                onConflict: this.options.onConflict,\n                onError: this.options.onError\n            };\n            const subscription = await _real_time_sync__WEBPACK_IMPORTED_MODULE_1__.realtimeSyncService.subscribeToRouteUpdates(realtimeOptions);\n            this.subscriptions.set(this.options.groupId, subscription);\n        } catch (error) {\n            console.error(\"Failed to setup real-time sync:\", error);\n            this.options.onError?.(error);\n        }\n    }\n    /**\n   * Get route with caching and fallback strategies\n   */ async getRoute() {\n        try {\n            const fetchFromDb = async ()=>{\n                return await _route_storage__WEBPACK_IMPORTED_MODULE_0__.routeStorageService.getRoute(this.options.groupId);\n            };\n            let route = null;\n            let cached = false;\n            let dbRoute = null;\n            if (this.options.enableCaching !== false) {\n                route = await _route_cache__WEBPACK_IMPORTED_MODULE_2__.routeDataCache.getRoute(this.options.groupId, fetchFromDb);\n                cached = route !== null;\n                if (!route) {\n                    dbRoute = await fetchFromDb();\n                    route = dbRoute?.route_data || null;\n                }\n            } else {\n                dbRoute = await fetchFromDb();\n                route = dbRoute?.route_data || null;\n            }\n            if (!route || !dbRoute) {\n                return {\n                    success: false,\n                    error: new Error(\"Route not found\"),\n                    cached: false,\n                    version: 0\n                };\n            }\n            return {\n                success: true,\n                route: dbRoute,\n                cached,\n                version: dbRoute.version\n            };\n        } catch (error) {\n            return {\n                success: false,\n                error: error,\n                cached: false,\n                version: 0\n            };\n        }\n    }\n    /**\n   * Save optimization result with full integration\n   */ async saveOptimizationResult(routeData, metrics) {\n        try {\n            // Use batch operation for better performance\n            const route = await _route_cache__WEBPACK_IMPORTED_MODULE_2__.batchOperationManager.addToBatch(`save-${this.options.groupId}`, async ()=>{\n                return await _route_storage__WEBPACK_IMPORTED_MODULE_0__.routeStorageService.saveOptimizationResult(this.options.groupId, routeData, metrics, this.options.userId, this.options.sessionId);\n            });\n            // Update cache\n            if (this.options.enableCaching !== false) {\n                _route_cache__WEBPACK_IMPORTED_MODULE_2__.routeDataCache.setRoute(this.options.groupId, routeData, route.version);\n            }\n            // Broadcast update\n            if (this.options.enableRealtime !== false) {\n                await _real_time_sync__WEBPACK_IMPORTED_MODULE_1__.realtimeSyncService.broadcastRouteUpdate(this.options.groupId, route, {\n                    userId: this.options.userId,\n                    sessionId: this.options.sessionId,\n                    changeType: \"optimization\"\n                });\n            }\n            return {\n                success: true,\n                route,\n                cached: false,\n                version: route.version\n            };\n        } catch (error) {\n            return {\n                success: false,\n                error: error,\n                cached: false,\n                version: 0\n            };\n        }\n    }\n    /**\n   * Update route with conflict detection and resolution\n   */ async updateRoute(updates, currentVersion, changeType = \"manual_edit\") {\n        try {\n            const route = await _route_storage__WEBPACK_IMPORTED_MODULE_0__.routeStorageService.updateRoute(this.options.groupId, updates, currentVersion, this.options.userId, this.options.sessionId);\n            // Update cache\n            if (this.options.enableCaching !== false) {\n                _route_cache__WEBPACK_IMPORTED_MODULE_2__.routeDataCache.setRoute(this.options.groupId, route.route_data, route.version);\n            }\n            // Broadcast update\n            if (this.options.enableRealtime !== false) {\n                await _real_time_sync__WEBPACK_IMPORTED_MODULE_1__.realtimeSyncService.broadcastRouteUpdate(this.options.groupId, route, {\n                    userId: this.options.userId,\n                    sessionId: this.options.sessionId,\n                    changeType,\n                    changedFields: Object.keys(updates)\n                });\n            }\n            return {\n                success: true,\n                route,\n                cached: false,\n                version: route.version\n            };\n        } catch (error) {\n            if (error instanceof Error && error.name === \"ConflictResolutionRequiredError\") {\n                const conflict = error.conflict;\n                // Broadcast conflict to other clients\n                if (this.options.enableRealtime !== false) {\n                    await _real_time_sync__WEBPACK_IMPORTED_MODULE_1__.realtimeSyncService.broadcastConflict(this.options.groupId, conflict);\n                }\n                return {\n                    success: false,\n                    conflict,\n                    cached: false,\n                    version: conflict.server_version\n                };\n            }\n            return {\n                success: false,\n                error: error,\n                cached: false,\n                version: 0\n            };\n        }\n    }\n    /**\n   * Resolve conflict and update route\n   */ async resolveConflict(conflict, resolution, mergedData) {\n        try {\n            let finalData;\n            switch(resolution){\n                case \"server_wins\":\n                    // No update needed, just return current server version\n                    const currentRoute = await this.getRoute();\n                    return currentRoute;\n                case \"client_wins\":\n                    finalData = conflict.local_changes;\n                    break;\n                case \"merge\":\n                    if (!mergedData) {\n                        throw new Error(\"Merged data required for merge resolution\");\n                    }\n                    finalData = mergedData;\n                    break;\n                default:\n                    throw new Error(\"Invalid resolution strategy\");\n            }\n            // Force update with resolved data\n            const route = await _route_storage__WEBPACK_IMPORTED_MODULE_0__.routeStorageService.updateRoute(this.options.groupId, finalData, conflict.server_version, this.options.userId, this.options.sessionId);\n            // Update cache\n            if (this.options.enableCaching !== false) {\n                _route_cache__WEBPACK_IMPORTED_MODULE_2__.routeDataCache.setRoute(this.options.groupId, route.route_data, route.version);\n            }\n            // Broadcast resolution\n            if (this.options.enableRealtime !== false) {\n                await _real_time_sync__WEBPACK_IMPORTED_MODULE_1__.realtimeSyncService.broadcastRouteUpdate(this.options.groupId, route, {\n                    userId: this.options.userId,\n                    sessionId: this.options.sessionId,\n                    changeType: \"conflict_resolution\"\n                });\n            }\n            return {\n                success: true,\n                route,\n                cached: false,\n                version: route.version\n            };\n        } catch (error) {\n            return {\n                success: false,\n                error: error,\n                cached: false,\n                version: 0\n            };\n        }\n    }\n    /**\n   * Get route versions for history/rollback\n   */ async getRouteVersions(limit = 10) {\n        try {\n            return await _route_storage__WEBPACK_IMPORTED_MODULE_0__.routeStorageService.getRouteVersions(this.options.groupId, limit);\n        } catch (error) {\n            this.options.onError?.(error);\n            throw error;\n        }\n    }\n    /**\n   * Get route change history\n   */ async getChangeHistory(limit = 50) {\n        try {\n            return await _route_storage__WEBPACK_IMPORTED_MODULE_0__.routeStorageService.getRouteChangeHistory(this.options.groupId, limit);\n        } catch (error) {\n            this.options.onError?.(error);\n            throw error;\n        }\n    }\n    /**\n   * Get active users for collaboration features\n   */ getActiveUsers() {\n        return _real_time_sync__WEBPACK_IMPORTED_MODULE_1__.realtimeSyncService.getActiveUsers(this.options.groupId);\n    }\n    /**\n   * Update user's editing status\n   */ async updateEditingStatus(editingInfo) {\n        if (this.options.enableRealtime !== false) {\n            await _real_time_sync__WEBPACK_IMPORTED_MODULE_1__.realtimeSyncService.updateEditingStatus(this.options.groupId, this.options.userId || null, this.options.sessionId || null, editingInfo);\n        }\n    }\n    /**\n   * Validate route data before operations\n   */ validateRouteData(routeData) {\n        return (0,_route_storage__WEBPACK_IMPORTED_MODULE_0__.validateRouteData)(routeData);\n    }\n    /**\n   * Clear cache for this group\n   */ clearCache() {\n        if (this.options.enableCaching !== false) {\n            _route_cache__WEBPACK_IMPORTED_MODULE_2__.routeDataCache.invalidateCache(this.options.groupId);\n        }\n    }\n    /**\n   * Get cache statistics\n   */ getCacheStats() {\n        return _route_cache__WEBPACK_IMPORTED_MODULE_2__.routeDataCache.getStats();\n    }\n    /**\n   * Get connection status for real-time features\n   */ getConnectionStatus() {\n        return {\n            isConnected: _real_time_sync__WEBPACK_IMPORTED_MODULE_1__.realtimeSyncService.isConnected(),\n            connectionState: _real_time_sync__WEBPACK_IMPORTED_MODULE_1__.realtimeSyncService.getConnectionState()\n        };\n    }\n    /**\n   * Force reconnection for real-time features\n   */ async reconnect() {\n        if (this.options.enableRealtime !== false) {\n            await _real_time_sync__WEBPACK_IMPORTED_MODULE_1__.realtimeSyncService.reconnect();\n            await this.setupRealtimeSync();\n        }\n    }\n    /**\n   * Cleanup and dispose of resources\n   */ async dispose() {\n        try {\n            // Unsubscribe from real-time updates\n            if (this.options.enableRealtime !== false) {\n                await _real_time_sync__WEBPACK_IMPORTED_MODULE_1__.realtimeSyncService.unsubscribe(this.options.groupId);\n            }\n            // Clear subscriptions\n            this.subscriptions.clear();\n            // Flush any pending batch operations\n            await _route_cache__WEBPACK_IMPORTED_MODULE_2__.batchOperationManager.flushAll();\n        } catch (error) {\n            console.error(\"Error disposing route manager:\", error);\n        }\n    }\n    /**\n   * Static factory method to create manager with default options\n   */ static create(groupId, userId, sessionId, options) {\n        return new IntegratedRouteManager({\n            groupId,\n            userId,\n            sessionId,\n            enableRealtime: true,\n            enableCaching: true,\n            ...options\n        });\n    }\n    /**\n   * Batch operations for multiple route updates\n   */ static async batchUpdateRoutes(updates) {\n        const results = await Promise.allSettled(updates.map(async (update)=>{\n            const manager = IntegratedRouteManager.create(update.groupId, update.userId, update.sessionId, {\n                enableRealtime: false\n            } // Disable real-time for batch operations\n            );\n            try {\n                const result = await manager.saveOptimizationResult(update.routeData, update.metrics);\n                await manager.dispose();\n                return result;\n            } catch (error) {\n                await manager.dispose();\n                return {\n                    success: false,\n                    error: error,\n                    cached: false,\n                    version: 0\n                };\n            }\n        }));\n        return results.map((result)=>result.status === \"fulfilled\" ? result.value : {\n                success: false,\n                error: new Error(\"Batch operation failed\"),\n                cached: false,\n                version: 0\n            });\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (IntegratedRouteManager);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL2xpYi9zZXJ2aWNlcy9pbnRlZ3JhdGVkLXJvdXRlLW1hbmFnZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSxrRkFBa0Y7QUFFVjtBQUNsQjtBQUNlO0FBK0JyRTs7O0NBR0MsR0FDTSxNQUFNSztJQUlYQyxZQUFZQyxPQUE0QixDQUFFO2FBSGxDQyxnQkFBZ0IsSUFBSUM7UUFJMUIsSUFBSSxDQUFDRixPQUFPLEdBQUdBO1FBRWYsSUFBSUEsUUFBUUcsY0FBYyxLQUFLLE9BQU87WUFDcEMsSUFBSSxDQUFDQyxpQkFBaUI7UUFDeEI7SUFDRjtJQUVBOztHQUVDLEdBQ0QsTUFBY0Esb0JBQW9CO1FBQ2hDLElBQUk7WUFDRixNQUFNQyxrQkFBK0M7Z0JBQ25EQyxTQUFTLElBQUksQ0FBQ04sT0FBTyxDQUFDTSxPQUFPO2dCQUM3QkMsUUFBUSxJQUFJLENBQUNQLE9BQU8sQ0FBQ08sTUFBTTtnQkFDM0JDLFdBQVcsSUFBSSxDQUFDUixPQUFPLENBQUNRLFNBQVM7Z0JBQ2pDQyxlQUFlLENBQUNDO29CQUNkLG1EQUFtRDtvQkFDbkQsSUFBSSxJQUFJLENBQUNWLE9BQU8sQ0FBQ1csYUFBYSxLQUFLLE9BQU87d0JBQ3hDZix3REFBY0EsQ0FBQ2dCLFFBQVEsQ0FBQyxJQUFJLENBQUNaLE9BQU8sQ0FBQ00sT0FBTyxFQUFFSSxNQUFNRyxVQUFVLEVBQUVILE1BQU1JLE9BQU87b0JBQy9FO29CQUNBLElBQUksQ0FBQ2QsT0FBTyxDQUFDUyxhQUFhLEdBQUdDO2dCQUMvQjtnQkFDQUssZ0JBQWdCLENBQUNUO29CQUNmLG9DQUFvQztvQkFDcEMsSUFBSSxJQUFJLENBQUNOLE9BQU8sQ0FBQ1csYUFBYSxLQUFLLE9BQU87d0JBQ3hDZix3REFBY0EsQ0FBQ29CLGVBQWUsQ0FBQ1Y7b0JBQ2pDO2dCQUNGO2dCQUNBVyxZQUFZLElBQUksQ0FBQ2pCLE9BQU8sQ0FBQ2lCLFVBQVU7Z0JBQ25DQyxTQUFTLElBQUksQ0FBQ2xCLE9BQU8sQ0FB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TUFBTThDLFFBQVFYLE9BQU87Z0JBQ3JCLE9BQU9ZO1lBQ1QsRUFBRSxPQUFPekQsT0FBTztnQkFDZCxNQUFNd0QsUUFBUVgsT0FBTztnQkFDckIsT0FBTztvQkFDTHZDLFNBQVM7b0JBQ1ROLE9BQU9BO29CQUNQSSxRQUFRO29CQUNSWixTQUFTO2dCQUNYO1lBQ0Y7UUFDRjtRQUdGLE9BQU8yRCxRQUFRRyxHQUFHLENBQUNHLENBQUFBLFNBQ2pCQSxPQUFPQyxNQUFNLEtBQUssY0FBY0QsT0FBT0UsS0FBSyxHQUFHO2dCQUM3Q3JELFNBQVM7Z0JBQ1ROLE9BQU8sSUFBSU8sTUFBTTtnQkFDakJILFFBQVE7Z0JBQ1JaLFNBQVM7WUFDWDtJQUVKO0FBQ0Y7QUFFQSxpRUFBZWhCLHNCQUFzQkEsRUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy8uL2xpYi9zZXJ2aWNlcy9pbnRlZ3JhdGVkLXJvdXRlLW1hbmFnZXIudHM/MGY4OSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbnRlZ3JhdGVkIHJvdXRlIG1hbmFnZW1lbnQgc2VydmljZSBjb21iaW5pbmcgYWxsIGRhdGFiYXNlIGludGVncmF0aW9uIGZlYXR1cmVzXG5cbmltcG9ydCB7IHJvdXRlU3RvcmFnZVNlcnZpY2UsIHZhbGlkYXRlUm91dGVEYXRhIH0gZnJvbSAnLi9yb3V0ZS1zdG9yYWdlJ1xuaW1wb3J0IHsgcmVhbHRpbWVTeW5jU2VydmljZSB9IGZyb20gJy4vcmVhbC10aW1lLXN5bmMnXG5pbXBvcnQgeyByb3V0ZURhdGFDYWNoZSwgYmF0Y2hPcGVyYXRpb25NYW5hZ2VyIH0gZnJvbSAnLi9yb3V0ZS1jYWNoZSdcbmltcG9ydCB0eXBlIHtcbiAgU3RvcmVkUm91dGVEYXRhLFxuICBPcHRpbWl6ZWRSb3V0ZSxcbiAgT3B0aW1pemF0aW9uTWV0cmljcyxcbiAgUm91dGVVcGRhdGVDb25mbGljdCxcbiAgUm91dGVDaGFuZ2VMb2csXG4gIFZhbGlkYXRpb25SZXN1bHRcbn0gZnJvbSAnQC9saWIvdHlwZXMvcm91dGUtc3RvcmFnZSdcbmltcG9ydCB0eXBlIHsgUmVhbHRpbWVTdWJzY3JpcHRpb25PcHRpb25zLCBBY3RpdmVVc2VyIH0gZnJvbSAnLi9yZWFsLXRpbWUtc3luYydcblxuZXhwb3J0IGludGVyZmFjZSBSb3V0ZU1hbmFnZXJPcHRpb25zIHtcbiAgZ3JvdXBJZDogc3RyaW5nXG4gIHVzZXJJZD86IHN0cmluZyB8IG51bGxcbiAgc2Vzc2lvbklkPzogc3RyaW5nIHwgbnVsbFxuICBlbmFibGVSZWFsdGltZT86IGJvb2xlYW5cbiAgZW5hYmxlQ2FjaGluZz86IGJvb2xlYW5cbiAgb25Sb3V0ZVVwZGF0ZT86IChyb3V0ZTogT3B0aW1pemVkUm91dGUpID0+IHZvaWRcbiAgb25Db25mbGljdD86IChjb25mbGljdDogUm91dGVVcGRhdGVDb25mbGljdCkgPT4gdm9pZFxuICBvbkVycm9yPzogKGVycm9yOiBFcnJvcikgPT4gdm9pZFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJvdXRlVXBkYXRlUmVzdWx0IHtcbiAgc3VjY2VzczogYm9vbGVhblxuICByb3V0ZT86IE9wdGltaXplZFJvdXRlXG4gIGNvbmZsaWN0PzogUm91dGVVcGRhdGVDb25mbGljdFxuICBlcnJvcj86IEVycm9yXG4gIGNhY2hlZDogYm9vbGVhblxuICB2ZXJzaW9uOiBudW1iZXJcbn1cblxuLyoqXG4gKiBJbnRlZ3JhdGVkIHJvdXRlIG1hbmFnZW1lbnQgc2VydmljZVxuICogQ29tYmluZXMgc3RvcmFnZSwgY2FjaGluZywgcmVhbC10aW1lIHN5bmMsIGFuZCBjb25mbGljdCByZXNvbHV0aW9uXG4gKi9cbmV4cG9ydCBjbGFzcyBJbnRlZ3JhdGVkUm91dGVNYW5hZ2VyIHtcbiAgcHJpdmF0ZSBzdWJzY3JpcHRpb25zID0gbmV3IE1hcDxzdHJpbmcsIGFueT4oKVxuICBwcml2YXRlIG9wdGlvbnM6IFJvdXRlTWFuYWdlck9wdGlvbnNcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiBSb3V0ZU1hbmFnZXJPcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9uc1xuICAgIFxuICAgIGlmIChvcHRpb25zLmVuYWJsZVJlYWx0aW1lICE9PSBmYWxzZSkge1xuICAgICAgdGhpcy5zZXR1cFJlYWx0aW1lU3luYygpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHVwIHJlYWwtdGltZSBzeW5jaHJvbml6YXRpb25cbiAgICovXG4gIHByaXZhdGUgYXN5bmMgc2V0dXBSZWFsdGltZVN5bmMoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlYWx0aW1lT3B0aW9uczogUmVhbHRpbWVTdWJzY3JpcHRpb25PcHRpb25zID0ge1xuICAgICAgICBncm91cElkOiB0aGlzLm9wdGlvbnMuZ3JvdXBJZCxcbiAgICAgICAgdXNlcklkOiB0aGlzLm9wdGlvbnMudXNlcklkLFxuICAgICAgICBzZXNzaW9uSWQ6IHRoaXMub3B0aW9ucy5zZXNzaW9uSWQsXG4gICAgICAgIG9uUm91dGVVcGRhdGU6IChyb3V0ZSkgPT4ge1xuICAgICAgICAgIC8vIFVwZGF0ZSBjYWNoZSB3aGVuIHJvdXRlIGlzIHVwZGF0ZWQgdmlhIHJlYWwtdGltZVxuICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZW5hYmxlQ2FjaGluZyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJvdXRlRGF0YUNhY2hlLnNldFJvdXRlKHRoaXMub3B0aW9ucy5ncm91cElkLCByb3V0ZS5yb3V0ZV9kYXRhLCByb3V0ZS52ZXJzaW9uKVxuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLm9wdGlvbnMub25Sb3V0ZVVwZGF0ZT8uKHJvdXRlKVxuICAgICAgICB9LFxuICAgICAgICBvblJvdXRlRGVsZXRlZDogKGdyb3VwSWQpID0+IHtcbiAgICAgICAgICAvLyBDbGVhciBjYWNoZSB3aGVuIHJvdXRlIGlzIGRlbGV0ZWRcbiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmVuYWJsZUNhY2hpbmcgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICByb3V0ZURhdGFDYWNoZS5pbnZhbGlkYXRlQ2FjaGUoZ3JvdXBJZClcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uQ29uZmxpY3Q6IHRoaXMub3B0aW9ucy5vbkNvbmZsaWN0LFxuICAgICAgICBvbkVycm9yOiB0aGlzLm9wdGlvbnMub25FcnJvclxuICAgICAgfVxuXG4gICAgICBjb25zdCBzdWJzY3JpcHRpb24gPSBhd2FpdCByZWFsdGltZVN5bmNTZXJ2aWNlLnN1YnNjcmliZVRvUm91dGVVcGRhdGVzKHJlYWx0aW1lT3B0aW9ucylcbiAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5zZXQodGhpcy5vcHRpb25zLmdyb3VwSWQsIHN1YnNjcmlwdGlvbilcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHNldHVwIHJlYWwtdGltZSBzeW5jOicsIGVycm9yKVxuICAgICAgdGhpcy5vcHRpb25zLm9uRXJyb3I/LihlcnJvciBhcyBFcnJvcilcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHJvdXRlIHdpdGggY2FjaGluZyBhbmQgZmFsbGJhY2sgc3RyYXRlZ2llc1xuICAgKi9cbiAgYXN5bmMgZ2V0Um91dGUoKTogUHJvbWlzZTxSb3V0ZVVwZGF0ZVJlc3VsdD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBmZXRjaEZyb21EYiA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHJvdXRlU3RvcmFnZVNlcnZpY2UuZ2V0Um91dGUodGhpcy5vcHRpb25zLmdyb3VwSWQpXG4gICAgICB9XG5cbiAgICAgIGxldCByb3V0ZTogU3RvcmVkUm91dGVEYXRhIHwgbnVsbCA9IG51bGxcbiAgICAgIGxldCBjYWNoZWQgPSBmYWxzZVxuICAgICAgbGV0IGRiUm91dGU6IE9wdGltaXplZFJvdXRlIHwgbnVsbCA9IG51bGxcblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5lbmFibGVDYWNoaW5nICE9PSBmYWxzZSkge1xuICAgICAgICByb3V0ZSA9IGF3YWl0IHJvdXRlRGF0YUNhY2hlLmdldFJvdXRlKHRoaXMub3B0aW9ucy5ncm91cElkLCBmZXRjaEZyb21EYilcbiAgICAgICAgY2FjaGVkID0gcm91dGUgIT09IG51bGxcbiAgICAgICAgXG4gICAgICAgIGlmICghcm91dGUpIHtcbiAgICAgICAgICBkYlJvdXRlID0gYXdhaXQgZmV0Y2hGcm9tRGIoKVxuICAgICAgICAgIHJvdXRlID0gZGJSb3V0ZT8ucm91dGVfZGF0YSB8fCBudWxsXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRiUm91dGUgPSBhd2FpdCBmZXRjaEZyb21EYigpXG4gICAgICAgIHJvdXRlID0gZGJSb3V0ZT8ucm91dGVfZGF0YSB8fCBudWxsXG4gICAgICB9XG5cbiAgICAgIGlmICghcm91dGUgfHwgIWRiUm91dGUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogbmV3IEVycm9yKCdSb3V0ZSBub3QgZm91bmQnKSxcbiAgICAgICAgICBjYWNoZWQ6IGZhbHNlLFxuICAgICAgICAgIHZlcnNpb246IDBcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICByb3V0ZTogZGJSb3V0ZSxcbiAgICAgICAgY2FjaGVkLFxuICAgICAgICB2ZXJzaW9uOiBkYlJvdXRlLnZlcnNpb25cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBlcnJvciBhcyBFcnJvcixcbiAgICAgICAgY2FjaGVkOiBmYWxzZSxcbiAgICAgICAgdmVyc2lvbjogMFxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTYXZlIG9wdGltaXphdGlvbiByZXN1bHQgd2l0aCBmdWxsIGludGVncmF0aW9uXG4gICAqL1xuICBhc3luYyBzYXZlT3B0aW1pemF0aW9uUmVzdWx0KFxuICAgIHJvdXRlRGF0YTogU3RvcmVkUm91dGVEYXRhLFxuICAgIG1ldHJpY3M6IE9wdGltaXphdGlvbk1ldHJpY3NcbiAgKTogUHJvbWlzZTxSb3V0ZVVwZGF0ZVJlc3VsdD4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBVc2UgYmF0Y2ggb3BlcmF0aW9uIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2VcbiAgICAgIGNvbnN0IHJvdXRlID0gYXdhaXQgYmF0Y2hPcGVyYXRpb25NYW5hZ2VyLmFkZFRvQmF0Y2goXG4gICAgICAgIGBzYXZlLSR7dGhpcy5vcHRpb25zLmdyb3VwSWR9YCxcbiAgICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIHJldHVybiBhd2FpdCByb3V0ZVN0b3JhZ2VTZXJ2aWNlLnNhdmVPcHRpbWl6YXRpb25SZXN1bHQoXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuZ3JvdXBJZCxcbiAgICAgICAgICAgIHJvdXRlRGF0YSxcbiAgICAgICAgICAgIG1ldHJpY3MsXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMudXNlcklkLFxuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnNlc3Npb25JZFxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgKVxuXG4gICAgICAvLyBVcGRhdGUgY2FjaGVcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuZW5hYmxlQ2FjaGluZyAhPT0gZmFsc2UpIHtcbiAgICAgICAgcm91dGVEYXRhQ2FjaGUuc2V0Um91dGUodGhpcy5vcHRpb25zLmdyb3VwSWQsIHJvdXRlRGF0YSwgcm91dGUudmVyc2lvbilcbiAgICAgIH1cblxuICAgICAgLy8gQnJvYWRjYXN0IHVwZGF0ZVxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5lbmFibGVSZWFsdGltZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgYXdhaXQgcmVhbHRpbWVTeW5jU2VydmljZS5icm9hZGNhc3RSb3V0ZVVwZGF0ZShcbiAgICAgICAgICB0aGlzLm9wdGlvbnMuZ3JvdXBJZCxcbiAgICAgICAgICByb3V0ZSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB1c2VySWQ6IHRoaXMub3B0aW9ucy51c2VySWQsXG4gICAgICAgICAgICBzZXNzaW9uSWQ6IHRoaXMub3B0aW9ucy5zZXNzaW9uSWQsXG4gICAgICAgICAgICBjaGFuZ2VUeXBlOiAnb3B0aW1pemF0aW9uJ1xuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICByb3V0ZSxcbiAgICAgICAgY2FjaGVkOiBmYWxzZSxcbiAgICAgICAgdmVyc2lvbjogcm91dGUudmVyc2lvblxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycm9yIGFzIEVycm9yLFxuICAgICAgICBjYWNoZWQ6IGZhbHNlLFxuICAgICAgICB2ZXJzaW9uOiAwXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSByb3V0ZSB3aXRoIGNvbmZsaWN0IGRldGVjdGlvbiBhbmQgcmVzb2x1dGlvblxuICAgKi9cbiAgYXN5bmMgdXBkYXRlUm91dGUoXG4gICAgdXBkYXRlczogUGFydGlhbDxTdG9yZWRSb3V0ZURhdGE+LFxuICAgIGN1cnJlbnRWZXJzaW9uOiBudW1iZXIsXG4gICAgY2hhbmdlVHlwZTogc3RyaW5nID0gJ21hbnVhbF9lZGl0J1xuICApOiBQcm9taXNlPFJvdXRlVXBkYXRlUmVzdWx0PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJvdXRlID0gYXdhaXQgcm91dGVTdG9yYWdlU2VydmljZS51cGRhdGVSb3V0ZShcbiAgICAgICAgdGhpcy5vcHRpb25zLmdyb3VwSWQsXG4gICAgICAgIHVwZGF0ZXMsXG4gICAgICAgIGN1cnJlbnRWZXJzaW9uLFxuICAgICAgICB0aGlzLm9wdGlvbnMudXNlcklkLFxuICAgICAgICB0aGlzLm9wdGlvbnMuc2Vzc2lvbklkXG4gICAgICApXG5cbiAgICAgIC8vIFVwZGF0ZSBjYWNoZVxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5lbmFibGVDYWNoaW5nICE9PSBmYWxzZSkge1xuICAgICAgICByb3V0ZURhdGFDYWNoZS5zZXRSb3V0ZSh0aGlzLm9wdGlvbnMuZ3JvdXBJZCwgcm91dGUucm91dGVfZGF0YSwgcm91dGUudmVyc2lvbilcbiAgICAgIH1cblxuICAgICAgLy8gQnJvYWRjYXN0IHVwZGF0ZVxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5lbmFibGVSZWFsdGltZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgYXdhaXQgcmVhbHRpbWVTeW5jU2VydmljZS5icm9hZGNhc3RSb3V0ZVVwZGF0ZShcbiAgICAgICAgICB0aGlzLm9wdGlvbnMuZ3JvdXBJZCxcbiAgICAgICAgICByb3V0ZSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB1c2VySWQ6IHRoaXMub3B0aW9ucy51c2VySWQsXG4gICAgICAgICAgICBzZXNzaW9uSWQ6IHRoaXMub3B0aW9ucy5zZXNzaW9uSWQsXG4gICAgICAgICAgICBjaGFuZ2VUeXBlLFxuICAgICAgICAgICAgY2hhbmdlZEZpZWxkczogT2JqZWN0LmtleXModXBkYXRlcylcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgcm91dGUsXG4gICAgICAgIGNhY2hlZDogZmFsc2UsXG4gICAgICAgIHZlcnNpb246IHJvdXRlLnZlcnNpb25cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgZXJyb3IubmFtZSA9PT0gJ0NvbmZsaWN0UmVzb2x1dGlvblJlcXVpcmVkRXJyb3InKSB7XG4gICAgICAgIGNvbnN0IGNvbmZsaWN0ID0gKGVycm9yIGFzIGFueSkuY29uZmxpY3RcbiAgICAgICAgXG4gICAgICAgIC8vIEJyb2FkY2FzdCBjb25mbGljdCB0byBvdGhlciBjbGllbnRzXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZW5hYmxlUmVhbHRpbWUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgYXdhaXQgcmVhbHRpbWVTeW5jU2VydmljZS5icm9hZGNhc3RDb25mbGljdCh0aGlzLm9wdGlvbnMuZ3JvdXBJZCwgY29uZmxpY3QpXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGNvbmZsaWN0LFxuICAgICAgICAgIGNhY2hlZDogZmFsc2UsXG4gICAgICAgICAgdmVyc2lvbjogY29uZmxpY3Quc2VydmVyX3ZlcnNpb25cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycm9yIGFzIEVycm9yLFxuICAgICAgICBjYWNoZWQ6IGZhbHNlLFxuICAgICAgICB2ZXJzaW9uOiAwXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlc29sdmUgY29uZmxpY3QgYW5kIHVwZGF0ZSByb3V0ZVxuICAgKi9cbiAgYXN5bmMgcmVzb2x2ZUNvbmZsaWN0KFxuICAgIGNvbmZsaWN0OiBSb3V0ZVVwZGF0ZUNvbmZsaWN0LFxuICAgIHJlc29sdXRpb246ICdzZXJ2ZXJfd2lucycgfCAnY2xpZW50X3dpbnMnIHwgJ21lcmdlJyxcbiAgICBtZXJnZWREYXRhPzogU3RvcmVkUm91dGVEYXRhXG4gICk6IFByb21pc2U8Um91dGVVcGRhdGVSZXN1bHQ+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IGZpbmFsRGF0YTogUGFydGlhbDxTdG9yZWRSb3V0ZURhdGE+XG5cbiAgICAgIHN3aXRjaCAocmVzb2x1dGlvbikge1xuICAgICAgICBjYXNlICdzZXJ2ZXJfd2lucyc6XG4gICAgICAgICAgLy8gTm8gdXBkYXRlIG5lZWRlZCwganVzdCByZXR1cm4gY3VycmVudCBzZXJ2ZXIgdmVyc2lvblxuICAgICAgICAgIGNvbnN0IGN1cnJlbnRSb3V0ZSA9IGF3YWl0IHRoaXMuZ2V0Um91dGUoKVxuICAgICAgICAgIHJldHVybiBjdXJyZW50Um91dGVcblxuICAgICAgICBjYXNlICdjbGllbnRfd2lucyc6XG4gICAgICAgICAgZmluYWxEYXRhID0gY29uZmxpY3QubG9jYWxfY2hhbmdlc1xuICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgY2FzZSAnbWVyZ2UnOlxuICAgICAgICAgIGlmICghbWVyZ2VkRGF0YSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXJnZWQgZGF0YSByZXF1aXJlZCBmb3IgbWVyZ2UgcmVzb2x1dGlvbicpXG4gICAgICAgICAgfVxuICAgICAgICAgIGZpbmFsRGF0YSA9IG1lcmdlZERhdGFcbiAgICAgICAgICBicmVha1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHJlc29sdXRpb24gc3RyYXRlZ3knKVxuICAgICAgfVxuXG4gICAgICAvLyBGb3JjZSB1cGRhdGUgd2l0aCByZXNvbHZlZCBkYXRhXG4gICAgICBjb25zdCByb3V0ZSA9IGF3YWl0IHJvdXRlU3RvcmFnZVNlcnZpY2UudXBkYXRlUm91dGUoXG4gICAgICAgIHRoaXMub3B0aW9ucy5ncm91cElkLFxuICAgICAgICBmaW5hbERhdGEsXG4gICAgICAgIGNvbmZsaWN0LnNlcnZlcl92ZXJzaW9uLCAvLyBVc2Ugc2VydmVyIHZlcnNpb24gdG8gZm9yY2UgdXBkYXRlXG4gICAgICAgIHRoaXMub3B0aW9ucy51c2VySWQsXG4gICAgICAgIHRoaXMub3B0aW9ucy5zZXNzaW9uSWRcbiAgICAgIClcblxuICAgICAgLy8gVXBkYXRlIGNhY2hlXG4gICAgICBpZiAodGhpcy5vcHRpb25zLmVuYWJsZUNhY2hpbmcgIT09IGZhbHNlKSB7XG4gICAgICAgIHJvdXRlRGF0YUNhY2hlLnNldFJvdXRlKHRoaXMub3B0aW9ucy5ncm91cElkLCByb3V0ZS5yb3V0ZV9kYXRhLCByb3V0ZS52ZXJzaW9uKVxuICAgICAgfVxuXG4gICAgICAvLyBCcm9hZGNhc3QgcmVzb2x1dGlvblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5lbmFibGVSZWFsdGltZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgYXdhaXQgcmVhbHRpbWVTeW5jU2VydmljZS5icm9hZGNhc3RSb3V0ZVVwZGF0ZShcbiAgICAgICAgICB0aGlzLm9wdGlvbnMuZ3JvdXBJZCxcbiAgICAgICAgICByb3V0ZSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB1c2VySWQ6IHRoaXMub3B0aW9ucy51c2VySWQsXG4gICAgICAgICAgICBzZXNzaW9uSWQ6IHRoaXMub3B0aW9ucy5zZXNzaW9uSWQsXG4gICAgICAgICAgICBjaGFuZ2VUeXBlOiAnY29uZmxpY3RfcmVzb2x1dGlvbidcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgcm91dGUsXG4gICAgICAgIGNhY2hlZDogZmFsc2UsXG4gICAgICAgIHZlcnNpb246IHJvdXRlLnZlcnNpb25cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBlcnJvciBhcyBFcnJvcixcbiAgICAgICAgY2FjaGVkOiBmYWxzZSxcbiAgICAgICAgdmVyc2lvbjogMFxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgcm91dGUgdmVyc2lvbnMgZm9yIGhpc3Rvcnkvcm9sbGJhY2tcbiAgICovXG4gIGFzeW5jIGdldFJvdXRlVmVyc2lvbnMobGltaXQ6IG51bWJlciA9IDEwKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCByb3V0ZVN0b3JhZ2VTZXJ2aWNlLmdldFJvdXRlVmVyc2lvbnModGhpcy5vcHRpb25zLmdyb3VwSWQsIGxpbWl0KVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLm9wdGlvbnMub25FcnJvcj8uKGVycm9yIGFzIEVycm9yKVxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHJvdXRlIGNoYW5nZSBoaXN0b3J5XG4gICAqL1xuICBhc3luYyBnZXRDaGFuZ2VIaXN0b3J5KGxpbWl0OiBudW1iZXIgPSA1MCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgcm91dGVTdG9yYWdlU2VydmljZS5nZXRSb3V0ZUNoYW5nZUhpc3RvcnkodGhpcy5vcHRpb25zLmdyb3VwSWQsIGxpbWl0KVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLm9wdGlvbnMub25FcnJvcj8uKGVycm9yIGFzIEVycm9yKVxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IGFjdGl2ZSB1c2VycyBmb3IgY29sbGFib3JhdGlvbiBmZWF0dXJlc1xuICAgKi9cbiAgZ2V0QWN0aXZlVXNlcnMoKTogQWN0aXZlVXNlcltdIHtcbiAgICByZXR1cm4gcmVhbHRpbWVTeW5jU2VydmljZS5nZXRBY3RpdmVVc2Vycyh0aGlzLm9wdGlvbnMuZ3JvdXBJZClcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdXNlcidzIGVkaXRpbmcgc3RhdHVzXG4gICAqL1xuICBhc3luYyB1cGRhdGVFZGl0aW5nU3RhdHVzKGVkaXRpbmdJbmZvPzogeyBkZXN0aW5hdGlvbklkPzogc3RyaW5nOyBmaWVsZD86IHN0cmluZyB9KSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5lbmFibGVSZWFsdGltZSAhPT0gZmFsc2UpIHtcbiAgICAgIGF3YWl0IHJlYWx0aW1lU3luY1NlcnZpY2UudXBkYXRlRWRpdGluZ1N0YXR1cyhcbiAgICAgICAgdGhpcy5vcHRpb25zLmdyb3VwSWQsXG4gICAgICAgIHRoaXMub3B0aW9ucy51c2VySWQgfHwgbnVsbCxcbiAgICAgICAgdGhpcy5vcHRpb25zLnNlc3Npb25JZCB8fCBudWxsLFxuICAgICAgICBlZGl0aW5nSW5mb1xuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBWYWxpZGF0ZSByb3V0ZSBkYXRhIGJlZm9yZSBvcGVyYXRpb25zXG4gICAqL1xuICB2YWxpZGF0ZVJvdXRlRGF0YShyb3V0ZURhdGE6IFN0b3JlZFJvdXRlRGF0YSk6IFZhbGlkYXRpb25SZXN1bHQge1xuICAgIHJldHVybiB2YWxpZGF0ZVJvdXRlRGF0YShyb3V0ZURhdGEpXG4gIH1cblxuICAvKipcbiAgICogQ2xlYXIgY2FjaGUgZm9yIHRoaXMgZ3JvdXBcbiAgICovXG4gIGNsZWFyQ2FjaGUoKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5lbmFibGVDYWNoaW5nICE9PSBmYWxzZSkge1xuICAgICAgcm91dGVEYXRhQ2FjaGUuaW52YWxpZGF0ZUNhY2hlKHRoaXMub3B0aW9ucy5ncm91cElkKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgY2FjaGUgc3RhdGlzdGljc1xuICAgKi9cbiAgZ2V0Q2FjaGVTdGF0cygpIHtcbiAgICByZXR1cm4gcm91dGVEYXRhQ2FjaGUuZ2V0U3RhdHMoKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBjb25uZWN0aW9uIHN0YXR1cyBmb3IgcmVhbC10aW1lIGZlYXR1cmVzXG4gICAqL1xuICBnZXRDb25uZWN0aW9uU3RhdHVzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpc0Nvbm5lY3RlZDogcmVhbHRpbWVTeW5jU2VydmljZS5pc0Nvbm5lY3RlZCgpLFxuICAgICAgY29ubmVjdGlvblN0YXRlOiByZWFsdGltZVN5bmNTZXJ2aWNlLmdldENvbm5lY3Rpb25TdGF0ZSgpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZvcmNlIHJlY29ubmVjdGlvbiBmb3IgcmVhbC10aW1lIGZlYXR1cmVzXG4gICAqL1xuICBhc3luYyByZWNvbm5lY3QoKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5lbmFibGVSZWFsdGltZSAhPT0gZmFsc2UpIHtcbiAgICAgIGF3YWl0IHJlYWx0aW1lU3luY1NlcnZpY2UucmVjb25uZWN0KClcbiAgICAgIGF3YWl0IHRoaXMuc2V0dXBSZWFsdGltZVN5bmMoKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhbnVwIGFuZCBkaXNwb3NlIG9mIHJlc291cmNlc1xuICAgKi9cbiAgYXN5bmMgZGlzcG9zZSgpIHtcbiAgICB0cnkge1xuICAgICAgLy8gVW5zdWJzY3JpYmUgZnJvbSByZWFsLXRpbWUgdXBkYXRlc1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5lbmFibGVSZWFsdGltZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgYXdhaXQgcmVhbHRpbWVTeW5jU2VydmljZS51bnN1YnNjcmliZSh0aGlzLm9wdGlvbnMuZ3JvdXBJZClcbiAgICAgIH1cblxuICAgICAgLy8gQ2xlYXIgc3Vic2NyaXB0aW9uc1xuICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLmNsZWFyKClcblxuICAgICAgLy8gRmx1c2ggYW55IHBlbmRpbmcgYmF0Y2ggb3BlcmF0aW9uc1xuICAgICAgYXdhaXQgYmF0Y2hPcGVyYXRpb25NYW5hZ2VyLmZsdXNoQWxsKClcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGlzcG9zaW5nIHJvdXRlIG1hbmFnZXI6JywgZXJyb3IpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN0YXRpYyBmYWN0b3J5IG1ldGhvZCB0byBjcmVhdGUgbWFuYWdlciB3aXRoIGRlZmF1bHQgb3B0aW9uc1xuICAgKi9cbiAgc3RhdGljIGNyZWF0ZShcbiAgICBncm91cElkOiBzdHJpbmcsXG4gICAgdXNlcklkPzogc3RyaW5nIHwgbnVsbCxcbiAgICBzZXNzaW9uSWQ/OiBzdHJpbmcgfCBudWxsLFxuICAgIG9wdGlvbnM/OiBQYXJ0aWFsPFJvdXRlTWFuYWdlck9wdGlvbnM+XG4gICk6IEludGVncmF0ZWRSb3V0ZU1hbmFnZXIge1xuICAgIHJldHVybiBuZXcgSW50ZWdyYXRlZFJvdXRlTWFuYWdlcih7XG4gICAgICBncm91cElkLFxuICAgICAgdXNlcklkLFxuICAgICAgc2Vzc2lvbklkLFxuICAgICAgZW5hYmxlUmVhbHRpbWU6IHRydWUsXG4gICAgICBlbmFibGVDYWNoaW5nOiB0cnVlLFxuICAgICAgLi4ub3B0aW9uc1xuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogQmF0Y2ggb3BlcmF0aW9ucyBmb3IgbXVsdGlwbGUgcm91dGUgdXBkYXRlc1xuICAgKi9cbiAgc3RhdGljIGFzeW5jIGJhdGNoVXBkYXRlUm91dGVzKFxuICAgIHVwZGF0ZXM6IEFycmF5PHtcbiAgICAgIGdyb3VwSWQ6IHN0cmluZ1xuICAgICAgcm91dGVEYXRhOiBTdG9yZWRSb3V0ZURhdGFcbiAgICAgIG1ldHJpY3M6IE9wdGltaXphdGlvbk1ldHJpY3NcbiAgICAgIHVzZXJJZD86IHN0cmluZyB8IG51bGxcbiAgICAgIHNlc3Npb25JZD86IHN0cmluZyB8IG51bGxcbiAgICB9PlxuICApOiBQcm9taXNlPFJvdXRlVXBkYXRlUmVzdWx0W10+IHtcbiAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKFxuICAgICAgdXBkYXRlcy5tYXAoYXN5bmMgKHVwZGF0ZSkgPT4ge1xuICAgICAgICBjb25zdCBtYW5hZ2VyID0gSW50ZWdyYXRlZFJvdXRlTWFuYWdlci5jcmVhdGUoXG4gICAgICAgICAgdXBkYXRlLmdyb3VwSWQsXG4gICAgICAgICAgdXBkYXRlLnVzZXJJZCxcbiAgICAgICAgICB1cGRhdGUuc2Vzc2lvbklkLFxuICAgICAgICAgIHsgZW5hYmxlUmVhbHRpbWU6IGZhbHNlIH0gLy8gRGlzYWJsZSByZWFsLXRpbWUgZm9yIGJhdGNoIG9wZXJhdGlvbnNcbiAgICAgICAgKVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbWFuYWdlci5zYXZlT3B0aW1pemF0aW9uUmVzdWx0KFxuICAgICAgICAgICAgdXBkYXRlLnJvdXRlRGF0YSxcbiAgICAgICAgICAgIHVwZGF0ZS5tZXRyaWNzXG4gICAgICAgICAgKVxuICAgICAgICAgIGF3YWl0IG1hbmFnZXIuZGlzcG9zZSgpXG4gICAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGF3YWl0IG1hbmFnZXIuZGlzcG9zZSgpXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgZXJyb3I6IGVycm9yIGFzIEVycm9yLFxuICAgICAgICAgICAgY2FjaGVkOiBmYWxzZSxcbiAgICAgICAgICAgIHZlcnNpb246IDBcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgKVxuXG4gICAgcmV0dXJuIHJlc3VsdHMubWFwKHJlc3VsdCA9PiBcbiAgICAgIHJlc3VsdC5zdGF0dXMgPT09ICdmdWxmaWxsZWQnID8gcmVzdWx0LnZhbHVlIDoge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IG5ldyBFcnJvcignQmF0Y2ggb3BlcmF0aW9uIGZhaWxlZCcpLFxuICAgICAgICBjYWNoZWQ6IGZhbHNlLFxuICAgICAgICB2ZXJzaW9uOiAwXG4gICAgICB9XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEludGVncmF0ZWRSb3V0ZU1hbmFnZXIiXSwibmFtZXMiOlsicm91dGVTdG9yYWdlU2VydmljZSIsInZhbGlkYXRlUm91dGVEYXRhIiwicmVhbHRpbWVTeW5jU2VydmljZSIsInJvdXRlRGF0YUNhY2hlIiwiYmF0Y2hPcGVyYXRpb25NYW5hZ2VyIiwiSW50ZWdyYXRlZFJvdXRlTWFuYWdlciIsImNvbnN0cnVjdG9yIiwib3B0aW9ucyIsInN1YnNjcmlwdGlvbnMiLCJNYXAiLCJlbmFibGVSZWFsdGltZSIsInNldHVwUmVhbHRpbWVTeW5jIiwicmVhbHRpbWVPcHRpb25zIiwiZ3JvdXBJZCIsInVzZXJJZCIsInNlc3Npb25JZCIsIm9uUm91dGVVcGRhdGUiLCJyb3V0ZSIsImVuYWJsZUNhY2hpbmciLCJzZXRSb3V0ZSIsInJvdXRlX2RhdGEiLCJ2ZXJzaW9uIiwib25Sb3V0ZURlbGV0ZWQiLCJpbnZhbGlkYXRlQ2FjaGUiLCJvbkNvbmZsaWN0Iiwib25FcnJvciIsInN1YnNjcmlwdGlvbiIsInN1YnNjcmliZVRvUm91dGVVcGRhdGVzIiwic2V0IiwiZXJyb3IiLCJjb25zb2xlIiwiZ2V0Um91dGUiLCJmZXRjaEZyb21EYiIsImNhY2hlZCIsImRiUm91dGUiLCJzdWNjZXNzIiwiRXJyb3IiLCJzYXZlT3B0aW1pemF0aW9uUmVzdWx0Iiwicm91dGVEYXRhIiwibWV0cmljcyIsImFkZFRvQmF0Y2giLCJicm9hZGNhc3RSb3V0ZVVwZGF0ZSIsImNoYW5nZVR5cGUiLCJ1cGRhdGVSb3V0ZSIsInVwZGF0ZXMiLCJjdXJyZW50VmVyc2lvbiIsImNoYW5nZWRGaWVsZHMiLCJPYmplY3QiLCJrZXlzIiwibmFtZSIsImNvbmZsaWN0IiwiYnJvYWRjYXN0Q29uZmxpY3QiLCJzZXJ2ZXJfdmVyc2lvbiIsInJlc29sdmVDb25mbGljdCIsInJlc29sdXRpb24iLCJtZXJnZWREYXRhIiwiZmluYWxEYXRhIiwiY3VycmVudFJvdXRlIiwibG9jYWxfY2hhbmdlcyIsImdldFJvdXRlVmVyc2lvbnMiLCJsaW1pdCIsImdldENoYW5nZUhpc3RvcnkiLCJnZXRSb3V0ZUNoYW5nZUhpc3RvcnkiLCJnZXRBY3RpdmVVc2VycyIsInVwZGF0ZUVkaXRpbmdTdGF0dXMiLCJlZGl0aW5nSW5mbyIsImNsZWFyQ2FjaGUiLCJnZXRDYWNoZVN0YXRzIiwiZ2V0U3RhdHMiLCJnZXRDb25uZWN0aW9uU3RhdHVzIiwiaXNDb25uZWN0ZWQiLCJjb25uZWN0aW9uU3RhdGUiLCJnZXRDb25uZWN0aW9uU3RhdGUiLCJyZWNvbm5lY3QiLCJkaXNwb3NlIiwidW5zdWJzY3JpYmUiLCJjbGVhciIsImZsdXNoQWxsIiwiY3JlYXRlIiwiYmF0Y2hVcGRhdGVSb3V0ZXMiLCJyZXN1bHRzIiwiUHJvbWlzZSIsImFsbFNldHRsZWQiLCJtYXAiLCJ1cGRhdGUiLCJtYW5hZ2VyIiwicmVzdWx0Iiwic3RhdHVzIiwidmFsdWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./lib/services/integrated-route-manager.ts\n");

/***/ }),

/***/ "(action-browser)/./lib/services/real-time-sync.ts":
/*!****************************************!*\
  !*** ./lib/services/real-time-sync.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RealtimeSyncService: () => (/* binding */ RealtimeSyncService),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   realtimeSyncService: () => (/* binding */ realtimeSyncService)\n/* harmony export */ });\n/* harmony import */ var _lib_supabase_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/supabase/server */ \"(action-browser)/./lib/supabase/server.ts\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/headers */ \"(action-browser)/./node_modules/next/headers.js\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_headers__WEBPACK_IMPORTED_MODULE_1__);\n// Real-time synchronization service for route updates\n\n\n/**\n * Real-time synchronization service for collaborative route editing\n */ class RealtimeSyncService {\n    /**\n   * Subscribe to real-time updates for a group\n   */ async subscribeToRouteUpdates(options) {\n        const channelName = `route-updates-${options.groupId}`;\n        try {\n            // Server-side realtime subscriptions not fully supported\n            console.log(\"Server-side realtime subscription attempted for:\", channelName);\n            return;\n            // Set up database changes subscription\n            // const cookieStore = cookies();\n            // const supabase = createClient(cookieStore);\n            // const subscription = supabase\n            //   .channel(channelName)\n            //   .on(\n            //     'postgres_changes',\n            //     {\n            //       event: 'UPDATE',\n            //       schema: 'public',\n            //       table: 'optimized_routes',\n            //       filter: `group_id=eq.${options.groupId}`\n            //     },\n            //     (payload) => {\n            //       console.log('Route updated via postgres:', payload.new)\n            //       this.handleRouteUpdate(payload.new as OptimizedRoute, options)\n            //     }\n            //   )\n            //   .on(\n            //     'postgres_changes',\n            //     {\n            //       event: 'INSERT',\n            //       schema: 'public',\n            //       table: 'optimized_routes',\n            //       filter: `group_id=eq.${options.groupId}`\n            //     },\n            //     (payload) => {\n            //       console.log('Route created via postgres:', payload.new)\n            //       this.handleRouteUpdate(payload.new as OptimizedRoute, options)\n            //     }\n            //   )\n            //   .on(\n            //     'postgres_changes',\n            //     {\n            //       event: 'DELETE',\n            //       schema: 'public',\n            //       table: 'optimized_routes',\n            //       filter: `group_id=eq.${options.groupId}`\n            //     },\n            //     (payload) => {\n            //       console.log('Route deleted via postgres:', payload.old)\n            //       options.onRouteDeleted?.(options.groupId)\n            //     }\n            //   )\n            //   .on(\n            //     'postgres_changes',\n            //     {\n            //       event: '*',\n            //       schema: 'public',\n            //       table: 'user_preferences',\n            //       filter: `group_id=eq.${options.groupId}`\n            //     },\n            //     (payload) => {\n            //       console.log('User preferences changed:', payload)\n            //       this.handlePreferencesUpdate(options.groupId, payload, options)\n            //     }\n            //   )\n            //   .on(\n            //     'broadcast',\n            //     { event: 'route-updated' },\n            //     (payload) => {\n            //       console.log('Route updated via broadcast:', payload)\n            //       this.handleBroadcastUpdate(payload, options)\n            //     }\n            //   )\n            //   .on(\n            //     'broadcast',\n            //     { event: 'conflict-detected' },\n            //     (payload) => {\n            //       console.log('Conflict detected:', payload)\n            //       this.handleConflictDetection(payload.conflict, options)\n            //     }\n            //   )\n            //   .subscribe()\n            // this.subscriptions.set(options.groupId, subscription)\n            // Set up presence tracking\n            await this.setupPresenceTracking(options);\n            // For now return null since subscription is commented out\n            return null;\n        } catch (error) {\n            console.error(\"Failed to subscribe to route updates:\", error);\n            options.onError?.(error);\n            throw error;\n        }\n    }\n    /**\n   * Set up presence tracking for collaborative editing\n   */ async setupPresenceTracking(options) {\n        const presenceChannelName = `presence-${options.groupId}`;\n        // Server-side presence tracking not supported\n        console.log(\"Server-side presence tracking attempted for:\", presenceChannelName);\n        return;\n    // const cookieStore = cookies();\n    // const supabase = createClient(cookieStore);\n    // const presenceChannel = supabase\n    //   .channel(presenceChannelName, {\n    //     config: {\n    //       presence: {\n    //         key: options.userId || options.sessionId || 'anonymous'\n    //       }\n    //     }\n    //   })\n    //   .on('presence', { event: 'sync' }, () => {\n    //     const state = presenceChannel.presenceState()\n    //     this.updateActiveUsers(options.groupId, state)\n    //   })\n    //   .on('presence', { event: 'join' }, ({ key, newPresences }) => {\n    //     console.log('User joined:', key, newPresences)\n    //     const user = newPresences[0]\n    //     options.onUserJoined?.(options.groupId, user)\n    //   })\n    //   .on('presence', { event: 'leave' }, ({ key, leftPresences }) => {\n    //     console.log('User left:', key, leftPresences)\n    //     options.onUserLeft?.(options.groupId, key)\n    //   })\n    //   .subscribe(async (status) => {\n    //     if (status === 'SUBSCRIBED') {\n    //       // Track current user's presence\n    //       await presenceChannel.track({\n    //         userId: options.userId,\n    //         sessionId: options.sessionId,\n    //         displayName: 'User', // This should come from user context\n    //         assignedColor: '#3B82F6', // This should come from user context\n    //         lastActivity: new Date().toISOString(),\n    //         isOnline: true\n    //       })\n    //     }\n    //   })\n    // this.presenceChannels.set(options.groupId, presenceChannel)\n    // Set up heartbeat for presence\n    // const heartbeat = setInterval(async () => {\n    //   await presenceChannel.track({\n    //     userId: options.userId,\n    //     sessionId: options.sessionId,\n    //     lastActivity: new Date().toISOString(),\n    //     isOnline: true\n    //   })\n    // }, 30000) // Update every 30 seconds\n    // this.heartbeatIntervals.set(options.groupId, heartbeat)\n    }\n    /**\n   * Update active users list\n   */ updateActiveUsers(groupId, presenceState) {\n        const users = Object.entries(presenceState).map(([key, presence])=>({\n                userId: presence[0]?.userId || null,\n                sessionId: presence[0]?.sessionId || null,\n                displayName: presence[0]?.displayName || \"Anonymous\",\n                assignedColor: presence[0]?.assignedColor || \"#6B7280\",\n                lastActivity: new Date(presence[0]?.lastActivity || Date.now()),\n                isOnline: presence[0]?.isOnline || false,\n                currentlyEditing: presence[0]?.currentlyEditing\n            }));\n        this.activeUsers.set(groupId, users);\n    }\n    /**\n   * Get active users for a group\n   */ getActiveUsers(groupId) {\n        return this.activeUsers.get(groupId) || [];\n    }\n    /**\n   * Broadcast route update to all connected clients\n   */ async broadcastRouteUpdate(groupId, updatedRoute, changeInfo) {\n        try {\n            const channel = this.subscriptions.get(groupId);\n            if (channel) {\n                await channel.send({\n                    type: \"broadcast\",\n                    event: \"route-updated\",\n                    payload: {\n                        groupId,\n                        route: updatedRoute,\n                        changeInfo: {\n                            timestamp: new Date().toISOString(),\n                            ...changeInfo\n                        }\n                    }\n                });\n            }\n        } catch (error) {\n            console.error(\"Failed to broadcast route update:\", error);\n        }\n    }\n    /**\n   * Broadcast conflict detection\n   */ async broadcastConflict(groupId, conflict) {\n        try {\n            const channel = this.subscriptions.get(groupId);\n            if (channel) {\n                await channel.send({\n                    type: \"broadcast\",\n                    event: \"conflict-detected\",\n                    payload: {\n                        groupId,\n                        conflict\n                    }\n                });\n            }\n        } catch (error) {\n            console.error(\"Failed to broadcast conflict:\", error);\n        }\n    }\n    /**\n   * Update user's current editing status\n   */ async updateEditingStatus(groupId, userId, sessionId, editingInfo) {\n        try {\n            const presenceChannel = this.presenceChannels.get(groupId);\n            if (presenceChannel) {\n                await presenceChannel.track({\n                    userId,\n                    sessionId,\n                    lastActivity: new Date().toISOString(),\n                    isOnline: true,\n                    currentlyEditing: editingInfo\n                });\n            }\n        } catch (error) {\n            console.error(\"Failed to update editing status:\", error);\n        }\n    }\n    /**\n   * Handle route update from database changes\n   */ async handleRouteUpdate(route, options) {\n        try {\n            // Check if this update conflicts with any local changes\n            // This would be implemented based on your conflict detection strategy\n            options.onRouteUpdate?.(route);\n        } catch (error) {\n            console.error(\"Error handling route update:\", error);\n            options.onError?.(error);\n        }\n    }\n    /**\n   * Handle preferences update from database changes\n   */ async handlePreferencesUpdate(groupId, payload, options) {\n        try {\n            // Fetch updated preferences\n            const cookieStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)();\n            const supabase = (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_0__.createClient)(cookieStore);\n            const { data: preferences } = await supabase.from(\"user_preferences\").select(\"*\").eq(\"group_id\", groupId);\n            options.onPreferencesChanged?.(groupId, preferences || []);\n        } catch (error) {\n            console.error(\"Error handling preferences update:\", error);\n            options.onError?.(error);\n        }\n    }\n    /**\n   * Handle broadcast updates\n   */ handleBroadcastUpdate(payload, options) {\n        try {\n            if (payload.route) {\n                options.onRouteUpdate?.(payload.route);\n            }\n        } catch (error) {\n            console.error(\"Error handling broadcast update:\", error);\n            options.onError?.(error);\n        }\n    }\n    /**\n   * Handle conflict detection\n   */ handleConflictDetection(conflict, options) {\n        try {\n            options.onConflict?.(conflict);\n        } catch (error) {\n            console.error(\"Error handling conflict detection:\", error);\n            options.onError?.(error);\n        }\n    }\n    /**\n   * Unsubscribe from all updates for a group\n   */ async unsubscribe(groupId) {\n        try {\n            // Unsubscribe from route updates\n            const subscription = this.subscriptions.get(groupId);\n            if (subscription) {\n                await subscription.unsubscribe();\n                this.subscriptions.delete(groupId);\n            }\n            // Unsubscribe from presence\n            const presenceChannel = this.presenceChannels.get(groupId);\n            if (presenceChannel) {\n                await presenceChannel.untrack();\n                await presenceChannel.unsubscribe();\n                this.presenceChannels.delete(groupId);\n            }\n            // Clear heartbeat\n            const heartbeat = this.heartbeatIntervals.get(groupId);\n            if (heartbeat) {\n                clearInterval(heartbeat);\n                this.heartbeatIntervals.delete(groupId);\n            }\n            // Clear active users\n            this.activeUsers.delete(groupId);\n        } catch (error) {\n            console.error(\"Error unsubscribing from group:\", error);\n        }\n    }\n    /**\n   * Unsubscribe from all groups\n   */ async unsubscribeAll() {\n        const groupIds = Array.from(this.subscriptions.keys());\n        await Promise.all(groupIds.map((groupId)=>this.unsubscribe(groupId)));\n    }\n    /**\n   * Check connection status\n   */ isConnected() {\n        // Server-side realtime connection check not available\n        return false;\n    }\n    /**\n   * Get connection state\n   */ getConnectionState() {\n        // Server-side realtime state not available\n        return \"disconnected\";\n    }\n    /**\n   * Force reconnection\n   */ async reconnect() {\n        // Server-side realtime reconnection not available\n        console.log(\"Realtime reconnection not available on server-side\");\n    }\n    constructor(){\n        this.subscriptions = new Map();\n        this.activeUsers = new Map();\n        this.presenceChannels = new Map();\n        this.heartbeatIntervals = new Map();\n    }\n}\n// Export singleton instance\nconst realtimeSyncService = new RealtimeSyncService();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (realtimeSyncService);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL2xpYi9zZXJ2aWNlcy9yZWFsLXRpbWUtc3luYy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxzREFBc0Q7QUFFRjtBQUNkO0FBcUN0Qzs7Q0FFQyxHQUNNLE1BQU1FO0lBTVg7O0dBRUMsR0FDRCxNQUFNQyx3QkFBd0JDLE9BQW9DLEVBQUU7UUFDbEUsTUFBTUMsY0FBYyxDQUFDLGNBQWMsRUFBRUQsUUFBUUUsT0FBTyxDQUFDLENBQUM7UUFFdEQsSUFBSTtZQUNGLHlEQUF5RDtZQUN6REMsUUFBUUMsR0FBRyxDQUFDLG9EQUFvREg7WUFDaEU7WUFFQSx1Q0FBdUM7WUFDdkMsaUNBQWlDO1lBQ2pDLDhDQUE4QztZQUM5QyxnQ0FBZ0M7WUFDaEMsMEJBQTBCO1lBQzFCLFNBQVM7WUFDVCwwQkFBMEI7WUFDMUIsUUFBUTtZQUNSLHlCQUF5QjtZQUN6QiwwQkFBMEI7WUFDMUIsbUNBQW1DO1lBQ25DLGlEQUFpRDtZQUNqRCxTQUFTO1lBQ1QscUJBQXFCO1lBQ3JCLGdFQUFnRTtZQUNoRSx1RUFBdUU7WUFDdkUsUUFBUTtZQUNSLE1BQU07WUFDTixTQUFTO1lBQ1QsMEJBQTBCO1lBQzFCLFFBQVE7WUFDUix5QkFBeUI7WUFDekIsMEJBQTBCO1lBQzFCLG1DQUFtQztZQUNuQyxpREFBaUQ7WUFDakQsU0FBUztZQUNULHFCQUFxQjtZQUNyQixnRUFBZ0U7WUFDaEUsdUVBQXVFO1lBQ3ZFLFFBQVE7WUFDUixNQUFNO1lBQ04sU0FBUztZQUNULDBCQUEwQjtZQUMxQixRQUFRO1lBQ1IseUJBQXlCO1lBQ3pCLDBCQUEwQjtZQUMxQixtQ0FBbUM7WUFDbkMsaURBQWlEO1lBQ2pELFNBQVM7WUFDVCxxQkFBcUI7WUFDckIsZ0VBQWdFO1lBQ2hFLGtEQUFrRDtZQUNsRCxRQUFRO1lBQ1IsTUFBTTtZQUNOLFNBQVM7WUFDVCwwQkFBMEI7WUFDMUIsUUFBUTtZQUNSLG9CQUFvQjtZQUNwQiwwQkFBMEI7WUFDMUIsbUNBQW1DO1lBQ25DLGlEQUFpRDtZQUNqRCxTQUFTO1lBQ1QscUJBQXFCO1lBQ3JCLDBEQUEwRDtZQUMxRCx3RUFBd0U7WUFDeEUsUUFBUTtZQUNSLE1BQU07WUFDTixTQUFTO1lBQ1QsbUJBQW1CO1lBQ25CLGtDQUFrQztZQUNsQyxxQkFBcUI7WUFDckIsNkRBQTZEO1lBQzdELHFEQUFxRDtZQUNyRCxRQUFRO1lBQ1IsTUFBTTtZQUNOLFNBQVM7WUFDVCxtQkFBbUI7WUFDbkIsc0NBQXNDO1lBQ3RDLHFCQUFxQjtZQUNyQixtREFBbUQ7WUFDbkQsZ0VBQWdFO1lBQ2hFLFFBQVE7WUFDUixNQUFNO1lBQ04saUJBQWlCO1lBRWpCLHdEQUF3RDtZQUV4RCwyQkFBMkI7WUFDM0IsTUFBTSxJQUFJLENBQUNJLHFCQUFxQixDQUFDTDtZQUVqQywwREFBMEQ7WUFDMUQsT0FBTztRQUNULEVBQUUsT0FBT00sT0FBTztZQUNkSCxRQUFRRyxLQUFLLENBQUMseUNBQXlDQTtZQUN2RE4sUUFBUU8sT0FBTyxHQUFHRDtZQUNsQixNQUFNQTtRQUNSO0lBQ0Y7SUFFQTs7R0FFQyxHQUNELE1BQWNELHNCQUFzQkwsT0FBb0MsRUFBRTtRQUN4RSxNQUFNUSxzQkFBc0IsQ0FBQyxTQUFTLEVBQUVSLFFBQVFFLE9BQU8sQ0FBQyxDQUFDO1FBRXpELDhDQUE4QztRQUM5Q0MsUUFBUUMsR0FBRyxDQUFDLGdEQUFnREk7UUFDNUQ7SUFFQSxpQ0FBaUM7SUFDakMsOENBQThDO0lBQzlDLG1DQUFtQztJQUNuQyxvQ0FBb0M7SUFDcEMsZ0JBQWdCO0lBQ2hCLG9CQUFvQjtJQUNwQixrRUFBa0U7SUFDbEUsVUFBVTtJQUNWLFFBQVE7SUFDUixPQUFPO0lBQ1AsK0NBQStDO0lBQy9DLG9EQUFvRDtJQUNwRCxxREFBcUQ7SUFDckQsT0FBTztJQUNQLG9FQUFvRTtJQUNwRSxxREFBcUQ7SUFDckQsbUNBQW1DO0lBQ25DLG9EQUFvRDtJQUNwRCxPQUFPO0lBQ1Asc0VBQXNFO0lBQ3RFLG9EQUFvRDtJQUNwRCxpREFBaUQ7SUFDakQsT0FBTztJQUNQLG1DQUFtQztJQUNuQyxxQ0FBcUM7SUFDckMseUNBQXlDO0lBQ3pDLHNDQUFzQztJQUN0QyxrQ0FBa0M7SUFDbEMsd0NBQXdDO0lBQ3hDLHFFQUFxRTtJQUNyRSwwRUFBMEU7SUFDMUUsa0RBQWtEO0lBQ2xELHlCQUF5QjtJQUN6QixXQUFXO0lBQ1gsUUFBUTtJQUNSLE9BQU87SUFFUCw4REFBOEQ7SUFFOUQsZ0NBQWdDO0lBQ2hDLDhDQUE4QztJQUM5QyxrQ0FBa0M7SUFDbEMsOEJBQThCO0lBQzlCLG9DQUFvQztJQUNwQyw4Q0FBOEM7SUFDOUMscUJBQXFCO0lBQ3JCLE9BQU87SUFDUCx1Q0FBdUM7SUFFdkMsMERBQTBEO0lBQzVEO0lBRUE7O0dBRUMsR0FDRCxrQkFBMEJOLE9BQWUsRUFBRVEsYUFBa0IsRUFBRTtRQUM3RCxNQUFNQyxRQUFzQkMsT0FBT0MsT0FBTyxDQUFDSCxlQUFlSSxHQUFHLENBQUMsQ0FBQyxDQUFDQyxLQUFLQyxTQUF3QixHQUFNO2dCQUNqR0MsUUFBUUQsUUFBUSxDQUFDLEVBQUUsRUFBRUMsVUFBVTtnQkFDL0JDLFdBQVdGLFFBQVEsQ0FBQyxFQUFFLEVBQUVFLGFBQWE7Z0JBQ3JDQyxhQUFhSCxRQUFRLENBQUMsRUFBRSxFQUFFRyxlQUFlO2dCQUN6Q0MsZUFBZUosUUFBUSxDQUFDLEVBQUUsRUFBRUksaUJBQWlCO2dCQUM3Q0MsY0FBYyxJQUFJQyxLQUFLTixRQUFRLENBQUMsRUFBRSxFQUFFSyxnQkFBZ0JDLEtBQUtDLEdBQUc7Z0JBQzVEQyxVQUFVUixRQUFRLENBQUMsRUFBRSxFQUFFUSxZQUFZO2dCQUNuQ0Msa0JBQWtCVCxRQUFRLENBQUMsRUFBRSxFQUFFUztZQUNqQztRQUVBLElBQUksQ0FBQ0MsV0FBVyxDQUFDQyxHQUFHLENBQUN6QixTQUFTUztJQUNoQztJQUVBOztHQUVDLEdBQ0RpQixlQUFlMUIsT0FBZSxFQUFnQjtRQUM1QyxPQUFPLElBQUksQ0FBQ3dCLFdBQVcsQ0FBQ0csR0FBRyxDQUFDM0IsWUFBWSxFQUFFO0lBQzVDO0lBRUE7O0dBRUMsR0FDRCxNQUFNNEIscUJBQ0o1QixPQUFlLEVBQ2Y2QixZQUE0QixFQUM1QkMsVUFLQyxFQUNEO1FBQ0EsSUFBSTtZQUNGLE1BQU1DLFVBQVUsSUFBSSxDQUFDQyxhQUFhLENBQUNMLEdBQUcsQ0FBQzNCO1lBQ3ZDLElBQUkrQixTQUFTO2dCQUNYLE1BQU1BLFFBQVFFLElBQUksQ0FBQztvQkFDakJDLE1BQU07b0JBQ05DLE9BQU87b0JBQ1BDLFNBQVM7d0JBQ1BwQzt3QkFDQXFDLE9BQU9SO3dCQUNQQyxZQUFZOzRCQUNWUSxXQUFXLElBQUlsQixPQUFPbUIsV0FBVzs0QkFDakMsR0FBR1QsVUFBVTt3QkFDZjtvQkFDRjtnQkFDRjtZQUNGO1FBQ0YsRUFBRSxPQUFPMUIsT0FBTztZQUNkSCxRQUFRRyxLQUFLLENBQUMscUNBQXFDQTtRQUNyRDtJQUNGO0lBRUE7O0dBRUMsR0FDRCxNQUFNb0Msa0JBQWtCeEMsT0FBZSxFQUFFeUMsUUFBNkIsRUFBRTtRQUN0RSxJQUFJO1lBQ0YsTUFBTVYsVUFBVSxJQUFJLENBQUNDLGFBQWEsQ0FBQ0wsR0FBRyxDQUFDM0I7WUFDdkMsSUFBSStCLFNBQVM7Z0JBQ1gsTUFBTUEsUUFBUUUsSUFBSSxDQUFDO29CQUNqQkMsTUFBTTtvQkFDTkMsT0FBTztvQkFDUEMsU0FBUzt3QkFBRXBDO3dCQUFTeUM7b0JBQVM7Z0JBQy9CO1lBQ0Y7UUFDRixFQUFFLE9BQU9yQyxPQUFPO1lBQ2RILFFBQVFHLEtBQUssQ0FBQyxpQ0FBaUNBO1FBQ2pEO0lBQ0Y7SUFFQTs7R0FFQyxHQUNELE1BQU1zQyxvQkFDSjFDLE9BQWUsRUFDZmUsTUFBcUIsRUFDckJDLFNBQXdCLEVBQ3hCMkIsV0FHQyxFQUNEO1FBQ0EsSUFBSTtZQUNGLE1BQU1DLGtCQUFrQixJQUFJLENBQUNDLGdCQUFnQixDQUFDbEIsR0FBRyxDQUFDM0I7WUFDbEQsSUFBSTRDLGlCQUFpQjtnQkFDbkIsTUFBTUEsZ0JBQWdCRSxLQUFLLENBQUM7b0JBQzFCL0I7b0JBQ0FDO29CQUNBRyxjQUFjLElBQUlDLE9BQU9tQixXQUFXO29CQUNwQ2pCLFVBQVU7b0JBQ1ZDLGtCQUFrQm9CO2dCQUNwQjtZQUNGO1FBQ0YsRUFBRSxPQUFPdkMsT0FBTztZQUNkSCxRQUFRRyxLQUFLLENBQUMsb0NBQW9DQTtRQUNwRDtJQUNGO0lBRUE7O0dBRUMsR0FDRCxNQUFjMkMsa0JBQ1pWLEtBQXFCLEVBQ3JCdkMsT0FBb0MsRUFDcEM7UUFDQSxJQUFJO1lBQ0Ysd0RBQXdEO1lBQ3hELHNFQUFzRTtZQUN0RUEsUUFBUWtELGFBQWEsR0FBR1g7UUFDMUIsRUFBRSxPQUFPakMsT0FBTztZQUNkSCxRQUFRRyxLQUFLLENBQUMsZ0NBQWdDQTtZQUM5Q04sUUFBUU8sT0FBTyxHQUFHRDtRQUNwQjtJQUNGO0lBRUE7O0dBRUMsR0FDRCxNQUFjNkMsd0JBQ1pqRCxPQUFlLEVBQ2ZvQyxPQUFZLEVBQ1p0QyxPQUFvQyxFQUNwQztRQUNBLElBQUk7WUFDRiw0QkFBNEI7WUFDNUIsTUFBTW9ELGNBQWN2RCxxREFBT0E7WUFDM0IsTUFBTXdELFdBQVd6RCxrRUFBWUEsQ0FBQ3dEO1lBQzlCLE1BQU0sRUFBRUUsTUFBTUMsV0FBVyxFQUFFLEdBQUcsTUFBTUYsU0FDakNHLElBQUksQ0FBQyxvQkFDTEMsTUFBTSxDQUFDLEtBQ1BDLEVBQUUsQ0FBQyxZQUFZeEQ7WUFFbEJGLFFBQVEyRCxvQkFBb0IsR0FBR3pELFNBQVNxRCxlQUFlLEVBQUU7UUFDM0QsRUFBRSxPQUFPakQsT0FBTztZQUNkSCxRQUFRRyxLQUFLLENBQUMsc0NBQXNDQTtZQUNwRE4sUUFBUU8sT0FBTyxHQUFHRDtRQUNwQjtJQUNGO0lBRUE7O0dBRUMsR0FDRCxzQkFBOEJnQyxPQUFZLEVBQUV0QyxPQUFvQyxFQUFFO1FBQ2hGLElBQUk7WUFDRixJQUFJc0MsUUFBUUMsS0FBSyxFQUFFO2dCQUNqQnZDLFFBQVFrRCxhQUFhLEdBQUdaLFFBQVFDLEtBQUs7WUFDdkM7UUFDRixFQUFFLE9BQU9qQyxPQUFPO1lBQ2RILFFBQVFHLEtBQUssQ0FBQyxvQ0FBb0NBO1lBQ2xETixRQUFRTyxPQUFPLEdBQUdEO1FBQ3BCO0lBQ0Y7SUFFQTs7R0FFQyxHQUNELHdCQUFnQ3FDLFFBQTZCLEVBQUUzQyxPQUFvQyxFQUFFO1FBQ25HLElBQUk7WUFDRkEsUUFBUThELFVBQVUsR0FBR25CO1FBQ3ZCLEVBQUUsT0FBT3JDLE9BQU87WUFDZEgsUUFBUUcsS0FBSyxDQUFDLHNDQUFzQ0E7WUFDcEROLFFBQVFPLE9BQU8sR0FBR0Q7UUFDcEI7SUFDRjtJQUVBOztHQUVDLEdBQ0QsTUFBTXlELFlBQVk3RCxPQUFlLEVBQUU7UUFDakMsSUFBSTtZQUNGLGlDQUFpQztZQUNqQyxNQUFNOEQsZUFBZSxJQUFJLENBQUM5QixhQUFhLENBQUNMLEdBQUcsQ0FBQzNCO1lBQzVDLElBQUk4RCxjQUFjO2dCQUNoQixNQUFNQSxhQUFhRCxXQUFXO2dCQUM5QixJQUFJLENBQUM3QixhQUFhLENBQUMrQixNQUFNLENBQUMvRDtZQUM1QjtZQUVBLDRCQUE0QjtZQUM1QixNQUFNNEMsa0JBQWtCLElBQUksQ0FBQ0MsZ0JBQWdCLENBQUNsQixHQUFHLENBQUMzQjtZQUNsRCxJQUFJNEMsaUJBQWlCO2dCQUNuQixNQUFNQSxnQkFBZ0JvQixPQUFPO2dCQUM3QixNQUFNcEIsZ0JBQWdCaUIsV0FBVztnQkFDakMsSUFBSSxDQUFDaEIsZ0JBQWdCLENBQUNrQixNQUFNLENBQUMvRDtZQUMvQjtZQUVBLGtCQUFrQjtZQUNsQixNQUFNaUUsWUFBWSxJQUFJLENBQUNDLGtCQUFrQixDQUFDdkMsR0FBRyxDQUFDM0I7WUFDOUMsSUFBSWlFLFdBQVc7Z0JBQ2JFLGNBQWNGO2dCQUNkLElBQUksQ0FBQ0Msa0JBQWtCLENBQUNILE1BQU0sQ0FBQy9EO1lBQ2pDO1lBRUEscUJBQXFCO1lBQ3JCLElBQUksQ0FBQ3dCLFdBQVcsQ0FBQ3VDLE1BQU0sQ0FBQy9EO1FBQzFCLEVBQUUsT0FBT0ksT0FBTztZQUNkSCxRQUFRRyxLQUFLLENBQUMsbUNBQW1DQTtRQUNuRDtJQUNGO0lBRUE7O0dBRUMsR0FDRCxNQUFNZ0UsaUJBQWlCO1FBQ3JCLE1BQU1DLFdBQVdDLE1BQU1oQixJQUFJLENBQUMsSUFBSSxDQUFDdEIsYUFBYSxDQUFDdUMsSUFBSTtRQUNuRCxNQUFNQyxRQUFRQyxHQUFHLENBQUNKLFNBQVN6RCxHQUFHLENBQUNaLENBQUFBLFVBQVcsSUFBSSxDQUFDNkQsV0FBVyxDQUFDN0Q7SUFDN0Q7SUFFQTs7R0FFQyxHQUNEMEUsY0FBdUI7UUFDckIsc0RBQXNEO1FBQ3RELE9BQU87SUFDVDtJQUVBOztHQUVDLEdBQ0RDLHFCQUE2QjtRQUMzQiwyQ0FBMkM7UUFDM0MsT0FBTztJQUNUO0lBRUE7O0dBRUMsR0FDRCxNQUFNQyxZQUFZO1FBQ2hCLGtEQUFrRDtRQUNsRDNFLFFBQVFDLEdBQUcsQ0FBQztJQUNkOzthQWxaUThCLGdCQUFnQixJQUFJNkM7YUFDcEJyRCxjQUFjLElBQUlxRDthQUNsQmhDLG1CQUFtQixJQUFJZ0M7YUFDdkJYLHFCQUFxQixJQUFJVzs7QUFnWm5DO0FBRUEsNEJBQTRCO0FBQ3JCLE1BQU1DLHNCQUFzQixJQUFJbEYsc0JBQXFCO0FBQzVELGlFQUFla0YsbUJBQW1CQSxFQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLy4vbGliL3NlcnZpY2VzL3JlYWwtdGltZS1zeW5jLnRzPzgxMTUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gUmVhbC10aW1lIHN5bmNocm9uaXphdGlvbiBzZXJ2aWNlIGZvciByb3V0ZSB1cGRhdGVzXG5cbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0AvbGliL3N1cGFiYXNlL3NlcnZlcidcbmltcG9ydCB7IGNvb2tpZXMgfSBmcm9tICduZXh0L2hlYWRlcnMnXG5pbXBvcnQgdHlwZSB7XG4gIE9wdGltaXplZFJvdXRlLFxuICBSb3V0ZVVwZGF0ZUV2ZW50LFxuICBSb3V0ZVVwZGF0ZUNvbmZsaWN0LFxuICBTdG9yZWRSb3V0ZURhdGFcbn0gZnJvbSAnQC9saWIvdHlwZXMvcm91dGUtc3RvcmFnZSdcbmltcG9ydCB7IHJvdXRlU3RvcmFnZVNlcnZpY2UgfSBmcm9tICcuL3JvdXRlLXN0b3JhZ2UnXG5cbi8vIFN1cGFiYXNlIGNsaWVudCB3aWxsIGJlIGNyZWF0ZWQgaW4gZWFjaCBtZXRob2Qgd2l0aCBzZXJ2ZXIgY29udGV4dFxuXG5leHBvcnQgaW50ZXJmYWNlIFJlYWx0aW1lU3Vic2NyaXB0aW9uT3B0aW9ucyB7XG4gIGdyb3VwSWQ6IHN0cmluZ1xuICB1c2VySWQ/OiBzdHJpbmcgfCBudWxsXG4gIHNlc3Npb25JZD86IHN0cmluZyB8IG51bGxcbiAgb25Sb3V0ZVVwZGF0ZT86IChyb3V0ZTogT3B0aW1pemVkUm91dGUpID0+IHZvaWRcbiAgb25Sb3V0ZURlbGV0ZWQ/OiAoZ3JvdXBJZDogc3RyaW5nKSA9PiB2b2lkXG4gIG9uUHJlZmVyZW5jZXNDaGFuZ2VkPzogKGdyb3VwSWQ6IHN0cmluZywgcHJlZmVyZW5jZXM6IGFueVtdKSA9PiB2b2lkXG4gIG9uVXNlckpvaW5lZD86IChncm91cElkOiBzdHJpbmcsIHVzZXI6IGFueSkgPT4gdm9pZFxuICBvblVzZXJMZWZ0PzogKGdyb3VwSWQ6IHN0cmluZywgdXNlcklkOiBzdHJpbmcpID0+IHZvaWRcbiAgb25Db25mbGljdD86IChjb25mbGljdDogUm91dGVVcGRhdGVDb25mbGljdCkgPT4gdm9pZFxuICBvbkVycm9yPzogKGVycm9yOiBFcnJvcikgPT4gdm9pZFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFjdGl2ZVVzZXIge1xuICB1c2VySWQ6IHN0cmluZyB8IG51bGxcbiAgc2Vzc2lvbklkOiBzdHJpbmcgfCBudWxsXG4gIGRpc3BsYXlOYW1lOiBzdHJpbmdcbiAgYXNzaWduZWRDb2xvcjogc3RyaW5nXG4gIGxhc3RBY3Rpdml0eTogRGF0ZVxuICBpc09ubGluZTogYm9vbGVhblxuICBjdXJyZW50bHlFZGl0aW5nPzoge1xuICAgIGRlc3RpbmF0aW9uSWQ/OiBzdHJpbmdcbiAgICBmaWVsZD86IHN0cmluZ1xuICB9XG59XG5cbi8qKlxuICogUmVhbC10aW1lIHN5bmNocm9uaXphdGlvbiBzZXJ2aWNlIGZvciBjb2xsYWJvcmF0aXZlIHJvdXRlIGVkaXRpbmdcbiAqL1xuZXhwb3J0IGNsYXNzIFJlYWx0aW1lU3luY1NlcnZpY2Uge1xuICBwcml2YXRlIHN1YnNjcmlwdGlvbnMgPSBuZXcgTWFwPHN0cmluZywgYW55PigpXG4gIHByaXZhdGUgYWN0aXZlVXNlcnMgPSBuZXcgTWFwPHN0cmluZywgQWN0aXZlVXNlcltdPigpXG4gIHByaXZhdGUgcHJlc2VuY2VDaGFubmVscyA9IG5ldyBNYXA8c3RyaW5nLCBhbnk+KClcbiAgcHJpdmF0ZSBoZWFydGJlYXRJbnRlcnZhbHMgPSBuZXcgTWFwPHN0cmluZywgTm9kZUpTLlRpbWVvdXQ+KClcblxuICAvKipcbiAgICogU3Vic2NyaWJlIHRvIHJlYWwtdGltZSB1cGRhdGVzIGZvciBhIGdyb3VwXG4gICAqL1xuICBhc3luYyBzdWJzY3JpYmVUb1JvdXRlVXBkYXRlcyhvcHRpb25zOiBSZWFsdGltZVN1YnNjcmlwdGlvbk9wdGlvbnMpIHtcbiAgICBjb25zdCBjaGFubmVsTmFtZSA9IGByb3V0ZS11cGRhdGVzLSR7b3B0aW9ucy5ncm91cElkfWBcbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gU2VydmVyLXNpZGUgcmVhbHRpbWUgc3Vic2NyaXB0aW9ucyBub3QgZnVsbHkgc3VwcG9ydGVkXG4gICAgICBjb25zb2xlLmxvZygnU2VydmVyLXNpZGUgcmVhbHRpbWUgc3Vic2NyaXB0aW9uIGF0dGVtcHRlZCBmb3I6JywgY2hhbm5lbE5hbWUpXG4gICAgICByZXR1cm5cbiAgICAgIFxuICAgICAgLy8gU2V0IHVwIGRhdGFiYXNlIGNoYW5nZXMgc3Vic2NyaXB0aW9uXG4gICAgICAvLyBjb25zdCBjb29raWVTdG9yZSA9IGNvb2tpZXMoKTtcbiAgICAgIC8vIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KGNvb2tpZVN0b3JlKTtcbiAgICAgIC8vIGNvbnN0IHN1YnNjcmlwdGlvbiA9IHN1cGFiYXNlXG4gICAgICAvLyAgIC5jaGFubmVsKGNoYW5uZWxOYW1lKVxuICAgICAgLy8gICAub24oXG4gICAgICAvLyAgICAgJ3Bvc3RncmVzX2NoYW5nZXMnLFxuICAgICAgLy8gICAgIHtcbiAgICAgIC8vICAgICAgIGV2ZW50OiAnVVBEQVRFJyxcbiAgICAgIC8vICAgICAgIHNjaGVtYTogJ3B1YmxpYycsXG4gICAgICAvLyAgICAgICB0YWJsZTogJ29wdGltaXplZF9yb3V0ZXMnLFxuICAgICAgLy8gICAgICAgZmlsdGVyOiBgZ3JvdXBfaWQ9ZXEuJHtvcHRpb25zLmdyb3VwSWR9YFxuICAgICAgLy8gICAgIH0sXG4gICAgICAvLyAgICAgKHBheWxvYWQpID0+IHtcbiAgICAgIC8vICAgICAgIGNvbnNvbGUubG9nKCdSb3V0ZSB1cGRhdGVkIHZpYSBwb3N0Z3JlczonLCBwYXlsb2FkLm5ldylcbiAgICAgIC8vICAgICAgIHRoaXMuaGFuZGxlUm91dGVVcGRhdGUocGF5bG9hZC5uZXcgYXMgT3B0aW1pemVkUm91dGUsIG9wdGlvbnMpXG4gICAgICAvLyAgICAgfVxuICAgICAgLy8gICApXG4gICAgICAvLyAgIC5vbihcbiAgICAgIC8vICAgICAncG9zdGdyZXNfY2hhbmdlcycsXG4gICAgICAvLyAgICAge1xuICAgICAgLy8gICAgICAgZXZlbnQ6ICdJTlNFUlQnLFxuICAgICAgLy8gICAgICAgc2NoZW1hOiAncHVibGljJyxcbiAgICAgIC8vICAgICAgIHRhYmxlOiAnb3B0aW1pemVkX3JvdXRlcycsXG4gICAgICAvLyAgICAgICBmaWx0ZXI6IGBncm91cF9pZD1lcS4ke29wdGlvbnMuZ3JvdXBJZH1gXG4gICAgICAvLyAgICAgfSxcbiAgICAgIC8vICAgICAocGF5bG9hZCkgPT4ge1xuICAgICAgLy8gICAgICAgY29uc29sZS5sb2coJ1JvdXRlIGNyZWF0ZWQgdmlhIHBvc3RncmVzOicsIHBheWxvYWQubmV3KVxuICAgICAgLy8gICAgICAgdGhpcy5oYW5kbGVSb3V0ZVVwZGF0ZShwYXlsb2FkLm5ldyBhcyBPcHRpbWl6ZWRSb3V0ZSwgb3B0aW9ucylcbiAgICAgIC8vICAgICB9XG4gICAgICAvLyAgIClcbiAgICAgIC8vICAgLm9uKFxuICAgICAgLy8gICAgICdwb3N0Z3Jlc19jaGFuZ2VzJyxcbiAgICAgIC8vICAgICB7XG4gICAgICAvLyAgICAgICBldmVudDogJ0RFTEVURScsXG4gICAgICAvLyAgICAgICBzY2hlbWE6ICdwdWJsaWMnLFxuICAgICAgLy8gICAgICAgdGFibGU6ICdvcHRpbWl6ZWRfcm91dGVzJyxcbiAgICAgIC8vICAgICAgIGZpbHRlcjogYGdyb3VwX2lkPWVxLiR7b3B0aW9ucy5ncm91cElkfWBcbiAgICAgIC8vICAgICB9LFxuICAgICAgLy8gICAgIChwYXlsb2FkKSA9PiB7XG4gICAgICAvLyAgICAgICBjb25zb2xlLmxvZygnUm91dGUgZGVsZXRlZCB2aWEgcG9zdGdyZXM6JywgcGF5bG9hZC5vbGQpXG4gICAgICAvLyAgICAgICBvcHRpb25zLm9uUm91dGVEZWxldGVkPy4ob3B0aW9ucy5ncm91cElkKVxuICAgICAgLy8gICAgIH1cbiAgICAgIC8vICAgKVxuICAgICAgLy8gICAub24oXG4gICAgICAvLyAgICAgJ3Bvc3RncmVzX2NoYW5nZXMnLFxuICAgICAgLy8gICAgIHtcbiAgICAgIC8vICAgICAgIGV2ZW50OiAnKicsXG4gICAgICAvLyAgICAgICBzY2hlbWE6ICdwdWJsaWMnLFxuICAgICAgLy8gICAgICAgdGFibGU6ICd1c2VyX3ByZWZlcmVuY2VzJyxcbiAgICAgIC8vICAgICAgIGZpbHRlcjogYGdyb3VwX2lkPWVxLiR7b3B0aW9ucy5ncm91cElkfWBcbiAgICAgIC8vICAgICB9LFxuICAgICAgLy8gICAgIChwYXlsb2FkKSA9PiB7XG4gICAgICAvLyAgICAgICBjb25zb2xlLmxvZygnVXNlciBwcmVmZXJlbmNlcyBjaGFuZ2VkOicsIHBheWxvYWQpXG4gICAgICAvLyAgICAgICB0aGlzLmhhbmRsZVByZWZlcmVuY2VzVXBkYXRlKG9wdGlvbnMuZ3JvdXBJZCwgcGF5bG9hZCwgb3B0aW9ucylcbiAgICAgIC8vICAgICB9XG4gICAgICAvLyAgIClcbiAgICAgIC8vICAgLm9uKFxuICAgICAgLy8gICAgICdicm9hZGNhc3QnLFxuICAgICAgLy8gICAgIHsgZXZlbnQ6ICdyb3V0ZS11cGRhdGVkJyB9LFxuICAgICAgLy8gICAgIChwYXlsb2FkKSA9PiB7XG4gICAgICAvLyAgICAgICBjb25zb2xlLmxvZygnUm91dGUgdXBkYXRlZCB2aWEgYnJvYWRjYXN0OicsIHBheWxvYWQpXG4gICAgICAvLyAgICAgICB0aGlzLmhhbmRsZUJyb2FkY2FzdFVwZGF0ZShwYXlsb2FkLCBvcHRpb25zKVxuICAgICAgLy8gICAgIH1cbiAgICAgIC8vICAgKVxuICAgICAgLy8gICAub24oXG4gICAgICAvLyAgICAgJ2Jyb2FkY2FzdCcsXG4gICAgICAvLyAgICAgeyBldmVudDogJ2NvbmZsaWN0LWRldGVjdGVkJyB9LFxuICAgICAgLy8gICAgIChwYXlsb2FkKSA9PiB7XG4gICAgICAvLyAgICAgICBjb25zb2xlLmxvZygnQ29uZmxpY3QgZGV0ZWN0ZWQ6JywgcGF5bG9hZClcbiAgICAgIC8vICAgICAgIHRoaXMuaGFuZGxlQ29uZmxpY3REZXRlY3Rpb24ocGF5bG9hZC5jb25mbGljdCwgb3B0aW9ucylcbiAgICAgIC8vICAgICB9XG4gICAgICAvLyAgIClcbiAgICAgIC8vICAgLnN1YnNjcmliZSgpXG5cbiAgICAgIC8vIHRoaXMuc3Vic2NyaXB0aW9ucy5zZXQob3B0aW9ucy5ncm91cElkLCBzdWJzY3JpcHRpb24pXG5cbiAgICAgIC8vIFNldCB1cCBwcmVzZW5jZSB0cmFja2luZ1xuICAgICAgYXdhaXQgdGhpcy5zZXR1cFByZXNlbmNlVHJhY2tpbmcob3B0aW9ucylcblxuICAgICAgLy8gRm9yIG5vdyByZXR1cm4gbnVsbCBzaW5jZSBzdWJzY3JpcHRpb24gaXMgY29tbWVudGVkIG91dFxuICAgICAgcmV0dXJuIG51bGxcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHN1YnNjcmliZSB0byByb3V0ZSB1cGRhdGVzOicsIGVycm9yKVxuICAgICAgb3B0aW9ucy5vbkVycm9yPy4oZXJyb3IgYXMgRXJyb3IpXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdXAgcHJlc2VuY2UgdHJhY2tpbmcgZm9yIGNvbGxhYm9yYXRpdmUgZWRpdGluZ1xuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBzZXR1cFByZXNlbmNlVHJhY2tpbmcob3B0aW9uczogUmVhbHRpbWVTdWJzY3JpcHRpb25PcHRpb25zKSB7XG4gICAgY29uc3QgcHJlc2VuY2VDaGFubmVsTmFtZSA9IGBwcmVzZW5jZS0ke29wdGlvbnMuZ3JvdXBJZH1gXG4gICAgXG4gICAgLy8gU2VydmVyLXNpZGUgcHJlc2VuY2UgdHJhY2tpbmcgbm90IHN1cHBvcnRlZFxuICAgIGNvbnNvbGUubG9nKCdTZXJ2ZXItc2lkZSBwcmVzZW5jZSB0cmFja2luZyBhdHRlbXB0ZWQgZm9yOicsIHByZXNlbmNlQ2hhbm5lbE5hbWUpXG4gICAgcmV0dXJuXG4gICAgXG4gICAgLy8gY29uc3QgY29va2llU3RvcmUgPSBjb29raWVzKCk7XG4gICAgLy8gY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoY29va2llU3RvcmUpO1xuICAgIC8vIGNvbnN0IHByZXNlbmNlQ2hhbm5lbCA9IHN1cGFiYXNlXG4gICAgLy8gICAuY2hhbm5lbChwcmVzZW5jZUNoYW5uZWxOYW1lLCB7XG4gICAgLy8gICAgIGNvbmZpZzoge1xuICAgIC8vICAgICAgIHByZXNlbmNlOiB7XG4gICAgLy8gICAgICAgICBrZXk6IG9wdGlvbnMudXNlcklkIHx8IG9wdGlvbnMuc2Vzc2lvbklkIHx8ICdhbm9ueW1vdXMnXG4gICAgLy8gICAgICAgfVxuICAgIC8vICAgICB9XG4gICAgLy8gICB9KVxuICAgIC8vICAgLm9uKCdwcmVzZW5jZScsIHsgZXZlbnQ6ICdzeW5jJyB9LCAoKSA9PiB7XG4gICAgLy8gICAgIGNvbnN0IHN0YXRlID0gcHJlc2VuY2VDaGFubmVsLnByZXNlbmNlU3RhdGUoKVxuICAgIC8vICAgICB0aGlzLnVwZGF0ZUFjdGl2ZVVzZXJzKG9wdGlvbnMuZ3JvdXBJZCwgc3RhdGUpXG4gICAgLy8gICB9KVxuICAgIC8vICAgLm9uKCdwcmVzZW5jZScsIHsgZXZlbnQ6ICdqb2luJyB9LCAoeyBrZXksIG5ld1ByZXNlbmNlcyB9KSA9PiB7XG4gICAgLy8gICAgIGNvbnNvbGUubG9nKCdVc2VyIGpvaW5lZDonLCBrZXksIG5ld1ByZXNlbmNlcylcbiAgICAvLyAgICAgY29uc3QgdXNlciA9IG5ld1ByZXNlbmNlc1swXVxuICAgIC8vICAgICBvcHRpb25zLm9uVXNlckpvaW5lZD8uKG9wdGlvbnMuZ3JvdXBJZCwgdXNlcilcbiAgICAvLyAgIH0pXG4gICAgLy8gICAub24oJ3ByZXNlbmNlJywgeyBldmVudDogJ2xlYXZlJyB9LCAoeyBrZXksIGxlZnRQcmVzZW5jZXMgfSkgPT4ge1xuICAgIC8vICAgICBjb25zb2xlLmxvZygnVXNlciBsZWZ0OicsIGtleSwgbGVmdFByZXNlbmNlcylcbiAgICAvLyAgICAgb3B0aW9ucy5vblVzZXJMZWZ0Py4ob3B0aW9ucy5ncm91cElkLCBrZXkpXG4gICAgLy8gICB9KVxuICAgIC8vICAgLnN1YnNjcmliZShhc3luYyAoc3RhdHVzKSA9PiB7XG4gICAgLy8gICAgIGlmIChzdGF0dXMgPT09ICdTVUJTQ1JJQkVEJykge1xuICAgIC8vICAgICAgIC8vIFRyYWNrIGN1cnJlbnQgdXNlcidzIHByZXNlbmNlXG4gICAgLy8gICAgICAgYXdhaXQgcHJlc2VuY2VDaGFubmVsLnRyYWNrKHtcbiAgICAvLyAgICAgICAgIHVzZXJJZDogb3B0aW9ucy51c2VySWQsXG4gICAgLy8gICAgICAgICBzZXNzaW9uSWQ6IG9wdGlvbnMuc2Vzc2lvbklkLFxuICAgIC8vICAgICAgICAgZGlzcGxheU5hbWU6ICdVc2VyJywgLy8gVGhpcyBzaG91bGQgY29tZSBmcm9tIHVzZXIgY29udGV4dFxuICAgIC8vICAgICAgICAgYXNzaWduZWRDb2xvcjogJyMzQjgyRjYnLCAvLyBUaGlzIHNob3VsZCBjb21lIGZyb20gdXNlciBjb250ZXh0XG4gICAgLy8gICAgICAgICBsYXN0QWN0aXZpdHk6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAvLyAgICAgICAgIGlzT25saW5lOiB0cnVlXG4gICAgLy8gICAgICAgfSlcbiAgICAvLyAgICAgfVxuICAgIC8vICAgfSlcblxuICAgIC8vIHRoaXMucHJlc2VuY2VDaGFubmVscy5zZXQob3B0aW9ucy5ncm91cElkLCBwcmVzZW5jZUNoYW5uZWwpXG5cbiAgICAvLyBTZXQgdXAgaGVhcnRiZWF0IGZvciBwcmVzZW5jZVxuICAgIC8vIGNvbnN0IGhlYXJ0YmVhdCA9IHNldEludGVydmFsKGFzeW5jICgpID0+IHtcbiAgICAvLyAgIGF3YWl0IHByZXNlbmNlQ2hhbm5lbC50cmFjayh7XG4gICAgLy8gICAgIHVzZXJJZDogb3B0aW9ucy51c2VySWQsXG4gICAgLy8gICAgIHNlc3Npb25JZDogb3B0aW9ucy5zZXNzaW9uSWQsXG4gICAgLy8gICAgIGxhc3RBY3Rpdml0eTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIC8vICAgICBpc09ubGluZTogdHJ1ZVxuICAgIC8vICAgfSlcbiAgICAvLyB9LCAzMDAwMCkgLy8gVXBkYXRlIGV2ZXJ5IDMwIHNlY29uZHNcblxuICAgIC8vIHRoaXMuaGVhcnRiZWF0SW50ZXJ2YWxzLnNldChvcHRpb25zLmdyb3VwSWQsIGhlYXJ0YmVhdClcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgYWN0aXZlIHVzZXJzIGxpc3RcbiAgICovXG4gIHByaXZhdGUgdXBkYXRlQWN0aXZlVXNlcnMoZ3JvdXBJZDogc3RyaW5nLCBwcmVzZW5jZVN0YXRlOiBhbnkpIHtcbiAgICBjb25zdCB1c2VyczogQWN0aXZlVXNlcltdID0gT2JqZWN0LmVudHJpZXMocHJlc2VuY2VTdGF0ZSkubWFwKChba2V5LCBwcmVzZW5jZV06IFtzdHJpbmcsIGFueV0pID0+ICh7XG4gICAgICB1c2VySWQ6IHByZXNlbmNlWzBdPy51c2VySWQgfHwgbnVsbCxcbiAgICAgIHNlc3Npb25JZDogcHJlc2VuY2VbMF0/LnNlc3Npb25JZCB8fCBudWxsLFxuICAgICAgZGlzcGxheU5hbWU6IHByZXNlbmNlWzBdPy5kaXNwbGF5TmFtZSB8fCAnQW5vbnltb3VzJyxcbiAgICAgIGFzc2lnbmVkQ29sb3I6IHByZXNlbmNlWzBdPy5hc3NpZ25lZENvbG9yIHx8ICcjNkI3MjgwJyxcbiAgICAgIGxhc3RBY3Rpdml0eTogbmV3IERhdGUocHJlc2VuY2VbMF0/Lmxhc3RBY3Rpdml0eSB8fCBEYXRlLm5vdygpKSxcbiAgICAgIGlzT25saW5lOiBwcmVzZW5jZVswXT8uaXNPbmxpbmUgfHwgZmFsc2UsXG4gICAgICBjdXJyZW50bHlFZGl0aW5nOiBwcmVzZW5jZVswXT8uY3VycmVudGx5RWRpdGluZ1xuICAgIH0pKVxuXG4gICAgdGhpcy5hY3RpdmVVc2Vycy5zZXQoZ3JvdXBJZCwgdXNlcnMpXG4gIH1cblxuICAvKipcbiAgICogR2V0IGFjdGl2ZSB1c2VycyBmb3IgYSBncm91cFxuICAgKi9cbiAgZ2V0QWN0aXZlVXNlcnMoZ3JvdXBJZDogc3RyaW5nKTogQWN0aXZlVXNlcltdIHtcbiAgICByZXR1cm4gdGhpcy5hY3RpdmVVc2Vycy5nZXQoZ3JvdXBJZCkgfHwgW11cbiAgfVxuXG4gIC8qKlxuICAgKiBCcm9hZGNhc3Qgcm91dGUgdXBkYXRlIHRvIGFsbCBjb25uZWN0ZWQgY2xpZW50c1xuICAgKi9cbiAgYXN5bmMgYnJvYWRjYXN0Um91dGVVcGRhdGUoXG4gICAgZ3JvdXBJZDogc3RyaW5nLCBcbiAgICB1cGRhdGVkUm91dGU6IE9wdGltaXplZFJvdXRlLFxuICAgIGNoYW5nZUluZm8/OiB7XG4gICAgICB1c2VySWQ/OiBzdHJpbmcgfCBudWxsXG4gICAgICBzZXNzaW9uSWQ/OiBzdHJpbmcgfCBudWxsXG4gICAgICBjaGFuZ2VUeXBlPzogc3RyaW5nXG4gICAgICBjaGFuZ2VkRmllbGRzPzogc3RyaW5nW11cbiAgICB9XG4gICkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjaGFubmVsID0gdGhpcy5zdWJzY3JpcHRpb25zLmdldChncm91cElkKVxuICAgICAgaWYgKGNoYW5uZWwpIHtcbiAgICAgICAgYXdhaXQgY2hhbm5lbC5zZW5kKHtcbiAgICAgICAgICB0eXBlOiAnYnJvYWRjYXN0JyxcbiAgICAgICAgICBldmVudDogJ3JvdXRlLXVwZGF0ZWQnLFxuICAgICAgICAgIHBheWxvYWQ6IHsgXG4gICAgICAgICAgICBncm91cElkLCBcbiAgICAgICAgICAgIHJvdXRlOiB1cGRhdGVkUm91dGUsXG4gICAgICAgICAgICBjaGFuZ2VJbmZvOiB7XG4gICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAuLi5jaGFuZ2VJbmZvXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gYnJvYWRjYXN0IHJvdXRlIHVwZGF0ZTonLCBlcnJvcilcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQnJvYWRjYXN0IGNvbmZsaWN0IGRldGVjdGlvblxuICAgKi9cbiAgYXN5bmMgYnJvYWRjYXN0Q29uZmxpY3QoZ3JvdXBJZDogc3RyaW5nLCBjb25mbGljdDogUm91dGVVcGRhdGVDb25mbGljdCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjaGFubmVsID0gdGhpcy5zdWJzY3JpcHRpb25zLmdldChncm91cElkKVxuICAgICAgaWYgKGNoYW5uZWwpIHtcbiAgICAgICAgYXdhaXQgY2hhbm5lbC5zZW5kKHtcbiAgICAgICAgICB0eXBlOiAnYnJvYWRjYXN0JyxcbiAgICAgICAgICBldmVudDogJ2NvbmZsaWN0LWRldGVjdGVkJyxcbiAgICAgICAgICBwYXlsb2FkOiB7IGdyb3VwSWQsIGNvbmZsaWN0IH1cbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGJyb2FkY2FzdCBjb25mbGljdDonLCBlcnJvcilcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHVzZXIncyBjdXJyZW50IGVkaXRpbmcgc3RhdHVzXG4gICAqL1xuICBhc3luYyB1cGRhdGVFZGl0aW5nU3RhdHVzKFxuICAgIGdyb3VwSWQ6IHN0cmluZyxcbiAgICB1c2VySWQ6IHN0cmluZyB8IG51bGwsXG4gICAgc2Vzc2lvbklkOiBzdHJpbmcgfCBudWxsLFxuICAgIGVkaXRpbmdJbmZvPzoge1xuICAgICAgZGVzdGluYXRpb25JZD86IHN0cmluZ1xuICAgICAgZmllbGQ/OiBzdHJpbmdcbiAgICB9XG4gICkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwcmVzZW5jZUNoYW5uZWwgPSB0aGlzLnByZXNlbmNlQ2hhbm5lbHMuZ2V0KGdyb3VwSWQpXG4gICAgICBpZiAocHJlc2VuY2VDaGFubmVsKSB7XG4gICAgICAgIGF3YWl0IHByZXNlbmNlQ2hhbm5lbC50cmFjayh7XG4gICAgICAgICAgdXNlcklkLFxuICAgICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgICBsYXN0QWN0aXZpdHk6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICBpc09ubGluZTogdHJ1ZSxcbiAgICAgICAgICBjdXJyZW50bHlFZGl0aW5nOiBlZGl0aW5nSW5mb1xuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gdXBkYXRlIGVkaXRpbmcgc3RhdHVzOicsIGVycm9yKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgcm91dGUgdXBkYXRlIGZyb20gZGF0YWJhc2UgY2hhbmdlc1xuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBoYW5kbGVSb3V0ZVVwZGF0ZShcbiAgICByb3V0ZTogT3B0aW1pemVkUm91dGUsIFxuICAgIG9wdGlvbnM6IFJlYWx0aW1lU3Vic2NyaXB0aW9uT3B0aW9uc1xuICApIHtcbiAgICB0cnkge1xuICAgICAgLy8gQ2hlY2sgaWYgdGhpcyB1cGRhdGUgY29uZmxpY3RzIHdpdGggYW55IGxvY2FsIGNoYW5nZXNcbiAgICAgIC8vIFRoaXMgd291bGQgYmUgaW1wbGVtZW50ZWQgYmFzZWQgb24geW91ciBjb25mbGljdCBkZXRlY3Rpb24gc3RyYXRlZ3lcbiAgICAgIG9wdGlvbnMub25Sb3V0ZVVwZGF0ZT8uKHJvdXRlKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBoYW5kbGluZyByb3V0ZSB1cGRhdGU6JywgZXJyb3IpXG4gICAgICBvcHRpb25zLm9uRXJyb3I/LihlcnJvciBhcyBFcnJvcilcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHByZWZlcmVuY2VzIHVwZGF0ZSBmcm9tIGRhdGFiYXNlIGNoYW5nZXNcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgaGFuZGxlUHJlZmVyZW5jZXNVcGRhdGUoXG4gICAgZ3JvdXBJZDogc3RyaW5nLFxuICAgIHBheWxvYWQ6IGFueSxcbiAgICBvcHRpb25zOiBSZWFsdGltZVN1YnNjcmlwdGlvbk9wdGlvbnNcbiAgKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEZldGNoIHVwZGF0ZWQgcHJlZmVyZW5jZXNcbiAgICAgIGNvbnN0IGNvb2tpZVN0b3JlID0gY29va2llcygpO1xuICAgICAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoY29va2llU3RvcmUpO1xuICAgICAgY29uc3QgeyBkYXRhOiBwcmVmZXJlbmNlcyB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3VzZXJfcHJlZmVyZW5jZXMnKVxuICAgICAgICAuc2VsZWN0KCcqJylcbiAgICAgICAgLmVxKCdncm91cF9pZCcsIGdyb3VwSWQpXG5cbiAgICAgIG9wdGlvbnMub25QcmVmZXJlbmNlc0NoYW5nZWQ/Lihncm91cElkLCBwcmVmZXJlbmNlcyB8fCBbXSlcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaGFuZGxpbmcgcHJlZmVyZW5jZXMgdXBkYXRlOicsIGVycm9yKVxuICAgICAgb3B0aW9ucy5vbkVycm9yPy4oZXJyb3IgYXMgRXJyb3IpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBicm9hZGNhc3QgdXBkYXRlc1xuICAgKi9cbiAgcHJpdmF0ZSBoYW5kbGVCcm9hZGNhc3RVcGRhdGUocGF5bG9hZDogYW55LCBvcHRpb25zOiBSZWFsdGltZVN1YnNjcmlwdGlvbk9wdGlvbnMpIHtcbiAgICB0cnkge1xuICAgICAgaWYgKHBheWxvYWQucm91dGUpIHtcbiAgICAgICAgb3B0aW9ucy5vblJvdXRlVXBkYXRlPy4ocGF5bG9hZC5yb3V0ZSlcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaGFuZGxpbmcgYnJvYWRjYXN0IHVwZGF0ZTonLCBlcnJvcilcbiAgICAgIG9wdGlvbnMub25FcnJvcj8uKGVycm9yIGFzIEVycm9yKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgY29uZmxpY3QgZGV0ZWN0aW9uXG4gICAqL1xuICBwcml2YXRlIGhhbmRsZUNvbmZsaWN0RGV0ZWN0aW9uKGNvbmZsaWN0OiBSb3V0ZVVwZGF0ZUNvbmZsaWN0LCBvcHRpb25zOiBSZWFsdGltZVN1YnNjcmlwdGlvbk9wdGlvbnMpIHtcbiAgICB0cnkge1xuICAgICAgb3B0aW9ucy5vbkNvbmZsaWN0Py4oY29uZmxpY3QpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGhhbmRsaW5nIGNvbmZsaWN0IGRldGVjdGlvbjonLCBlcnJvcilcbiAgICAgIG9wdGlvbnMub25FcnJvcj8uKGVycm9yIGFzIEVycm9yKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVbnN1YnNjcmliZSBmcm9tIGFsbCB1cGRhdGVzIGZvciBhIGdyb3VwXG4gICAqL1xuICBhc3luYyB1bnN1YnNjcmliZShncm91cElkOiBzdHJpbmcpIHtcbiAgICB0cnkge1xuICAgICAgLy8gVW5zdWJzY3JpYmUgZnJvbSByb3V0ZSB1cGRhdGVzXG4gICAgICBjb25zdCBzdWJzY3JpcHRpb24gPSB0aGlzLnN1YnNjcmlwdGlvbnMuZ2V0KGdyb3VwSWQpXG4gICAgICBpZiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgIGF3YWl0IHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpXG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5kZWxldGUoZ3JvdXBJZClcbiAgICAgIH1cblxuICAgICAgLy8gVW5zdWJzY3JpYmUgZnJvbSBwcmVzZW5jZVxuICAgICAgY29uc3QgcHJlc2VuY2VDaGFubmVsID0gdGhpcy5wcmVzZW5jZUNoYW5uZWxzLmdldChncm91cElkKVxuICAgICAgaWYgKHByZXNlbmNlQ2hhbm5lbCkge1xuICAgICAgICBhd2FpdCBwcmVzZW5jZUNoYW5uZWwudW50cmFjaygpXG4gICAgICAgIGF3YWl0IHByZXNlbmNlQ2hhbm5lbC51bnN1YnNjcmliZSgpXG4gICAgICAgIHRoaXMucHJlc2VuY2VDaGFubmVscy5kZWxldGUoZ3JvdXBJZClcbiAgICAgIH1cblxuICAgICAgLy8gQ2xlYXIgaGVhcnRiZWF0XG4gICAgICBjb25zdCBoZWFydGJlYXQgPSB0aGlzLmhlYXJ0YmVhdEludGVydmFscy5nZXQoZ3JvdXBJZClcbiAgICAgIGlmIChoZWFydGJlYXQpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChoZWFydGJlYXQpXG4gICAgICAgIHRoaXMuaGVhcnRiZWF0SW50ZXJ2YWxzLmRlbGV0ZShncm91cElkKVxuICAgICAgfVxuXG4gICAgICAvLyBDbGVhciBhY3RpdmUgdXNlcnNcbiAgICAgIHRoaXMuYWN0aXZlVXNlcnMuZGVsZXRlKGdyb3VwSWQpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVuc3Vic2NyaWJpbmcgZnJvbSBncm91cDonLCBlcnJvcilcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVW5zdWJzY3JpYmUgZnJvbSBhbGwgZ3JvdXBzXG4gICAqL1xuICBhc3luYyB1bnN1YnNjcmliZUFsbCgpIHtcbiAgICBjb25zdCBncm91cElkcyA9IEFycmF5LmZyb20odGhpcy5zdWJzY3JpcHRpb25zLmtleXMoKSlcbiAgICBhd2FpdCBQcm9taXNlLmFsbChncm91cElkcy5tYXAoZ3JvdXBJZCA9PiB0aGlzLnVuc3Vic2NyaWJlKGdyb3VwSWQpKSlcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBjb25uZWN0aW9uIHN0YXR1c1xuICAgKi9cbiAgaXNDb25uZWN0ZWQoKTogYm9vbGVhbiB7XG4gICAgLy8gU2VydmVyLXNpZGUgcmVhbHRpbWUgY29ubmVjdGlvbiBjaGVjayBub3QgYXZhaWxhYmxlXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICAvKipcbiAgICogR2V0IGNvbm5lY3Rpb24gc3RhdGVcbiAgICovXG4gIGdldENvbm5lY3Rpb25TdGF0ZSgpOiBzdHJpbmcge1xuICAgIC8vIFNlcnZlci1zaWRlIHJlYWx0aW1lIHN0YXRlIG5vdCBhdmFpbGFibGVcbiAgICByZXR1cm4gJ2Rpc2Nvbm5lY3RlZCdcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3JjZSByZWNvbm5lY3Rpb25cbiAgICovXG4gIGFzeW5jIHJlY29ubmVjdCgpIHtcbiAgICAvLyBTZXJ2ZXItc2lkZSByZWFsdGltZSByZWNvbm5lY3Rpb24gbm90IGF2YWlsYWJsZVxuICAgIGNvbnNvbGUubG9nKCdSZWFsdGltZSByZWNvbm5lY3Rpb24gbm90IGF2YWlsYWJsZSBvbiBzZXJ2ZXItc2lkZScpXG4gIH1cbn1cblxuLy8gRXhwb3J0IHNpbmdsZXRvbiBpbnN0YW5jZVxuZXhwb3J0IGNvbnN0IHJlYWx0aW1lU3luY1NlcnZpY2UgPSBuZXcgUmVhbHRpbWVTeW5jU2VydmljZSgpXG5leHBvcnQgZGVmYXVsdCByZWFsdGltZVN5bmNTZXJ2aWNlIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsImNvb2tpZXMiLCJSZWFsdGltZVN5bmNTZXJ2aWNlIiwic3Vic2NyaWJlVG9Sb3V0ZVVwZGF0ZXMiLCJvcHRpb25zIiwiY2hhbm5lbE5hbWUiLCJncm91cElkIiwiY29uc29sZSIsImxvZyIsInNldHVwUHJlc2VuY2VUcmFja2luZyIsImVycm9yIiwib25FcnJvciIsInByZXNlbmNlQ2hhbm5lbE5hbWUiLCJ1cGRhdGVBY3RpdmVVc2VycyIsInByZXNlbmNlU3RhdGUiLCJ1c2VycyIsIk9iamVjdCIsImVudHJpZXMiLCJtYXAiLCJrZXkiLCJwcmVzZW5jZSIsInVzZXJJZCIsInNlc3Npb25JZCIsImRpc3BsYXlOYW1lIiwiYXNzaWduZWRDb2xvciIsImxhc3RBY3Rpdml0eSIsIkRhdGUiLCJub3ciLCJpc09ubGluZSIsImN1cnJlbnRseUVkaXRpbmciLCJhY3RpdmVVc2VycyIsInNldCIsImdldEFjdGl2ZVVzZXJzIiwiZ2V0IiwiYnJvYWRjYXN0Um91dGVVcGRhdGUiLCJ1cGRhdGVkUm91dGUiLCJjaGFuZ2VJbmZvIiwiY2hhbm5lbCIsInN1YnNjcmlwdGlvbnMiLCJzZW5kIiwidHlwZSIsImV2ZW50IiwicGF5bG9hZCIsInJvdXRlIiwidGltZXN0YW1wIiwidG9JU09TdHJpbmciLCJicm9hZGNhc3RDb25mbGljdCIsImNvbmZsaWN0IiwidXBkYXRlRWRpdGluZ1N0YXR1cyIsImVkaXRpbmdJbmZvIiwicHJlc2VuY2VDaGFubmVsIiwicHJlc2VuY2VDaGFubmVscyIsInRyYWNrIiwiaGFuZGxlUm91dGVVcGRhdGUiLCJvblJvdXRlVXBkYXRlIiwiaGFuZGxlUHJlZmVyZW5jZXNVcGRhdGUiLCJjb29raWVTdG9yZSIsInN1cGFiYXNlIiwiZGF0YSIsInByZWZlcmVuY2VzIiwiZnJvbSIsInNlbGVjdCIsImVxIiwib25QcmVmZXJlbmNlc0NoYW5nZWQiLCJoYW5kbGVCcm9hZGNhc3RVcGRhdGUiLCJoYW5kbGVDb25mbGljdERldGVjdGlvbiIsIm9uQ29uZmxpY3QiLCJ1bnN1YnNjcmliZSIsInN1YnNjcmlwdGlvbiIsImRlbGV0ZSIsInVudHJhY2siLCJoZWFydGJlYXQiLCJoZWFydGJlYXRJbnRlcnZhbHMiLCJjbGVhckludGVydmFsIiwidW5zdWJzY3JpYmVBbGwiLCJncm91cElkcyIsIkFycmF5Iiwia2V5cyIsIlByb21pc2UiLCJhbGwiLCJpc0Nvbm5lY3RlZCIsImdldENvbm5lY3Rpb25TdGF0ZSIsInJlY29ubmVjdCIsIk1hcCIsInJlYWx0aW1lU3luY1NlcnZpY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./lib/services/real-time-sync.ts\n");

/***/ }),

/***/ "(action-browser)/./lib/services/route-cache.ts":
/*!*************************************!*\
  !*** ./lib/services/route-cache.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BatchOperationManager: () => (/* binding */ BatchOperationManager),\n/* harmony export */   QueryOptimizer: () => (/* binding */ QueryOptimizer),\n/* harmony export */   RouteDataCache: () => (/* binding */ RouteDataCache),\n/* harmony export */   batchOperationManager: () => (/* binding */ batchOperationManager),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   queryOptimizer: () => (/* binding */ queryOptimizer),\n/* harmony export */   routeDataCache: () => (/* binding */ routeDataCache)\n/* harmony export */ });\n/* harmony import */ var _lib_types_route_storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/types/route-storage */ \"(action-browser)/./lib/types/route-storage.ts\");\n// Caching and performance optimization for route data\n\n/**\n * Multi-level caching system for route data\n */ class RouteDataCache {\n    /**\n   * Get route from cache with fallback strategy\n   */ async getRoute(groupId, fetchFromDb) {\n        const startTime = performance.now();\n        let cacheHit = false;\n        let result = null;\n        try {\n            // Try memory cache first\n            const cached = this.getFromMemoryCache(groupId);\n            if (cached) {\n                cacheHit = true;\n                result = cached;\n                this.metrics.hits++;\n                return cached;\n            }\n            // Try local storage (for guest users and offline support)\n            const localCached = this.getFromLocalStorage(groupId);\n            if (localCached) {\n                // Update memory cache\n                this.setInMemoryCache(groupId, localCached);\n                cacheHit = true;\n                result = localCached;\n                this.metrics.hits++;\n                return localCached;\n            }\n            // Fetch from database\n            this.metrics.misses++;\n            const dbResult = await fetchFromDb();\n            if (dbResult?.route_data) {\n                result = dbResult.route_data;\n                // Store in both caches\n                this.setInMemoryCache(groupId, dbResult.route_data, dbResult.version);\n                this.saveToLocalStorage(groupId, dbResult.route_data, dbResult.version);\n            }\n            return result;\n        } catch (error) {\n            this.metrics.errors++;\n            console.error(\"Cache error:\", error);\n            // Fallback to database\n            const dbResult = await fetchFromDb();\n            return dbResult?.route_data || null;\n        } finally{\n            // Record performance metrics\n            this.recordMetrics(\"get_route\", performance.now() - startTime, cacheHit, groupId);\n        }\n    }\n    /**\n   * Set route in cache\n   */ setRoute(groupId, routeData, version) {\n        try {\n            this.setInMemoryCache(groupId, routeData, version);\n            this.saveToLocalStorage(groupId, routeData, version);\n        } catch (error) {\n            console.error(\"Failed to set cache:\", error);\n        }\n    }\n    /**\n   * Invalidate cache for a group\n   */ invalidateCache(groupId) {\n        try {\n            this.memoryCache.delete(groupId);\n            this.removeFromLocalStorage(groupId);\n            this.metrics.invalidations++;\n        } catch (error) {\n            this.metrics.errors++;\n            throw new _lib_types_route_storage__WEBPACK_IMPORTED_MODULE_0__.CacheInvalidationError(`Failed to invalidate cache for group ${groupId}`, groupId, \"all\");\n        }\n    }\n    /**\n   * Memory cache operations\n   */ getFromMemoryCache(groupId) {\n        const entry = this.memoryCache.get(groupId);\n        if (!entry) {\n            return null;\n        }\n        // Check if expired\n        if (Date.now() > entry.expires_at) {\n            this.memoryCache.delete(groupId);\n            return null;\n        }\n        return entry.data;\n    }\n    setInMemoryCache(groupId, data, version = 0) {\n        // Clean up old entries if cache is full\n        if (this.memoryCache.size >= this.MAX_MEMORY_ENTRIES) {\n            this.cleanupMemoryCache();\n        }\n        const entry = {\n            data,\n            timestamp: Date.now(),\n            expires_at: Date.now() + this.CACHE_EXPIRY_MS,\n            version,\n            group_id: groupId\n        };\n        this.memoryCache.set(groupId, entry);\n    }\n    cleanupMemoryCache() {\n        // Remove expired entries first\n        const now = Date.now();\n        const entries = Array.from(this.memoryCache.entries());\n        for (const [key, entry] of entries){\n            if (now > entry.expires_at) {\n                this.memoryCache.delete(key);\n            }\n        }\n        // If still too many, remove oldest entries\n        if (this.memoryCache.size >= this.MAX_MEMORY_ENTRIES) {\n            const entries = Array.from(this.memoryCache.entries());\n            entries.sort((a, b)=>a[1].timestamp - b[1].timestamp);\n            const toRemove = entries.slice(0, this.memoryCache.size - this.MAX_MEMORY_ENTRIES + 10);\n            toRemove.forEach(([key])=>this.memoryCache.delete(key));\n        }\n    }\n    /**\n   * Local storage operations\n   */ getFromLocalStorage(groupId) {\n        try {\n            if (true) return null;\n            const key = this.LOCAL_STORAGE_PREFIX + groupId;\n            const stored = localStorage.getItem(key);\n            if (!stored) return null;\n            const parsed = JSON.parse(stored);\n            // Check if expired\n            if (Date.now() > parsed.expires_at) {\n                localStorage.removeItem(key);\n                return null;\n            }\n            return parsed.data;\n        } catch (error) {\n            console.error(\"Error reading from local storage:\", error);\n            return null;\n        }\n    }\n    saveToLocalStorage(groupId, data, version = 0) {\n        try {\n            if (true) return;\n            const key = this.LOCAL_STORAGE_PREFIX + groupId;\n            const entry = {\n                data,\n                timestamp: Date.now(),\n                expires_at: Date.now() + this.LOCAL_STORAGE_EXPIRY_MS,\n                version,\n                group_id: groupId\n            };\n            localStorage.setItem(key, JSON.stringify(entry));\n        } catch (error) {\n            console.error(\"Error saving to local storage:\", error);\n        // Ignore errors (storage quota, private browsing, etc.)\n        }\n    }\n    removeFromLocalStorage(groupId) {\n        try {\n            if (true) return;\n            const key = this.LOCAL_STORAGE_PREFIX + groupId;\n            localStorage.removeItem(key);\n        } catch (error) {\n            console.error(\"Error removing from local storage:\", error);\n        }\n    }\n    /**\n   * Cache validation\n   */ isValidCache(groupId) {\n        const entry = this.memoryCache.get(groupId);\n        return entry ? Date.now() <= entry.expires_at : false;\n    }\n    /**\n   * Get cache statistics\n   */ getStats() {\n        return {\n            ...this.metrics,\n            memoryEntries: this.memoryCache.size,\n            hitRate: this.metrics.hits / (this.metrics.hits + this.metrics.misses) || 0\n        };\n    }\n    /**\n   * Clear all caches\n   */ clearAll() {\n        this.memoryCache.clear();\n        if (false) {}\n    }\n    /**\n   * Preload routes for better performance\n   */ async preloadRoutes(groupIds, fetchFunction) {\n        const promises = groupIds.map(async (groupId)=>{\n            try {\n                if (!this.isValidCache(groupId)) {\n                    const route = await fetchFunction(groupId);\n                    if (route?.route_data) {\n                        this.setRoute(groupId, route.route_data, route.version);\n                    }\n                }\n            } catch (error) {\n                console.error(`Failed to preload route for group ${groupId}:`, error);\n            }\n        });\n        await Promise.allSettled(promises);\n    }\n    /**\n   * Record performance metrics\n   */ recordMetrics(operation, duration, cacheHit, groupId, success = true) {\n        const metric = {\n            operation,\n            duration_ms: duration,\n            rows_affected: 1,\n            cache_hit: cacheHit,\n            group_id: groupId,\n            timestamp: new Date().toISOString(),\n            success\n        };\n        // Log performance metrics (could be sent to analytics service)\n        if (duration > 1000) {\n            console.warn(\"Slow cache operation:\", metric);\n        }\n    }\n    constructor(){\n        this.memoryCache = new Map();\n        this.CACHE_EXPIRY_MS = 5 * 60 * 1000 // 5 minutes\n        ;\n        this.MAX_MEMORY_ENTRIES = 50;\n        this.LOCAL_STORAGE_PREFIX = \"voypath_route_\";\n        this.LOCAL_STORAGE_EXPIRY_MS = 24 * 60 * 60 * 1000 // 24 hours\n        ;\n        // Performance metrics\n        this.metrics = {\n            hits: 0,\n            misses: 0,\n            invalidations: 0,\n            errors: 0\n        };\n    }\n}\n/**\n * Batch operations for better performance\n */ class BatchOperationManager {\n    /**\n   * Add operation to batch\n   */ addToBatch(batchKey, operation) {\n        return new Promise((resolve, reject)=>{\n            const wrappedOperation = async ()=>{\n                try {\n                    const result = await operation();\n                    resolve(result);\n                    return result;\n                } catch (error) {\n                    reject(error);\n                    throw error;\n                }\n            };\n            // Add to pending operations\n            if (!this.pendingOperations.has(batchKey)) {\n                this.pendingOperations.set(batchKey, []);\n            }\n            const operations = this.pendingOperations.get(batchKey);\n            operations.push(wrappedOperation);\n            // Execute immediately if batch is full\n            if (operations.length >= this.MAX_BATCH_SIZE) {\n                this.executeBatch(batchKey);\n                return;\n            }\n            // Schedule batch execution\n            if (!this.batchTimeouts.has(batchKey)) {\n                const timeout = setTimeout(()=>{\n                    this.executeBatch(batchKey);\n                }, this.BATCH_DELAY_MS);\n                this.batchTimeouts.set(batchKey, timeout);\n            }\n        });\n    }\n    /**\n   * Execute batch operations\n   */ async executeBatch(batchKey) {\n        const operations = this.pendingOperations.get(batchKey);\n        const timeout = this.batchTimeouts.get(batchKey);\n        if (timeout) {\n            clearTimeout(timeout);\n            this.batchTimeouts.delete(batchKey);\n        }\n        if (!operations || operations.length === 0) {\n            return;\n        }\n        // Clear pending operations\n        this.pendingOperations.delete(batchKey);\n        // Execute all operations in parallel\n        try {\n            await Promise.all(operations.map((op)=>op()));\n        } catch (error) {\n            console.error(`Batch execution failed for ${batchKey}:`, error);\n        }\n    }\n    /**\n   * Force execute all pending batches\n   */ async flushAll() {\n        const batchKeys = Array.from(this.pendingOperations.keys());\n        await Promise.all(batchKeys.map((key)=>this.executeBatch(key)));\n    }\n    constructor(){\n        this.pendingOperations = new Map();\n        this.batchTimeouts = new Map();\n        this.BATCH_DELAY_MS = 100;\n        this.MAX_BATCH_SIZE = 10;\n    }\n}\n/**\n * Query optimization utilities\n */ class QueryOptimizer {\n    /**\n   * Cache query results\n   */ async cachedQuery(queryKey, queryFunction, ttl = this.QUERY_CACHE_TTL) {\n        const cached = this.queryCache.get(queryKey);\n        if (cached && Date.now() - cached.timestamp < ttl) {\n            return cached.result;\n        }\n        const result = await queryFunction();\n        this.queryCache.set(queryKey, {\n            result,\n            timestamp: Date.now()\n        });\n        return result;\n    }\n    /**\n   * Build optimized JSONB queries\n   */ buildJsonbQuery(baseQuery, jsonbColumn, filters) {\n        let query = baseQuery;\n        Object.entries(filters).forEach(([path, value])=>{\n            if (value !== undefined && value !== null) {\n                query = query.eq(`${jsonbColumn}->>${path}`, value);\n            }\n        });\n        return query;\n    }\n    /**\n   * Clear query cache\n   */ clearQueryCache() {\n        this.queryCache.clear();\n    }\n    constructor(){\n        this.queryCache = new Map();\n        this.QUERY_CACHE_TTL = 60000 // 1 minute\n        ;\n    }\n}\n// Export singleton instances\nconst routeDataCache = new RouteDataCache();\nconst batchOperationManager = new BatchOperationManager();\nconst queryOptimizer = new QueryOptimizer();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n    routeDataCache,\n    batchOperationManager,\n    queryOptimizer\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL2xpYi9zZXJ2aWNlcy9yb3V0ZS1jYWNoZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBLHNEQUFzRDtBQVVwQjtBQUVsQzs7Q0FFQyxHQUNNLE1BQU1DO0lBZVg7O0dBRUMsR0FDRCxNQUFNQyxTQUFTQyxPQUFlLEVBQUVDLFdBQWlELEVBQW1DO1FBQ2xILE1BQU1DLFlBQVlDLFlBQVlDLEdBQUc7UUFDakMsSUFBSUMsV0FBVztRQUNmLElBQUlDLFNBQWlDO1FBRXJDLElBQUk7WUFDRix5QkFBeUI7WUFDekIsTUFBTUMsU0FBUyxJQUFJLENBQUNDLGtCQUFrQixDQUFDUjtZQUN2QyxJQUFJTyxRQUFRO2dCQUNWRixXQUFXO2dCQUNYQyxTQUFTQztnQkFDVCxJQUFJLENBQUNFLE9BQU8sQ0FBQ0MsSUFBSTtnQkFDakIsT0FBT0g7WUFDVDtZQUVBLDBEQUEwRDtZQUMxRCxNQUFNSSxjQUFjLElBQUksQ0FBQ0MsbUJBQW1CLENBQUNaO1lBQzdDLElBQUlXLGFBQWE7Z0JBQ2Ysc0JBQXNCO2dCQUN0QixJQUFJLENBQUNFLGdCQUFnQixDQUFDYixTQUFTVztnQkFDL0JOLFdBQVc7Z0JBQ1hDLFNBQVNLO2dCQUNULElBQUksQ0FBQ0YsT0FBTyxDQUFDQyxJQUFJO2dCQUNqQixPQUFPQztZQUNUO1lBRUEsc0JBQXNCO1lBQ3RCLElBQUksQ0FBQ0YsT0FBTyxDQUFDSyxNQUFNO1lBQ25CLE1BQU1DLFdBQVcsTUFBTWQ7WUFFdkIsSUFBSWMsVUFBVUMsWUFBWTtnQkFDeEJWLFNBQVNTLFNBQVNDLFVBQVU7Z0JBQzVCLHVCQUF1QjtnQkFDdkIsSUFBSSxDQUFDSCxnQkFBZ0IsQ0FBQ2IsU0FBU2UsU0FBU0MsVUFBVSxFQUFFRCxTQUFTRSxPQUFPO2dCQUNwRSxJQUFJLENBQUNDLGtCQUFrQixDQUFDbEIsU0FBU2UsU0FBU0MsVUFBVSxFQUFFRCxTQUFTRSxPQUFPO1lBQ3hFO1lBRUEsT0FBT1g7UUFDVCxFQUFFLE9BQU9hLE9BQU87WUFDZCxJQUFJLENBQUNWLE9BQU8sQ0FBQ1csTUFBTTtZQUNuQkMsUUFBUUYsS0FBSyxDQUFDLGdCQUFnQkE7WUFDOUIsdUJBQXVCO1lBQ3ZCLE1BQU1KLFdBQVcsTUFBTWQ7WUFDdkIsT0FBT2MsVUFBVUMsY0FBYztRQUNqQyxTQUFVO1lBQ1IsNkJBQTZCO1lBQzdCLElBQUksQ0FBQ00sYUFBYSxDQUFDLGFBQWFuQixZQUFZQyxHQUFHLEtBQUtGLFdBQVdHLFVBQVVMO1FBQzNFO0lBQ0Y7SUFFQTs7R0FFQyxHQUNEdUIsU0FBU3ZCLE9BQWUsRUFBRXdCLFNBQTBCLEVBQUVQLE9BQWUsRUFBRTtRQUNyRSxJQUFJO1lBQ0YsSUFBSSxDQUFDSixnQkFBZ0IsQ0FBQ2IsU0FBU3dCLFdBQVdQO1lBQzFDLElBQUksQ0FBQ0Msa0JBQWtCLENBQUNsQixTQUFTd0IsV0FBV1A7UUFDOUMsRUFBRSxPQUFPRSxPQUFPO1lBQ2RFLFFBQVFGLEtBQUssQ0FBQyx3QkFBd0JBO1FBQ3hDO0lBQ0Y7SUFFQTs7R0FFQyxHQUNETSxnQkFBZ0J6QixPQUFlLEVBQUU7UUFDL0IsSUFBSTtZQUNGLElBQUksQ0FBQzBCLFdBQVcsQ0FBQ0MsTUFBTSxDQUFDM0I7WUFDeEIsSUFBSSxDQUFDNEIsc0JBQXNCLENBQUM1QjtZQUM1QixJQUFJLENBQUNTLE9BQU8sQ0FBQ29CLGFBQWE7UUFDNUIsRUFBRSxPQUFPVixPQUFPO1lBQ2QsSUFBSSxDQUFDVixPQUFPLENBQUNXLE1BQU07WUFDbkIsTUFBTSxJQUFJdkIsNEVBQXNCQSxDQUM5QixDQUFDLHFDQUFxQyxFQUFFRyxRQUFRLENBQUMsRUFDakRBLFNBQ0E7UUFFSjtJQUNGO0lBRUE7O0dBRUMsR0FDRCxtQkFBMkJBLE9BQWUsRUFBMEI7UUFDbEUsTUFBTThCLFFBQVEsSUFBSSxDQUFDSixXQUFXLENBQUNLLEdBQUcsQ0FBQy9CO1FBRW5DLElBQUksQ0FBQzhCLE9BQU87WUFDVixPQUFPO1FBQ1Q7UUFFQSxtQkFBbUI7UUFDbkIsSUFBSUUsS0FBSzVCLEdBQUcsS0FBSzBCLE1BQU1HLFVBQVUsRUFBRTtZQUNqQyxJQUFJLENBQUNQLFdBQVcsQ0FBQ0MsTUFBTSxDQUFDM0I7WUFDeEIsT0FBTztRQUNUO1FBRUEsT0FBTzhCLE1BQU1JLElBQUk7SUFDbkI7SUFFUXJCLGlCQUFpQmIsT0FBZSxFQUFFa0MsSUFBcUIsRUFBRWpCLFVBQWtCLENBQUMsRUFBRTtRQUNwRix3Q0FBd0M7UUFDeEMsSUFBSSxJQUFJLENBQUNTLFdBQVcsQ0FBQ1MsSUFBSSxJQUFJLElBQUksQ0FBQ0Msa0JBQWtCLEVBQUU7WUFDcEQsSUFBSSxDQUFDQyxrQkFBa0I7UUFDekI7UUFFQSxNQUFNUCxRQUFxQztZQUN6Q0k7WUFDQUksV0FBV04sS0FBSzVCLEdBQUc7WUFDbkI2QixZQUFZRCxLQUFLNUIsR0FBRyxLQUFLLElBQUksQ0FBQ21DLGVBQWU7WUFDN0N0QjtZQUNBdUIsVUFBVXhDO1FBQ1o7UUFFQSxJQUFJLENBQUMwQixXQUFXLENBQUNlLEdBQUcsQ0FBQ3pDLFNBQVM4QjtJQUNoQztJQUVRTyxxQkFBcUI7UUFDM0IsK0JBQStCO1FBQy9CLE1BQU1qQyxNQUFNNEIsS0FBSzVCLEdBQUc7UUFDcEIsTUFBTXNDLFVBQVVDLE1BQU1DLElBQUksQ0FBQyxJQUFJLENBQUNsQixXQUFXLENBQUNnQixPQUFPO1FBQ25ELEtBQUssTUFBTSxDQUFDRyxLQUFLZixNQUFNLElBQUlZLFFBQVM7WUFDbEMsSUFBSXRDLE1BQU0wQixNQUFNRyxVQUFVLEVBQUU7Z0JBQzFCLElBQUksQ0FBQ1AsV0FBVyxDQUFDQyxNQUFNLENBQUNrQjtZQUMxQjtRQUNGO1FBRUEsMkNBQTJDO1FBQzNDLElBQUksSUFBSSxDQUFDbkIsV0FBVyxDQUFDUyxJQUFJLElBQUksSUFBSSxDQUFDQyxrQkFBa0IsRUFBRTtZQUNwRCxNQUFNTSxVQUFVQyxNQUFNQyxJQUFJLENBQUMsSUFBSSxDQUFDbEIsV0FBVyxDQUFDZ0IsT0FBTztZQUNuREEsUUFBUUksSUFBSSxDQUFDLENBQUNDLEdBQUdDLElBQU1ELENBQUMsQ0FBQyxFQUFFLENBQUNULFNBQVMsR0FBR1UsQ0FBQyxDQUFDLEVBQUUsQ0FBQ1YsU0FBUztZQUV0RCxNQUFNVyxXQUFXUCxRQUFRUSxLQUFLLENBQUMsR0FBRyxJQUFJLENBQUN4QixXQUFXLENBQUNTLElBQUksR0FBRyxJQUFJLENBQUNDLGtCQUFrQixHQUFHO1lBQ3BGYSxTQUFTRSxPQUFPLENBQUMsQ0FBQyxDQUFDTixJQUFJLEdBQUssSUFBSSxDQUFDbkIsV0FBVyxDQUFDQyxNQUFNLENBQUNrQjtRQUN0RDtJQUNGO0lBRUE7O0dBRUMsR0FDRCxvQkFBNEI3QyxPQUFlLEVBQTBCO1FBQ25FLElBQUk7WUFDRixJQUFJLElBQWtCLEVBQWEsT0FBTztZQUUxQyxNQUFNNkMsTUFBTSxJQUFJLENBQUNPLG9CQUFvQixHQUFHcEQ7WUFDeEMsTUFBTXFELFNBQVNDLGFBQWFDLE9BQU8sQ0FBQ1Y7WUFFcEMsSUFBSSxDQUFDUSxRQUFRLE9BQU87WUFFcEIsTUFBTUcsU0FBU0MsS0FBS0MsS0FBSyxDQUFDTDtZQUUxQixtQkFBbUI7WUFDbkIsSUFBSXJCLEtBQUs1QixHQUFHLEtBQUtvRCxPQUFPdkIsVUFBVSxFQUFFO2dCQUNsQ3FCLGFBQWFLLFVBQVUsQ0FBQ2Q7Z0JBQ3hCLE9BQU87WUFDVDtZQUVBLE9BQU9XLE9BQU90QixJQUFJO1FBQ3BCLEVBQUUsT0FBT2YsT0FBTztZQUNkRSxRQUFRRixLQUFLLENBQUMscUNBQXFDQTtZQUNuRCxPQUFPO1FBQ1Q7SUFDRjtJQUVRRCxtQkFBbUJsQixPQUFlLEVBQUVrQyxJQUFxQixFQUFFakIsVUFBa0IsQ0FBQyxFQUFFO1FBQ3RGLElBQUk7WUFDRixJQUFJLElBQWtCLEVBQWE7WUFFbkMsTUFBTTRCLE1BQU0sSUFBSSxDQUFDTyxvQkFBb0IsR0FBR3BEO1lBQ3hDLE1BQU04QixRQUFRO2dCQUNaSTtnQkFDQUksV0FBV04sS0FBSzVCLEdBQUc7Z0JBQ25CNkIsWUFBWUQsS0FBSzVCLEdBQUcsS0FBSyxJQUFJLENBQUN3RCx1QkFBdUI7Z0JBQ3JEM0M7Z0JBQ0F1QixVQUFVeEM7WUFDWjtZQUVBc0QsYUFBYU8sT0FBTyxDQUFDaEIsS0FBS1ksS0FBS0ssU0FBUyxDQUFDaEM7UUFDM0MsRUFBRSxPQUFPWCxPQUFPO1lBQ2RFLFFBQVFGLEtBQUssQ0FBQyxrQ0FBa0NBO1FBQ2hELHdEQUF3RDtRQUMxRDtJQUNGO0lBRVFTLHVCQUF1QjVCLE9BQWUsRUFBRTtRQUM5QyxJQUFJO1lBQ0YsSUFBSSxJQUFrQixFQUFhO1lBRW5DLE1BQU02QyxNQUFNLElBQUksQ0FBQ08sb0JBQW9CLEdBQUdwRDtZQUN4Q3NELGFBQWFLLFVBQVUsQ0FBQ2Q7UUFDMUIsRUFBRSxPQUFPMUIsT0FBTztZQUNkRSxRQUFRRixLQUFLLENBQUMsc0NBQXNDQTtRQUN0RDtJQUNGO0lBRUE7O0dBRUMsR0FDRDRDLGFBQWEvRCxPQUFlLEVBQVc7UUFDckMsTUFBTThCLFFBQVEsSUFBSSxDQUFDSixXQUFXLENBQUNLLEdBQUcsQ0FBQy9CO1FBQ25DLE9BQU84QixRQUFRRSxLQUFLNUIsR0FBRyxNQUFNMEIsTUFBTUcsVUFBVSxHQUFHO0lBQ2xEO0lBRUE7O0dBRUMsR0FDRCtCLFdBQVc7UUFDVCxPQUFPO1lBQ0wsR0FBRyxJQUFJLENBQUN2RCxPQUFPO1lBQ2Z3RCxlQUFlLElBQUksQ0FBQ3ZDLFdBQVcsQ0FBQ1MsSUFBSTtZQUNwQytCLFNBQVMsSUFBSSxDQUFDekQsT0FBTyxDQUFDQyxJQUFJLEdBQUksS0FBSSxDQUFDRCxPQUFPLENBQUNDLElBQUksR0FBRyxJQUFJLENBQUNELE9BQU8sQ0FBQ0ssTUFBTSxLQUFLO1FBQzVFO0lBQ0Y7SUFFQTs7R0FFQyxHQUNEcUQsV0FBVztRQUNULElBQUksQ0FBQ3pDLFdBQVcsQ0FBQzBDLEtBQUs7UUFFdEIsSUFBSSxLQUFrQixFQUFhLEVBUWxDO0lBQ0g7SUFFQTs7R0FFQyxHQUNELE1BQU1JLGNBQWNDLFFBQWtCLEVBQUVDLGFBQWtFLEVBQUU7UUFDMUcsTUFBTUMsV0FBV0YsU0FBU0csR0FBRyxDQUFDLE9BQU81RTtZQUNuQyxJQUFJO2dCQUNGLElBQUksQ0FBQyxJQUFJLENBQUMrRCxZQUFZLENBQUMvRCxVQUFVO29CQUMvQixNQUFNNkUsUUFBUSxNQUFNSCxjQUFjMUU7b0JBQ2xDLElBQUk2RSxPQUFPN0QsWUFBWTt3QkFDckIsSUFBSSxDQUFDTyxRQUFRLENBQUN2QixTQUFTNkUsTUFBTTdELFVBQVUsRUFBRTZELE1BQU01RCxPQUFPO29CQUN4RDtnQkFDRjtZQUNGLEVBQUUsT0FBT0UsT0FBTztnQkFDZEUsUUFBUUYsS0FBSyxDQUFDLENBQUMsa0NBQWtDLEVBQUVuQixRQUFRLENBQUMsQ0FBQyxFQUFFbUI7WUFDakU7UUFDRjtRQUVBLE1BQU0yRCxRQUFRQyxVQUFVLENBQUNKO0lBQzNCO0lBRUE7O0dBRUMsR0FDRCxjQUNFSyxTQUFpQixFQUNqQkMsUUFBZ0IsRUFDaEI1RSxRQUFpQixFQUNqQkwsT0FBZSxFQUNma0YsVUFBbUIsSUFBSSxFQUN2QjtRQUNBLE1BQU1DLFNBQWdDO1lBQ3BDSDtZQUNBSSxhQUFhSDtZQUNiSSxlQUFlO1lBQ2ZDLFdBQVdqRjtZQUNYbUMsVUFBVXhDO1lBQ1ZzQyxXQUFXLElBQUlOLE9BQU91RCxXQUFXO1lBQ2pDTDtRQUNGO1FBRUEsK0RBQStEO1FBQy9ELElBQUlELFdBQVcsTUFBTTtZQUNuQjVELFFBQVFtRSxJQUFJLENBQUMseUJBQXlCTDtRQUN4QztJQUNGOzthQW5TUXpELGNBQWMsSUFBSStEO2FBQ1RsRCxrQkFBa0IsSUFBSSxLQUFLLEtBQUssWUFBWTs7YUFDNUNILHFCQUFxQjthQUNyQmdCLHVCQUF1QjthQUN2QlEsMEJBQTBCLEtBQUssS0FBSyxLQUFLLEtBQUssV0FBVzs7UUFFMUUsc0JBQXNCO2FBQ2RuRCxVQUFVO1lBQ2hCQyxNQUFNO1lBQ05JLFFBQVE7WUFDUmUsZUFBZTtZQUNmVCxRQUFRO1FBQ1Y7O0FBd1JGO0FBRUE7O0NBRUMsR0FDTSxNQUFNc0U7SUFNWDs7R0FFQyxHQUNEQyxXQUNFQyxRQUFnQixFQUNoQlosU0FBMkIsRUFDZjtRQUNaLE9BQU8sSUFBSUYsUUFBUSxDQUFDZSxTQUFTQztZQUMzQixNQUFNQyxtQkFBbUI7Z0JBQ3ZCLElBQUk7b0JBQ0YsTUFBTXpGLFNBQVMsTUFBTTBFO29CQUNyQmEsUUFBUXZGO29CQUNSLE9BQU9BO2dCQUNULEVBQUUsT0FBT2EsT0FBTztvQkFDZDJFLE9BQU8zRTtvQkFDUCxNQUFNQTtnQkFDUjtZQUNGO1lBRUEsNEJBQTRCO1lBQzVCLElBQUksQ0FBQyxJQUFJLENBQUM2RSxpQkFBaUIsQ0FBQ0MsR0FBRyxDQUFDTCxXQUFXO2dCQUN6QyxJQUFJLENBQUNJLGlCQUFpQixDQUFDdkQsR0FBRyxDQUFDbUQsVUFBVSxFQUFFO1lBQ3pDO1lBRUEsTUFBTU0sYUFBYSxJQUFJLENBQUNGLGlCQUFpQixDQUFDakUsR0FBRyxDQUFDNkQ7WUFDOUNNLFdBQVdDLElBQUksQ0FBQ0o7WUFFaEIsdUNBQXVDO1lBQ3ZDLElBQUlHLFdBQVdFLE1BQU0sSUFBSSxJQUFJLENBQUNDLGNBQWMsRUFBRTtnQkFDNUMsSUFBSSxDQUFDQyxZQUFZLENBQUNWO2dCQUNsQjtZQUNGO1lBRUEsMkJBQTJCO1lBQzNCLElBQUksQ0FBQyxJQUFJLENBQUNXLGFBQWEsQ0FBQ04sR0FBRyxDQUFDTCxXQUFXO2dCQUNyQyxNQUFNWSxVQUFVQyxXQUFXO29CQUN6QixJQUFJLENBQUNILFlBQVksQ0FBQ1Y7Z0JBQ3BCLEdBQUcsSUFBSSxDQUFDYyxjQUFjO2dCQUV0QixJQUFJLENBQUNILGFBQWEsQ0FBQzlELEdBQUcsQ0FBQ21ELFVBQVVZO1lBQ25DO1FBQ0Y7SUFDRjtJQUVBOztHQUVDLEdBQ0QsTUFBY0YsYUFBYVYsUUFBZ0IsRUFBRTtRQUMzQyxNQUFNTSxhQUFhLElBQUksQ0FBQ0YsaUJBQWlCLENBQUNqRSxHQUFHLENBQUM2RDtRQUM5QyxNQUFNWSxVQUFVLElBQUksQ0FBQ0QsYUFBYSxDQUFDeEUsR0FBRyxDQUFDNkQ7UUFFdkMsSUFBSVksU0FBUztZQUNYRyxhQUFhSDtZQUNiLElBQUksQ0FBQ0QsYUFBYSxDQUFDNUUsTUFBTSxDQUFDaUU7UUFDNUI7UUFFQSxJQUFJLENBQUNNLGNBQWNBLFdBQVdFLE1BQU0sS0FBSyxHQUFHO1lBQzFDO1FBQ0Y7UUFFQSwyQkFBMkI7UUFDM0IsSUFBSSxDQUFDSixpQkFBaUIsQ0FBQ3JFLE1BQU0sQ0FBQ2lFO1FBRTlCLHFDQUFxQztRQUNyQyxJQUFJO1lBQ0YsTUFBTWQsUUFBUThCLEdBQUcsQ0FBQ1YsV0FBV3RCLEdBQUcsQ0FBQ2lDLENBQUFBLEtBQU1BO1FBQ3pDLEVBQUUsT0FBTzFGLE9BQU87WUFDZEUsUUFBUUYsS0FBSyxDQUFDLENBQUMsMkJBQTJCLEVBQUV5RSxTQUFTLENBQUMsQ0FBQyxFQUFFekU7UUFDM0Q7SUFDRjtJQUVBOztHQUVDLEdBQ0QsTUFBTTJGLFdBQVc7UUFDZixNQUFNQyxZQUFZcEUsTUFBTUMsSUFBSSxDQUFDLElBQUksQ0FBQ29ELGlCQUFpQixDQUFDM0IsSUFBSTtRQUN4RCxNQUFNUyxRQUFROEIsR0FBRyxDQUFDRyxVQUFVbkMsR0FBRyxDQUFDL0IsQ0FBQUEsTUFBTyxJQUFJLENBQUN5RCxZQUFZLENBQUN6RDtJQUMzRDs7YUFsRlFtRCxvQkFBb0IsSUFBSVA7YUFDeEJjLGdCQUFnQixJQUFJZDthQUNYaUIsaUJBQWlCO2FBQ2pCTCxpQkFBaUI7O0FBZ0ZwQztBQUVBOztDQUVDLEdBQ00sTUFBTVc7SUFJWDs7R0FFQyxHQUNELE1BQU1DLFlBQ0pDLFFBQWdCLEVBQ2hCQyxhQUErQixFQUMvQkMsTUFBYyxJQUFJLENBQUNDLGVBQWUsRUFDdEI7UUFDWixNQUFNOUcsU0FBUyxJQUFJLENBQUMrRyxVQUFVLENBQUN2RixHQUFHLENBQUNtRjtRQUVuQyxJQUFJM0csVUFBVXlCLEtBQUs1QixHQUFHLEtBQUtHLE9BQU8rQixTQUFTLEdBQUc4RSxLQUFLO1lBQ2pELE9BQU83RyxPQUFPRCxNQUFNO1FBQ3RCO1FBRUEsTUFBTUEsU0FBUyxNQUFNNkc7UUFDckIsSUFBSSxDQUFDRyxVQUFVLENBQUM3RSxHQUFHLENBQUN5RSxVQUFVO1lBQzVCNUc7WUFDQWdDLFdBQVdOLEtBQUs1QixHQUFHO1FBQ3JCO1FBRUEsT0FBT0U7SUFDVDtJQUVBOztHQUVDLEdBQ0RpSCxnQkFDRUMsU0FBYyxFQUNkQyxXQUFtQixFQUNuQkMsT0FBNEIsRUFDNUI7UUFDQSxJQUFJQyxRQUFRSDtRQUVabEQsT0FBTzVCLE9BQU8sQ0FBQ2dGLFNBQVN2RSxPQUFPLENBQUMsQ0FBQyxDQUFDeUUsTUFBTUMsTUFBTTtZQUM1QyxJQUFJQSxVQUFVQyxhQUFhRCxVQUFVLE1BQU07Z0JBQ3pDRixRQUFRQSxNQUFNSSxFQUFFLENBQUMsQ0FBQyxFQUFFTixZQUFZLEdBQUcsRUFBRUcsS0FBSyxDQUFDLEVBQUVDO1lBQy9DO1FBQ0Y7UUFFQSxPQUFPRjtJQUNUO0lBRUE7O0dBRUMsR0FDREssa0JBQWtCO1FBQ2hCLElBQUksQ0FBQ1YsVUFBVSxDQUFDbEQsS0FBSztJQUN2Qjs7YUFsRFFrRCxhQUFhLElBQUk3QjthQUNSNEIsa0JBQWtCLE1BQU0sV0FBVzs7O0FBa0R0RDtBQUVBLDZCQUE2QjtBQUN0QixNQUFNWSxpQkFBaUIsSUFBSW5JLGlCQUFnQjtBQUMzQyxNQUFNb0ksd0JBQXdCLElBQUl4Qyx3QkFBdUI7QUFDekQsTUFBTXlDLGlCQUFpQixJQUFJbkIsaUJBQWdCO0FBRWxELGlFQUFlO0lBQ2JpQjtJQUNBQztJQUNBQztBQUNGLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMvLi9saWIvc2VydmljZXMvcm91dGUtY2FjaGUudHM/ZTgzOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDYWNoaW5nIGFuZCBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24gZm9yIHJvdXRlIGRhdGFcblxuaW1wb3J0IHR5cGUge1xuICBTdG9yZWRSb3V0ZURhdGEsXG4gIE9wdGltaXplZFJvdXRlLFxuICBDYWNoZUVudHJ5LFxuICBSb3V0ZU9wZXJhdGlvbk1ldHJpY3Ncbn0gZnJvbSAnQC9saWIvdHlwZXMvcm91dGUtc3RvcmFnZSdcbmltcG9ydCB7XG4gIENhY2hlSW52YWxpZGF0aW9uRXJyb3Jcbn0gZnJvbSAnQC9saWIvdHlwZXMvcm91dGUtc3RvcmFnZSdcblxuLyoqXG4gKiBNdWx0aS1sZXZlbCBjYWNoaW5nIHN5c3RlbSBmb3Igcm91dGUgZGF0YVxuICovXG5leHBvcnQgY2xhc3MgUm91dGVEYXRhQ2FjaGUge1xuICBwcml2YXRlIG1lbW9yeUNhY2hlID0gbmV3IE1hcDxzdHJpbmcsIENhY2hlRW50cnk8U3RvcmVkUm91dGVEYXRhPj4oKVxuICBwcml2YXRlIHJlYWRvbmx5IENBQ0hFX0VYUElSWV9NUyA9IDUgKiA2MCAqIDEwMDAgLy8gNSBtaW51dGVzXG4gIHByaXZhdGUgcmVhZG9ubHkgTUFYX01FTU9SWV9FTlRSSUVTID0gNTBcbiAgcHJpdmF0ZSByZWFkb25seSBMT0NBTF9TVE9SQUdFX1BSRUZJWCA9ICd2b3lwYXRoX3JvdXRlXydcbiAgcHJpdmF0ZSByZWFkb25seSBMT0NBTF9TVE9SQUdFX0VYUElSWV9NUyA9IDI0ICogNjAgKiA2MCAqIDEwMDAgLy8gMjQgaG91cnNcbiAgXG4gIC8vIFBlcmZvcm1hbmNlIG1ldHJpY3NcbiAgcHJpdmF0ZSBtZXRyaWNzID0ge1xuICAgIGhpdHM6IDAsXG4gICAgbWlzc2VzOiAwLFxuICAgIGludmFsaWRhdGlvbnM6IDAsXG4gICAgZXJyb3JzOiAwXG4gIH1cblxuICAvKipcbiAgICogR2V0IHJvdXRlIGZyb20gY2FjaGUgd2l0aCBmYWxsYmFjayBzdHJhdGVneVxuICAgKi9cbiAgYXN5bmMgZ2V0Um91dGUoZ3JvdXBJZDogc3RyaW5nLCBmZXRjaEZyb21EYjogKCkgPT4gUHJvbWlzZTxPcHRpbWl6ZWRSb3V0ZSB8IG51bGw+KTogUHJvbWlzZTxTdG9yZWRSb3V0ZURhdGEgfCBudWxsPiB7XG4gICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KClcbiAgICBsZXQgY2FjaGVIaXQgPSBmYWxzZVxuICAgIGxldCByZXN1bHQ6IFN0b3JlZFJvdXRlRGF0YSB8IG51bGwgPSBudWxsXG5cbiAgICB0cnkge1xuICAgICAgLy8gVHJ5IG1lbW9yeSBjYWNoZSBmaXJzdFxuICAgICAgY29uc3QgY2FjaGVkID0gdGhpcy5nZXRGcm9tTWVtb3J5Q2FjaGUoZ3JvdXBJZClcbiAgICAgIGlmIChjYWNoZWQpIHtcbiAgICAgICAgY2FjaGVIaXQgPSB0cnVlXG4gICAgICAgIHJlc3VsdCA9IGNhY2hlZFxuICAgICAgICB0aGlzLm1ldHJpY3MuaGl0cysrXG4gICAgICAgIHJldHVybiBjYWNoZWRcbiAgICAgIH1cblxuICAgICAgLy8gVHJ5IGxvY2FsIHN0b3JhZ2UgKGZvciBndWVzdCB1c2VycyBhbmQgb2ZmbGluZSBzdXBwb3J0KVxuICAgICAgY29uc3QgbG9jYWxDYWNoZWQgPSB0aGlzLmdldEZyb21Mb2NhbFN0b3JhZ2UoZ3JvdXBJZClcbiAgICAgIGlmIChsb2NhbENhY2hlZCkge1xuICAgICAgICAvLyBVcGRhdGUgbWVtb3J5IGNhY2hlXG4gICAgICAgIHRoaXMuc2V0SW5NZW1vcnlDYWNoZShncm91cElkLCBsb2NhbENhY2hlZClcbiAgICAgICAgY2FjaGVIaXQgPSB0cnVlXG4gICAgICAgIHJlc3VsdCA9IGxvY2FsQ2FjaGVkXG4gICAgICAgIHRoaXMubWV0cmljcy5oaXRzKytcbiAgICAgICAgcmV0dXJuIGxvY2FsQ2FjaGVkXG4gICAgICB9XG5cbiAgICAgIC8vIEZldGNoIGZyb20gZGF0YWJhc2VcbiAgICAgIHRoaXMubWV0cmljcy5taXNzZXMrK1xuICAgICAgY29uc3QgZGJSZXN1bHQgPSBhd2FpdCBmZXRjaEZyb21EYigpXG4gICAgICBcbiAgICAgIGlmIChkYlJlc3VsdD8ucm91dGVfZGF0YSkge1xuICAgICAgICByZXN1bHQgPSBkYlJlc3VsdC5yb3V0ZV9kYXRhXG4gICAgICAgIC8vIFN0b3JlIGluIGJvdGggY2FjaGVzXG4gICAgICAgIHRoaXMuc2V0SW5NZW1vcnlDYWNoZShncm91cElkLCBkYlJlc3VsdC5yb3V0ZV9kYXRhLCBkYlJlc3VsdC52ZXJzaW9uKVxuICAgICAgICB0aGlzLnNhdmVUb0xvY2FsU3RvcmFnZShncm91cElkLCBkYlJlc3VsdC5yb3V0ZV9kYXRhLCBkYlJlc3VsdC52ZXJzaW9uKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMubWV0cmljcy5lcnJvcnMrK1xuICAgICAgY29uc29sZS5lcnJvcignQ2FjaGUgZXJyb3I6JywgZXJyb3IpXG4gICAgICAvLyBGYWxsYmFjayB0byBkYXRhYmFzZVxuICAgICAgY29uc3QgZGJSZXN1bHQgPSBhd2FpdCBmZXRjaEZyb21EYigpXG4gICAgICByZXR1cm4gZGJSZXN1bHQ/LnJvdXRlX2RhdGEgfHwgbnVsbFxuICAgIH0gZmluYWxseSB7XG4gICAgICAvLyBSZWNvcmQgcGVyZm9ybWFuY2UgbWV0cmljc1xuICAgICAgdGhpcy5yZWNvcmRNZXRyaWNzKCdnZXRfcm91dGUnLCBwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0VGltZSwgY2FjaGVIaXQsIGdyb3VwSWQpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCByb3V0ZSBpbiBjYWNoZVxuICAgKi9cbiAgc2V0Um91dGUoZ3JvdXBJZDogc3RyaW5nLCByb3V0ZURhdGE6IFN0b3JlZFJvdXRlRGF0YSwgdmVyc2lvbjogbnVtYmVyKSB7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuc2V0SW5NZW1vcnlDYWNoZShncm91cElkLCByb3V0ZURhdGEsIHZlcnNpb24pXG4gICAgICB0aGlzLnNhdmVUb0xvY2FsU3RvcmFnZShncm91cElkLCByb3V0ZURhdGEsIHZlcnNpb24pXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzZXQgY2FjaGU6JywgZXJyb3IpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEludmFsaWRhdGUgY2FjaGUgZm9yIGEgZ3JvdXBcbiAgICovXG4gIGludmFsaWRhdGVDYWNoZShncm91cElkOiBzdHJpbmcpIHtcbiAgICB0cnkge1xuICAgICAgdGhpcy5tZW1vcnlDYWNoZS5kZWxldGUoZ3JvdXBJZClcbiAgICAgIHRoaXMucmVtb3ZlRnJvbUxvY2FsU3RvcmFnZShncm91cElkKVxuICAgICAgdGhpcy5tZXRyaWNzLmludmFsaWRhdGlvbnMrK1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLm1ldHJpY3MuZXJyb3JzKytcbiAgICAgIHRocm93IG5ldyBDYWNoZUludmFsaWRhdGlvbkVycm9yKFxuICAgICAgICBgRmFpbGVkIHRvIGludmFsaWRhdGUgY2FjaGUgZm9yIGdyb3VwICR7Z3JvdXBJZH1gLFxuICAgICAgICBncm91cElkLFxuICAgICAgICAnYWxsJ1xuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBNZW1vcnkgY2FjaGUgb3BlcmF0aW9uc1xuICAgKi9cbiAgcHJpdmF0ZSBnZXRGcm9tTWVtb3J5Q2FjaGUoZ3JvdXBJZDogc3RyaW5nKTogU3RvcmVkUm91dGVEYXRhIHwgbnVsbCB7XG4gICAgY29uc3QgZW50cnkgPSB0aGlzLm1lbW9yeUNhY2hlLmdldChncm91cElkKVxuICAgIFxuICAgIGlmICghZW50cnkpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgZXhwaXJlZFxuICAgIGlmIChEYXRlLm5vdygpID4gZW50cnkuZXhwaXJlc19hdCkge1xuICAgICAgdGhpcy5tZW1vcnlDYWNoZS5kZWxldGUoZ3JvdXBJZClcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuXG4gICAgcmV0dXJuIGVudHJ5LmRhdGFcbiAgfVxuXG4gIHByaXZhdGUgc2V0SW5NZW1vcnlDYWNoZShncm91cElkOiBzdHJpbmcsIGRhdGE6IFN0b3JlZFJvdXRlRGF0YSwgdmVyc2lvbjogbnVtYmVyID0gMCkge1xuICAgIC8vIENsZWFuIHVwIG9sZCBlbnRyaWVzIGlmIGNhY2hlIGlzIGZ1bGxcbiAgICBpZiAodGhpcy5tZW1vcnlDYWNoZS5zaXplID49IHRoaXMuTUFYX01FTU9SWV9FTlRSSUVTKSB7XG4gICAgICB0aGlzLmNsZWFudXBNZW1vcnlDYWNoZSgpXG4gICAgfVxuXG4gICAgY29uc3QgZW50cnk6IENhY2hlRW50cnk8U3RvcmVkUm91dGVEYXRhPiA9IHtcbiAgICAgIGRhdGEsXG4gICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICBleHBpcmVzX2F0OiBEYXRlLm5vdygpICsgdGhpcy5DQUNIRV9FWFBJUllfTVMsXG4gICAgICB2ZXJzaW9uLFxuICAgICAgZ3JvdXBfaWQ6IGdyb3VwSWRcbiAgICB9XG5cbiAgICB0aGlzLm1lbW9yeUNhY2hlLnNldChncm91cElkLCBlbnRyeSlcbiAgfVxuXG4gIHByaXZhdGUgY2xlYW51cE1lbW9yeUNhY2hlKCkge1xuICAgIC8vIFJlbW92ZSBleHBpcmVkIGVudHJpZXMgZmlyc3RcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpXG4gICAgY29uc3QgZW50cmllcyA9IEFycmF5LmZyb20odGhpcy5tZW1vcnlDYWNoZS5lbnRyaWVzKCkpXG4gICAgZm9yIChjb25zdCBba2V5LCBlbnRyeV0gb2YgZW50cmllcykge1xuICAgICAgaWYgKG5vdyA+IGVudHJ5LmV4cGlyZXNfYXQpIHtcbiAgICAgICAgdGhpcy5tZW1vcnlDYWNoZS5kZWxldGUoa2V5KVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIElmIHN0aWxsIHRvbyBtYW55LCByZW1vdmUgb2xkZXN0IGVudHJpZXNcbiAgICBpZiAodGhpcy5tZW1vcnlDYWNoZS5zaXplID49IHRoaXMuTUFYX01FTU9SWV9FTlRSSUVTKSB7XG4gICAgICBjb25zdCBlbnRyaWVzID0gQXJyYXkuZnJvbSh0aGlzLm1lbW9yeUNhY2hlLmVudHJpZXMoKSlcbiAgICAgIGVudHJpZXMuc29ydCgoYSwgYikgPT4gYVsxXS50aW1lc3RhbXAgLSBiWzFdLnRpbWVzdGFtcClcbiAgICAgIFxuICAgICAgY29uc3QgdG9SZW1vdmUgPSBlbnRyaWVzLnNsaWNlKDAsIHRoaXMubWVtb3J5Q2FjaGUuc2l6ZSAtIHRoaXMuTUFYX01FTU9SWV9FTlRSSUVTICsgMTApXG4gICAgICB0b1JlbW92ZS5mb3JFYWNoKChba2V5XSkgPT4gdGhpcy5tZW1vcnlDYWNoZS5kZWxldGUoa2V5KSlcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTG9jYWwgc3RvcmFnZSBvcGVyYXRpb25zXG4gICAqL1xuICBwcml2YXRlIGdldEZyb21Mb2NhbFN0b3JhZ2UoZ3JvdXBJZDogc3RyaW5nKTogU3RvcmVkUm91dGVEYXRhIHwgbnVsbCB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuIG51bGxcblxuICAgICAgY29uc3Qga2V5ID0gdGhpcy5MT0NBTF9TVE9SQUdFX1BSRUZJWCArIGdyb3VwSWRcbiAgICAgIGNvbnN0IHN0b3JlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSlcbiAgICAgIFxuICAgICAgaWYgKCFzdG9yZWQpIHJldHVybiBudWxsXG5cbiAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2Uoc3RvcmVkKVxuICAgICAgXG4gICAgICAvLyBDaGVjayBpZiBleHBpcmVkXG4gICAgICBpZiAoRGF0ZS5ub3coKSA+IHBhcnNlZC5leHBpcmVzX2F0KSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSlcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHBhcnNlZC5kYXRhXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlYWRpbmcgZnJvbSBsb2NhbCBzdG9yYWdlOicsIGVycm9yKVxuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHNhdmVUb0xvY2FsU3RvcmFnZShncm91cElkOiBzdHJpbmcsIGRhdGE6IFN0b3JlZFJvdXRlRGF0YSwgdmVyc2lvbjogbnVtYmVyID0gMCkge1xuICAgIHRyeSB7XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVyblxuXG4gICAgICBjb25zdCBrZXkgPSB0aGlzLkxPQ0FMX1NUT1JBR0VfUFJFRklYICsgZ3JvdXBJZFxuICAgICAgY29uc3QgZW50cnkgPSB7XG4gICAgICAgIGRhdGEsXG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgZXhwaXJlc19hdDogRGF0ZS5ub3coKSArIHRoaXMuTE9DQUxfU1RPUkFHRV9FWFBJUllfTVMsXG4gICAgICAgIHZlcnNpb24sXG4gICAgICAgIGdyb3VwX2lkOiBncm91cElkXG4gICAgICB9XG5cbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkoZW50cnkpKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgdG8gbG9jYWwgc3RvcmFnZTonLCBlcnJvcilcbiAgICAgIC8vIElnbm9yZSBlcnJvcnMgKHN0b3JhZ2UgcXVvdGEsIHByaXZhdGUgYnJvd3NpbmcsIGV0Yy4pXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZW1vdmVGcm9tTG9jYWxTdG9yYWdlKGdyb3VwSWQ6IHN0cmluZykge1xuICAgIHRyeSB7XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVyblxuXG4gICAgICBjb25zdCBrZXkgPSB0aGlzLkxPQ0FMX1NUT1JBR0VfUFJFRklYICsgZ3JvdXBJZFxuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZW1vdmluZyBmcm9tIGxvY2FsIHN0b3JhZ2U6JywgZXJyb3IpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhY2hlIHZhbGlkYXRpb25cbiAgICovXG4gIGlzVmFsaWRDYWNoZShncm91cElkOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBjb25zdCBlbnRyeSA9IHRoaXMubWVtb3J5Q2FjaGUuZ2V0KGdyb3VwSWQpXG4gICAgcmV0dXJuIGVudHJ5ID8gRGF0ZS5ub3coKSA8PSBlbnRyeS5leHBpcmVzX2F0IDogZmFsc2VcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgY2FjaGUgc3RhdGlzdGljc1xuICAgKi9cbiAgZ2V0U3RhdHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnRoaXMubWV0cmljcyxcbiAgICAgIG1lbW9yeUVudHJpZXM6IHRoaXMubWVtb3J5Q2FjaGUuc2l6ZSxcbiAgICAgIGhpdFJhdGU6IHRoaXMubWV0cmljcy5oaXRzIC8gKHRoaXMubWV0cmljcy5oaXRzICsgdGhpcy5tZXRyaWNzLm1pc3NlcykgfHwgMFxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhciBhbGwgY2FjaGVzXG4gICAqL1xuICBjbGVhckFsbCgpIHtcbiAgICB0aGlzLm1lbW9yeUNhY2hlLmNsZWFyKClcbiAgICBcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIENsZWFyIGxvY2FsIHN0b3JhZ2UgZW50cmllc1xuICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGxvY2FsU3RvcmFnZSlcbiAgICAgIGtleXMuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICBpZiAoa2V5LnN0YXJ0c1dpdGgodGhpcy5MT0NBTF9TVE9SQUdFX1BSRUZJWCkpIHtcbiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFByZWxvYWQgcm91dGVzIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2VcbiAgICovXG4gIGFzeW5jIHByZWxvYWRSb3V0ZXMoZ3JvdXBJZHM6IHN0cmluZ1tdLCBmZXRjaEZ1bmN0aW9uOiAoZ3JvdXBJZDogc3RyaW5nKSA9PiBQcm9taXNlPE9wdGltaXplZFJvdXRlIHwgbnVsbD4pIHtcbiAgICBjb25zdCBwcm9taXNlcyA9IGdyb3VwSWRzLm1hcChhc3luYyAoZ3JvdXBJZCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWRDYWNoZShncm91cElkKSkge1xuICAgICAgICAgIGNvbnN0IHJvdXRlID0gYXdhaXQgZmV0Y2hGdW5jdGlvbihncm91cElkKVxuICAgICAgICAgIGlmIChyb3V0ZT8ucm91dGVfZGF0YSkge1xuICAgICAgICAgICAgdGhpcy5zZXRSb3V0ZShncm91cElkLCByb3V0ZS5yb3V0ZV9kYXRhLCByb3V0ZS52ZXJzaW9uKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIHByZWxvYWQgcm91dGUgZm9yIGdyb3VwICR7Z3JvdXBJZH06YCwgZXJyb3IpXG4gICAgICB9XG4gICAgfSlcblxuICAgIGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChwcm9taXNlcylcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWNvcmQgcGVyZm9ybWFuY2UgbWV0cmljc1xuICAgKi9cbiAgcHJpdmF0ZSByZWNvcmRNZXRyaWNzKFxuICAgIG9wZXJhdGlvbjogc3RyaW5nLFxuICAgIGR1cmF0aW9uOiBudW1iZXIsXG4gICAgY2FjaGVIaXQ6IGJvb2xlYW4sXG4gICAgZ3JvdXBJZDogc3RyaW5nLFxuICAgIHN1Y2Nlc3M6IGJvb2xlYW4gPSB0cnVlXG4gICkge1xuICAgIGNvbnN0IG1ldHJpYzogUm91dGVPcGVyYXRpb25NZXRyaWNzID0ge1xuICAgICAgb3BlcmF0aW9uLFxuICAgICAgZHVyYXRpb25fbXM6IGR1cmF0aW9uLFxuICAgICAgcm93c19hZmZlY3RlZDogMSxcbiAgICAgIGNhY2hlX2hpdDogY2FjaGVIaXQsXG4gICAgICBncm91cF9pZDogZ3JvdXBJZCxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgc3VjY2Vzc1xuICAgIH1cblxuICAgIC8vIExvZyBwZXJmb3JtYW5jZSBtZXRyaWNzIChjb3VsZCBiZSBzZW50IHRvIGFuYWx5dGljcyBzZXJ2aWNlKVxuICAgIGlmIChkdXJhdGlvbiA+IDEwMDApIHtcbiAgICAgIGNvbnNvbGUud2FybignU2xvdyBjYWNoZSBvcGVyYXRpb246JywgbWV0cmljKVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEJhdGNoIG9wZXJhdGlvbnMgZm9yIGJldHRlciBwZXJmb3JtYW5jZVxuICovXG5leHBvcnQgY2xhc3MgQmF0Y2hPcGVyYXRpb25NYW5hZ2VyIHtcbiAgcHJpdmF0ZSBwZW5kaW5nT3BlcmF0aW9ucyA9IG5ldyBNYXA8c3RyaW5nLCBBcnJheTwoKSA9PiBQcm9taXNlPGFueT4+PigpXG4gIHByaXZhdGUgYmF0Y2hUaW1lb3V0cyA9IG5ldyBNYXA8c3RyaW5nLCBOb2RlSlMuVGltZW91dD4oKVxuICBwcml2YXRlIHJlYWRvbmx5IEJBVENIX0RFTEFZX01TID0gMTAwXG4gIHByaXZhdGUgcmVhZG9ubHkgTUFYX0JBVENIX1NJWkUgPSAxMFxuXG4gIC8qKlxuICAgKiBBZGQgb3BlcmF0aW9uIHRvIGJhdGNoXG4gICAqL1xuICBhZGRUb0JhdGNoPFQ+KFxuICAgIGJhdGNoS2V5OiBzdHJpbmcsXG4gICAgb3BlcmF0aW9uOiAoKSA9PiBQcm9taXNlPFQ+XG4gICk6IFByb21pc2U8VD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCB3cmFwcGVkT3BlcmF0aW9uID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG9wZXJhdGlvbigpXG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQpXG4gICAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHJlamVjdChlcnJvcilcbiAgICAgICAgICB0aHJvdyBlcnJvclxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEFkZCB0byBwZW5kaW5nIG9wZXJhdGlvbnNcbiAgICAgIGlmICghdGhpcy5wZW5kaW5nT3BlcmF0aW9ucy5oYXMoYmF0Y2hLZXkpKSB7XG4gICAgICAgIHRoaXMucGVuZGluZ09wZXJhdGlvbnMuc2V0KGJhdGNoS2V5LCBbXSlcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3Qgb3BlcmF0aW9ucyA9IHRoaXMucGVuZGluZ09wZXJhdGlvbnMuZ2V0KGJhdGNoS2V5KSFcbiAgICAgIG9wZXJhdGlvbnMucHVzaCh3cmFwcGVkT3BlcmF0aW9uKVxuXG4gICAgICAvLyBFeGVjdXRlIGltbWVkaWF0ZWx5IGlmIGJhdGNoIGlzIGZ1bGxcbiAgICAgIGlmIChvcGVyYXRpb25zLmxlbmd0aCA+PSB0aGlzLk1BWF9CQVRDSF9TSVpFKSB7XG4gICAgICAgIHRoaXMuZXhlY3V0ZUJhdGNoKGJhdGNoS2V5KVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgLy8gU2NoZWR1bGUgYmF0Y2ggZXhlY3V0aW9uXG4gICAgICBpZiAoIXRoaXMuYmF0Y2hUaW1lb3V0cy5oYXMoYmF0Y2hLZXkpKSB7XG4gICAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmV4ZWN1dGVCYXRjaChiYXRjaEtleSlcbiAgICAgICAgfSwgdGhpcy5CQVRDSF9ERUxBWV9NUylcbiAgICAgICAgXG4gICAgICAgIHRoaXMuYmF0Y2hUaW1lb3V0cy5zZXQoYmF0Y2hLZXksIHRpbWVvdXQpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBFeGVjdXRlIGJhdGNoIG9wZXJhdGlvbnNcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZXhlY3V0ZUJhdGNoKGJhdGNoS2V5OiBzdHJpbmcpIHtcbiAgICBjb25zdCBvcGVyYXRpb25zID0gdGhpcy5wZW5kaW5nT3BlcmF0aW9ucy5nZXQoYmF0Y2hLZXkpXG4gICAgY29uc3QgdGltZW91dCA9IHRoaXMuYmF0Y2hUaW1lb3V0cy5nZXQoYmF0Y2hLZXkpXG5cbiAgICBpZiAodGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpXG4gICAgICB0aGlzLmJhdGNoVGltZW91dHMuZGVsZXRlKGJhdGNoS2V5KVxuICAgIH1cblxuICAgIGlmICghb3BlcmF0aW9ucyB8fCBvcGVyYXRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gQ2xlYXIgcGVuZGluZyBvcGVyYXRpb25zXG4gICAgdGhpcy5wZW5kaW5nT3BlcmF0aW9ucy5kZWxldGUoYmF0Y2hLZXkpXG5cbiAgICAvLyBFeGVjdXRlIGFsbCBvcGVyYXRpb25zIGluIHBhcmFsbGVsXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKG9wZXJhdGlvbnMubWFwKG9wID0+IG9wKCkpKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBCYXRjaCBleGVjdXRpb24gZmFpbGVkIGZvciAke2JhdGNoS2V5fTpgLCBlcnJvcilcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRm9yY2UgZXhlY3V0ZSBhbGwgcGVuZGluZyBiYXRjaGVzXG4gICAqL1xuICBhc3luYyBmbHVzaEFsbCgpIHtcbiAgICBjb25zdCBiYXRjaEtleXMgPSBBcnJheS5mcm9tKHRoaXMucGVuZGluZ09wZXJhdGlvbnMua2V5cygpKVxuICAgIGF3YWl0IFByb21pc2UuYWxsKGJhdGNoS2V5cy5tYXAoa2V5ID0+IHRoaXMuZXhlY3V0ZUJhdGNoKGtleSkpKVxuICB9XG59XG5cbi8qKlxuICogUXVlcnkgb3B0aW1pemF0aW9uIHV0aWxpdGllc1xuICovXG5leHBvcnQgY2xhc3MgUXVlcnlPcHRpbWl6ZXIge1xuICBwcml2YXRlIHF1ZXJ5Q2FjaGUgPSBuZXcgTWFwPHN0cmluZywgeyByZXN1bHQ6IGFueTsgdGltZXN0YW1wOiBudW1iZXIgfT4oKVxuICBwcml2YXRlIHJlYWRvbmx5IFFVRVJZX0NBQ0hFX1RUTCA9IDYwMDAwIC8vIDEgbWludXRlXG5cbiAgLyoqXG4gICAqIENhY2hlIHF1ZXJ5IHJlc3VsdHNcbiAgICovXG4gIGFzeW5jIGNhY2hlZFF1ZXJ5PFQ+KFxuICAgIHF1ZXJ5S2V5OiBzdHJpbmcsXG4gICAgcXVlcnlGdW5jdGlvbjogKCkgPT4gUHJvbWlzZTxUPixcbiAgICB0dGw6IG51bWJlciA9IHRoaXMuUVVFUllfQ0FDSEVfVFRMXG4gICk6IFByb21pc2U8VD4ge1xuICAgIGNvbnN0IGNhY2hlZCA9IHRoaXMucXVlcnlDYWNoZS5nZXQocXVlcnlLZXkpXG4gICAgXG4gICAgaWYgKGNhY2hlZCAmJiBEYXRlLm5vdygpIC0gY2FjaGVkLnRpbWVzdGFtcCA8IHR0bCkge1xuICAgICAgcmV0dXJuIGNhY2hlZC5yZXN1bHRcbiAgICB9XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBxdWVyeUZ1bmN0aW9uKClcbiAgICB0aGlzLnF1ZXJ5Q2FjaGUuc2V0KHF1ZXJ5S2V5LCB7XG4gICAgICByZXN1bHQsXG4gICAgICB0aW1lc3RhbXA6IERhdGUubm93KClcbiAgICB9KVxuXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgLyoqXG4gICAqIEJ1aWxkIG9wdGltaXplZCBKU09OQiBxdWVyaWVzXG4gICAqL1xuICBidWlsZEpzb25iUXVlcnkoXG4gICAgYmFzZVF1ZXJ5OiBhbnksXG4gICAganNvbmJDb2x1bW46IHN0cmluZyxcbiAgICBmaWx0ZXJzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4gICkge1xuICAgIGxldCBxdWVyeSA9IGJhc2VRdWVyeVxuXG4gICAgT2JqZWN0LmVudHJpZXMoZmlsdGVycykuZm9yRWFjaCgoW3BhdGgsIHZhbHVlXSkgPT4ge1xuICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5lcShgJHtqc29uYkNvbHVtbn0tPj4ke3BhdGh9YCwgdmFsdWUpXG4gICAgICB9XG4gICAgfSlcblxuICAgIHJldHVybiBxdWVyeVxuICB9XG5cbiAgLyoqXG4gICAqIENsZWFyIHF1ZXJ5IGNhY2hlXG4gICAqL1xuICBjbGVhclF1ZXJ5Q2FjaGUoKSB7XG4gICAgdGhpcy5xdWVyeUNhY2hlLmNsZWFyKClcbiAgfVxufVxuXG4vLyBFeHBvcnQgc2luZ2xldG9uIGluc3RhbmNlc1xuZXhwb3J0IGNvbnN0IHJvdXRlRGF0YUNhY2hlID0gbmV3IFJvdXRlRGF0YUNhY2hlKClcbmV4cG9ydCBjb25zdCBiYXRjaE9wZXJhdGlvbk1hbmFnZXIgPSBuZXcgQmF0Y2hPcGVyYXRpb25NYW5hZ2VyKClcbmV4cG9ydCBjb25zdCBxdWVyeU9wdGltaXplciA9IG5ldyBRdWVyeU9wdGltaXplcigpXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgcm91dGVEYXRhQ2FjaGUsXG4gIGJhdGNoT3BlcmF0aW9uTWFuYWdlcixcbiAgcXVlcnlPcHRpbWl6ZXJcbn0iXSwibmFtZXMiOlsiQ2FjaGVJbnZhbGlkYXRpb25FcnJvciIsIlJvdXRlRGF0YUNhY2hlIiwiZ2V0Um91dGUiLCJncm91cElkIiwiZmV0Y2hGcm9tRGIiLCJzdGFydFRpbWUiLCJwZXJmb3JtYW5jZSIsIm5vdyIsImNhY2hlSGl0IiwicmVzdWx0IiwiY2FjaGVkIiwiZ2V0RnJvbU1lbW9yeUNhY2hlIiwibWV0cmljcyIsImhpdHMiLCJsb2NhbENhY2hlZCIsImdldEZyb21Mb2NhbFN0b3JhZ2UiLCJzZXRJbk1lbW9yeUNhY2hlIiwibWlzc2VzIiwiZGJSZXN1bHQiLCJyb3V0ZV9kYXRhIiwidmVyc2lvbiIsInNhdmVUb0xvY2FsU3RvcmFnZSIsImVycm9yIiwiZXJyb3JzIiwiY29uc29sZSIsInJlY29yZE1ldHJpY3MiLCJzZXRSb3V0ZSIsInJvdXRlRGF0YSIsImludmFsaWRhdGVDYWNoZSIsIm1lbW9yeUNhY2hlIiwiZGVsZXRlIiwicmVtb3ZlRnJvbUxvY2FsU3RvcmFnZSIsImludmFsaWRhdGlvbnMiLCJlbnRyeSIsImdldCIsIkRhdGUiLCJleHBpcmVzX2F0IiwiZGF0YSIsInNpemUiLCJNQVhfTUVNT1JZX0VOVFJJRVMiLCJjbGVhbnVwTWVtb3J5Q2FjaGUiLCJ0aW1lc3RhbXAiLCJDQUNIRV9FWFBJUllfTVMiLCJncm91cF9pZCIsInNldCIsImVudHJpZXMiLCJBcnJheSIsImZyb20iLCJrZXkiLCJzb3J0IiwiYSIsImIiLCJ0b1JlbW92ZSIsInNsaWNlIiwiZm9yRWFjaCIsIkxPQ0FMX1NUT1JBR0VfUFJFRklYIiwic3RvcmVkIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInBhcnNlZCIsIkpTT04iLCJwYXJzZSIsInJlbW92ZUl0ZW0iLCJMT0NBTF9TVE9SQUdFX0VYUElSWV9NUyIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJpc1ZhbGlkQ2FjaGUiLCJnZXRTdGF0cyIsIm1lbW9yeUVudHJpZXMiLCJoaXRSYXRlIiwiY2xlYXJBbGwiLCJjbGVhciIsImtleXMiLCJPYmplY3QiLCJzdGFydHNXaXRoIiwicHJlbG9hZFJvdXRlcyIsImdyb3VwSWRzIiwiZmV0Y2hGdW5jdGlvbiIsInByb21pc2VzIiwibWFwIiwicm91dGUiLCJQcm9taXNlIiwiYWxsU2V0dGxlZCIsIm9wZXJhdGlvbiIsImR1cmF0aW9uIiwic3VjY2VzcyIsIm1ldHJpYyIsImR1cmF0aW9uX21zIiwicm93c19hZmZlY3RlZCIsImNhY2hlX2hpdCIsInRvSVNPU3RyaW5nIiwid2FybiIsIk1hcCIsIkJhdGNoT3BlcmF0aW9uTWFuYWdlciIsImFkZFRvQmF0Y2giLCJiYXRjaEtleSIsInJlc29sdmUiLCJyZWplY3QiLCJ3cmFwcGVkT3BlcmF0aW9uIiwicGVuZGluZ09wZXJhdGlvbnMiLCJoYXMiLCJvcGVyYXRpb25zIiwicHVzaCIsImxlbmd0aCIsIk1BWF9CQVRDSF9TSVpFIiwiZXhlY3V0ZUJhdGNoIiwiYmF0Y2hUaW1lb3V0cyIsInRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiQkFUQ0hfREVMQVlfTVMiLCJjbGVhclRpbWVvdXQiLCJhbGwiLCJvcCIsImZsdXNoQWxsIiwiYmF0Y2hLZXlzIiwiUXVlcnlPcHRpbWl6ZXIiLCJjYWNoZWRRdWVyeSIsInF1ZXJ5S2V5IiwicXVlcnlGdW5jdGlvbiIsInR0bCIsIlFVRVJZX0NBQ0hFX1RUTCIsInF1ZXJ5Q2FjaGUiLCJidWlsZEpzb25iUXVlcnkiLCJiYXNlUXVlcnkiLCJqc29uYkNvbHVtbiIsImZpbHRlcnMiLCJxdWVyeSIsInBhdGgiLCJ2YWx1ZSIsInVuZGVmaW5lZCIsImVxIiwiY2xlYXJRdWVyeUNhY2hlIiwicm91dGVEYXRhQ2FjaGUiLCJiYXRjaE9wZXJhdGlvbk1hbmFnZXIiLCJxdWVyeU9wdGltaXplciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./lib/services/route-cache.ts\n");

/***/ }),

/***/ "(action-browser)/./lib/services/route-storage.ts":
/*!***************************************!*\
  !*** ./lib/services/route-storage.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RouteStorageService: () => (/* binding */ RouteStorageService),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeStorageService: () => (/* binding */ routeStorageService),\n/* harmony export */   validateRouteData: () => (/* binding */ validateRouteData)\n/* harmony export */ });\n/* harmony import */ var _lib_supabase_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/supabase/server */ \"(action-browser)/./lib/supabase/server.ts\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/headers */ \"(action-browser)/./node_modules/next/headers.js\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_headers__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_types_route_storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/types/route-storage */ \"(action-browser)/./lib/types/route-storage.ts\");\n// Database operations for route storage and management\n\n\n\n// Supabase client will be created in each method with server context\n/**\n * Data validation utilities\n */ function validateRouteData(routeData) {\n    const errors = [];\n    const warnings = [];\n    // Validate required fields\n    if (!routeData.status) {\n        errors.push({\n            field: \"status\",\n            message: \"Missing route status\"\n        });\n    }\n    if (!routeData.multiDaySchedule?.days?.length) {\n        errors.push({\n            field: \"multiDaySchedule.days\",\n            message: \"No scheduled days\"\n        });\n    }\n    if (!routeData.optimizationMetrics) {\n        errors.push({\n            field: \"optimizationMetrics\",\n            message: \"Missing optimization metrics\"\n        });\n    }\n    // Validate data consistency\n    routeData.multiDaySchedule?.days?.forEach((day, dayIndex)=>{\n        if (!day.date) {\n            errors.push({\n                field: `multiDaySchedule.days[${dayIndex}].date`,\n                message: \"Missing date for day\"\n            });\n        }\n        day.destinations?.forEach((dest, destIndex)=>{\n            if (!dest.destinationId) {\n                errors.push({\n                    field: `multiDaySchedule.days[${dayIndex}].destinations[${destIndex}].destinationId`,\n                    message: \"Missing destination ID\"\n                });\n            }\n            if (dest.allocatedDuration <= 0) {\n                errors.push({\n                    field: `multiDaySchedule.days[${dayIndex}].destinations[${destIndex}].allocatedDuration`,\n                    message: \"Invalid duration\",\n                    value: dest.allocatedDuration\n                });\n            }\n            if (!dest.startTime || !dest.endTime) {\n                errors.push({\n                    field: `multiDaySchedule.days[${dayIndex}].destinations[${destIndex}].startTime`,\n                    message: \"Missing start or end time\"\n                });\n            }\n            // Validate coordinates\n            if (!dest.coordinates || typeof dest.coordinates.lat !== \"number\" || typeof dest.coordinates.lng !== \"number\") {\n                errors.push({\n                    field: `multiDaySchedule.days[${dayIndex}].destinations[${destIndex}].coordinates`,\n                    message: \"Invalid coordinates\"\n                });\n            }\n            // Check for reasonable coordinate ranges\n            if (dest.coordinates && (Math.abs(dest.coordinates.lat) > 90 || Math.abs(dest.coordinates.lng) > 180)) {\n                warnings.push(`Day ${dayIndex + 1}, destination ${destIndex + 1}: Coordinates may be out of range`);\n            }\n        });\n    });\n    // Validate generation info\n    if (!routeData.generationInfo?.algorithmVersion) {\n        warnings.push(\"Missing algorithm version information\");\n    }\n    if (!routeData.generationInfo?.generatedAt) {\n        errors.push({\n            field: \"generationInfo.generatedAt\",\n            message: \"Missing generation timestamp\"\n        });\n    }\n    return {\n        isValid: errors.length === 0,\n        errors,\n        warnings\n    };\n}\n/**\n * Core route storage operations\n */ class RouteStorageService {\n    /**\n   * Save optimization result to database\n   */ async saveOptimizationResult(groupId, routeData, metrics, userId, sessionId) {\n        try {\n            // Validate route data before saving\n            const validation = validateRouteData(routeData);\n            if (!validation.isValid) {\n                throw new _lib_types_route_storage__WEBPACK_IMPORTED_MODULE_2__.RouteStorageError(\"Invalid route data\", \"VALIDATION_ERROR\", validation.errors);\n            }\n            // Create version before update\n            await this.createRouteVersion(groupId, routeData, {\n                userId,\n                sessionId,\n                changeType: \"optimization\",\n                changeDescription: \"Automatic optimization result save\"\n            });\n            const version = Date.now();\n            const cookieStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)();\n            const supabase = (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_0__.createClient)(cookieStore);\n            const { data, error } = await supabase.from(\"optimized_routes\").upsert({\n                group_id: groupId,\n                route_data: routeData,\n                fairness_score: metrics.fairnessScore,\n                total_distance: metrics.totalDistance,\n                total_duration: metrics.totalDuration,\n                version: version,\n                created_at: new Date().toISOString()\n            }, {\n                onConflict: \"group_id\",\n                ignoreDuplicates: false\n            }).select().single();\n            if (error) {\n                throw new _lib_types_route_storage__WEBPACK_IMPORTED_MODULE_2__.RouteStorageError(`Failed to save optimization result: ${error.message}`, \"DATABASE_ERROR\", error);\n            }\n            // Log the change\n            await this.logRouteChange({\n                group_id: groupId,\n                user_id: userId || null,\n                session_id: sessionId || null,\n                change_type: \"preference_update\",\n                old_value: null,\n                new_value: {\n                    version,\n                    fairness_score: metrics.fairnessScore\n                },\n                impact_metrics: {\n                    fairness_score_change: 0,\n                    total_time_change: 0,\n                    total_distance_change: 0,\n                    affected_users: [],\n                    satisfaction_change: 0\n                }\n            });\n            // 🎯 NEW: Extract and save individual places from optimization result\n            await this.saveOptimizedPlaces(groupId, routeData);\n            return data;\n        } catch (error) {\n            if (error instanceof _lib_types_route_storage__WEBPACK_IMPORTED_MODULE_2__.RouteStorageError) {\n                throw error;\n            }\n            throw new _lib_types_route_storage__WEBPACK_IMPORTED_MODULE_2__.RouteStorageError(\"Unexpected error saving route\", \"UNKNOWN_ERROR\", error);\n        }\n    }\n    /**\n   * Get route by group ID\n   */ async getRoute(groupId) {\n        try {\n            const cookieStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)();\n            const supabase = (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_0__.createClient)(cookieStore);\n            const { data, error } = await supabase.from(\"optimized_routes\").select(\"*\").eq(\"group_id\", groupId).single();\n            if (error) {\n                if (error.code === \"PGRST116\") {\n                    return null // No route found\n                    ;\n                }\n                throw new _lib_types_route_storage__WEBPACK_IMPORTED_MODULE_2__.RouteStorageError(`Failed to get route: ${error.message}`, \"DATABASE_ERROR\", error);\n            }\n            return data;\n        } catch (error) {\n            if (error instanceof _lib_types_route_storage__WEBPACK_IMPORTED_MODULE_2__.RouteStorageError) {\n                throw error;\n            }\n            throw new _lib_types_route_storage__WEBPACK_IMPORTED_MODULE_2__.RouteStorageError(\"Unexpected error fetching route\", \"UNKNOWN_ERROR\", error);\n        }\n    }\n    /**\n   * Query routes with filters\n   */ async queryRoutes(options) {\n        try {\n            const cookieStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)();\n            const supabase = (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_0__.createClient)(cookieStore);\n            let query = supabase.from(\"optimized_routes\").select(\"*\");\n            // Apply filters\n            if (options.group_id) {\n                query = query.eq(\"group_id\", options.group_id);\n            }\n            if (options.date_range) {\n                query = query.gte(\"created_at\", options.date_range.start).lte(\"created_at\", options.date_range.end);\n            }\n            if (options.min_fairness_score) {\n                query = query.gte(\"fairness_score\", options.min_fairness_score);\n            }\n            if (options.max_distance) {\n                query = query.lte(\"total_distance\", options.max_distance);\n            }\n            if (options.max_duration) {\n                query = query.lte(\"total_duration\", options.max_duration);\n            }\n            // Apply ordering\n            if (options.order_by) {\n                query = query.order(options.order_by, {\n                    ascending: options.order_direction === \"asc\"\n                });\n            }\n            // Apply pagination\n            if (options.limit) {\n                query = query.limit(options.limit);\n            }\n            if (options.offset) {\n                query = query.range(options.offset, options.offset + (options.limit || 50) - 1);\n            }\n            const { data, error } = await query;\n            if (error) {\n                throw new _lib_types_route_storage__WEBPACK_IMPORTED_MODULE_2__.RouteStorageError(`Failed to query routes: ${error.message}`, \"DATABASE_ERROR\", error);\n            }\n            return data || [];\n        } catch (error) {\n            if (error instanceof _lib_types_route_storage__WEBPACK_IMPORTED_MODULE_2__.RouteStorageError) {\n                throw error;\n            }\n            throw new _lib_types_route_storage__WEBPACK_IMPORTED_MODULE_2__.RouteStorageError(\"Unexpected error querying routes\", \"UNKNOWN_ERROR\", error);\n        }\n    }\n    /**\n   * Update route with conflict detection\n   */ async updateRoute(groupId, updates, currentVersion, userId, sessionId) {\n        try {\n            // Get current route to check for conflicts\n            const currentRoute = await this.getRoute(groupId);\n            if (!currentRoute) {\n                throw new _lib_types_route_storage__WEBPACK_IMPORTED_MODULE_2__.RouteStorageError(\"Route not found\", \"NOT_FOUND\");\n            }\n            // Check for version conflict\n            if (currentRoute.version !== currentVersion) {\n                const conflict = {\n                    local_version: currentVersion,\n                    server_version: currentRoute.version,\n                    conflicting_fields: Object.keys(updates),\n                    local_changes: updates,\n                    server_changes: currentRoute.route_data,\n                    resolution_strategy: \"manual\",\n                    conflict_id: `conflict_${Date.now()}`,\n                    created_at: new Date().toISOString()\n                };\n                throw new _lib_types_route_storage__WEBPACK_IMPORTED_MODULE_2__.ConflictResolutionRequiredError(conflict);\n            }\n            // Merge updates with current data\n            const updatedRouteData = {\n                ...currentRoute.route_data,\n                ...updates\n            };\n            // Validate updated data\n            const validation = validateRouteData(updatedRouteData);\n            if (!validation.isValid) {\n                throw new _lib_types_route_storage__WEBPACK_IMPORTED_MODULE_2__.RouteStorageError(\"Invalid updated route data\", \"VALIDATION_ERROR\", validation.errors);\n            }\n            // Create version before update\n            await this.createRouteVersion(groupId, currentRoute.route_data, {\n                userId,\n                sessionId,\n                changeType: \"manual_edit\",\n                changeDescription: \"Manual route update\"\n            });\n            const newVersion = Date.now();\n            const cookieStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)();\n            const supabase = (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_0__.createClient)(cookieStore);\n            const { data, error } = await supabase.from(\"optimized_routes\").update({\n                route_data: updatedRouteData,\n                version: newVersion,\n                created_at: new Date().toISOString()\n            }).eq(\"group_id\", groupId).select().single();\n            if (error) {\n                throw new _lib_types_route_storage__WEBPACK_IMPORTED_MODULE_2__.RouteStorageError(`Failed to update route: ${error.message}`, \"DATABASE_ERROR\", error);\n            }\n            return data;\n        } catch (error) {\n            if (error instanceof _lib_types_route_storage__WEBPACK_IMPORTED_MODULE_2__.RouteStorageError || error instanceof _lib_types_route_storage__WEBPACK_IMPORTED_MODULE_2__.ConflictResolutionRequiredError) {\n                throw error;\n            }\n            throw new _lib_types_route_storage__WEBPACK_IMPORTED_MODULE_2__.RouteStorageError(\"Unexpected error updating route\", \"UNKNOWN_ERROR\", error);\n        }\n    }\n    /**\n   * Delete route\n   */ async deleteRoute(groupId) {\n        try {\n            const cookieStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)();\n            const supabase = (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_0__.createClient)(cookieStore);\n            const { error } = await supabase.from(\"optimized_routes\").delete().eq(\"group_id\", groupId);\n            if (error) {\n                throw new _lib_types_route_storage__WEBPACK_IMPORTED_MODULE_2__.RouteStorageError(`Failed to delete route: ${error.message}`, \"DATABASE_ERROR\", error);\n            }\n        } catch (error) {\n            if (error instanceof _lib_types_route_storage__WEBPACK_IMPORTED_MODULE_2__.RouteStorageError) {\n                throw error;\n            }\n            throw new _lib_types_route_storage__WEBPACK_IMPORTED_MODULE_2__.RouteStorageError(\"Unexpected error deleting route\", \"UNKNOWN_ERROR\", error);\n        }\n    }\n    /**\n   * Version control operations\n   */ async createRouteVersion(groupId, routeData, changeInfo) {\n        try {\n            const version = Date.now();\n            const cookieStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)();\n            const supabase = (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_0__.createClient)(cookieStore);\n            const { error } = await supabase.from(\"route_versions\").insert({\n                group_id: groupId,\n                version: version,\n                user_id: changeInfo.userId,\n                session_id: changeInfo.sessionId,\n                change_type: changeInfo.changeType,\n                change_description: changeInfo.changeDescription,\n                route_data_snapshot: routeData,\n                created_at: new Date().toISOString()\n            });\n            if (error) {\n                console.error(\"Failed to create route version:\", error);\n            // Don't throw error as this is not critical for main operation\n            }\n            return version;\n        } catch (error) {\n            console.error(\"Unexpected error creating route version:\", error);\n            return Date.now();\n        }\n    }\n    /**\n   * Get route versions\n   */ async getRouteVersions(groupId, limit = 10) {\n        try {\n            const cookieStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)();\n            const supabase = (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_0__.createClient)(cookieStore);\n            const { data, error } = await supabase.from(\"route_versions\").select(\"*\").eq(\"group_id\", groupId).order(\"created_at\", {\n                ascending: false\n            }).limit(limit);\n            if (error) {\n                throw new _lib_types_route_storage__WEBPACK_IMPORTED_MODULE_2__.RouteStorageError(`Failed to get route versions: ${error.message}`, \"DATABASE_ERROR\", error);\n            }\n            return data || [];\n        } catch (error) {\n            if (error instanceof _lib_types_route_storage__WEBPACK_IMPORTED_MODULE_2__.RouteStorageError) {\n                throw error;\n            }\n            throw new _lib_types_route_storage__WEBPACK_IMPORTED_MODULE_2__.RouteStorageError(\"Unexpected error getting route versions\", \"UNKNOWN_ERROR\", error);\n        }\n    }\n    /**\n   * Log route changes\n   */ async logRouteChange(changeLog) {\n        try {\n            const cookieStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)();\n            const supabase = (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_0__.createClient)(cookieStore);\n            const { error } = await supabase.from(\"route_change_logs\").insert({\n                ...changeLog,\n                timestamp: new Date().toISOString(),\n                created_at: new Date().toISOString()\n            });\n            if (error) {\n                console.error(\"Failed to log route change:\", error);\n            // Don't throw error as this is not critical for main operation\n            }\n        } catch (error) {\n            console.error(\"Unexpected error logging route change:\", error);\n        }\n    }\n    /**\n   * Get route change history\n   */ async getRouteChangeHistory(groupId, limit = 50) {\n        try {\n            const cookieStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)();\n            const supabase = (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_0__.createClient)(cookieStore);\n            const { data, error } = await supabase.from(\"route_change_logs\").select(\"*\").eq(\"group_id\", groupId).order(\"created_at\", {\n                ascending: false\n            }).limit(limit);\n            if (error) {\n                throw new _lib_types_route_storage__WEBPACK_IMPORTED_MODULE_2__.RouteStorageError(`Failed to get route change history: ${error.message}`, \"DATABASE_ERROR\", error);\n            }\n            return data || [];\n        } catch (error) {\n            if (error instanceof _lib_types_route_storage__WEBPACK_IMPORTED_MODULE_2__.RouteStorageError) {\n                throw error;\n            }\n            throw new _lib_types_route_storage__WEBPACK_IMPORTED_MODULE_2__.RouteStorageError(\"Unexpected error getting route change history\", \"UNKNOWN_ERROR\", error);\n        }\n    }\n    /**\n   * 🎯 NEW: Save optimized places to places table\n   * Extract individual place records from JSON route data\n   */ async saveOptimizedPlaces(groupId, routeData) {\n        try {\n            const cookieStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)();\n            const supabase = (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_0__.createClient)(cookieStore);\n            // First, delete existing places for this group\n            const { error: deleteError } = await supabase.from(\"places\").delete().eq(\"group_id\", groupId);\n            if (deleteError) {\n                console.error(\"Failed to delete existing places:\", deleteError);\n            }\n            // Extract places from route data\n            const places = [];\n            let globalVisitOrder = 0;\n            routeData.multiDaySchedule?.days?.forEach((day)=>{\n                day.destinations?.forEach((dest)=>{\n                    globalVisitOrder++;\n                    places.push({\n                        group_id: groupId,\n                        name: dest.name,\n                        address: dest.address || \"\",\n                        latitude: dest.coordinates?.lat || 0,\n                        longitude: dest.coordinates?.lng || 0,\n                        place_id: dest.destinationId || null,\n                        visit_order: globalVisitOrder,\n                        scheduled_date: day.date || null,\n                        scheduled_duration: dest.allocatedDuration || 60,\n                        duration: dest.allocatedDuration || 60,\n                        source_places: [],\n                        fairness_score: null,\n                        transport_mode: dest.transportToNext?.mode || null,\n                        created_at: new Date().toISOString(),\n                        updated_at: new Date().toISOString()\n                    });\n                });\n            });\n            // Insert new places\n            if (places.length > 0) {\n                const { error: insertError } = await supabase.from(\"places\").insert(places);\n                if (insertError) {\n                    console.error(\"Failed to insert optimized places:\", insertError);\n                // Don't throw - this shouldn't break the main optimization flow\n                } else {\n                    console.log(`✅ Saved ${places.length} optimized places to places table`);\n                }\n            }\n        } catch (error) {\n            console.error(\"Error saving optimized places:\", error);\n        // Don't throw - this shouldn't break the main optimization flow\n        }\n    }\n    /**\n   * JSONB query utilities\n   */ async findRoutesContainingDestination(destinationId) {\n        try {\n            const cookieStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)();\n            const supabase = (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_0__.createClient)(cookieStore);\n            const { data, error } = await supabase.rpc(\"find_routes_containing_destination\", {\n                destination_id: destinationId\n            });\n            if (error) {\n                throw new _lib_types_route_storage__WEBPACK_IMPORTED_MODULE_2__.RouteStorageError(`Failed to find routes containing destination: ${error.message}`, \"DATABASE_ERROR\", error);\n            }\n            return data || [];\n        } catch (error) {\n            if (error instanceof _lib_types_route_storage__WEBPACK_IMPORTED_MODULE_2__.RouteStorageError) {\n                throw error;\n            }\n            throw new _lib_types_route_storage__WEBPACK_IMPORTED_MODULE_2__.RouteStorageError(\"Unexpected error finding routes by destination\", \"UNKNOWN_ERROR\", error);\n        }\n    }\n    async findRoutesForUser(userId) {\n        try {\n            const cookieStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)();\n            const supabase = (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_0__.createClient)(cookieStore);\n            const { data, error } = await supabase.rpc(\"find_routes_for_user\", {\n                user_id: userId\n            });\n            if (error) {\n                throw new _lib_types_route_storage__WEBPACK_IMPORTED_MODULE_2__.RouteStorageError(`Failed to find routes for user: ${error.message}`, \"DATABASE_ERROR\", error);\n            }\n            return data || [];\n        } catch (error) {\n            if (error instanceof _lib_types_route_storage__WEBPACK_IMPORTED_MODULE_2__.RouteStorageError) {\n                throw error;\n            }\n            throw new _lib_types_route_storage__WEBPACK_IMPORTED_MODULE_2__.RouteStorageError(\"Unexpected error finding routes by user\", \"UNKNOWN_ERROR\", error);\n        }\n    }\n}\n// Export singleton instance\nconst routeStorageService = new RouteStorageService();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (routeStorageService);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL2xpYi9zZXJ2aWNlcy9yb3V0ZS1zdG9yYWdlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUEsdURBQXVEO0FBRUg7QUFDZDtBQWVKO0FBRWxDLHFFQUFxRTtBQUVyRTs7Q0FFQyxHQUNNLFNBQVNJLGtCQUFrQkMsU0FBMEI7SUFDMUQsTUFBTUMsU0FBNEIsRUFBRTtJQUNwQyxNQUFNQyxXQUFxQixFQUFFO0lBRTdCLDJCQUEyQjtJQUMzQixJQUFJLENBQUNGLFVBQVVHLE1BQU0sRUFBRTtRQUNyQkYsT0FBT0csSUFBSSxDQUFDO1lBQUVDLE9BQU87WUFBVUMsU0FBUztRQUF1QjtJQUNqRTtJQUVBLElBQUksQ0FBQ04sVUFBVU8sZ0JBQWdCLEVBQUVDLE1BQU1DLFFBQVE7UUFDN0NSLE9BQU9HLElBQUksQ0FBQztZQUFFQyxPQUFPO1lBQXlCQyxTQUFTO1FBQW9CO0lBQzdFO0lBRUEsSUFBSSxDQUFDTixVQUFVVSxtQkFBbUIsRUFBRTtRQUNsQ1QsT0FBT0csSUFBSSxDQUFDO1lBQUVDLE9BQU87WUFBdUJDLFNBQVM7UUFBK0I7SUFDdEY7SUFFQSw0QkFBNEI7SUFDNUJOLFVBQVVPLGdCQUFnQixFQUFFQyxNQUFNRyxRQUFRLENBQUNDLEtBQUtDO1FBQzlDLElBQUksQ0FBQ0QsSUFBSUUsSUFBSSxFQUFFO1lBQ2JiLE9BQU9HLElBQUksQ0FBQztnQkFDVkMsT0FBTyxDQUFDLHNCQUFzQixFQUFFUSxTQUFTLE1BQU0sQ0FBQztnQkFDaERQLFNBQVM7WUFDWDtRQUNGO1FBRUFNLElBQUlHLFlBQVksRUFBRUosUUFBUSxDQUFDSyxNQUFNQztZQUMvQixJQUFJLENBQUNELEtBQUtFLGFBQWEsRUFBRTtnQkFDdkJqQixPQUFPRyxJQUFJLENBQUM7b0JBQ1ZDLE9BQU8sQ0FBQyxzQkFBc0IsRUFBRVEsU0FBUyxlQUFlLEVBQUVJLFVBQVUsZUFBZSxDQUFDO29CQUNwRlgsU0FBUztnQkFDWDtZQUNGO1lBRUEsSUFBSVUsS0FBS0cs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WUFFQSxPQUFPRCxRQUFRLEVBQUU7UUFDbkIsRUFBRSxPQUFPQyxPQUFPO1lBQ2QsSUFBSUEsaUJBQWlCbkQsdUVBQWlCQSxFQUFFO2dCQUN0QyxNQUFNbUQ7WUFDUjtZQUNBLE1BQU0sSUFBSW5ELHVFQUFpQkEsQ0FDekIsa0RBQ0EsaUJBQ0FtRDtRQUVKO0lBQ0Y7SUFFQSxNQUFNcUcsa0JBQWtCakgsTUFBYyxFQUE2QjtRQUNqRSxJQUFJO1lBQ0YsTUFBTVMsY0FBY2pELHFEQUFPQTtZQUMzQixNQUFNa0QsV0FBV25ELGtFQUFZQSxDQUFDa0Q7WUFDOUIsTUFBTSxFQUFFRSxJQUFJLEVBQUVDLEtBQUssRUFBRSxHQUFHLE1BQU1GLFNBQzNCcUcsR0FBRyxDQUFDLHdCQUF3QjtnQkFDM0JqRixTQUFTOUI7WUFDWDtZQUVGLElBQUlZLE9BQU87Z0JBQ1QsTUFBTSxJQUFJbkQsdUVBQWlCQSxDQUN6QixDQUFDLGdDQUFnQyxFQUFFbUQsTUFBTTFDLE9BQU8sQ0FBQyxDQUFDLEVBQ2xELGtCQUNBMEM7WUFFSjtZQUVBLE9BQU9ELFFBQVEsRUFBRTtRQUNuQixFQUFFLE9BQU9DLE9BQU87WUFDZCxJQUFJQSxpQkFBaUJuRCx1RUFBaUJBLEVBQUU7Z0JBQ3RDLE1BQU1tRDtZQUNSO1lBQ0EsTUFBTSxJQUFJbkQsdUVBQWlCQSxDQUN6QiwyQ0FDQSxpQkFDQW1EO1FBRUo7SUFDRjtBQUNGO0FBRUEsNEJBQTRCO0FBQ3JCLE1BQU1zRyxzQkFBc0IsSUFBSXRILHNCQUFxQjtBQUM1RCxpRUFBZXNILG1CQUFtQkEsRUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy8uL2xpYi9zZXJ2aWNlcy9yb3V0ZS1zdG9yYWdlLnRzPzQxNDAiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRGF0YWJhc2Ugb3BlcmF0aW9ucyBmb3Igcm91dGUgc3RvcmFnZSBhbmQgbWFuYWdlbWVudFxuXG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAL2xpYi9zdXBhYmFzZS9zZXJ2ZXInXG5pbXBvcnQgeyBjb29raWVzIH0gZnJvbSAnbmV4dC9oZWFkZXJzJ1xuaW1wb3J0IHR5cGUge1xuICBTdG9yZWRSb3V0ZURhdGEsXG4gIE9wdGltaXplZFJvdXRlLFxuICBSb3V0ZVF1ZXJ5T3B0aW9ucyxcbiAgT3B0aW1pemF0aW9uTWV0cmljcyxcbiAgUm91dGVWZXJzaW9uLFxuICBSb3V0ZUNoYW5nZUxvZyxcbiAgUm91dGVVcGRhdGVDb25mbGljdCxcbiAgVmFsaWRhdGlvblJlc3VsdCxcbiAgVmFsaWRhdGlvbkVycm9yXG59IGZyb20gJ0AvbGliL3R5cGVzL3JvdXRlLXN0b3JhZ2UnXG5pbXBvcnQge1xuICBSb3V0ZVN0b3JhZ2VFcnJvcixcbiAgQ29uZmxpY3RSZXNvbHV0aW9uUmVxdWlyZWRFcnJvclxufSBmcm9tICdAL2xpYi90eXBlcy9yb3V0ZS1zdG9yYWdlJ1xuXG4vLyBTdXBhYmFzZSBjbGllbnQgd2lsbCBiZSBjcmVhdGVkIGluIGVhY2ggbWV0aG9kIHdpdGggc2VydmVyIGNvbnRleHRcblxuLyoqXG4gKiBEYXRhIHZhbGlkYXRpb24gdXRpbGl0aWVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVJvdXRlRGF0YShyb3V0ZURhdGE6IFN0b3JlZFJvdXRlRGF0YSk6IFZhbGlkYXRpb25SZXN1bHQge1xuICBjb25zdCBlcnJvcnM6IFZhbGlkYXRpb25FcnJvcltdID0gW11cbiAgY29uc3Qgd2FybmluZ3M6IHN0cmluZ1tdID0gW11cblxuICAvLyBWYWxpZGF0ZSByZXF1aXJlZCBmaWVsZHNcbiAgaWYgKCFyb3V0ZURhdGEuc3RhdHVzKSB7XG4gICAgZXJyb3JzLnB1c2goeyBmaWVsZDogJ3N0YXR1cycsIG1lc3NhZ2U6ICdNaXNzaW5nIHJvdXRlIHN0YXR1cycgfSlcbiAgfVxuXG4gIGlmICghcm91dGVEYXRhLm11bHRpRGF5U2NoZWR1bGU/LmRheXM/Lmxlbmd0aCkge1xuICAgIGVycm9ycy5wdXNoKHsgZmllbGQ6ICdtdWx0aURheVNjaGVkdWxlLmRheXMnLCBtZXNzYWdlOiAnTm8gc2NoZWR1bGVkIGRheXMnIH0pXG4gIH1cblxuICBpZiAoIXJvdXRlRGF0YS5vcHRpbWl6YXRpb25NZXRyaWNzKSB7XG4gICAgZXJyb3JzLnB1c2goeyBmaWVsZDogJ29wdGltaXphdGlvbk1ldHJpY3MnLCBtZXNzYWdlOiAnTWlzc2luZyBvcHRpbWl6YXRpb24gbWV0cmljcycgfSlcbiAgfVxuXG4gIC8vIFZhbGlkYXRlIGRhdGEgY29uc2lzdGVuY3lcbiAgcm91dGVEYXRhLm11bHRpRGF5U2NoZWR1bGU/LmRheXM/LmZvckVhY2goKGRheSwgZGF5SW5kZXgpID0+IHtcbiAgICBpZiAoIWRheS5kYXRlKSB7XG4gICAgICBlcnJvcnMucHVzaCh7IFxuICAgICAgICBmaWVsZDogYG11bHRpRGF5U2NoZWR1bGUuZGF5c1ske2RheUluZGV4fV0uZGF0ZWAsIFxuICAgICAgICBtZXNzYWdlOiAnTWlzc2luZyBkYXRlIGZvciBkYXknXG4gICAgICB9KVxuICAgIH1cblxuICAgIGRheS5kZXN0aW5hdGlvbnM/LmZvckVhY2goKGRlc3QsIGRlc3RJbmRleCkgPT4ge1xuICAgICAgaWYgKCFkZXN0LmRlc3RpbmF0aW9uSWQpIHtcbiAgICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICAgIGZpZWxkOiBgbXVsdGlEYXlTY2hlZHVsZS5kYXlzWyR7ZGF5SW5kZXh9XS5kZXN0aW5hdGlvbnNbJHtkZXN0SW5kZXh9XS5kZXN0aW5hdGlvbklkYCxcbiAgICAgICAgICBtZXNzYWdlOiAnTWlzc2luZyBkZXN0aW5hdGlvbiBJRCdcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgaWYgKGRlc3QuYWxsb2NhdGVkRHVyYXRpb24gPD0gMCkge1xuICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgZmllbGQ6IGBtdWx0aURheVNjaGVkdWxlLmRheXNbJHtkYXlJbmRleH1dLmRlc3RpbmF0aW9uc1ske2Rlc3RJbmRleH1dLmFsbG9jYXRlZER1cmF0aW9uYCxcbiAgICAgICAgICBtZXNzYWdlOiAnSW52YWxpZCBkdXJhdGlvbicsXG4gICAgICAgICAgdmFsdWU6IGRlc3QuYWxsb2NhdGVkRHVyYXRpb25cbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgaWYgKCFkZXN0LnN0YXJ0VGltZSB8fCAhZGVzdC5lbmRUaW1lKSB7XG4gICAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgICBmaWVsZDogYG11bHRpRGF5U2NoZWR1bGUuZGF5c1ske2RheUluZGV4fV0uZGVzdGluYXRpb25zWyR7ZGVzdEluZGV4fV0uc3RhcnRUaW1lYCxcbiAgICAgICAgICBtZXNzYWdlOiAnTWlzc2luZyBzdGFydCBvciBlbmQgdGltZSdcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgLy8gVmFsaWRhdGUgY29vcmRpbmF0ZXNcbiAgICAgIGlmICghZGVzdC5jb29yZGluYXRlcyB8fCBcbiAgICAgICAgICB0eXBlb2YgZGVzdC5jb29yZGluYXRlcy5sYXQgIT09ICdudW1iZXInIHx8IFxuICAgICAgICAgIHR5cGVvZiBkZXN0LmNvb3JkaW5hdGVzLmxuZyAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICAgIGZpZWxkOiBgbXVsdGlEYXlTY2hlZHVsZS5kYXlzWyR7ZGF5SW5kZXh9XS5kZXN0aW5hdGlvbnNbJHtkZXN0SW5kZXh9XS5jb29yZGluYXRlc2AsXG4gICAgICAgICAgbWVzc2FnZTogJ0ludmFsaWQgY29vcmRpbmF0ZXMnXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIC8vIENoZWNrIGZvciByZWFzb25hYmxlIGNvb3JkaW5hdGUgcmFuZ2VzXG4gICAgICBpZiAoZGVzdC5jb29yZGluYXRlcyAmJiAoXG4gICAgICAgIE1hdGguYWJzKGRlc3QuY29vcmRpbmF0ZXMubGF0KSA+IDkwIHx8IFxuICAgICAgICBNYXRoLmFicyhkZXN0LmNvb3JkaW5hdGVzLmxuZykgPiAxODBcbiAgICAgICkpIHtcbiAgICAgICAgd2FybmluZ3MucHVzaChgRGF5ICR7ZGF5SW5kZXggKyAxfSwgZGVzdGluYXRpb24gJHtkZXN0SW5kZXggKyAxfTogQ29vcmRpbmF0ZXMgbWF5IGJlIG91dCBvZiByYW5nZWApXG4gICAgICB9XG4gICAgfSlcbiAgfSlcblxuICAvLyBWYWxpZGF0ZSBnZW5lcmF0aW9uIGluZm9cbiAgaWYgKCFyb3V0ZURhdGEuZ2VuZXJhdGlvbkluZm8/LmFsZ29yaXRobVZlcnNpb24pIHtcbiAgICB3YXJuaW5ncy5wdXNoKCdNaXNzaW5nIGFsZ29yaXRobSB2ZXJzaW9uIGluZm9ybWF0aW9uJylcbiAgfVxuXG4gIGlmICghcm91dGVEYXRhLmdlbmVyYXRpb25JbmZvPy5nZW5lcmF0ZWRBdCkge1xuICAgIGVycm9ycy5wdXNoKHsgZmllbGQ6ICdnZW5lcmF0aW9uSW5mby5nZW5lcmF0ZWRBdCcsIG1lc3NhZ2U6ICdNaXNzaW5nIGdlbmVyYXRpb24gdGltZXN0YW1wJyB9KVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBpc1ZhbGlkOiBlcnJvcnMubGVuZ3RoID09PSAwLFxuICAgIGVycm9ycyxcbiAgICB3YXJuaW5nc1xuICB9XG59XG5cbi8qKlxuICogQ29yZSByb3V0ZSBzdG9yYWdlIG9wZXJhdGlvbnNcbiAqL1xuZXhwb3J0IGNsYXNzIFJvdXRlU3RvcmFnZVNlcnZpY2Uge1xuICBcbiAgLyoqXG4gICAqIFNhdmUgb3B0aW1pemF0aW9uIHJlc3VsdCB0byBkYXRhYmFzZVxuICAgKi9cbiAgYXN5bmMgc2F2ZU9wdGltaXphdGlvblJlc3VsdChcbiAgICBncm91cElkOiBzdHJpbmcsXG4gICAgcm91dGVEYXRhOiBTdG9yZWRSb3V0ZURhdGEsXG4gICAgbWV0cmljczogT3B0aW1pemF0aW9uTWV0cmljcyxcbiAgICB1c2VySWQ/OiBzdHJpbmcgfCBudWxsLFxuICAgIHNlc3Npb25JZD86IHN0cmluZyB8IG51bGxcbiAgKTogUHJvbWlzZTxPcHRpbWl6ZWRSb3V0ZT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBWYWxpZGF0ZSByb3V0ZSBkYXRhIGJlZm9yZSBzYXZpbmdcbiAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSB2YWxpZGF0ZVJvdXRlRGF0YShyb3V0ZURhdGEpXG4gICAgICBpZiAoIXZhbGlkYXRpb24uaXNWYWxpZCkge1xuICAgICAgICB0aHJvdyBuZXcgUm91dGVTdG9yYWdlRXJyb3IoXG4gICAgICAgICAgJ0ludmFsaWQgcm91dGUgZGF0YScsXG4gICAgICAgICAgJ1ZBTElEQVRJT05fRVJST1InLFxuICAgICAgICAgIHZhbGlkYXRpb24uZXJyb3JzXG4gICAgICAgIClcbiAgICAgIH1cblxuICAgICAgLy8gQ3JlYXRlIHZlcnNpb24gYmVmb3JlIHVwZGF0ZVxuICAgICAgYXdhaXQgdGhpcy5jcmVhdGVSb3V0ZVZlcnNpb24oZ3JvdXBJZCwgcm91dGVEYXRhLCB7XG4gICAgICAgIHVzZXJJZCxcbiAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICBjaGFuZ2VUeXBlOiAnb3B0aW1pemF0aW9uJyxcbiAgICAgICAgY2hhbmdlRGVzY3JpcHRpb246ICdBdXRvbWF0aWMgb3B0aW1pemF0aW9uIHJlc3VsdCBzYXZlJ1xuICAgICAgfSlcblxuICAgICAgY29uc3QgdmVyc2lvbiA9IERhdGUubm93KClcbiAgICAgIFxuICAgICAgY29uc3QgY29va2llU3RvcmUgPSBjb29raWVzKCk7XG4gICAgICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudChjb29raWVTdG9yZSk7XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnb3B0aW1pemVkX3JvdXRlcycpXG4gICAgICAgIC51cHNlcnQoe1xuICAgICAgICAgIGdyb3VwX2lkOiBncm91cElkLFxuICAgICAgICAgIHJvdXRlX2RhdGE6IHJvdXRlRGF0YSxcbiAgICAgICAgICBmYWlybmVzc19zY29yZTogbWV0cmljcy5mYWlybmVzc1Njb3JlLFxuICAgICAgICAgIHRvdGFsX2Rpc3RhbmNlOiBtZXRyaWNzLnRvdGFsRGlzdGFuY2UsXG4gICAgICAgICAgdG90YWxfZHVyYXRpb246IG1ldHJpY3MudG90YWxEdXJhdGlvbixcbiAgICAgICAgICB2ZXJzaW9uOiB2ZXJzaW9uLFxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICB9LCB7XG4gICAgICAgICAgb25Db25mbGljdDogJ2dyb3VwX2lkJyxcbiAgICAgICAgICBpZ25vcmVEdXBsaWNhdGVzOiBmYWxzZVxuICAgICAgICB9KVxuICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgLnNpbmdsZSgpXG5cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgUm91dGVTdG9yYWdlRXJyb3IoXG4gICAgICAgICAgYEZhaWxlZCB0byBzYXZlIG9wdGltaXphdGlvbiByZXN1bHQ6ICR7ZXJyb3IubWVzc2FnZX1gLFxuICAgICAgICAgICdEQVRBQkFTRV9FUlJPUicsXG4gICAgICAgICAgZXJyb3JcbiAgICAgICAgKVxuICAgICAgfVxuXG4gICAgICAvLyBMb2cgdGhlIGNoYW5nZVxuICAgICAgYXdhaXQgdGhpcy5sb2dSb3V0ZUNoYW5nZSh7XG4gICAgICAgIGdyb3VwX2lkOiBncm91cElkLFxuICAgICAgICB1c2VyX2lkOiB1c2VySWQgfHwgbnVsbCxcbiAgICAgICAgc2Vzc2lvbl9pZDogc2Vzc2lvbklkIHx8IG51bGwsXG4gICAgICAgIGNoYW5nZV90eXBlOiAncHJlZmVyZW5jZV91cGRhdGUnLFxuICAgICAgICBvbGRfdmFsdWU6IG51bGwsXG4gICAgICAgIG5ld192YWx1ZTogeyB2ZXJzaW9uLCBmYWlybmVzc19zY29yZTogbWV0cmljcy5mYWlybmVzc1Njb3JlIH0sXG4gICAgICAgIGltcGFjdF9tZXRyaWNzOiB7XG4gICAgICAgICAgZmFpcm5lc3Nfc2NvcmVfY2hhbmdlOiAwLFxuICAgICAgICAgIHRvdGFsX3RpbWVfY2hhbmdlOiAwLFxuICAgICAgICAgIHRvdGFsX2Rpc3RhbmNlX2NoYW5nZTogMCxcbiAgICAgICAgICBhZmZlY3RlZF91c2VyczogW10sXG4gICAgICAgICAgc2F0aXNmYWN0aW9uX2NoYW5nZTogMFxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICAvLyDwn46vIE5FVzogRXh0cmFjdCBhbmQgc2F2ZSBpbmRpdmlkdWFsIHBsYWNlcyBmcm9tIG9wdGltaXphdGlvbiByZXN1bHRcbiAgICAgIGF3YWl0IHRoaXMuc2F2ZU9wdGltaXplZFBsYWNlcyhncm91cElkLCByb3V0ZURhdGEpXG5cbiAgICAgIHJldHVybiBkYXRhXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIFJvdXRlU3RvcmFnZUVycm9yKSB7XG4gICAgICAgIHRocm93IGVycm9yXG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgUm91dGVTdG9yYWdlRXJyb3IoXG4gICAgICAgICdVbmV4cGVjdGVkIGVycm9yIHNhdmluZyByb3V0ZScsXG4gICAgICAgICdVTktOT1dOX0VSUk9SJyxcbiAgICAgICAgZXJyb3JcbiAgICAgIClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHJvdXRlIGJ5IGdyb3VwIElEXG4gICAqL1xuICBhc3luYyBnZXRSb3V0ZShncm91cElkOiBzdHJpbmcpOiBQcm9taXNlPE9wdGltaXplZFJvdXRlIHwgbnVsbD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb29raWVTdG9yZSA9IGNvb2tpZXMoKTtcbiAgICAgIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KGNvb2tpZVN0b3JlKTtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdvcHRpbWl6ZWRfcm91dGVzJylcbiAgICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAgIC5lcSgnZ3JvdXBfaWQnLCBncm91cElkKVxuICAgICAgICAuc2luZ2xlKClcblxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIGlmIChlcnJvci5jb2RlID09PSAnUEdSU1QxMTYnKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGwgLy8gTm8gcm91dGUgZm91bmRcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgUm91dGVTdG9yYWdlRXJyb3IoXG4gICAgICAgICAgYEZhaWxlZCB0byBnZXQgcm91dGU6ICR7ZXJyb3IubWVzc2FnZX1gLFxuICAgICAgICAgICdEQVRBQkFTRV9FUlJPUicsXG4gICAgICAgICAgZXJyb3JcbiAgICAgICAgKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGF0YVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBSb3V0ZVN0b3JhZ2VFcnJvcikge1xuICAgICAgICB0aHJvdyBlcnJvclxuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IFJvdXRlU3RvcmFnZUVycm9yKFxuICAgICAgICAnVW5leHBlY3RlZCBlcnJvciBmZXRjaGluZyByb3V0ZScsXG4gICAgICAgICdVTktOT1dOX0VSUk9SJyxcbiAgICAgICAgZXJyb3JcbiAgICAgIClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUXVlcnkgcm91dGVzIHdpdGggZmlsdGVyc1xuICAgKi9cbiAgYXN5bmMgcXVlcnlSb3V0ZXMob3B0aW9uczogUm91dGVRdWVyeU9wdGlvbnMpOiBQcm9taXNlPE9wdGltaXplZFJvdXRlW10+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29va2llU3RvcmUgPSBjb29raWVzKCk7XG4gICAgICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudChjb29raWVTdG9yZSk7XG4gICAgICBsZXQgcXVlcnkgPSBzdXBhYmFzZS5mcm9tKCdvcHRpbWl6ZWRfcm91dGVzJykuc2VsZWN0KCcqJylcblxuICAgICAgLy8gQXBwbHkgZmlsdGVyc1xuICAgICAgaWYgKG9wdGlvbnMuZ3JvdXBfaWQpIHtcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5lcSgnZ3JvdXBfaWQnLCBvcHRpb25zLmdyb3VwX2lkKVxuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5kYXRlX3JhbmdlKSB7XG4gICAgICAgIHF1ZXJ5ID0gcXVlcnlcbiAgICAgICAgICAuZ3RlKCdjcmVhdGVkX2F0Jywgb3B0aW9ucy5kYXRlX3JhbmdlLnN0YXJ0KVxuICAgICAgICAgIC5sdGUoJ2NyZWF0ZWRfYXQnLCBvcHRpb25zLmRhdGVfcmFuZ2UuZW5kKVxuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5taW5fZmFpcm5lc3Nfc2NvcmUpIHtcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5ndGUoJ2ZhaXJuZXNzX3Njb3JlJywgb3B0aW9ucy5taW5fZmFpcm5lc3Nfc2NvcmUpXG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zLm1heF9kaXN0YW5jZSkge1xuICAgICAgICBxdWVyeSA9IHF1ZXJ5Lmx0ZSgndG90YWxfZGlzdGFuY2UnLCBvcHRpb25zLm1heF9kaXN0YW5jZSlcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMubWF4X2R1cmF0aW9uKSB7XG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkubHRlKCd0b3RhbF9kdXJhdGlvbicsIG9wdGlvbnMubWF4X2R1cmF0aW9uKVxuICAgICAgfVxuXG4gICAgICAvLyBBcHBseSBvcmRlcmluZ1xuICAgICAgaWYgKG9wdGlvbnMub3JkZXJfYnkpIHtcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5vcmRlcihvcHRpb25zLm9yZGVyX2J5LCB7IFxuICAgICAgICAgIGFzY2VuZGluZzogb3B0aW9ucy5vcmRlcl9kaXJlY3Rpb24gPT09ICdhc2MnIFxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICAvLyBBcHBseSBwYWdpbmF0aW9uXG4gICAgICBpZiAob3B0aW9ucy5saW1pdCkge1xuICAgICAgICBxdWVyeSA9IHF1ZXJ5LmxpbWl0KG9wdGlvbnMubGltaXQpXG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zLm9mZnNldCkge1xuICAgICAgICBxdWVyeSA9IHF1ZXJ5LnJhbmdlKG9wdGlvbnMub2Zmc2V0LCBvcHRpb25zLm9mZnNldCArIChvcHRpb25zLmxpbWl0IHx8IDUwKSAtIDEpXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHF1ZXJ5XG5cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgUm91dGVTdG9yYWdlRXJyb3IoXG4gICAgICAgICAgYEZhaWxlZCB0byBxdWVyeSByb3V0ZXM6ICR7ZXJyb3IubWVzc2FnZX1gLFxuICAgICAgICAgICdEQVRBQkFTRV9FUlJPUicsXG4gICAgICAgICAgZXJyb3JcbiAgICAgICAgKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGF0YSB8fCBbXVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBSb3V0ZVN0b3JhZ2VFcnJvcikge1xuICAgICAgICB0aHJvdyBlcnJvclxuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IFJvdXRlU3RvcmFnZUVycm9yKFxuICAgICAgICAnVW5leHBlY3RlZCBlcnJvciBxdWVyeWluZyByb3V0ZXMnLFxuICAgICAgICAnVU5LTk9XTl9FUlJPUicsXG4gICAgICAgIGVycm9yXG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSByb3V0ZSB3aXRoIGNvbmZsaWN0IGRldGVjdGlvblxuICAgKi9cbiAgYXN5bmMgdXBkYXRlUm91dGUoXG4gICAgZ3JvdXBJZDogc3RyaW5nLFxuICAgIHVwZGF0ZXM6IFBhcnRpYWw8U3RvcmVkUm91dGVEYXRhPixcbiAgICBjdXJyZW50VmVyc2lvbjogbnVtYmVyLFxuICAgIHVzZXJJZD86IHN0cmluZyB8IG51bGwsXG4gICAgc2Vzc2lvbklkPzogc3RyaW5nIHwgbnVsbFxuICApOiBQcm9taXNlPE9wdGltaXplZFJvdXRlPiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEdldCBjdXJyZW50IHJvdXRlIHRvIGNoZWNrIGZvciBjb25mbGljdHNcbiAgICAgIGNvbnN0IGN1cnJlbnRSb3V0ZSA9IGF3YWl0IHRoaXMuZ2V0Um91dGUoZ3JvdXBJZClcbiAgICAgIFxuICAgICAgaWYgKCFjdXJyZW50Um91dGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJvdXRlU3RvcmFnZUVycm9yKFxuICAgICAgICAgICdSb3V0ZSBub3QgZm91bmQnLFxuICAgICAgICAgICdOT1RfRk9VTkQnXG4gICAgICAgIClcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgZm9yIHZlcnNpb24gY29uZmxpY3RcbiAgICAgIGlmIChjdXJyZW50Um91dGUudmVyc2lvbiAhPT0gY3VycmVudFZlcnNpb24pIHtcbiAgICAgICAgY29uc3QgY29uZmxpY3Q6IFJvdXRlVXBkYXRlQ29uZmxpY3QgPSB7XG4gICAgICAgICAgbG9jYWxfdmVyc2lvbjogY3VycmVudFZlcnNpb24sXG4gICAgICAgICAgc2VydmVyX3ZlcnNpb246IGN1cnJlbnRSb3V0ZS52ZXJzaW9uLFxuICAgICAgICAgIGNvbmZsaWN0aW5nX2ZpZWxkczogT2JqZWN0LmtleXModXBkYXRlcyksXG4gICAgICAgICAgbG9jYWxfY2hhbmdlczogdXBkYXRlcyxcbiAgICAgICAgICBzZXJ2ZXJfY2hhbmdlczogY3VycmVudFJvdXRlLnJvdXRlX2RhdGEsXG4gICAgICAgICAgcmVzb2x1dGlvbl9zdHJhdGVneTogJ21hbnVhbCcsXG4gICAgICAgICAgY29uZmxpY3RfaWQ6IGBjb25mbGljdF8ke0RhdGUubm93KCl9YCxcbiAgICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IG5ldyBDb25mbGljdFJlc29sdXRpb25SZXF1aXJlZEVycm9yKGNvbmZsaWN0KVxuICAgICAgfVxuXG4gICAgICAvLyBNZXJnZSB1cGRhdGVzIHdpdGggY3VycmVudCBkYXRhXG4gICAgICBjb25zdCB1cGRhdGVkUm91dGVEYXRhID0ge1xuICAgICAgICAuLi5jdXJyZW50Um91dGUucm91dGVfZGF0YSxcbiAgICAgICAgLi4udXBkYXRlc1xuICAgICAgfVxuXG4gICAgICAvLyBWYWxpZGF0ZSB1cGRhdGVkIGRhdGFcbiAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSB2YWxpZGF0ZVJvdXRlRGF0YSh1cGRhdGVkUm91dGVEYXRhKVxuICAgICAgaWYgKCF2YWxpZGF0aW9uLmlzVmFsaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJvdXRlU3RvcmFnZUVycm9yKFxuICAgICAgICAgICdJbnZhbGlkIHVwZGF0ZWQgcm91dGUgZGF0YScsXG4gICAgICAgICAgJ1ZBTElEQVRJT05fRVJST1InLFxuICAgICAgICAgIHZhbGlkYXRpb24uZXJyb3JzXG4gICAgICAgIClcbiAgICAgIH1cblxuICAgICAgLy8gQ3JlYXRlIHZlcnNpb24gYmVmb3JlIHVwZGF0ZVxuICAgICAgYXdhaXQgdGhpcy5jcmVhdGVSb3V0ZVZlcnNpb24oZ3JvdXBJZCwgY3VycmVudFJvdXRlLnJvdXRlX2RhdGEsIHtcbiAgICAgICAgdXNlcklkLFxuICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgIGNoYW5nZVR5cGU6ICdtYW51YWxfZWRpdCcsXG4gICAgICAgIGNoYW5nZURlc2NyaXB0aW9uOiAnTWFudWFsIHJvdXRlIHVwZGF0ZSdcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IG5ld1ZlcnNpb24gPSBEYXRlLm5vdygpXG5cbiAgICAgIGNvbnN0IGNvb2tpZVN0b3JlID0gY29va2llcygpO1xuICAgICAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoY29va2llU3RvcmUpO1xuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ29wdGltaXplZF9yb3V0ZXMnKVxuICAgICAgICAudXBkYXRlKHtcbiAgICAgICAgICByb3V0ZV9kYXRhOiB1cGRhdGVkUm91dGVEYXRhLFxuICAgICAgICAgIHZlcnNpb246IG5ld1ZlcnNpb24sXG4gICAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgIH0pXG4gICAgICAgIC5lcSgnZ3JvdXBfaWQnLCBncm91cElkKVxuICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgLnNpbmdsZSgpXG5cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgUm91dGVTdG9yYWdlRXJyb3IoXG4gICAgICAgICAgYEZhaWxlZCB0byB1cGRhdGUgcm91dGU6ICR7ZXJyb3IubWVzc2FnZX1gLFxuICAgICAgICAgICdEQVRBQkFTRV9FUlJPUicsXG4gICAgICAgICAgZXJyb3JcbiAgICAgICAgKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGF0YVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBSb3V0ZVN0b3JhZ2VFcnJvciB8fCBlcnJvciBpbnN0YW5jZW9mIENvbmZsaWN0UmVzb2x1dGlvblJlcXVpcmVkRXJyb3IpIHtcbiAgICAgICAgdGhyb3cgZXJyb3JcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBSb3V0ZVN0b3JhZ2VFcnJvcihcbiAgICAgICAgJ1VuZXhwZWN0ZWQgZXJyb3IgdXBkYXRpbmcgcm91dGUnLFxuICAgICAgICAnVU5LTk9XTl9FUlJPUicsXG4gICAgICAgIGVycm9yXG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERlbGV0ZSByb3V0ZVxuICAgKi9cbiAgYXN5bmMgZGVsZXRlUm91dGUoZ3JvdXBJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvb2tpZVN0b3JlID0gY29va2llcygpO1xuICAgICAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoY29va2llU3RvcmUpO1xuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ29wdGltaXplZF9yb3V0ZXMnKVxuICAgICAgICAuZGVsZXRlKClcbiAgICAgICAgLmVxKCdncm91cF9pZCcsIGdyb3VwSWQpXG5cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgUm91dGVTdG9yYWdlRXJyb3IoXG4gICAgICAgICAgYEZhaWxlZCB0byBkZWxldGUgcm91dGU6ICR7ZXJyb3IubWVzc2FnZX1gLFxuICAgICAgICAgICdEQVRBQkFTRV9FUlJPUicsXG4gICAgICAgICAgZXJyb3JcbiAgICAgICAgKVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBSb3V0ZVN0b3JhZ2VFcnJvcikge1xuICAgICAgICB0aHJvdyBlcnJvclxuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IFJvdXRlU3RvcmFnZUVycm9yKFxuICAgICAgICAnVW5leHBlY3RlZCBlcnJvciBkZWxldGluZyByb3V0ZScsXG4gICAgICAgICdVTktOT1dOX0VSUk9SJyxcbiAgICAgICAgZXJyb3JcbiAgICAgIClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVmVyc2lvbiBjb250cm9sIG9wZXJhdGlvbnNcbiAgICovXG4gIGFzeW5jIGNyZWF0ZVJvdXRlVmVyc2lvbihcbiAgICBncm91cElkOiBzdHJpbmcsXG4gICAgcm91dGVEYXRhOiBTdG9yZWRSb3V0ZURhdGEsXG4gICAgY2hhbmdlSW5mbzoge1xuICAgICAgdXNlcklkPzogc3RyaW5nIHwgbnVsbFxuICAgICAgc2Vzc2lvbklkPzogc3RyaW5nIHwgbnVsbFxuICAgICAgY2hhbmdlVHlwZTogc3RyaW5nXG4gICAgICBjaGFuZ2VEZXNjcmlwdGlvbjogc3RyaW5nXG4gICAgfVxuICApOiBQcm9taXNlPG51bWJlcj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB2ZXJzaW9uID0gRGF0ZS5ub3coKVxuXG4gICAgICBjb25zdCBjb29raWVTdG9yZSA9IGNvb2tpZXMoKTtcbiAgICAgIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KGNvb2tpZVN0b3JlKTtcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdyb3V0ZV92ZXJzaW9ucycpXG4gICAgICAgIC5pbnNlcnQoe1xuICAgICAgICAgIGdyb3VwX2lkOiBncm91cElkLFxuICAgICAgICAgIHZlcnNpb246IHZlcnNpb24sXG4gICAgICAgICAgdXNlcl9pZDogY2hhbmdlSW5mby51c2VySWQsXG4gICAgICAgICAgc2Vzc2lvbl9pZDogY2hhbmdlSW5mby5zZXNzaW9uSWQsXG4gICAgICAgICAgY2hhbmdlX3R5cGU6IGNoYW5nZUluZm8uY2hhbmdlVHlwZSxcbiAgICAgICAgICBjaGFuZ2VfZGVzY3JpcHRpb246IGNoYW5nZUluZm8uY2hhbmdlRGVzY3JpcHRpb24sXG4gICAgICAgICAgcm91dGVfZGF0YV9zbmFwc2hvdDogcm91dGVEYXRhLFxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICB9KVxuXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGNyZWF0ZSByb3V0ZSB2ZXJzaW9uOicsIGVycm9yKVxuICAgICAgICAvLyBEb24ndCB0aHJvdyBlcnJvciBhcyB0aGlzIGlzIG5vdCBjcml0aWNhbCBmb3IgbWFpbiBvcGVyYXRpb25cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZlcnNpb25cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignVW5leHBlY3RlZCBlcnJvciBjcmVhdGluZyByb3V0ZSB2ZXJzaW9uOicsIGVycm9yKVxuICAgICAgcmV0dXJuIERhdGUubm93KClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHJvdXRlIHZlcnNpb25zXG4gICAqL1xuICBhc3luYyBnZXRSb3V0ZVZlcnNpb25zKGdyb3VwSWQ6IHN0cmluZywgbGltaXQ6IG51bWJlciA9IDEwKTogUHJvbWlzZTxSb3V0ZVZlcnNpb25bXT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb29raWVTdG9yZSA9IGNvb2tpZXMoKTtcbiAgICAgIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KGNvb2tpZVN0b3JlKTtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdyb3V0ZV92ZXJzaW9ucycpXG4gICAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgICAuZXEoJ2dyb3VwX2lkJywgZ3JvdXBJZClcbiAgICAgICAgLm9yZGVyKCdjcmVhdGVkX2F0JywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXG4gICAgICAgIC5saW1pdChsaW1pdClcblxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBSb3V0ZVN0b3JhZ2VFcnJvcihcbiAgICAgICAgICBgRmFpbGVkIHRvIGdldCByb3V0ZSB2ZXJzaW9uczogJHtlcnJvci5tZXNzYWdlfWAsXG4gICAgICAgICAgJ0RBVEFCQVNFX0VSUk9SJyxcbiAgICAgICAgICBlcnJvclxuICAgICAgICApXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkYXRhIHx8IFtdXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIFJvdXRlU3RvcmFnZUVycm9yKSB7XG4gICAgICAgIHRocm93IGVycm9yXG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgUm91dGVTdG9yYWdlRXJyb3IoXG4gICAgICAgICdVbmV4cGVjdGVkIGVycm9yIGdldHRpbmcgcm91dGUgdmVyc2lvbnMnLFxuICAgICAgICAnVU5LTk9XTl9FUlJPUicsXG4gICAgICAgIGVycm9yXG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIExvZyByb3V0ZSBjaGFuZ2VzXG4gICAqL1xuICBhc3luYyBsb2dSb3V0ZUNoYW5nZShjaGFuZ2VMb2c6IE9taXQ8Um91dGVDaGFuZ2VMb2csICdpZCcgfCAndGltZXN0YW1wJyB8ICdjcmVhdGVkX2F0Jz4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29va2llU3RvcmUgPSBjb29raWVzKCk7XG4gICAgICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudChjb29raWVTdG9yZSk7XG4gICAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgncm91dGVfY2hhbmdlX2xvZ3MnKVxuICAgICAgICAuaW5zZXJ0KHtcbiAgICAgICAgICAuLi5jaGFuZ2VMb2csXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgIH0pXG5cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9nIHJvdXRlIGNoYW5nZTonLCBlcnJvcilcbiAgICAgICAgLy8gRG9uJ3QgdGhyb3cgZXJyb3IgYXMgdGhpcyBpcyBub3QgY3JpdGljYWwgZm9yIG1haW4gb3BlcmF0aW9uXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1VuZXhwZWN0ZWQgZXJyb3IgbG9nZ2luZyByb3V0ZSBjaGFuZ2U6JywgZXJyb3IpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCByb3V0ZSBjaGFuZ2UgaGlzdG9yeVxuICAgKi9cbiAgYXN5bmMgZ2V0Um91dGVDaGFuZ2VIaXN0b3J5KGdyb3VwSWQ6IHN0cmluZywgbGltaXQ6IG51bWJlciA9IDUwKTogUHJvbWlzZTxSb3V0ZUNoYW5nZUxvZ1tdPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvb2tpZVN0b3JlID0gY29va2llcygpO1xuICAgICAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoY29va2llU3RvcmUpO1xuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3JvdXRlX2NoYW5nZV9sb2dzJylcbiAgICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAgIC5lcSgnZ3JvdXBfaWQnLCBncm91cElkKVxuICAgICAgICAub3JkZXIoJ2NyZWF0ZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcbiAgICAgICAgLmxpbWl0KGxpbWl0KVxuXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJvdXRlU3RvcmFnZUVycm9yKFxuICAgICAgICAgIGBGYWlsZWQgdG8gZ2V0IHJvdXRlIGNoYW5nZSBoaXN0b3J5OiAke2Vycm9yLm1lc3NhZ2V9YCxcbiAgICAgICAgICAnREFUQUJBU0VfRVJST1InLFxuICAgICAgICAgIGVycm9yXG4gICAgICAgIClcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRhdGEgfHwgW11cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgUm91dGVTdG9yYWdlRXJyb3IpIHtcbiAgICAgICAgdGhyb3cgZXJyb3JcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBSb3V0ZVN0b3JhZ2VFcnJvcihcbiAgICAgICAgJ1VuZXhwZWN0ZWQgZXJyb3IgZ2V0dGluZyByb3V0ZSBjaGFuZ2UgaGlzdG9yeScsXG4gICAgICAgICdVTktOT1dOX0VSUk9SJyxcbiAgICAgICAgZXJyb3JcbiAgICAgIClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog8J+OryBORVc6IFNhdmUgb3B0aW1pemVkIHBsYWNlcyB0byBwbGFjZXMgdGFibGVcbiAgICogRXh0cmFjdCBpbmRpdmlkdWFsIHBsYWNlIHJlY29yZHMgZnJvbSBKU09OIHJvdXRlIGRhdGFcbiAgICovXG4gIGFzeW5jIHNhdmVPcHRpbWl6ZWRQbGFjZXMoZ3JvdXBJZDogc3RyaW5nLCByb3V0ZURhdGE6IFN0b3JlZFJvdXRlRGF0YSk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb29raWVTdG9yZSA9IGNvb2tpZXMoKTtcbiAgICAgIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KGNvb2tpZVN0b3JlKTtcblxuICAgICAgLy8gRmlyc3QsIGRlbGV0ZSBleGlzdGluZyBwbGFjZXMgZm9yIHRoaXMgZ3JvdXBcbiAgICAgIGNvbnN0IHsgZXJyb3I6IGRlbGV0ZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgncGxhY2VzJylcbiAgICAgICAgLmRlbGV0ZSgpXG4gICAgICAgIC5lcSgnZ3JvdXBfaWQnLCBncm91cElkKVxuXG4gICAgICBpZiAoZGVsZXRlRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGRlbGV0ZSBleGlzdGluZyBwbGFjZXM6JywgZGVsZXRlRXJyb3IpXG4gICAgICB9XG5cbiAgICAgIC8vIEV4dHJhY3QgcGxhY2VzIGZyb20gcm91dGUgZGF0YVxuICAgICAgY29uc3QgcGxhY2VzOiBhbnlbXSA9IFtdXG4gICAgICBsZXQgZ2xvYmFsVmlzaXRPcmRlciA9IDBcblxuICAgICAgcm91dGVEYXRhLm11bHRpRGF5U2NoZWR1bGU/LmRheXM/LmZvckVhY2goKGRheSkgPT4ge1xuICAgICAgICBkYXkuZGVzdGluYXRpb25zPy5mb3JFYWNoKChkZXN0KSA9PiB7XG4gICAgICAgICAgZ2xvYmFsVmlzaXRPcmRlcisrXG4gICAgICAgICAgcGxhY2VzLnB1c2goe1xuICAgICAgICAgICAgZ3JvdXBfaWQ6IGdyb3VwSWQsXG4gICAgICAgICAgICBuYW1lOiBkZXN0Lm5hbWUsXG4gICAgICAgICAgICBhZGRyZXNzOiBkZXN0LmFkZHJlc3MgfHwgJycsXG4gICAgICAgICAgICBsYXRpdHVkZTogZGVzdC5jb29yZGluYXRlcz8ubGF0IHx8IDAsXG4gICAgICAgICAgICBsb25naXR1ZGU6IGRlc3QuY29vcmRpbmF0ZXM/LmxuZyB8fCAwLFxuICAgICAgICAgICAgcGxhY2VfaWQ6IGRlc3QuZGVzdGluYXRpb25JZCB8fCBudWxsLFxuICAgICAgICAgICAgdmlzaXRfb3JkZXI6IGdsb2JhbFZpc2l0T3JkZXIsXG4gICAgICAgICAgICBzY2hlZHVsZWRfZGF0ZTogZGF5LmRhdGUgfHwgbnVsbCxcbiAgICAgICAgICAgIHNjaGVkdWxlZF9kdXJhdGlvbjogZGVzdC5hbGxvY2F0ZWREdXJhdGlvbiB8fCA2MCxcbiAgICAgICAgICAgIGR1cmF0aW9uOiBkZXN0LmFsbG9jYXRlZER1cmF0aW9uIHx8IDYwLCAvLyBBZGQgZHVyYXRpb24gZmllbGRcbiAgICAgICAgICAgIHNvdXJjZV9wbGFjZXM6IFtdLCAvLyBUT0RPOiBUcmFjayBzb3VyY2UgbXlfcGxhY2VzIElEc1xuICAgICAgICAgICAgZmFpcm5lc3Nfc2NvcmU6IG51bGwsIC8vIENhbiBiZSBjYWxjdWxhdGVkIGlmIG5lZWRlZFxuICAgICAgICAgICAgdHJhbnNwb3J0X21vZGU6IGRlc3QudHJhbnNwb3J0VG9OZXh0Py5tb2RlIHx8IG51bGwsXG4gICAgICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgfSlcblxuICAgICAgLy8gSW5zZXJ0IG5ldyBwbGFjZXNcbiAgICAgIGlmIChwbGFjZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCB7IGVycm9yOiBpbnNlcnRFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbSgncGxhY2VzJylcbiAgICAgICAgICAuaW5zZXJ0KHBsYWNlcylcblxuICAgICAgICBpZiAoaW5zZXJ0RXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gaW5zZXJ0IG9wdGltaXplZCBwbGFjZXM6JywgaW5zZXJ0RXJyb3IpXG4gICAgICAgICAgLy8gRG9uJ3QgdGhyb3cgLSB0aGlzIHNob3VsZG4ndCBicmVhayB0aGUgbWFpbiBvcHRpbWl6YXRpb24gZmxvd1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGDinIUgU2F2ZWQgJHtwbGFjZXMubGVuZ3RofSBvcHRpbWl6ZWQgcGxhY2VzIHRvIHBsYWNlcyB0YWJsZWApXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIG9wdGltaXplZCBwbGFjZXM6JywgZXJyb3IpXG4gICAgICAvLyBEb24ndCB0aHJvdyAtIHRoaXMgc2hvdWxkbid0IGJyZWFrIHRoZSBtYWluIG9wdGltaXphdGlvbiBmbG93XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEpTT05CIHF1ZXJ5IHV0aWxpdGllc1xuICAgKi9cbiAgYXN5bmMgZmluZFJvdXRlc0NvbnRhaW5pbmdEZXN0aW5hdGlvbihkZXN0aW5hdGlvbklkOiBzdHJpbmcpOiBQcm9taXNlPE9wdGltaXplZFJvdXRlW10+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29va2llU3RvcmUgPSBjb29raWVzKCk7XG4gICAgICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudChjb29raWVTdG9yZSk7XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAucnBjKCdmaW5kX3JvdXRlc19jb250YWluaW5nX2Rlc3RpbmF0aW9uJywge1xuICAgICAgICAgIGRlc3RpbmF0aW9uX2lkOiBkZXN0aW5hdGlvbklkXG4gICAgICAgIH0pXG5cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgUm91dGVTdG9yYWdlRXJyb3IoXG4gICAgICAgICAgYEZhaWxlZCB0byBmaW5kIHJvdXRlcyBjb250YWluaW5nIGRlc3RpbmF0aW9uOiAke2Vycm9yLm1lc3NhZ2V9YCxcbiAgICAgICAgICAnREFUQUJBU0VfRVJST1InLFxuICAgICAgICAgIGVycm9yXG4gICAgICAgIClcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRhdGEgfHwgW11cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgUm91dGVTdG9yYWdlRXJyb3IpIHtcbiAgICAgICAgdGhyb3cgZXJyb3JcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBSb3V0ZVN0b3JhZ2VFcnJvcihcbiAgICAgICAgJ1VuZXhwZWN0ZWQgZXJyb3IgZmluZGluZyByb3V0ZXMgYnkgZGVzdGluYXRpb24nLFxuICAgICAgICAnVU5LTk9XTl9FUlJPUicsXG4gICAgICAgIGVycm9yXG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZmluZFJvdXRlc0ZvclVzZXIodXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPE9wdGltaXplZFJvdXRlW10+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29va2llU3RvcmUgPSBjb29raWVzKCk7XG4gICAgICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudChjb29raWVTdG9yZSk7XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAucnBjKCdmaW5kX3JvdXRlc19mb3JfdXNlcicsIHtcbiAgICAgICAgICB1c2VyX2lkOiB1c2VySWRcbiAgICAgICAgfSlcblxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBSb3V0ZVN0b3JhZ2VFcnJvcihcbiAgICAgICAgICBgRmFpbGVkIHRvIGZpbmQgcm91dGVzIGZvciB1c2VyOiAke2Vycm9yLm1lc3NhZ2V9YCxcbiAgICAgICAgICAnREFUQUJBU0VfRVJST1InLFxuICAgICAgICAgIGVycm9yXG4gICAgICAgIClcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRhdGEgfHwgW11cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgUm91dGVTdG9yYWdlRXJyb3IpIHtcbiAgICAgICAgdGhyb3cgZXJyb3JcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBSb3V0ZVN0b3JhZ2VFcnJvcihcbiAgICAgICAgJ1VuZXhwZWN0ZWQgZXJyb3IgZmluZGluZyByb3V0ZXMgYnkgdXNlcicsXG4gICAgICAgICdVTktOT1dOX0VSUk9SJyxcbiAgICAgICAgZXJyb3JcbiAgICAgIClcbiAgICB9XG4gIH1cbn1cblxuLy8gRXhwb3J0IHNpbmdsZXRvbiBpbnN0YW5jZVxuZXhwb3J0IGNvbnN0IHJvdXRlU3RvcmFnZVNlcnZpY2UgPSBuZXcgUm91dGVTdG9yYWdlU2VydmljZSgpXG5leHBvcnQgZGVmYXVsdCByb3V0ZVN0b3JhZ2VTZXJ2aWNlIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsImNvb2tpZXMiLCJSb3V0ZVN0b3JhZ2VFcnJvciIsIkNvbmZsaWN0UmVzb2x1dGlvblJlcXVpcmVkRXJyb3IiLCJ2YWxpZGF0ZVJvdXRlRGF0YSIsInJvdXRlRGF0YSIsImVycm9ycyIsIndhcm5pbmdzIiwic3RhdHVzIiwicHVzaCIsImZpZWxkIiwibWVzc2FnZSIsIm11bHRpRGF5U2NoZWR1bGUiLCJkYXlzIiwibGVuZ3RoIiwib3B0aW1pemF0aW9uTWV0cmljcyIsImZvckVhY2giLCJkYXkiLCJkYXlJbmRleCIsImRhdGUiLCJkZXN0aW5hdGlvbnMiLCJkZXN0IiwiZGVzdEluZGV4IiwiZGVzdGluYXRpb25JZCIsImFsbG9jYXRlZER1cmF0aW9uIiwidmFsdWUiLCJzdGFydFRpbWUiLCJlbmRUaW1lIiwiY29vcmRpbmF0ZXMiLCJsYXQiLCJsbmciLCJNYXRoIiwiYWJzIiwiZ2VuZXJhdGlvbkluZm8iLCJhbGdvcml0aG1WZXJzaW9uIiwiZ2VuZXJhdGVkQXQiLCJpc1ZhbGlkIiwiUm91dGVTdG9yYWdlU2VydmljZSIsInNhdmVPcHRpbWl6YXRpb25SZXN1bHQiLCJncm91cElkIiwibWV0cmljcyIsInVzZXJJZCIsInNlc3Npb25JZCIsInZhbGlkYXRpb24iLCJjcmVhdGVSb3V0ZVZlcnNpb24iLCJjaGFuZ2VUeXBlIiwiY2hhbmdlRGVzY3JpcHRpb24iLCJ2ZXJzaW9uIiwiRGF0ZSIsIm5vdyIsImNvb2tpZVN0b3JlIiwic3VwYWJhc2UiLCJkYXRhIiwiZXJyb3IiLCJmcm9tIiwidXBzZXJ0IiwiZ3JvdXBfaWQiLCJyb3V0ZV9kYXRhIiwiZmFpcm5lc3Nfc2NvcmUiLCJmYWlybmVzc1Njb3JlIiwidG90YWxfZGlzdGFuY2UiLCJ0b3RhbERpc3RhbmNlIiwidG90YWxfZHVyYXRpb24iLCJ0b3RhbER1cmF0aW9uIiwiY3JlYXRlZF9hdCIsInRvSVNPU3RyaW5nIiwib25Db25mbGljdCIsImlnbm9yZUR1cGxpY2F0ZXMiLCJzZWxlY3QiLCJzaW5nbGUiLCJsb2dSb3V0ZUNoYW5nZSIsInVzZXJfaWQiLCJzZXNzaW9uX2lkIiwiY2hhbmdlX3R5cGUiLCJvbGRfdmFsdWUiLCJuZXdfdmFsdWUiLCJpbXBhY3RfbWV0cmljcyIsImZhaXJuZXNzX3Njb3JlX2NoYW5nZSIsInRvdGFsX3RpbWVfY2hhbmdlIiwidG90YWxfZGlzdGFuY2VfY2hhbmdlIiwiYWZmZWN0ZWRfdXNlcnMiLCJzYXRpc2ZhY3Rpb25fY2hhbmdlIiwic2F2ZU9wdGltaXplZFBsYWNlcyIsImdldFJvdXRlIiwiZXEiLCJjb2RlIiwicXVlcnlSb3V0ZXMiLCJvcHRpb25zIiwicXVlcnkiLCJkYXRlX3JhbmdlIiwiZ3RlIiwic3RhcnQiLCJsdGUiLCJlbmQiLCJtaW5fZmFpcm5lc3Nfc2NvcmUiLCJtYXhfZGlzdGFuY2UiLCJtYXhfZHVyYXRpb24iLCJvcmRlcl9ieSIsIm9yZGVyIiwiYXNjZW5kaW5nIiwib3JkZXJfZGlyZWN0aW9uIiwibGltaXQiLCJvZmZzZXQiLCJyYW5nZSIsInVwZGF0ZVJvdXRlIiwidXBkYXRlcyIsImN1cnJlbnRWZXJzaW9uIiwiY3VycmVudFJvdXRlIiwiY29uZmxpY3QiLCJsb2NhbF92ZXJzaW9uIiwic2VydmVyX3ZlcnNpb24iLCJjb25mbGljdGluZ19maWVsZHMiLCJPYmplY3QiLCJrZXlzIiwibG9jYWxfY2hhbmdlcyIsInNlcnZlcl9jaGFuZ2VzIiwicmVzb2x1dGlvbl9zdHJhdGVneSIsImNvbmZsaWN0X2lkIiwidXBkYXRlZFJvdXRlRGF0YSIsIm5ld1ZlcnNpb24iLCJ1cGRhdGUiLCJkZWxldGVSb3V0ZSIsImRlbGV0ZSIsImNoYW5nZUluZm8iLCJpbnNlcnQiLCJjaGFuZ2VfZGVzY3JpcHRpb24iLCJyb3V0ZV9kYXRhX3NuYXBzaG90IiwiY29uc29sZSIsImdldFJvdXRlVmVyc2lvbnMiLCJjaGFuZ2VMb2ciLCJ0aW1lc3RhbXAiLCJnZXRSb3V0ZUNoYW5nZUhpc3RvcnkiLCJkZWxldGVFcnJvciIsInBsYWNlcyIsImdsb2JhbFZpc2l0T3JkZXIiLCJuYW1lIiwiYWRkcmVzcyIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwicGxhY2VfaWQiLCJ2aXNpdF9vcmRlciIsInNjaGVkdWxlZF9kYXRlIiwic2NoZWR1bGVkX2R1cmF0aW9uIiwiZHVyYXRpb24iLCJzb3VyY2VfcGxhY2VzIiwidHJhbnNwb3J0X21vZGUiLCJ0cmFuc3BvcnRUb05leHQiLCJtb2RlIiwidXBkYXRlZF9hdCIsImluc2VydEVycm9yIiwibG9nIiwiZmluZFJvdXRlc0NvbnRhaW5pbmdEZXN0aW5hdGlvbiIsInJwYyIsImRlc3RpbmF0aW9uX2lkIiwiZmluZFJvdXRlc0ZvclVzZXIiLCJyb3V0ZVN0b3JhZ2VTZXJ2aWNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./lib/services/route-storage.ts\n");

/***/ }),

/***/ "(action-browser)/./lib/supabase/server.ts":
/*!********************************!*\
  !*** ./lib/supabase/server.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createClient: () => (/* binding */ createClient)\n/* harmony export */ });\n/* harmony import */ var _supabase_ssr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/ssr */ \"(action-browser)/./node_modules/@supabase/ssr/dist/main/index.js\");\n/* harmony import */ var _supabase_ssr__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_ssr__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction createClient(cookieStore) {\n    const supabaseUrl = \"https://zceqyydzdrbvtsxnqeqx.supabase.co\";\n    const supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpjZXF5eWR6ZHJidnRzeG5xZXF4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg4ODkwMDcsImV4cCI6MjA2NDQ2NTAwN30.Jw7nnt6rvcoYxkYutW2baZ9BU0FrAxvtL3DZ3DoT5_0\";\n    if (!supabaseUrl || !supabaseAnonKey) {\n        console.error(\"Missing Supabase environment variables\");\n        console.error(\"URL:\", supabaseUrl ? \"defined\" : \"undefined\");\n        console.error(\"Key:\", supabaseAnonKey ? \"defined\" : \"undefined\");\n    } else {\n        console.log(\"Server Supabase URL:\", supabaseUrl);\n        console.log(\"Server Supabase Key defined:\", !!supabaseAnonKey);\n    }\n    return (0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_0__.createServerClient)(supabaseUrl, supabaseAnonKey, {\n        cookies: {\n            get (name) {\n                return cookieStore.get(name)?.value;\n            },\n            set (name, value, options) {\n                cookieStore.set({\n                    name,\n                    value,\n                    ...options\n                });\n            },\n            remove (name, options) {\n                cookieStore.set({\n                    name,\n                    value: \"\",\n                    ...options\n                });\n            }\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL2xpYi9zdXBhYmFzZS9zZXJ2ZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQW1EO0FBRzVDLFNBQVNDLGFBQWFDLFdBQXVDO0lBQ2xFLE1BQU1DLGNBQWNDLDBDQUFvQztJQUN4RCxNQUFNRyxrQkFBa0JILGtOQUF5QztJQUVqRSxJQUFJLENBQUNELGVBQWUsQ0FBQ0ksaUJBQWlCO1FBQ3BDRSxRQUFRQyxLQUFLLENBQUM7UUFDZEQsUUFBUUMsS0FBSyxDQUFDLFFBQVFQLGNBQWMsWUFBWTtRQUNoRE0sUUFBUUMsS0FBSyxDQUFDLFFBQVFILGtCQUFrQixZQUFZO0lBQ3RELE9BQU87UUFDTEUsUUFBUUUsR0FBRyxDQUFDLHdCQUF3QlI7UUFDcENNLFFBQVFFLEdBQUcsQ0FBQyxnQ0FBZ0MsQ0FBQyxDQUFDSjtJQUNoRDtJQUVBLE9BQU9QLGlFQUFrQkEsQ0FDdkJHLGFBQ0FJLGlCQUNBO1FBQ0VLLFNBQVM7WUFDUEMsS0FBSUMsSUFBWTtnQkFDZCxPQUFPWixZQUFZVyxHQUFHLENBQUNDLE9BQU9DO1lBQ2hDO1lBQ0FDLEtBQUlGLElBQVksRUFBRUMsS0FBYSxFQUFFRSxPQUFZO2dCQUMzQ2YsWUFBWWMsR0FBRyxDQUFDO29CQUFFRjtvQkFBTUM7b0JBQU8sR0FBR0UsT0FBTztnQkFBQztZQUM1QztZQUNBQyxRQUFPSixJQUFZLEVBQUVHLE9BQVk7Z0JBQy9CZixZQUFZYyxHQUFHLENBQUM7b0JBQUVGO29CQUFNQyxPQUFPO29CQUFJLEdBQUdFLE9BQU87Z0JBQUM7WUFDaEQ7UUFDRjtJQUNGO0FBRUoiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMvLi9saWIvc3VwYWJhc2Uvc2VydmVyLnRzPzY2MjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlU2VydmVyQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3Nzcic7XG5pbXBvcnQgeyBjb29raWVzIH0gZnJvbSAnbmV4dC9oZWFkZXJzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNsaWVudChjb29raWVTdG9yZTogUmV0dXJuVHlwZTx0eXBlb2YgY29va2llcz4pIHtcbiAgY29uc3Qgc3VwYWJhc2VVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwhO1xuICBjb25zdCBzdXBhYmFzZUFub25LZXkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSE7XG4gIFxuICBpZiAoIXN1cGFiYXNlVXJsIHx8ICFzdXBhYmFzZUFub25LZXkpIHtcbiAgICBjb25zb2xlLmVycm9yKCdNaXNzaW5nIFN1cGFiYXNlIGVudmlyb25tZW50IHZhcmlhYmxlcycpO1xuICAgIGNvbnNvbGUuZXJyb3IoJ1VSTDonLCBzdXBhYmFzZVVybCA/ICdkZWZpbmVkJyA6ICd1bmRlZmluZWQnKTtcbiAgICBjb25zb2xlLmVycm9yKCdLZXk6Jywgc3VwYWJhc2VBbm9uS2V5ID8gJ2RlZmluZWQnIDogJ3VuZGVmaW5lZCcpO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUubG9nKCdTZXJ2ZXIgU3VwYWJhc2UgVVJMOicsIHN1cGFiYXNlVXJsKTtcbiAgICBjb25zb2xlLmxvZygnU2VydmVyIFN1cGFiYXNlIEtleSBkZWZpbmVkOicsICEhc3VwYWJhc2VBbm9uS2V5KTtcbiAgfVxuICBcbiAgcmV0dXJuIGNyZWF0ZVNlcnZlckNsaWVudChcbiAgICBzdXBhYmFzZVVybCxcbiAgICBzdXBhYmFzZUFub25LZXksXG4gICAge1xuICAgICAgY29va2llczoge1xuICAgICAgICBnZXQobmFtZTogc3RyaW5nKSB7XG4gICAgICAgICAgcmV0dXJuIGNvb2tpZVN0b3JlLmdldChuYW1lKT8udmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldChuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIG9wdGlvbnM6IGFueSkge1xuICAgICAgICAgIGNvb2tpZVN0b3JlLnNldCh7IG5hbWUsIHZhbHVlLCAuLi5vcHRpb25zIH0pO1xuICAgICAgICB9LFxuICAgICAgICByZW1vdmUobmFtZTogc3RyaW5nLCBvcHRpb25zOiBhbnkpIHtcbiAgICAgICAgICBjb29raWVTdG9yZS5zZXQoeyBuYW1lLCB2YWx1ZTogJycsIC4uLm9wdGlvbnMgfSk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH1cbiAgKTtcbn0iXSwibmFtZXMiOlsiY3JlYXRlU2VydmVyQ2xpZW50IiwiY3JlYXRlQ2xpZW50IiwiY29va2llU3RvcmUiLCJzdXBhYmFzZVVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJzdXBhYmFzZUFub25LZXkiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsImNvbnNvbGUiLCJlcnJvciIsImxvZyIsImNvb2tpZXMiLCJnZXQiLCJuYW1lIiwidmFsdWUiLCJzZXQiLCJvcHRpb25zIiwicmVtb3ZlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./lib/supabase/server.ts\n");

/***/ }),

/***/ "(action-browser)/./lib/types/route-storage.ts":
/*!************************************!*\
  !*** ./lib/types/route-storage.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CacheInvalidationError: () => (/* binding */ CacheInvalidationError),\n/* harmony export */   ConflictResolutionRequiredError: () => (/* binding */ ConflictResolutionRequiredError),\n/* harmony export */   RouteStorageError: () => (/* binding */ RouteStorageError)\n/* harmony export */ });\n// Database integration and route storage types\n// Core stored route data structure for JSONB storage\n// Error types\nclass RouteStorageError extends Error {\n    constructor(message, code, details){\n        super(message);\n        this.code = code;\n        this.details = details;\n        this.name = \"RouteStorageError\";\n    }\n}\nclass ConflictResolutionRequiredError extends Error {\n    constructor(conflict, message = \"Manual conflict resolution required\"){\n        super(message);\n        this.conflict = conflict;\n        this.name = \"ConflictResolutionRequiredError\";\n    }\n}\nclass CacheInvalidationError extends Error {\n    constructor(message, group_id, cache_type){\n        super(message);\n        this.group_id = group_id;\n        this.cache_type = cache_type;\n        this.name = \"CacheInvalidationError\";\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL2xpYi90eXBlcy9yb3V0ZS1zdG9yYWdlLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLCtDQUErQztBQUUvQyxxREFBcUQ7QUF1UnJELGNBQWM7QUFDUCxNQUFNQSwwQkFBMEJDO0lBQ3JDQyxZQUNFQyxPQUFlLEVBQ1JDLE1BQ0FDLFFBQ1A7UUFDQSxLQUFLLENBQUNGO29CQUhDQzt1QkFDQUM7UUFHUCxJQUFJLENBQUNDLElBQUksR0FBRztJQUNkO0FBQ0Y7QUFFTyxNQUFNQyx3Q0FBd0NOO0lBQ25EQyxZQUNTTSxVQUNQTCxVQUFVLHFDQUFxQyxDQUMvQztRQUNBLEtBQUssQ0FBQ0E7d0JBSENLO1FBSVAsSUFBSSxDQUFDRixJQUFJLEdBQUc7SUFDZDtBQUNGO0FBRU8sTUFBTUcsK0JBQStCUjtJQUMxQ0MsWUFDRUMsT0FBZSxFQUNSTyxVQUNBQyxXQUNQO1FBQ0EsS0FBSyxDQUFDUjt3QkFIQ087MEJBQ0FDO1FBR1AsSUFBSSxDQUFDTCxJQUFJLEdBQUc7SUFDZDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLy4vbGliL3R5cGVzL3JvdXRlLXN0b3JhZ2UudHM/MjNkMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBEYXRhYmFzZSBpbnRlZ3JhdGlvbiBhbmQgcm91dGUgc3RvcmFnZSB0eXBlc1xuXG4vLyBDb3JlIHN0b3JlZCByb3V0ZSBkYXRhIHN0cnVjdHVyZSBmb3IgSlNPTkIgc3RvcmFnZVxuZXhwb3J0IGludGVyZmFjZSBTdG9yZWRSb3V0ZURhdGEge1xuICAvLyBDb3JlIG9wdGltaXphdGlvbiByZXN1bHRzXG4gIHN0YXR1czogJ3N1Y2Nlc3MnIHwgJ25vX2ZlYXNpYmxlX3NvbHV0aW9uJyB8ICdhbGxfaW5jbHVkZWQnIHwgJ292ZXJfY2FwYWNpdHknXG4gIG9wdGltaXphdGlvbk1ldHJpY3M6IHtcbiAgICBmYWlybmVzc1Njb3JlOiBudW1iZXJcbiAgICB0b3RhbERpc3RhbmNlOiBudW1iZXJcbiAgICB0b3RhbER1cmF0aW9uOiBudW1iZXJcbiAgICBjbHVzdGVyQ291bnQ6IG51bWJlclxuICAgIGRlc3RpbmF0aW9uQ291bnQ6IG51bWJlclxuICAgIGF2ZXJhZ2VTYXRpc2ZhY3Rpb246IG51bWJlclxuICAgIGVmZmljaWVuY3lTY29yZTogbnVtYmVyXG4gIH1cbiAgXG4gIC8vIERldGFpbGVkIGl0aW5lcmFyeSBkYXRhXG4gIG11bHRpRGF5U2NoZWR1bGU6IHtcbiAgICBkYXlzOiBBcnJheTx7XG4gICAgICBkYXRlOiBzdHJpbmdcbiAgICAgIGRheUluZGV4OiBudW1iZXJcbiAgICAgIGRlc3RpbmF0aW9uczogQXJyYXk8e1xuICAgICAgICBkZXN0aW5hdGlvbklkOiBzdHJpbmdcbiAgICAgICAgbmFtZTogc3RyaW5nXG4gICAgICAgIGFkZHJlc3M6IHN0cmluZ1xuICAgICAgICBjb29yZGluYXRlczogeyBsYXQ6IG51bWJlciwgbG5nOiBudW1iZXIgfVxuICAgICAgICBzdGFydFRpbWU6IHN0cmluZ1xuICAgICAgICBlbmRUaW1lOiBzdHJpbmdcbiAgICAgICAgYWxsb2NhdGVkRHVyYXRpb246IG51bWJlclxuICAgICAgICB2aXNpdE9yZGVyOiBudW1iZXJcbiAgICAgICAgZGF5VmlzaXRPcmRlcjogbnVtYmVyXG4gICAgICAgIHdpc2hmdWxVc2VyczogQXJyYXk8e1xuICAgICAgICAgIHVzZXJJZDogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIHNlc3Npb25JZDogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGRpc3BsYXlOYW1lOiBzdHJpbmdcbiAgICAgICAgICBhc3NpZ25lZENvbG9yOiBzdHJpbmdcbiAgICAgICAgICBvcmlnaW5hbFJhdGluZzogbnVtYmVyXG4gICAgICAgICAgc3RhbmRhcmRpemVkU2NvcmU6IG51bWJlclxuICAgICAgICAgIHJlcXVlc3RlZER1cmF0aW9uOiBudW1iZXJcbiAgICAgICAgICBzYXRpc2ZhY3Rpb25MZXZlbDogJ2hpZ2gnIHwgJ21lZGl1bScgfCAnbG93J1xuICAgICAgICB9PlxuICAgICAgICB0cmFuc3BvcnRUb05leHQ/OiB7XG4gICAgICAgICAgbW9kZTogJ3dhbGsnIHwgJ2RyaXZlJyB8ICdmbHknXG4gICAgICAgICAgZGlzdGFuY2U6IG51bWJlclxuICAgICAgICAgIGVzdGltYXRlZFRpbWU6IG51bWJlclxuICAgICAgICAgIGNvc3Q/OiBudW1iZXJcbiAgICAgICAgICByb3V0ZVBhdGg6IEFycmF5PHsgbGF0OiBudW1iZXIsIGxuZzogbnVtYmVyIH0+XG4gICAgICAgICAgaW5zdHJ1Y3Rpb25zPzogc3RyaW5nW11cbiAgICAgICAgfVxuICAgICAgICBub3Rlcz86IHN0cmluZ1tdXG4gICAgICAgIHRhZ3M/OiBzdHJpbmdbXVxuICAgICAgfT5cbiAgICAgIGFjY29tbW9kYXRpb25TdWdnZXN0aW9uPzoge1xuICAgICAgICBsb2NhdGlvbjogeyBsYXQ6IG51bWJlciwgbG5nOiBudW1iZXIgfVxuICAgICAgICBzdWdnZXN0ZWRBcmVhOiBzdHJpbmdcbiAgICAgICAgZXN0aW1hdGVkQ29zdDogbnVtYmVyXG4gICAgICAgIHJlYXNvbmluZzogc3RyaW5nXG4gICAgICAgIGNvbmZpZGVuY2U6IG51bWJlclxuICAgICAgfVxuICAgICAgZGFpbHlTdGF0czoge1xuICAgICAgICB0b3RhbERpc3RhbmNlOiBudW1iZXJcbiAgICAgICAgdG90YWxUaW1lOiBudW1iZXJcbiAgICAgICAgZGVzdGluYXRpb25Db3VudDogbnVtYmVyXG4gICAgICAgIGF2ZXJhZ2VTYXRpc2ZhY3Rpb246IG51bWJlclxuICAgICAgICBpbnRlbnNpdHk6ICdsaWdodCcgfCAnbW9kZXJhdGUnIHwgJ3BhY2tlZCdcbiAgICAgIH1cbiAgICB9PlxuICAgIHRvdGFsU3RhdHM6IHtcbiAgICAgIHRyaXBEdXJhdGlvbkRheXM6IG51bWJlclxuICAgICAgdG90YWxEZXN0aW5hdGlvbnM6IG51bWJlclxuICAgICAgdG90YWxEaXN0YW5jZTogbnVtYmVyXG4gICAgICB0b3RhbFRpbWU6IG51bWJlclxuICAgICAgYXZlcmFnZURhaWx5RGlzdGFuY2U6IG51bWJlclxuICAgICAgYXZlcmFnZURhaWx5VGltZTogbnVtYmVyXG4gICAgICByZXN0RGF5UmVjb21tZW5kYXRpb25zOiBzdHJpbmdbXVxuICAgIH1cbiAgfVxuICBcbiAgLy8gVmlzdWFsaXphdGlvbi1yZWFkeSBkYXRhXG4gIHZpc3VhbGl6YXRpb25EYXRhOiB7XG4gICAgbWFwQm91bmRzOiB7XG4gICAgICBub3J0aDogbnVtYmVyXG4gICAgICBzb3V0aDogbnVtYmVyXG4gICAgICBlYXN0OiBudW1iZXJcbiAgICAgIHdlc3Q6IG51bWJlclxuICAgICAgY2VudGVyOiB7IGxhdDogbnVtYmVyLCBsbmc6IG51bWJlciB9XG4gICAgICB6b29tOiBudW1iZXJcbiAgICB9XG4gICAgY29sb3JNYXBwaW5nczoge1xuICAgICAgW2Rlc3RpbmF0aW9uSWQ6IHN0cmluZ106IHtcbiAgICAgICAgcHJpbWFyeUNvbG9yOiBzdHJpbmdcbiAgICAgICAgdXNlckNvdW50OiBudW1iZXJcbiAgICAgICAgcG9wdWxhcml0eVRpZXI6ICdzaW5nbGUnIHwgJ3NtYWxsX2dyb3VwJyB8ICdwb3B1bGFyJ1xuICAgICAgICB1c2VyQ29sb3JzOiBzdHJpbmdbXVxuICAgICAgICBibGVuZGVkQ29sb3I6IHN0cmluZ1xuICAgICAgfVxuICAgIH1cbiAgICByb3V0ZUxpbmVzOiBBcnJheTx7XG4gICAgICBmcm9tOiB7IGxhdDogbnVtYmVyLCBsbmc6IG51bWJlciB9XG4gICAgICB0bzogeyBsYXQ6IG51bWJlciwgbG5nOiBudW1iZXIgfVxuICAgICAgbW9kZTogJ3dhbGsnIHwgJ2RyaXZlJyB8ICdmbHknXG4gICAgICBjb2xvcjogc3RyaW5nXG4gICAgICBzdHJva2VXZWlnaHQ6IG51bWJlclxuICAgICAgZGFzaFBhdHRlcm4/OiBudW1iZXJbXVxuICAgIH0+XG4gICAgc3RhdGlzdGljYWxTdW1tYXJ5OiB7XG4gICAgICB3YWxraW5nRGlzdGFuY2U6IG51bWJlclxuICAgICAgZHJpdmluZ0Rpc3RhbmNlOiBudW1iZXJcbiAgICAgIGZseWluZ0Rpc3RhbmNlOiBudW1iZXJcbiAgICAgIHdhbGtpbmdUaW1lOiBudW1iZXJcbiAgICAgIGRyaXZpbmdUaW1lOiBudW1iZXJcbiAgICAgIGZseWluZ1RpbWU6IG51bWJlclxuICAgICAgYWNjb21tb2RhdGlvblBvaW50czogbnVtYmVyXG4gICAgICBhdmVyYWdlRGlzdGFuY2VCZXR3ZWVuRGVzdGluYXRpb25zOiBudW1iZXJcbiAgICAgIHJvdXRlRWZmaWNpZW5jeTogbnVtYmVyXG4gICAgfVxuICB9XG4gIFxuICAvLyBHZW5lcmF0aW9uIG1ldGFkYXRhXG4gIGdlbmVyYXRpb25JbmZvOiB7XG4gICAgYWxnb3JpdGhtVmVyc2lvbjogc3RyaW5nXG4gICAgZ2VuZXJhdGVkQXQ6IHN0cmluZ1xuICAgIHByb2Nlc3NpbmdUaW1lOiBudW1iZXJcbiAgICBpbnB1dFBhcmFtZXRlcnM6IHtcbiAgICAgIHN0YXJ0RGF0ZT86IHN0cmluZ1xuICAgICAgZW5kRGF0ZT86IHN0cmluZ1xuICAgICAgZGVwYXJ0dXJlTG9jYXRpb246IHN0cmluZ1xuICAgICAgcmV0dXJuTG9jYXRpb24/OiBzdHJpbmdcbiAgICAgIG1heERhaWx5RGlzdGFuY2U/OiBudW1iZXJcbiAgICAgIG1heERhaWx5VGltZT86IG51bWJlclxuICAgICAgdHJhbnNwb3J0UHJlZmVyZW5jZXM6IHN0cmluZ1tdXG4gICAgfVxuICAgIHVzZXJQcmVmZXJlbmNlc1NuYXBzaG90OiBBcnJheTx7XG4gICAgICB1c2VySWQ6IHN0cmluZyB8IG51bGxcbiAgICAgIHNlc3Npb25JZDogc3RyaW5nIHwgbnVsbFxuICAgICAgZGVzdGluYXRpb25JZDogc3RyaW5nXG4gICAgICBkZXN0aW5hdGlvbk5hbWU6IHN0cmluZ1xuICAgICAgcHJlZmVyZW5jZVNjb3JlOiBudW1iZXJcbiAgICAgIHByZWZlcnJlZER1cmF0aW9uOiBudW1iZXJcbiAgICAgIG5vdGVzPzogc3RyaW5nXG4gICAgICBpc1BlcnNvbmFsRmF2b3JpdGU6IGJvb2xlYW5cbiAgICAgIHRpbWVzdGFtcDogc3RyaW5nXG4gICAgfT5cbiAgICBvcHRpbWl6YXRpb25Db25zdHJhaW50czoge1xuICAgICAgdGltZUNvbnN0cmFpbnRzOiBhbnlbXVxuICAgICAgZ2VvZ3JhcGhpY2FsQ29uc3RyYWludHM6IGFueVtdXG4gICAgICB1c2VyUmVxdWlyZW1lbnRzOiBhbnlbXVxuICAgIH1cbiAgfVxufVxuXG4vLyBEYXRhYmFzZSByZWNvcmQgc3RydWN0dXJlXG5leHBvcnQgaW50ZXJmYWNlIE9wdGltaXplZFJvdXRlIHtcbiAgaWQ6IHN0cmluZ1xuICBncm91cF9pZDogc3RyaW5nXG4gIHJvdXRlX2RhdGE6IFN0b3JlZFJvdXRlRGF0YVxuICBmYWlybmVzc19zY29yZTogbnVtYmVyXG4gIHRvdGFsX2Rpc3RhbmNlOiBudW1iZXJcbiAgdG90YWxfZHVyYXRpb246IG51bWJlclxuICBjcmVhdGVkX2F0OiBzdHJpbmdcbiAgdmVyc2lvbjogbnVtYmVyXG59XG5cbi8vIFZlcnNpb24gY29udHJvbCBhbmQgY2hhbmdlIHRyYWNraW5nXG5leHBvcnQgaW50ZXJmYWNlIFJvdXRlVmVyc2lvbiB7XG4gIGlkOiBzdHJpbmdcbiAgZ3JvdXBfaWQ6IHN0cmluZ1xuICB2ZXJzaW9uOiBudW1iZXJcbiAgdGltZXN0YW1wOiBEYXRlXG4gIHVzZXJfaWQ6IHN0cmluZyB8IG51bGxcbiAgc2Vzc2lvbl9pZDogc3RyaW5nIHwgbnVsbFxuICBjaGFuZ2VfdHlwZTogJ29wdGltaXphdGlvbicgfCAnbWFudWFsX2VkaXQnIHwgJ3VzZXJfcHJlZmVyZW5jZV91cGRhdGUnIHwgJ3Jlb3JkZXInIHwgJ3RpbWVfYWRqdXN0J1xuICBjaGFuZ2VfZGVzY3JpcHRpb246IHN0cmluZ1xuICByb3V0ZV9kYXRhX3NuYXBzaG90OiBTdG9yZWRSb3V0ZURhdGFcbiAgY3JlYXRlZF9hdDogc3RyaW5nXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUm91dGVDaGFuZ2VMb2cge1xuICBpZDogc3RyaW5nXG4gIGdyb3VwX2lkOiBzdHJpbmdcbiAgdXNlcl9pZDogc3RyaW5nIHwgbnVsbFxuICBzZXNzaW9uX2lkOiBzdHJpbmcgfCBudWxsXG4gIGNoYW5nZV90eXBlOiAnZGVzdGluYXRpb25fcmVvcmRlcicgfCAndGltZV9hZGp1c3RtZW50JyB8ICdkZXN0aW5hdGlvbl9leGNsdWRlJyB8ICdwcmVmZXJlbmNlX3VwZGF0ZScgfCAnZGVzdGluYXRpb25fYWRkJyB8ICdkZXN0aW5hdGlvbl9yZW1vdmUnXG4gIHRhcmdldF9kZXN0aW5hdGlvbl9pZD86IHN0cmluZ1xuICBvbGRfdmFsdWU6IGFueVxuICBuZXdfdmFsdWU6IGFueVxuICBpbXBhY3RfbWV0cmljczoge1xuICAgIGZhaXJuZXNzX3Njb3JlX2NoYW5nZTogbnVtYmVyXG4gICAgdG90YWxfdGltZV9jaGFuZ2U6IG51bWJlclxuICAgIHRvdGFsX2Rpc3RhbmNlX2NoYW5nZTogbnVtYmVyXG4gICAgYWZmZWN0ZWRfdXNlcnM6IHN0cmluZ1tdXG4gICAgc2F0aXNmYWN0aW9uX2NoYW5nZTogbnVtYmVyXG4gIH1cbiAgdGltZXN0YW1wOiBzdHJpbmdcbiAgY3JlYXRlZF9hdDogc3RyaW5nXG59XG5cbi8vIFJlYWwtdGltZSB1cGRhdGUgZXZlbnRzXG5leHBvcnQgaW50ZXJmYWNlIFJvdXRlVXBkYXRlRXZlbnQge1xuICB0eXBlOiAncm91dGVfdXBkYXRlZCcgfCAncm91dGVfY3JlYXRlZCcgfCAncm91dGVfZGVsZXRlZCcgfCAncHJlZmVyZW5jZXNfY2hhbmdlZCdcbiAgZ3JvdXBfaWQ6IHN0cmluZ1xuICB1c2VyX2lkPzogc3RyaW5nIHwgbnVsbFxuICBzZXNzaW9uX2lkPzogc3RyaW5nIHwgbnVsbFxuICB0aW1lc3RhbXA6IHN0cmluZ1xuICBkYXRhOiBhbnlcbn1cblxuLy8gQ29uZmxpY3QgcmVzb2x1dGlvblxuZXhwb3J0IGludGVyZmFjZSBSb3V0ZVVwZGF0ZUNvbmZsaWN0IHtcbiAgbG9jYWxfdmVyc2lvbjogbnVtYmVyXG4gIHNlcnZlcl92ZXJzaW9uOiBudW1iZXJcbiAgY29uZmxpY3RpbmdfZmllbGRzOiBzdHJpbmdbXVxuICBsb2NhbF9jaGFuZ2VzOiBQYXJ0aWFsPFN0b3JlZFJvdXRlRGF0YT5cbiAgc2VydmVyX2NoYW5nZXM6IFBhcnRpYWw8U3RvcmVkUm91dGVEYXRhPlxuICByZXNvbHV0aW9uX3N0cmF0ZWd5OiAnc2VydmVyX3dpbnMnIHwgJ2NsaWVudF93aW5zJyB8ICdtZXJnZScgfCAnbWFudWFsJ1xuICBjb25mbGljdF9pZDogc3RyaW5nXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZ1xufVxuXG4vLyBDYWNoZSBtYW5hZ2VtZW50XG5leHBvcnQgaW50ZXJmYWNlIENhY2hlRW50cnk8VD4ge1xuICBkYXRhOiBUXG4gIHRpbWVzdGFtcDogbnVtYmVyXG4gIGV4cGlyZXNfYXQ6IG51bWJlclxuICB2ZXJzaW9uOiBudW1iZXJcbiAgZ3JvdXBfaWQ6IHN0cmluZ1xufVxuXG4vLyBRdWVyeSBmaWx0ZXJzIGFuZCBvcHRpb25zXG5leHBvcnQgaW50ZXJmYWNlIFJvdXRlUXVlcnlPcHRpb25zIHtcbiAgZ3JvdXBfaWQ/OiBzdHJpbmdcbiAgdXNlcl9pZD86IHN0cmluZ1xuICBzZXNzaW9uX2lkPzogc3RyaW5nXG4gIGRhdGVfcmFuZ2U/OiB7XG4gICAgc3RhcnQ6IHN0cmluZ1xuICAgIGVuZDogc3RyaW5nXG4gIH1cbiAgbWluX2ZhaXJuZXNzX3Njb3JlPzogbnVtYmVyXG4gIG1heF9kaXN0YW5jZT86IG51bWJlclxuICBtYXhfZHVyYXRpb24/OiBudW1iZXJcbiAgaW5jbHVkZV9kZWxldGVkPzogYm9vbGVhblxuICBsaW1pdD86IG51bWJlclxuICBvZmZzZXQ/OiBudW1iZXJcbiAgb3JkZXJfYnk/OiAnY3JlYXRlZF9hdCcgfCAnZmFpcm5lc3Nfc2NvcmUnIHwgJ3RvdGFsX2Rpc3RhbmNlJyB8ICd0b3RhbF9kdXJhdGlvbidcbiAgb3JkZXJfZGlyZWN0aW9uPzogJ2FzYycgfCAnZGVzYydcbn1cblxuLy8gT3B0aW1pemF0aW9uIG1ldHJpY3MgZm9yIHN0b3JhZ2VcbmV4cG9ydCBpbnRlcmZhY2UgT3B0aW1pemF0aW9uTWV0cmljcyB7XG4gIGZhaXJuZXNzU2NvcmU6IG51bWJlclxuICB0b3RhbERpc3RhbmNlOiBudW1iZXJcbiAgdG90YWxEdXJhdGlvbjogbnVtYmVyXG4gIGNsdXN0ZXJDb3VudDogbnVtYmVyXG4gIGRlc3RpbmF0aW9uQ291bnQ6IG51bWJlclxuICBwcm9jZXNzaW5nVGltZTogbnVtYmVyXG4gIGFsZ29yaXRobVZlcnNpb246IHN0cmluZ1xuICB1c2VyU2F0aXNmYWN0aW9uU2NvcmVzOiB7IFt1c2VySWQ6IHN0cmluZ106IG51bWJlciB9XG4gIHJvdXRlRWZmaWNpZW5jeTogbnVtYmVyXG4gIGFjY29tbW9kYXRpb25PcHRpbWl6YXRpb246IG51bWJlclxufVxuXG4vLyBCYXRjaCBvcGVyYXRpb25zXG5leHBvcnQgaW50ZXJmYWNlIEJhdGNoUm91dGVPcGVyYXRpb24ge1xuICBvcGVyYXRpb25fdHlwZTogJ2J1bGtfdXBkYXRlJyB8ICdidWxrX2RlbGV0ZScgfCAnYnVsa19yZW9yZGVyJ1xuICBncm91cF9pZHM6IHN0cmluZ1tdXG4gIHBhcmFtZXRlcnM6IGFueVxuICB1c2VyX2lkPzogc3RyaW5nIHwgbnVsbFxuICBzZXNzaW9uX2lkPzogc3RyaW5nIHwgbnVsbFxuICB0aW1lc3RhbXA6IHN0cmluZ1xufVxuXG4vLyBEYXRhYmFzZSBpbmRleGVzIGFuZCBwZXJmb3JtYW5jZVxuZXhwb3J0IGludGVyZmFjZSBSb3V0ZUluZGV4RGVmaW5pdGlvbiB7XG4gIG5hbWU6IHN0cmluZ1xuICB0YWJsZTogc3RyaW5nXG4gIGNvbHVtbnM6IHN0cmluZ1tdXG4gIHR5cGU6ICdidHJlZScgfCAnZ2luJyB8ICdnaXN0JyB8ICdoYXNoJ1xuICB1bmlxdWU/OiBib29sZWFuXG4gIHdoZXJlPzogc3RyaW5nXG59XG5cbi8vIEVycm9yIHR5cGVzXG5leHBvcnQgY2xhc3MgUm91dGVTdG9yYWdlRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIG1lc3NhZ2U6IHN0cmluZyxcbiAgICBwdWJsaWMgY29kZTogc3RyaW5nLFxuICAgIHB1YmxpYyBkZXRhaWxzPzogYW55XG4gICkge1xuICAgIHN1cGVyKG1lc3NhZ2UpXG4gICAgdGhpcy5uYW1lID0gJ1JvdXRlU3RvcmFnZUVycm9yJ1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb25mbGljdFJlc29sdXRpb25SZXF1aXJlZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgY29uZmxpY3Q6IFJvdXRlVXBkYXRlQ29uZmxpY3QsXG4gICAgbWVzc2FnZSA9ICdNYW51YWwgY29uZmxpY3QgcmVzb2x1dGlvbiByZXF1aXJlZCdcbiAgKSB7XG4gICAgc3VwZXIobWVzc2FnZSlcbiAgICB0aGlzLm5hbWUgPSAnQ29uZmxpY3RSZXNvbHV0aW9uUmVxdWlyZWRFcnJvcidcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2FjaGVJbnZhbGlkYXRpb25FcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IoXG4gICAgbWVzc2FnZTogc3RyaW5nLFxuICAgIHB1YmxpYyBncm91cF9pZDogc3RyaW5nLFxuICAgIHB1YmxpYyBjYWNoZV90eXBlOiBzdHJpbmdcbiAgKSB7XG4gICAgc3VwZXIobWVzc2FnZSlcbiAgICB0aGlzLm5hbWUgPSAnQ2FjaGVJbnZhbGlkYXRpb25FcnJvcidcbiAgfVxufVxuXG4vLyBEYXRhIHZhbGlkYXRpb25cbmV4cG9ydCBpbnRlcmZhY2UgVmFsaWRhdGlvbkVycm9yIHtcbiAgZmllbGQ6IHN0cmluZ1xuICBtZXNzYWdlOiBzdHJpbmdcbiAgdmFsdWU/OiBhbnlcbn1cblxuZXhwb3J0IGludGVyZmFjZSBWYWxpZGF0aW9uUmVzdWx0IHtcbiAgaXNWYWxpZDogYm9vbGVhblxuICBlcnJvcnM6IFZhbGlkYXRpb25FcnJvcltdXG4gIHdhcm5pbmdzOiBzdHJpbmdbXVxufVxuXG4vLyBQZXJmb3JtYW5jZSBtb25pdG9yaW5nXG5leHBvcnQgaW50ZXJmYWNlIFJvdXRlT3BlcmF0aW9uTWV0cmljcyB7XG4gIG9wZXJhdGlvbjogc3RyaW5nXG4gIGR1cmF0aW9uX21zOiBudW1iZXJcbiAgcm93c19hZmZlY3RlZDogbnVtYmVyXG4gIGNhY2hlX2hpdDogYm9vbGVhblxuICBncm91cF9pZDogc3RyaW5nXG4gIHVzZXJfaWQ/OiBzdHJpbmcgfCBudWxsXG4gIHRpbWVzdGFtcDogc3RyaW5nXG4gIHN1Y2Nlc3M6IGJvb2xlYW5cbiAgZXJyb3JfbWVzc2FnZT86IHN0cmluZ1xufVxuXG4vLyBCYWNrdXAgYW5kIHJlY292ZXJ5XG5leHBvcnQgaW50ZXJmYWNlIFJvdXRlQmFja3VwIHtcbiAgYmFja3VwX2lkOiBzdHJpbmdcbiAgZ3JvdXBfaWQ6IHN0cmluZ1xuICBiYWNrdXBfdHlwZTogJ2Z1bGwnIHwgJ2luY3JlbWVudGFsJ1xuICBkYXRhOiBTdG9yZWRSb3V0ZURhdGFbXVxuICBtZXRhZGF0YToge1xuICAgIGNyZWF0ZWRfYXQ6IHN0cmluZ1xuICAgIHZlcnNpb25fcmFuZ2U6IHsgZnJvbTogbnVtYmVyLCB0bzogbnVtYmVyIH1cbiAgICBzaXplX2J5dGVzOiBudW1iZXJcbiAgICBjb21wcmVzc2lvbjogc3RyaW5nXG4gIH1cbn1cblxuLy8gTWlncmF0aW9uIHN1cHBvcnRcbmV4cG9ydCBpbnRlcmZhY2UgU2NoZW1hTWlncmF0aW9uIHtcbiAgdmVyc2lvbjogc3RyaW5nXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmdcbiAgdXBfc3FsOiBzdHJpbmdcbiAgZG93bl9zcWw6IHN0cmluZ1xuICBhcHBsaWVkX2F0Pzogc3RyaW5nXG59XG5cbmV4cG9ydCBkZWZhdWx0IFN0b3JlZFJvdXRlRGF0YSJdLCJuYW1lcyI6WyJSb3V0ZVN0b3JhZ2VFcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwiY29kZSIsImRldGFpbHMiLCJuYW1lIiwiQ29uZmxpY3RSZXNvbHV0aW9uUmVxdWlyZWRFcnJvciIsImNvbmZsaWN0IiwiQ2FjaGVJbnZhbGlkYXRpb25FcnJvciIsImdyb3VwX2lkIiwiY2FjaGVfdHlwZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./lib/types/route-storage.ts\n");

/***/ }),

/***/ "(action-browser)/./lib/utils.ts":
/*!**********************!*\
  !*** ./lib/utils.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cn: () => (/* binding */ cn),\n/* harmony export */   generateRandomCode: () => (/* binding */ generateRandomCode),\n/* harmony export */   generateRandomColor: () => (/* binding */ generateRandomColor)\n/* harmony export */ });\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! clsx */ \"(action-browser)/./node_modules/clsx/dist/clsx.mjs\");\n/* harmony import */ var tailwind_merge__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tailwind-merge */ \"(action-browser)/./node_modules/tailwind-merge/dist/bundle-mjs.mjs\");\n\n\nfunction cn(...inputs) {\n    return (0,tailwind_merge__WEBPACK_IMPORTED_MODULE_1__.twMerge)((0,clsx__WEBPACK_IMPORTED_MODULE_0__.clsx)(inputs));\n}\n// Generate a random hex color that is visually pleasing\nfunction generateRandomColor() {\n    // Generate colors in HSL for better visual appeal\n    // Use a set of predefined hues that are visually distinct\n    const hues = [\n        15,\n        45,\n        75,\n        105,\n        135,\n        165,\n        195,\n        225,\n        255,\n        285,\n        315,\n        345\n    ];\n    // Select a random hue from the list\n    const hue = hues[Math.floor(Math.random() * hues.length)];\n    // Keep saturation and lightness in a good range for visibility\n    const saturation = 65 + Math.floor(Math.random() * 20); // 65-85%\n    const lightness = 45 + Math.floor(Math.random() * 15); // 45-60%\n    // Convert HSL to Hex\n    return hslToHex(hue, saturation, lightness);\n}\n// Helper function to convert HSL to Hex\nfunction hslToHex(h, s, l) {\n    s /= 100;\n    l /= 100;\n    const c = (1 - Math.abs(2 * l - 1)) * s;\n    const x = c * (1 - Math.abs(h / 60 % 2 - 1));\n    const m = l - c / 2;\n    let r = 0, g = 0, b = 0;\n    if (0 <= h && h < 60) {\n        r = c;\n        g = x;\n        b = 0;\n    } else if (60 <= h && h < 120) {\n        r = x;\n        g = c;\n        b = 0;\n    } else if (120 <= h && h < 180) {\n        r = 0;\n        g = c;\n        b = x;\n    } else if (180 <= h && h < 240) {\n        r = 0;\n        g = x;\n        b = c;\n    } else if (240 <= h && h < 300) {\n        r = x;\n        g = 0;\n        b = c;\n    } else if (300 <= h && h < 360) {\n        r = c;\n        g = 0;\n        b = x;\n    }\n    // Convert to hex\n    const rHex = Math.round((r + m) * 255).toString(16).padStart(2, \"0\");\n    const gHex = Math.round((g + m) * 255).toString(16).padStart(2, \"0\");\n    const bHex = Math.round((b + m) * 255).toString(16).padStart(2, \"0\");\n    return `#${rHex}${gHex}${bHex}`;\n}\n// Generate a random 6-digit code for trip sharing\nfunction generateRandomCode() {\n    // Generate a random 6-digit number\n    const min = 100000; // Smallest 6-digit number\n    const max = 999999; // Largest 6-digit number\n    return Math.floor(min + Math.random() * (max - min + 1)).toString();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RSxNQUFNLEtBQU11QixDQUFBQSxNQUFNRCxNQUFNLElBQUlMLFFBQVE7QUFDbkUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMvLi9saWIvdXRpbHMudHM/Zjc0NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjbHN4LCB0eXBlIENsYXNzVmFsdWUgfSBmcm9tICdjbHN4JztcbmltcG9ydCB7IHR3TWVyZ2UgfSBmcm9tICd0YWlsd2luZC1tZXJnZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjbiguLi5pbnB1dHM6IENsYXNzVmFsdWVbXSkge1xuICByZXR1cm4gdHdNZXJnZShjbHN4KGlucHV0cykpO1xufVxuXG4vLyBHZW5lcmF0ZSBhIHJhbmRvbSBoZXggY29sb3IgdGhhdCBpcyB2aXN1YWxseSBwbGVhc2luZ1xuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlUmFuZG9tQ29sb3IoKTogc3RyaW5nIHtcbiAgLy8gR2VuZXJhdGUgY29sb3JzIGluIEhTTCBmb3IgYmV0dGVyIHZpc3VhbCBhcHBlYWxcbiAgLy8gVXNlIGEgc2V0IG9mIHByZWRlZmluZWQgaHVlcyB0aGF0IGFyZSB2aXN1YWxseSBkaXN0aW5jdFxuICBjb25zdCBodWVzID0gW1xuICAgIDE1LCA0NSwgNzUsIDEwNSwgMTM1LCAxNjUsIFxuICAgIDE5NSwgMjI1LCAyNTUsIDI4NSwgMzE1LCAzNDVcbiAgXTtcbiAgXG4gIC8vIFNlbGVjdCBhIHJhbmRvbSBodWUgZnJvbSB0aGUgbGlzdFxuICBjb25zdCBodWUgPSBodWVzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGh1ZXMubGVuZ3RoKV07XG4gIFxuICAvLyBLZWVwIHNhdHVyYXRpb24gYW5kIGxpZ2h0bmVzcyBpbiBhIGdvb2QgcmFuZ2UgZm9yIHZpc2liaWxpdHlcbiAgY29uc3Qgc2F0dXJhdGlvbiA9IDY1ICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjApOyAvLyA2NS04NSVcbiAgY29uc3QgbGlnaHRuZXNzID0gNDUgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxNSk7IC8vIDQ1LTYwJVxuICBcbiAgLy8gQ29udmVydCBIU0wgdG8gSGV4XG4gIHJldHVybiBoc2xUb0hleChodWUsIHNhdHVyYXRpb24sIGxpZ2h0bmVzcyk7XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBjb252ZXJ0IEhTTCB0byBIZXhcbmZ1bmN0aW9uIGhzbFRvSGV4KGg6IG51bWJlciwgczogbnVtYmVyLCBsOiBudW1iZXIpOiBzdHJpbmcge1xuICBzIC89IDEwMDtcbiAgbCAvPSAxMDA7XG4gIFxuICBjb25zdCBjID0gKDEgLSBNYXRoLmFicygyICogbCAtIDEpKSAqIHM7XG4gIGNvbnN0IHggPSBjICogKDEgLSBNYXRoLmFicygoKGggLyA2MCkgJSAyKSAtIDEpKTtcbiAgY29uc3QgbSA9IGwgLSBjLzI7XG4gIFxuICBsZXQgciA9IDAsIGcgPSAwLCBiID0gMDtcbiAgXG4gIGlmICgwIDw9IGggJiYgaCA8IDYwKSB7XG4gICAgciA9IGM7IGcgPSB4OyBiID0gMDtcbiAgfSBlbHNlIGlmICg2MCA8PSBoICYmIGggPCAxMjApIHtcbiAgICByID0geDsgZyA9IGM7IGIgPSAwO1xuICB9IGVsc2UgaWYgKDEyMCA8PSBoICYmIGggPCAxODApIHtcbiAgICByID0gMDsgZyA9IGM7IGIgPSB4O1xuICB9IGVsc2UgaWYgKDE4MCA8PSBoICYmIGggPCAyNDApIHtcbiAgICByID0gMDsgZyA9IHg7IGIgPSBjO1xuICB9IGVsc2UgaWYgKDI0MCA8PSBoICYmIGggPCAzMDApIHtcbiAgICByID0geDsgZyA9IDA7IGIgPSBjO1xuICB9IGVsc2UgaWYgKDMwMCA8PSBoICYmIGggPCAzNjApIHtcbiAgICByID0gYzsgZyA9IDA7IGIgPSB4O1xuICB9XG4gIFxuICAvLyBDb252ZXJ0IHRvIGhleFxuICBjb25zdCBySGV4ID0gTWF0aC5yb3VuZCgociArIG0pICogMjU1KS50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKTtcbiAgY29uc3QgZ0hleCA9IE1hdGgucm91bmQoKGcgKyBtKSAqIDI1NSkudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsICcwJyk7XG4gIGNvbnN0IGJIZXggPSBNYXRoLnJvdW5kKChiICsgbSkgKiAyNTUpLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpO1xuICBcbiAgcmV0dXJuIGAjJHtySGV4fSR7Z0hleH0ke2JIZXh9YDtcbn1cblxuLy8gR2VuZXJhdGUgYSByYW5kb20gNi1kaWdpdCBjb2RlIGZvciB0cmlwIHNoYXJpbmdcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVJhbmRvbUNvZGUoKTogc3RyaW5nIHtcbiAgLy8gR2VuZXJhdGUgYSByYW5kb20gNi1kaWdpdCBudW1iZXJcbiAgY29uc3QgbWluID0gMTAwMDAwOyAvLyBTbWFsbGVzdCA2LWRpZ2l0IG51bWJlclxuICBjb25zdCBtYXggPSA5OTk5OTk7IC8vIExhcmdlc3QgNi1kaWdpdCBudW1iZXJcbiAgXG4gIHJldHVybiBNYXRoLmZsb29yKG1pbiArIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpLnRvU3RyaW5nKCk7XG59Il0sIm5hbWVzIjpbImNsc3giLCJ0d01lcmdlIiwiY24iLCJpbnB1dHMiLCJnZW5lcmF0ZVJhbmRvbUNvbG9yIiwiaHVlcyIsImh1ZSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImxlbmd0aCIsInNhdHVyYXRpb24iLCJsaWdodG5lc3MiLCJoc2xUb0hleCIsImgiLCJzIiwibCIsImMiLCJhYnMiLCJ4IiwibSIsInIiLCJnIiwiYiIsInJIZXgiLCJyb3VuZCIsInRvU3RyaW5nIiwicGFkU3RhcnQiLCJnSGV4IiwiYkhleCIsImdlbmVyYXRlUmFuZG9tQ29kZSIsIm1pbiIsIm1heCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./lib/utils.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/ws","vendor-chunks/@radix-ui","vendor-chunks/tailwind-merge","vendor-chunks/whatwg-url","vendor-chunks/@floating-ui","vendor-chunks/lucide-react","vendor-chunks/react-remove-scroll","vendor-chunks/tslib","vendor-chunks/cookie","vendor-chunks/use-callback-ref","vendor-chunks/webidl-conversions","vendor-chunks/use-sidecar","vendor-chunks/aria-hidden","vendor-chunks/react-remove-scroll-bar","vendor-chunks/next-themes","vendor-chunks/react-style-singleton","vendor-chunks/class-variance-authority","vendor-chunks/@swc","vendor-chunks/zustand","vendor-chunks/clsx","vendor-chunks/get-nonce","vendor-chunks/detect-node-es","vendor-chunks/date-fns","vendor-chunks/react-day-picker","vendor-chunks/uuid"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fmy-trip%2Fmy-places%2Fadd%2Fpage&page=%2Fmy-trip%2Fmy-places%2Fadd%2Fpage&appPaths=%2Fmy-trip%2Fmy-places%2Fadd%2Fpage&pagePath=private-next-app-dir%2Fmy-trip%2Fmy-places%2Fadd%2Fpage.tsx&appDir=%2FUsers%2Fkominetenma%2FDesktop%2Fproject%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fkominetenma%2FDesktop%2Fproject&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();