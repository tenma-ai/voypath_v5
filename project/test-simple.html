<!DOCTYPE html>
<html>
<head>
    <title>Simple Test</title>
</head>
<body>
    <h1>Test Page</h1>
    <p>Environment variables test:</p>
    <script>
        console.log('VITE_SUPABASE_URL:', import.meta.env.VITE_SUPABASE_URL);
        console.log('VITE_SUPABASE_ANON_KEY:', import.meta.env.VITE_SUPABASE_ANON_KEY ? 'Set' : 'Not set');
        
        // Test Supabase connection
        import('https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm').then(({ createClient }) => {
            const supabase = createClient(
                import.meta.env.VITE_SUPABASE_URL || 'https://rdufxwoeneglyponagdz.supabase.co',
                import.meta.env.VITE_SUPABASE_ANON_KEY || 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJkdWZ4d29lbmVnbHlwb25hZ2R6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk0ODY3NDgsImV4cCI6MjA2NTA2Mjc0OH0.n4rjoYq3hdi145qlH-JC-xn6PCTA1vEsdpX_vS-YK08'
            );
            
            console.log('Supabase client created successfully');
            
            // Test Google OAuth
            document.getElementById('google-auth').addEventListener('click', async () => {
                try {
                    const { data, error } = await supabase.auth.signInWithOAuth({
                        provider: 'google',
                        options: {
                            redirectTo: 'http://127.0.0.1:5173/auth/callback'
                        }
                    });
                    
                    if (error) {
                        console.error('OAuth error:', error);
                        document.getElementById('result').innerHTML = 'Error: ' + error.message;
                    } else {
                        console.log('OAuth success:', data);
                        document.getElementById('result').innerHTML = 'OAuth initiated successfully';
                    }
                } catch (err) {
                    console.error('OAuth exception:', err);
                    document.getElementById('result').innerHTML = 'Exception: ' + err.message;
                }
            });
        }).catch(err => {
            console.error('Failed to load Supabase:', err);
            document.getElementById('result').innerHTML = 'Failed to load Supabase: ' + err.message;
        });
    </script>
    <button id="google-auth">Test Google Auth</button>
    <div id="result"></div>
</body>
</html>